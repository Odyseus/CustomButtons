<?xml version="1.0" encoding="UTF-8"?>
<custombutton xmlns:cb="http://xsms.nm.ru/custombuttons/" xmlns:html="http://www.w3.org/1999/xhtml">
<html:head>
	<html:title><![CDATA[Tabs Manager]]></html:title>
	<html:link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAsklEQVQ4jWNgGJQgNCr+f2Jq1v/45PT/8cnp/xNTs/6HRsX/J0rzlBmz/+MCM2fPI2zI6TNncRpw+sxZwgbcuXsPpwF37t4jbMCbN29xGvDmzVv8BhSXV///9v07TgO+ff/+v7i8GrchK1etxakZBlauWovdgNVrN/zH53xkb6zftAXVEAMzG4Ia0YGBmQ3CEDNrR5INMLN2/E89FzAwMDDom1j9NzCzIQrrm1gRl6zpAgA/Aaw4cJqIzQAAAABJRU5ErkJggg=="/>
	<html:style type="text/css"><![CDATA[body{font-size:medium;margin:0}body,code:before,help:before,initcode:before{font-family:"Verdana",sans-serif}#wrapper{position:fixed;top:1em;right:1em;max-width:15%;text-align:center}#button{background-color:#299a0b;border:1px solid #3a7404;border-radius:.5em;padding:0;margin-bottom:1em;box-shadow:1px 2px 3px rgba(0,0,0,.25)}#button a{color:#f0f0f0;font-weight:700;text-shadow:-.5pt -.5px .5pt rgba(0,0,0,1);padding:.8em;text-decoration:none}:-moz-any-link:focus{color:grey;outline-color:transparent;text-decoration:none}#button a,code,code:before,initcode,initcode:before,help,help:before{display:block}#credits{position:fixed;bottom:1em;right:1em;font-size:small}#about{font-size:small}custombutton{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABAElEQVQ4jW2TQXLFMAhDff+b2vEHYw5AF38eVTNdZAIxCEkmw31VptU5T7mvOuepc56K2B2f85TZrEwr99VxptUwm2U2695PZVrH937KfZX76txsVsTus0yrEbEr0/4F4AyQc56eDMiI2F0IbYoj9h9ZSCV2XzXUA1BVL8BvBvSMiN20zWY38VZ5gDEkYtfAYTRToA3qiQJk2hcA7W8gpaxG0nPvp4aiQ5UCzOV2GKAgLUEfpsGCfaBR92TonapmdCoAjHTIgLa6/14gbgow8oj9uwe6SMQ0qTz9P9oDZOgCkfMNJnqWaV8P3ouDRorUXEA4H1wbtMmVjcrQ7TSb9QMtXcwa4wpbXgAAAABJRU5ErkJggg==) fixed #f6f6f1;margin:1em}date,image,mode,accelkey{display:none}name{font-weight:700;font-size:x-large}code:before,help:before,initcode:before{font-weight:700;font-size:large;margin:0 0 1em;padding:.5em}code:before{content:"Code Tab"}help:before{content:"Help Tab"}initcode:before{content:"Initialization Code Tab"}code,initcode,help{background-color:#fcfcfc;font-size:.875em;font-family:Consolas,"Bitstream Vera Sans Mono","Courier New",Courier,monospace!important;margin:1em 2em 1em 0 !important;padding:1em;text-align:left;box-shadow:2px 2px 0 rgba(170,160,130,0.5),4px 4px 0 rgba(200,190,165,0.5);max-width:80%;min-width:80%;white-space:pre-wrap;word-wrap:break-word}]]></html:style>
</html:head>
<html:body>
	<html:div id="wrapper">
		<html:div id="button">
			<html:a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ETabs%20Manager%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAsklEQVQ4jWNgGJQgNCr+f2Jq1v/45PT/8cnp/xNTs/6HRsX/J0rzlBmz/+MCM2fPI2zI6TNncRpw+sxZwgbcuXsPpwF37t4jbMCbN29xGvDmzVv8BhSXV///9v07TgO+ff/+v7i8GrchK1etxakZBlauWovdgNVrN/zH53xkb6zftAXVEAMzG4Ia0YGBmQ3CEDNrR5INMLN2/E89FzAwMDDom1j9NzCzIQrrm1gRl6zpAgA/Aaw4cJqIzQAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bvar%20that%20%3D%20this.TabsManager%20%3D%20%7B%0A%09/**%0A%09%20*%20Fixed%20width%20for%20the%20main%20panel%0A%09%20*%20UNCOMMENT%20ONLY%20ONE%20OF%20THE%20OPTIONS%21%21%21%0A%09%20*/%0A%09get%20panelWidth%28%29%20%7B%0A%09%09return%20window.innerWidth%3B%20//%20The%20width%20of%20the%20browser%20window.%0A%09%09//return%20screen.width%3B%20//%20The%20width%20of%20the%20screen.%0A%09%09//return%20500%3B%20//%20Custom%20with%20in%20pixels.%20CAN%27T%20BE%20ZERO%21%21%21%0A%09%7D%2C%0A%0A%09/**%0A%09%20*%20How%20to%20position%20the%20main%20panel%0A%09%20*%20UNCOMMENT%20ONLY%20ONE%20OF%20THE%20OPTIONS%21%21%21%0A%09%20*%20More%20info%20about%20panel%20positioning%3A%0A%09%20*%20https%3A//developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/PopupGuide/Positioning%0A%09%20*/%0A%09get%20panelPosition%28%29%20%7B%0A%09%09return%20%22overlap%22%3B%20//%20This%20is%20the%20%22less%20buggy%22%20position.%20Any%20other%20position%20will%20produce%20%22some%20visual%20weirdness%22%20with%20the%20main%20panel.%0A%09%09//return%20%22after_start%22%3B%0A%09%09//%20return%20%22%22%3B%20//%20Do%20not%20set%20a%20position%0A%09%7D%2C%0A%0A%09/**%0A%09%20*%20Where%20to%20anchor%20the%20main%20panel%0A%09%20*%20UNCOMMENT%20ONLY%20ONE%20OF%20THE%20OPTIONS%21%21%21%0A%09%20*/%0A%09get%20panelAnchor%28%29%20%7B%0A%09%09return%20document.getElementById%28%22nav-bar%22%29%3B%20//%20Navigation%20toolbar%0A%09%09//return%20document.getElementById%28%22TabsToolbar%22%29%3B%20//%20Tabs%20toolbar%0A%09%09//return%20document.getElementById%28self.id%29%3B%20//%20This%20button%20itself%0A%09%7D%2C%0A%0A%09_UID%3A%20%22__tabs_manager_%22%20+%20self.id.slice%2814%29%2C%0A%09_hoverOpenPreviewTimer%3A%200%2C%0A%09_hoverOpenMainPanelTimer%3A%200%2C%0A%09_appendTabsToTabsBoxTimer%3A%200%2C%0A%09_selectTabOnHoverTimer%3A%200%2C%0A%09_cleanSlateTimer%3A%200%2C%0A%09_updatePreviewTimer%3A%200%2C%0A%09_ctrlKeyPressed%3A%20null%2C%0A%09_prevZoomedIn%3A%20null%2C%0A%09_prevDoNotAllow%3A%20null%2C%0A%09_tooltipAllowHovering%3A%20null%2C%0A%09_globalMM%3A%20Cc%5B%22@mozilla.org/globalmessagemanager%3B1%22%5D.getService%28Ci.nsIMessageListenerManager%29%2C%0A%09_tab%3A%20null%2C%0A%09_randomID%3A%20null%2C%0A%09_lastCanvasHeight%3A%20null%2C%0A%09_lastCanvasWidth%3A%20null%2C%0A%0A%0A%09get%20_responseMsgID%28%29%20%7B%0A%09%09return%20%22CB%3ATabsManager%3AResponse%3A%22%20+%20self.id.slice%2814%29%20+%20%22-%22%3B%0A%09%7D%2C%0A%0A%09get%20_updatePreviewMsgID%28%29%20%7B%0A%09%09return%20%22CB%3ATabsManager%3APreview%3A%22%20+%20self.id.slice%2814%29%20+%20%22-%22%20+%20that._randomID%3B%0A%09%7D%2C%0A%0A%09get%20_scrollMsgID%28%29%20%7B%0A%09%09return%20%22CB%3ATabsManager%3AScroll%3A%22%20+%20self.id.slice%2814%29%20+%20%22-%22%20+%20that._randomID%3B%0A%09%7D%2C%0A%0A%09get%20_emulateMsgID%28%29%20%7B%0A%09%09return%20%22CB%3ATabsManager%3AEmulate%3A%22%20+%20self.id.slice%2814%29%20+%20%22-%22%20+%20that._randomID%3B%0A%09%7D%2C%0A%0A%09get%20canvas%28%29%20%7B%0A%09%09return%20document.getElementById%28that._UID%20+%20%22-tabs-preview-canvas%22%29%3B%0A%09%7D%2C%0A%0A%09get%20optionsBox%28%29%20%7B%0A%09%09return%20document.getElementById%28that._UID%20+%20%22-options-box%22%29%3B%0A%09%7D%2C%0A%0A%09get%20panel%28%29%20%7B%0A%09%09return%20document.getElementById%28that._UID%20+%20%22-main-panel%22%29%3B%0A%09%7D%2C%0A%0A%09get%20tooltip%28%29%20%7B%0A%09%09return%20document.getElementById%28that._UID%20+%20%22-tabs-box-tooltip%22%29%3B%0A%09%7D%2C%0A%0A%09get%20tooltipLabel%28%29%20%7B%0A%09%09return%20document.getElementById%28that._UID%20+%20%22-tabs-preview-title%22%29%3B%0A%09%7D%2C%0A%0A%09get%20toolbar%28%29%20%7B%0A%09%09return%20document.getElementById%28that._UID%20+%20%22-tabs-preview-toolbar%22%29%3B%0A%09%7D%2C%0A%0A%09get%20selectedTabs%28%29%20%7B%0A%09%09return%20document.getElementById%28that._UID%20+%20%22-tabs-box%22%29.getElementsByAttribute%28%22_multisel%22%2C%20%22*%22%29%3B%0A%09%7D%2C%0A%0A%09get%20GroupItems%28%29%20%7B%20//%20Defined%20as%20a%20%22get%22%20because%20TabView%20is%20not%20loaded%20at%20browser%20start-up.%0A%09%09return%20TabView._window.GroupItems%3B%0A%09%7D%2C%0A%0A%09Init%3A%20function%28%29%20%7B%0A%09%09that.InitPrefs%28%29%3B%0A%09%09_setSelfImage%28%29%3B%0A%09%09if%20%28%21%28%22Services%22%20in%20window%29%29%0A%09%09%09Cu.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0A%0A%09%09if%20%28%21%28that._UID%20in%20window%29%29%20%7B%0A%09%09%09window%5Bthat._UID%5D%20%3D%20%7B%0A%09%09%09%09StyleSheet%3A%20false%2C%0A%09%09%09%09SelfDestroyerListener%3A%20false%2C%0A%09%09%09%09FrameScriptLoaded%3A%20false%2C%0A%09%09%09%09ListOfHotSpots%3A%20false%2C%0A%09%09%09%09TabsContextEvaluated%3A%20false%2C%0A%09%09%09%09TabsContextHandled%3A%20false%0A%09%09%09%7D%0A%09%09%7D%0A%0A%09%09self.setAttribute%28%22overflows%22%2C%20false%29%3B%0A%0A%09%09self.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09that.togglePanel%28%29%3B%0A%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09that.openOptions.Init%28%29%3B%0A%09%09%09%7D%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%3B%0A%0A%09%09that._pInvertDarkIcons%20%3D%20that.gPref%28%22PanelInvertDarkIcons%22%29%3B%0A%09%09that._pMaxIconSize%20%3D%20that.gPref%28%22MaxIconSizeForTabButtonsInPanel%22%29%3B%0A%09%09that._hideTabsToolbar%20%3D%20that.gPref%28%22HideTabsToolbar%22%29%3B%0A%09%09that.CSSLoader%28%29%3B%0A%09%09that.CreateMainPanel%28%29%3B%0A%09%09that.HandleTabsContext%28%29%3B%0A%09%09that.CreateTabsTooltip%28%29%3B%0A%09%09that.CreateGroupsContext%28%29%3B%0A%09%09that.HandlePrefListener%28%29%3B%0A%09%09that.HandleOpenOnHover%28%29%3B%0A%09%09that.HandleHotSpots%28%29%3B%0A%0A%09%09that._prevEnabled%20%3D%20that.gPref%28%22TabPreviewEnabled%22%29%3B%0A%09%09that._tooltipAllowHovering%20%3D%20%28that.gPref%28%22TabPreviewEnabled%22%29%20%7C%7C%20that.gPref%28%22TabPreviewShowToolbar%22%29%29%3B%0A%0A%09%09if%20%28that._prevEnabled%29%20%7B%0A%09%09%09that._prevShowDelay%20%3D%20that.gPref%28%22TabPreviewShowDelay%22%29%3B%0A%09%09%09that._prevSendClicks%20%3D%20that.gPref%28%22TabPreviewSendClicks%22%29%3B%0A%09%09%09that._prevSendScroll%20%3D%20that.gPref%28%22TabPreviewSendScroll%22%29%3B%0A%09%09%09that._prevLoadUnloadedTabs%20%3D%20that.gPref%28%22TabPreviewLoadUnloadedTabs%22%29%3B%0A%09%09%09that._prevAutomaticSize%20%3D%20that.gPref%28%22TabPreviewAutomaticSize%22%29%3B%0A%09%09%09that._prevRequireControlKey%20%3D%20that.gPref%28%22TabPreviewRequireControlKey%22%29%3B%0A%09%09%09that._randomID%20%3D%20parseInt%28Math.random%28%29%20*%2010000%2C%2010%29%3B%0A%09%09%09window%5Bthat._UID%5D%5B%22RandomID%22%5D%20%3D%20that._randomID%3B%0A%09%09%7D%0A%0A%09%09//%20The%20next%204%20are%20declared%20even%20if%20%22TabPreviewEnabled%22%20is%20false.%0A%09%09//%20This%20are%20used%20by%20the%20%22Option%20box%22%20inside%20the%20panel%20and%20their%20values%20are%20needed.%0A%09%09//%20This%20is%20done%20this%20way%20so%20that%20every%20time%20the%20in-line%20options%20are%20opened%2C%20there%20is%20no%20need%20to%20use%20%22that.gPref%22.%0A%09%09that._prevZoomFactor%20%3D%20that.gPref%28%22TabPreviewZoomFactor%22%29%3B%0A%09%09that._prevWidth%20%3D%20that.gPref%28%22TabPreviewWidth%22%29%3B%0A%09%09that._prevHeight%20%3D%20that.gPref%28%22TabPreviewHeight%22%29%3B%0A%09%09that._prevAutomaticSizePercentage%20%3D%20that.gPref%28%22TabPreviewAutomaticSizePercentage%22%29%3B%0A%0A%0A%09%09that._pHideGroupsRow%20%3D%20that.gPref%28%22PanelHideGroupsRow%22%29%3B%0A%09%09that._pMiddleClickOnTabAction%20%3D%20that.gPref%28%22PanelMiddleClickOnTabAction%22%29%3B%0A%09%09that._pShowPinnedTabs%20%3D%20that.gPref%28%22PanelShowPinnedTabs%22%29%3B%0A%09%09that._pTabsPerRow%20%3D%20that.gPref%28%22PanelButtonTabsPerRow%22%29%3B%0A%09%09that._pGroupsPerRow%20%3D%20that.gPref%28%22PanelButtonGroupsPerRow%22%29%3B%0A%09%09that._pVerticalOffset%20%3D%20that.gPref%28%22PanelVerticalOffset%22%29%3B%0A%09%09that._pTabsPerRowAuto%20%3D%20that.gPref%28%22PanelButtonTabsPerRowAuto%22%29%3B%0A%09%09that._pTabsPerRowAutoWidth%20%3D%20that.gPref%28%22PanelButtonTabsPerRowAutoWidth%22%29%3B%0A%09%09that._pOpenOnHoverDelay%20%3D%20that.gPref%28%22PanelOpenOnHoverDelay%22%29%3B%0A%09%09that._prevShowToolbar%20%3D%20that.gPref%28%22TabPreviewShowToolbar%22%29%3B%0A%09%09that._selectTabOnHover%20%3D%20that.gPref%28%22PanelSelectTabOnHover%22%29%3B%0A%09%09that._selectTabOnHoverDelay%20%3D%20that.gPref%28%22PanelSelectTabOnHoverDelay%22%29%3B%0A%0A%0A%09%09if%20%28%21%28window%5Bthat._UID%5D%5B%22FrameScriptLoaded%22%5D%29%20%26%26%20that._prevEnabled%29%20%7B%0A%09%09%09window%5Bthat._UID%5D%5B%22FrameScriptLoaded%22%5D%20%3D%20true%3B%0A%09%09%09that._frameScript%20%3D%20%22data%3Aapplication/javascript%2C%22%20+%20encodeURIComponent%28getHelp%28%22FrameScript%22%29%0A%09%09%09%09.replace%28/_Update_Preview_ID_/g%2C%20that._updatePreviewMsgID%29%0A%09%09%09%09.replace%28/_Scroll_Preview_ID_/g%2C%20that._scrollMsgID%29%0A%09%09%09%09.replace%28/_Emulate_Preview_ID_/g%2C%20that._emulateMsgID%29%0A%09%09%09%09.replace%28/_Response_ID_/g%2C%20that._responseMsgID%20+%20that._randomID%29%29%3B%0A%09%09%09that._globalMM.loadFrameScript%28that._frameScript%2C%20true%29%3B%0A%09%09%09that._globalMM.addMessageListener%28that._responseMsgID%20+%20that._randomID%2C%20that._messageResponse%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28%21%28window%5Bthat._UID%5D%5B%22TabsContextEvaluated%22%5D%29%29%20%7B%0A%09%09%09window%5Bthat._UID%5D%5B%22TabsContextEvaluated%22%5D%20%3D%20true%3B%0A%09%09%09let%20originalFunc%20%3D%20TabContextMenu.updateContextMenu%3B%0A%09%09%09eval%28%22TabContextMenu.updateContextMenu%3D%22%20+%20originalFunc.toString%28%29.replace%28%22%3A%20gBrowser.selectedTab%3B%22%2C%0A%09%09%09%09%22%3A%20%28aPopupMenu.triggerNode.localName%20%3D%3D%3D%20%5C%22toolbarbutton%5C%22%20%26%26%20aPopupMenu.triggerNode.hasOwnProperty%28%5C%22tab%5C%22%29%29%20%3F%20aPopupMenu.triggerNode.tab%20%3A%20gBrowser.selectedTab%3B%22%29%29%3B%0A%09%09%7D%0A%0A%09%09addDestructor%28function%28aReason%29%20%7B%0A%09%09%09if%20%28aReason%20%3D%3D%3D%20%22update%22%20%7C%7C%20aReason%20%3D%3D%3D%20%22delete%22%20%7C%7C%20aReason%20%3D%3D%3D%20%22destructor%22%29%20%7B%0A%09%09%09%09that.PanelFunctions._removeListeners%28%29%3B%0A%09%09%09%09//%20A%20half-working%20nightmare%21%21%21%20%AC%AC%0A%09%09%09%09//%20Frame%20scripts%20are%20not%20unloaded.%0A%09%09%09%09window%5Bthat._UID%5D%5B%22FrameScriptLoaded%22%5D%20%3D%20false%3B%0A%09%09%09%09that._globalMM.removeDelayedFrameScript%28that._frameScript%29%3B%0A%09%09%09%09that._globalMM.removeMessageListener%28that._responseMsgID%20+%20window%5Bthat._UID%5D%5B%22RandomID%22%5D%2C%20that._messageResponse%29%3B%0A%09%09%09%09that.HandlePrefListener%28true%29%3B%0A%09%09%09%09let%20selfEls%20%3D%20document.getElementsByAttribute%28%22cb_id%22%2C%20that._UID%29%3B%0A%09%09%09%09Array.prototype.slice.call%28selfEls%29.forEach%28function%28aEl%29%20%7B%0A%09%09%09%09%09aEl%20%26%26%20aEl.parentNode.removeChild%28aEl%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%09try%20%7B%0A%09%09%09%09%09Services.obs.removeObserver%28observer%2C%20%22domwindowopened%22%29%3B%0A%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%7D%0A%09%09%09%7D%0A%09%09%09if%20%28aReason%20%3D%3D%3D%20%22delete%22%20%7C%7C%20aReason%20%3D%3D%3D%20%22destructor%22%29%20%7B%0A%09%09%09%09that.HandleHotSpots%28true%29%3B%0A%09%09%09%09styleSheet%28window%5Bthat._UID%5D%5B%22StyleSheet%22%5D%2C%20true%29%3B%0A%09%09%09%09delete%20window%5Bthat._UID%5D%3B%0A%09%09%09%7D%0A%09%09%09if%20%28aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09%09%09%28Services.prefs.getBranch%28that.Branch%29%29.deleteBranch%28%22%22%29%3B%0A%09%09%09%09Services.prefs.savePrefFile%28null%29%3B%0A%09%09%09%7D%0A%09%09%7D%29%3B%0A%0A%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09TabView._initFrame%28%29%3B%20//%20Init%20this%20crap%20for%20the%20button%20to%20work.%20%AC%AC%0A%09%09%7D%2C%203000%29%3B%0A%0A%09%09that._handleInvertedImages%28%29%3B%0A%09%7D%2C%0A%0A%09_messageResponse%3A%20%7B%0A%09%09receiveMessage%3A%20function%28aMsg%29%20%7B%0A%09%09%09if%20%28aMsg.name%20%21%3D%3D%20that._responseMsgID%20+%20that._randomID%29%0A%09%09%09%09return%3B%0A%09%09%09that.canvas._scaleX%20%3D%20aMsg.data.scaleX%3B%0A%09%09%09that.canvas._scaleY%20%3D%20aMsg.data.scaleY%3B%0A%09%09%09that.canvas._scale%20%3D%20aMsg.data.scale%3B%0A%09%09%09that.canvas.width%20%3D%20aMsg.data.width%3B%0A%09%09%09that.canvas.height%20%3D%20aMsg.data.height%3B%0A%09%09%09that._lastCanvasWidth%20%3D%20aMsg.data.width%3B%0A%09%09%09that._lastCanvasHeight%20%3D%20aMsg.data.height%3B%0A%09%09%09that.canvas.getContext%28%222d%22%29.putImageData%28aMsg.data.imgData%2C%200%2C%200%29%3B%0A%09%09%09that.tooltipLabel.style.maxWidth%20%3D%20aMsg.data.width%20+%20%22px%22%3B%0A%09%09%7D%2C%0A%09%7D%2C%0A%0A%09HandleTabsContext%3A%20function%28%29%20%7B%0A%09%09if%20%28%21%28window%5Bthat._UID%5D%5B%22TabsContextHandled%22%5D%29%29%20%7B%0A%09%09%09window%5Bthat._UID%5D%5B%22TabsContextHandled%22%5D%20%3D%20true%3B%0A%09%09%09let%20tCtx%20%3D%20document.getElementById%28%22tabContextMenu%22%29%3B%0A%09%09%09let%20trigger%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09let%20isShowing%20%3D%20%28aE.type%20%3D%3D%3D%20%22popupshowing%22%29%3B%0A%09%09%09%09isShowing%20%26%26%20clearTimeout%28that._hoverOpenPreviewTimer%29%3B%0A%09%09%09%09isShowing%20%26%26%20that.tooltip.hidePopup%28%29%3B%0A%09%09%09%09Array.prototype.slice.call%28this.getElementsByAttribute%28%22_multisel%22%2C%20%22*%22%29%29.forEach%28function%28aMI%29%20%7B%0A%09%09%09%09%09if%20%28that.selectedTabs.length%20%3E%200%29%0A%09%09%09%09%09%09aMI.hidden%20%3D%20false%3B%0A%09%09%09%09%09else%0A%09%09%09%09%09%09aMI.hidden%20%3D%20true%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%3B%0A%09%09%09tCtx.addEventListener%28%22popupshowing%22%2C%20trigger%2C%20false%29%3B%0A%09%09%09tCtx.addEventListener%28%22popuphidden%22%2C%20trigger%2C%20false%29%3B%0A%09%09%09tCtx.appendChild%28%24CNS%28%22separator%22%2C%20%7B%0A%09%09%09%09_multisel%3A%20true%2C%0A%09%09%09%09hidden%3A%20true%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09let%20pinAll%20%3D%20tCtx.appendChild%28%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Pin/Unpin%20selected%20tabs%22%2C%0A%09%09%09%09_multisel%3A%20true%2C%0A%09%09%09%09class%3A%20%22marked-for-invertion%22%2C%0A%09%09%09%09hidden%3A%20true%2C%0A%09%09%09%09oncommand%3A%20%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09pinAll.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09Array.prototype.slice.call%28that.selectedTabs%29.forEach%28function%28aTabItem%29%20%7B%0A%09%09%09%09%09gBrowser%5BaTabItem.tab.pinned%20%3F%20%22unpinTab%22%20%3A%20%22pinTab%22%5D%28aTabItem.tab%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%3B%0A%09%09%09pinAll.style.listStyleImage%20%3D%20%22var%28--tabs-manager-css-global-image%29%22%3B%0A%09%09%09pinAll.style.MozImageRegion%20%3D%20%22rect%280px%2C%2096px%2C%2016px%2C%2080px%29%22%3B%0A%09%09%09let%20reloadAll%20%3D%20tCtx.appendChild%28%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Reload%20selected%20tabs%22%2C%0A%09%09%09%09_multisel%3A%20true%2C%0A%09%09%09%09class%3A%20%22marked-for-invertion%22%2C%0A%09%09%09%09hidden%3A%20true%2C%0A%09%09%09%09oncommand%3A%20%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09reloadAll.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09Array.prototype.slice.call%28that.selectedTabs%29.forEach%28function%28aTabItem%29%20%7B%0A%09%09%09%09%09gBrowser.reloadTab%28aTabItem.tab%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%3B%0A%09%09%09reloadAll.style.listStyleImage%20%3D%20%22var%28--tabs-manager-css-global-image%29%22%3B%0A%09%09%09reloadAll.style.MozImageRegion%20%3D%20%22rect%280px%2C%2048px%2C%2016px%2C%2032px%29%22%3B%0A%09%09%09let%20closeAll%20%3D%20tCtx.appendChild%28%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Close%20selected%20tabs%22%2C%0A%09%09%09%09_multisel%3A%20true%2C%0A%09%09%09%09hidden%3A%20true%2C%0A%09%09%09%09oncommand%3A%20%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09closeAll.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09Array.prototype.slice.call%28that.selectedTabs%29.forEach%28function%28aTabItem%29%20%7B%0A%09%09%09%09%09gBrowser.removeTab%28aTabItem.tab%2C%20%7B%0A%09%09%09%09%09%09animate%3A%20true%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%3B%0A%09%09%09closeAll.style.listStyleImage%20%3D%20%22var%28--tabs-manager-css-global-image%29%22%3B%0A%09%09%09closeAll.style.MozImageRegion%20%3D%20%22rect%280px%2C%20224px%2C%2016px%2C%20208px%29%22%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09CreateGroupsContext%3A%20function%28%29%20%7B%0A%09%09if%20%28%21%28document.getElementById%28that._UID%20+%20%22-tabs-groups-box-context%22%29%29%29%20%7B%0A%09%09%09let%20mPop%20%3D%20document.getElementById%28%22mainPopupSet%22%29.appendChild%28%24CNS%28%22menupopup%22%2C%20%7B%0A%09%09%09%09id%3A%20that._UID%20+%20%22-tabs-groups-box-context%22%2C%0A%09%09%09%09cb_id%3A%20that._UID%2C%0A%09%09%09%09oncontextmenu%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onpopuphiding%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onpopupshowing%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onclick%3A%20%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09consumeoutsideclicks%3A%20false%2C%0A%09%09%09%09menugenerated%3A%20true%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09let%20renG%20%3D%20mPop.appendChild%28%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Rename%20group%22%2C%0A%09%09%09%09class%3A%20%22marked-for-invertion%22%2C%0A%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09renG.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09if%20%28aE.button%20%21%3D%3D%200%29%0A%09%09%09%09%09return%20false%3B%0A%09%09%09%09var%20node%20%3D%20document.popupNode%3B%0A%09%09%09%09let%20gI%20%3D%20that.GroupItems.groupItem%28node.getAttribute%28%22groupid%22%29%29%3B%0A%09%09%09%09let%20value%20%3D%20promptme%28%22Set%20a%20new%20title%20for%20this%20group.%22%2C%20gI.getTitle%28%29%29%3B%0A%09%09%09%09if%20%28value%29%20%7B%0A%09%09%09%09%09gI.setTitle%28value%29%3B%0A%09%09%09%09%09node.label%20%3D%20value%3B%0A%09%09%09%09%09that._appendButtonsToGroupsBox%28document.getElementById%28that._UID%20+%20%22-tabs-groups-box%22%29%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%09renG.style.listStyleImage%20%3D%20%22var%28--tabs-manager-css-global-image%29%22%3B%0A%09%09%09renG.style.MozImageRegion%20%3D%20%22rect%280px%2C%20240px%2C%2016px%2C%20224px%29%22%3B%0A%09%09%09let%20delG%20%3D%20mPop.appendChild%28%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Delete%20group%22%2C%0A%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09delG.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09if%20%28aE.button%20%21%3D%3D%200%29%0A%09%09%09%09%09return%20false%3B%0A%09%09%09%09if%20%28that.GroupItems.groupItems.length%20%3E%201%29%20%7B%0A%09%09%09%09%09if%20%28document.popupNode.getAttribute%28%22checked%22%29%20%3D%3D%20%22true%22%29%20%7B%0A%09%09%09%09%09%09Services.prompt.alert%28null%2C%20self.name%2C%20%22You%20can%27t%20delete%20a%20currently%20selected%20group.%5Cn%22%20+%0A%09%09%09%09%09%09%09%22Select%20another%20group%20and%20then%20delete%20this%20one.%22%29%3B%0A%09%09%09%09%09%09return%20false%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09let%20curGI%20%3D%20that.GroupItems.groupItem%28document.popupNode.getAttribute%28%22groupid%22%29%29%3B%0A%09%09%09%09%09let%20tabs%20%3D%20curGI._children%3B%0A%09%09%09%09%09var%20destGI%20%3D%20%28curGI%20%3D%3D%3D%20that.GroupItems.groupItems%5B0%5D%29%20%3F%20that.GroupItems.groupItems%5B1%5D%20%3A%20that.GroupItems.groupItems%5B0%5D%3B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09for%20%28var%20i%20%3D%20tabs.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%0A%09%09%09%09%09%09%09that._moveTabToGroupItem%28gBrowser.mTabContainer.children%5Btabs%5Bi%5D.tab._tPos%5D%2C%20destGI.id%2C%20true%29%3B%0A%09%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09%09%09%09Cu.reportError%28aErr%29%0A%09%09%09%09%09%7D%20finally%20%7B%0A%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09curGI.destroy%28%29%3B%0A%09%09%09%09%09%09%09that.GroupItems._updateTabBar%28%29%3B%0A%09%09%09%09%09%09%09that._appendButtonsToGroupsBox%28document.getElementById%28that._UID%20+%20%22-tabs-groups-box%22%29%29%3B%0A%09%09%09%09%09%09%09that._appendTabsToTabsBox%28document.getElementById%28that._UID%20+%20%22-tabs-box%22%29%29%3B%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09Services.prompt.alert%28null%2C%20self.name%2C%20%22You%20can%27t%20delete%20the%20last%20remaining%20group%21%21%21%22%29%3B%0A%09%09%09%7D%3B%0A%09%09%09delG.style.listStyleImage%20%3D%20%22var%28--tabs-manager-css-global-image%29%22%3B%0A%09%09%09delG.style.MozImageRegion%20%3D%20%22rect%280px%2C%20224px%2C%2016px%2C%20208px%29%22%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09CreateTabsTooltip%3A%20function%28%29%20%7B%0A%09%09var%20TT%20%3D%20that.tooltip%3B%0A%09%09if%20%28%21TT%29%20%7B%0A%09%09%09let%20t%20%3D%20getHelp%28%22TabsPreviewPanel%22%29%3B%0A%09%09%09t%20%3D%20t.replace%28/_U_I_D_/g%2C%20that._UID%29%0A%09%09%09%09.replace%28/_S_E_L_F_I_D_/g%2C%20self.id%29%3B%0A%09%09%09t%20%3D%20parseXML%28t%29%3B%0A%09%09%09document.getElementById%28%22mainPopupSet%22%29.appendChild%28t%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09OnTooltipOut%3A%20function%28aE%2C%20aNode%29%20%7B%0A%09%09if%20%28%21that.tooltip.mozMatchesSelector%28%22%3Ahover%22%29%29%0A%09%09%09that.tooltip.hidePopup%28%29%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%2C%0A%0A%09OnTooltipHiding%3A%20function%28aE%2C%20aNode%29%20%7B%0A%09%09that._tab.linkedBrowser.removeEventListener%28%22MozAfterPaint%22%2C%20that.PreviewFunctions.OnMozAfterPaint%2C%20false%29%3B%0A%09%09that._tab%20%3D%20null%3B%0A%09%09that._resetPreview%28%29%3B%0A%09%09that._resetTitle%28%29%3B%0A%09%09clearTimeout%28that._hoverOpenPreviewTimer%29%3B%0A%09%09that.tooltip.removeAttribute%28%22_open%22%29%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%2C%0A%0A%09PopulateTabsTooltip%3A%20function%28aE%2C%20aNode%29%20%7B%0A%09%09if%20%28that._tab.localName%20%21%3D%3D%20%22tab%22%29%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09var%20b%20%3D%20that._tab.linkedBrowser%3B%0A%09%09if%20%28%21b%29%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09if%20%28that._prevDoNotAllow%29%0A%09%09%09aE.preventDefault%28%29%3B%0A%0A%09%09that._updateTitle%28%29%3B%0A%09%09let%20tBar%20%3D%20that.toolbar%3B%0A%09%09tBar.hidden%20%3D%20true%3B%0A%09%09let%20canvas%20%3D%20that.canvas%3B%0A%09%09canvas.hidden%20%3D%20true%3B%0A%09%09aNode.setAttribute%28%22_open%22%2C%20%22true%22%29%3B%0A%0A%09%09if%20%28that._prevShowToolbar%29%0A%09%09%09tBar.hidden%20%3D%20false%3B%0A%09%09if%20%28%21that._prevEnabled%29%0A%09%09%09return%20true%3B%0A%09%09if%20%28that._prevRequireControlKey%20%26%26%20%21that._ctrlKeyPressed%29%0A%09%09%09return%20true%3B%0A%09%09if%20%28that._prevEnabled%29%0A%09%09%09canvas.hidden%20%3D%20false%3B%0A%09%09else%0A%09%09%09return%20true%3B%0A%09%09that._tab.linkedBrowser.addEventListener%28%22MozAfterPaint%22%2C%20that.PreviewFunctions.OnMozAfterPaint%2C%20false%29%3B%0A%09%09that._ensureTabIsRestored%28%29%3B%0A%09%09that._updatePreview%28%29%3B%0A%09%09return%20true%3B%0A%09%7D%2C%0A%0A%09_openDelayedTooltip%3A%20function%28aE%29%20%7B%0A%09%09if%20%28%21that._prevRequireControlKey%20%26%26%20that._ctrlKeyPressed%29%0A%09%09%09return%3B%0A%09%09var%20anotherPopupOpen%20%3D%20%21%21document.popupNode%3B%0A%09%09if%20%28%21aE.target.mozMatchesSelector%28%22%3Ahover%22%29%20%7C%7C%20anotherPopupOpen%29%0A%09%09%09return%3B%0A%09%09if%20%28document.documentElement.mozMatchesSelector%28%22%3A-moz-window-inactive%22%29%29%0A%09%09%09return%3B%0A%0A%09%09if%20%28%21that._hoverOpenPreviewTimer%20%26%26%20that.tooltip.state%20%3D%3D%3D%20%22open%22%29%20%7B%0A%09%09%09if%20%28that._tab.hasAttribute%28%22pending%22%29%29%0A%09%09%09%09that._updatePreview%28%29%3B%0A%09%09%09return%3B%0A%09%09%7D%0A%09%09clearTimeout%28that._hoverOpenPreviewTimer%29%3B%0A%09%09that._hoverOpenPreviewTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09that.tooltip.openPopup%28aE.target%2C%20%22%22%2C%200%2C%200%2C%20false%2C%20false%29%3B%0A%09%09%7D%2C%20that._prevShowDelay%29%3B%0A%09%7D%2C%0A%0A%09_ensureTabIsRestored%3A%20function%28%29%20%7B%0A%09%09let%20ensure%20%3D%20that._prevLoadUnloadedTabs%3B%0A%09%09let%20reload%20%3D%20function%28aEnsure%29%20%7B%0A%09%09%09if%20%28aEnsure%29%0A%09%09%09%09that._tab.linkedBrowser.reload%28%29%3B%0A%09%09%09else%0A%09%09%09%09that.canvas.height%20%3D%200%3B%0A%09%09%7D%3B%0A%09%09if%20%28%22unloadTabObj%22%20in%20window%20%26%26%20that._tab.hasAttribute%28%22uT_tabUnload%22%29%29%0A%09%09%09reload%28ensure%29%3B%0A%09%09if%20%28that._tab.linkedBrowser.__SS_restoreState%20%3D%3D%3D%201%29%0A%09%09%09reload%28ensure%29%3B%0A%09%7D%2C%0A%0A%09_updatePreview%3A%20function%28%29%20%7B%0A%09%09//%20The%20timer%20is%20to%20avoid%20triggering%20_updatePreview%28%29%20a%20million%20times%20per%20second%21%21%0A%09%09clearTimeout%28that._updatePreviewTimer%29%3B%0A%09%09that._updatePreviewTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09if%20%28%21that.tooltip%29%0A%09%09%09%09return%20false%3B%0A%09%09%09if%20%28%21that._tab%29%0A%09%09%09%09return%20false%3B%0A%09%09%09let%20zoomFactor%20%3D%20that._prevZoomedIn%20%3F%201%20+%20parseInt%28that._prevZoomFactor%20/%20100%2C%2010%29%20%3A%201%3B%0A%09%09%09let%20cW%20%3D%20parseInt%28that._prevWidth%2C%2010%29%20*%20zoomFactor%3B%0A%09%09%09let%20cH%20%3D%20parseInt%28that._prevHeight%2C%2010%29%20*%20zoomFactor%3B%0A%09%09%09//%20that.tooltipLabel.style.maxWidth%20%3D%20cW%20+%20%22px%22%3B%20//%20%22Fix%22%20to%20avoid%20large%20label%20to%20resize%20the%20entire%20preview.%0A%09%09%09if%20%28that._tab.getAttribute%28%22pending%22%29%20%3D%3D%20%22true%22%29%20%7B%0A%09%09%09%09that._resetPreview%28%29%3B%0A%09%09%09%09if%20%28that._prevLoadUnloadedTabs%29%20%7B%0A%09%09%09%09%09let%20temp%20%3D%20that._prevAutomaticSizePercentage%20/%20100%3B%0A%09%09%09%09%09that.canvas.width%20%3D%20that._lastCanvasWidth%20%7C%7C%20window.content.innerWidth%20*%20temp%3B%0A%09%09%09%09%09that.canvas.height%20%3D%20that._lastCanvasHeight%20%7C%7C%20window.content.innerHeight%20*%20temp%3B%0A%09%09%09%09%7D%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09if%20%28%21that._tab.linkedBrowser%29%0A%09%09%09%09return%3B%0A%09%09%09that._tab.linkedBrowser.messageManager.sendAsyncMessage%28that._updatePreviewMsgID%2C%20%7B%0A%09%09%09%09msgID%3A%20that._updatePreviewMsgID%2C%0A%09%09%09%09auto%3A%20that._prevAutomaticSize%2C%0A%09%09%09%09autoPercentage%3A%20that._prevAutomaticSizePercentage%2C%0A%09%09%09%09zoomFactor%3A%20zoomFactor%2C%0A%09%09%09%09width%3A%20cW%2C%0A%09%09%09%09height%3A%20cH%0A%09%09%09%7D%29%3B%0A%09%09%09if%20%28that._prevShowToolbar%29%0A%09%09%09%09that.PreviewFunctions._updateToolbar%28%29%3B%0A%09%09%7D%2C%2015%29%3B%0A%09%7D%2C%0A%0A%09_resetPreview%3A%20function%28%29%20%7B%0A%09%09that.tooltip.removeAttribute%28%22width%22%29%3B%0A%09%09that.tooltip.removeAttribute%28%22height%22%29%3B%0A%09%09var%20canvas%20%3D%20that.canvas%3B%0A%09%09var%20ctx%20%3D%20canvas.getContext%28%222d%22%29%3B%0A%09%09ctx.clearRect%280%2C%200%2C%20canvas.width%2C%20canvas.height%29%3B%0A%09%09canvas.removeAttribute%28%22width%22%29%3B%0A%09%09canvas.height%20%3D%200%3B%0A%09%7D%2C%0A%0A%09_updateTitle%3A%20function%28aBtn%29%20%7B%0A%09%09let%20lbl%20%3D%20that.tooltipLabel%3B%0A%09%09let%20uri%20%3D%20that._tab.linkedBrowser.currentURI.spec%3B%0A%09%09if%20%28aBtn%29%20%7B%0A%09%09%09aBtn.setAttribute%28%22tooltiptext%22%2C%20aBtn.label%20+%20%22%5Cn%22%20+%20uri%29%3B%0A%09%09%09return%20true%3B%0A%09%09%7D%0A%09%09lbl.value%20%3D%20that._tab.label%3B%0A%09%09lbl.setAttribute%28%22tooltiptext%22%2C%20lbl.value%20+%20%22%5Cn%22%20+%20uri%29%3B%0A%09%09lbl.style.maxWidth%20%3D%20that._prevWidth.toString%28%29%20+%20%22px%22%3B%0A%09%7D%2C%0A%0A%09_resetTitle%3A%20function%28%29%20%7B%0A%09%09let%20lbl%20%3D%20that.tooltipLabel%3B%0A%09%09lbl.value%20%3D%20%22%22%3B%0A%09%09lbl.removeAttribute%28%22tooltiptext%22%29%3B%0A%09%09lbl.style.maxWidth%20%3D%20%220px%22%3B%0A%09%09XULBrowserWindow.setOverLink%28%22%22%2C%20null%29%3B%0A%09%7D%2C%0A%0A%09TabsProgressListenerForPanel%3A%20%7B%0A%09%09onStateChange%3A%20function%28aBrowser%29%20%7B%0A%09%09%09let%20tab%20%3D%20gBrowser.getTabForBrowser%28aBrowser%29%3B%0A%09%09%09if%20%28%21tab%29%0A%09%09%09%09return%3B%0A%09%09%09if%20%28%21that.panel%20%7C%7C%20that.panel.state%20%21%3D%3D%20%22open%22%29%0A%09%09%09%09return%3B%0A%09%09%09that._setButtonAttributes%28tab.mCorrespondingMenuitem%2C%20tab%29%3B%0A%09%09%7D%2C%0A%09%7D%2C%0A%0A%09TabsProgressListenerForPreview%3A%20%7B%0A%09%09onStateChange%3A%20function%28aBrowser%29%20%7B%0A%09%09%09if%20%28%21that._tab%29%0A%09%09%09%09return%3B%0A%09%09%09if%20%28aBrowser%20%21%3D%3D%20that._tab.linkedBrowser%29%0A%09%09%09%09return%3B%0A%09%09%09if%20%28%21that.tooltip%20%7C%7C%20that.tooltip.state%20%21%3D%3D%20%22open%22%29%0A%09%09%09%09return%3B%0A%09%09%09that._updatePreview%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09onLocationChange%3A%20function%28aBrowser%29%20%7B%0A%09%09%09if%20%28%21that._tab%29%0A%09%09%09%09return%3B%0A%09%09%09if%20%28aBrowser%20%21%3D%3D%20that._tab.linkedBrowser%29%0A%09%09%09%09return%3B%0A%09%09%09if%20%28%21that.tooltip%20%7C%7C%20that.tooltip.state%20%21%3D%3D%20%22open%22%29%0A%09%09%09%09return%3B%0A%09%09%09that.PreviewFunctions._updateToolbar%28%29%3B%0A%09%09%7D%2C%0A%09%7D%2C%0A%0A%09HandleOpenOnHover%3A%20function%28%29%20%7B%0A%09%09if%20%28that.gPref%28%22PanelOpenOnHover%22%29%29%20%7B%0A%09%09%09self.onmouseover%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09that.OnHotSpotMouseOver%28aE%29%3B%0A%09%09%09%7D%3B%0A%09%09%09self.onmouseout%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09that.OnHotSpotMouseOut%28aE%29%3B%0A%09%09%09%7D%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09self.onmouseover%20%3D%20null%3B%0A%09%09%09self.onmouseout%20%3D%20null%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09HandleOptionsBox%3A%20function%28%29%20%7B%0A%09%09let%20hasNodes%20%3D%20that.optionsBox.hasChildNodes%28%29%3B%0A%09%09if%20%28hasNodes%29%20%7B%0A%09%09%09that.PopulateOptionsBox%28true%29%3B%0A%09%09%09document.getElementById%28that._UID%20+%20%22-inline-options-button%22%29.setAttribute%28%22_checked%22%2C%20false%29%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09that.PopulateOptionsBox%28false%29%3B%0A%09%09%09document.getElementById%28that._UID%20+%20%22-inline-options-button%22%29.setAttribute%28%22_checked%22%2C%20true%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09PopulateOptionsBox%3A%20function%28aDel%29%20%7B%0A%09%09let%20optB%20%3D%20that.optionsBox%3B%0A%09%09optB.textContent%20%3D%20%22%22%3B%0A%09%09if%20%28aDel%29%0A%09%09%09return%20false%3B%0A%09%09let%20o%20%3D%20getHelp%28%22OptionsBox%22%29%3B%0A%09%09o%20%3D%20o.replace%28/_U_I_D_/g%2C%20that._UID%29%0A%09%09%09.replace%28/_S_E_L_F_I_D_/g%2C%20self.id%29%3B%0A%09%09o%20%3D%20parseXML%28o%29%3B%0A%09%09//%20Styling%20in-line%20doesn%27t%20freaking%20work%21%21%21%20%AC%AC%0A%09%09//o.style.display%20%3D%20%22block%22%3B%20//%20This%20breaks%20%22spacers%20flex%201%22.%20%AC%AC%0A%09%09o.style.overflowX%20%3D%20%22auto%22%3B%20//%20%22overflow%22%20alone%20doesn%27t%20work%20either%21%20%AC%AC%0A%09%09o.style.overflowY%20%3D%20%22auto%22%3B%0A%09%09//o.style.maxWidth%20%3D%20%28that.panelWidth%20-%20100%29%20+%20%22px%22%3B%0A%09%09optB.appendChild%28o%29%3B%0A%0A%09%09Array.prototype.slice.call%28optB.getElementsByTagName%28%22textbox%22%29%29.forEach%28function%28aTBox%29%20%7B%0A%09%09%09let%20pref%20%3D%20aTBox.getAttribute%28%22_pref%22%29%3B%0A%09%09%09aTBox.value%20%3D%20that.gPref%28pref%29%3B%0A%09%09%09aTBox.style.listStyleImage%20%3D%20%22none%22%3B%20//%20Remove%20stupid%20wrong%20icons.%20%AC%AC%0A%09%09%09aTBox.onchange%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09let%20tBox%20%3D%20this%3B%0A%09%09%09%09if%20%28pref%20%3D%3D%3D%20%22PanelVerticalOffset%22%29%20%7B%0A%09%09%09%09%09let%20panel%20%3D%20that.panel%3B%0A%09%09%09%09%09let%20curVal%20%3D%20that._pVerticalOffset%3B%0A%09%09%09%09%09let%20tBoxVal%20%3D%20tBox.value%3B%0A%09%09%09%09%09let%20deltaY%20%3D%20parseInt%28tBoxVal%2C%2010%29%20-%20parseInt%28curVal%2C%2010%29%3B%0A%09%09%09%09%09panel.moveTo%28parseInt%28panel.boxObject.screenX%2C%2010%29%2C%20parseInt%28panel.boxObject.screenY%20+%20deltaY%2C%2010%29%29%0A%09%09%09%09%7D%0A%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09that.sPref%28pref%2C%20parseInt%28tBox.value%2C%2010%29%29%3B%0A%09%09%09%09%7D%2C%2010%29%3B%0A%09%09%09%7D%3B%0A%09%09%7D%29%3B%0A%0A%09%09Array.prototype.slice.call%28optB.getElementsByTagName%28%22checkbox%22%29%29.forEach%28function%28aCBox%29%20%7B%0A%09%09%09aCBox.checked%20%3D%20that.gPref%28aCBox.getAttribute%28%22_pref%22%29%29%3B%0A%09%09%09aCBox.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09let%20pref%20%3D%20aE.target.getAttribute%28%22_pref%22%29%3B%0A%09%09%09%09let%20val%20%3D%20that.gPref%28pref%29%3B%0A%09%09%09%09that.sPref%28pref%2C%20%21val%29%3B%0A%09%09%09%09that._checkPrevOptVis%28optB%29%3B%0A%09%09%09%09that._checkTabsPerRowOptVis%28optB%29%3B%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%7D%29%3B%0A%0A%09%09that._checkPrevOptVis%28optB%29%3B%0A%09%09that._checkTabsPerRowOptVis%28optB%29%3B%0A%0A%09%09Array.prototype.slice.call%28optB.getElementsByTagName%28%22radiogroup%22%29%29.forEach%28function%28aRadG%29%20%7B%0A%09%09%09let%20pref%20%3D%20aRadG.getAttribute%28%22_pref%22%29%3B%0A%09%09%09aRadG.selectedIndex%20%3D%20that.gPref%28pref%29%3B%0A%09%09%09aRadG.onselect%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09that.sPref%28pref%2C%20aE.target.selectedIndex%29%3B%0A%09%09%09%09%7D%2C%2010%29%3B%0A%09%09%09%7D%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%0A%09_checkTabsPerRowOptVis%3A%20function%28aOptB%29%20%7B%0A%09%09Array.prototype.slice.call%28aOptB.getElementsByAttribute%28%22_auto_tab%22%2C%20%22*%22%29%29.forEach%28function%28aOptEl%29%20%7B%0A%09%09%09let%20auto%20%3D%20that.gPref%28%22PanelButtonTabsPerRowAuto%22%29%3B%0A%09%09%09if%20%28aOptEl.getAttribute%28%22_auto_tab%22%29%20%3D%3D%20%22true%22%29%0A%09%09%09%09aOptEl.hidden%20%3D%20%21auto%3B%0A%09%09%09else%0A%09%09%09%09aOptEl.hidden%20%3D%20auto%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%0A%09_checkPrevOptVis%3A%20function%28aOptB%29%20%7B%0A%09%09let%20prevEnabled%20%3D%20that.gPref%28%22TabPreviewEnabled%22%29%3B%0A%09%09Array.prototype.slice.call%28aOptB.getElementsByAttribute%28%22_preview%22%2C%20%22*%22%29%29.forEach%28function%28aOptEl%29%20%7B%0A%09%09%09aOptEl.hidden%20%3D%20%21prevEnabled%3B%0A%09%09%7D%29%3B%0A%09%09if%20%28%21prevEnabled%29%0A%09%09%09return%20true%3B%0A%09%09Array.prototype.slice.call%28aOptB.getElementsByAttribute%28%22_preview_size%22%2C%20%22*%22%29%29.forEach%28function%28aOptEl%29%20%7B%0A%09%09%09let%20auto%20%3D%20that.gPref%28%22TabPreviewAutomaticSize%22%29%3B%0A%09%09%09if%20%28aOptEl.getAttribute%28%22_preview_size%22%29%20%3D%3D%20%22true%22%29%0A%09%09%09%09aOptEl.hidden%20%3D%20%21auto%3B%0A%09%09%09else%0A%09%09%09%09aOptEl.hidden%20%3D%20auto%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%0A%09CreateMainPanel%3A%20function%28%29%20%7B%0A%09%09var%20panel%20%3D%20that.panel%3B%0A%09%09if%20%28%21panel%29%20%7B%0A%09%09%09let%20p%20%3D%20getHelp%28%22MainPanel%22%29%3B%0A%09%09%09p%20%3D%20p.replace%28/_U_I_D_/g%2C%20that._UID%29%0A%09%09%09%09//%20.replace%28/_W_I_D_T_H_/g%2C%20that.panelWidth%29%0A%09%09%09%09.replace%28/_N_O_H_I_D_E_/g%2C%20that.gPref%28%22PanelKeepItOpen%22%29%29%0A%09%09%09%09.replace%28/_S_E_L_F_I_D_/g%2C%20self.id%29%3B%0A%09%09%09p%20%3D%20parseXML%28p%29%3B%0A%09%09%09document.getElementById%28%22mainPopupSet%22%29.appendChild%28p%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09_reloadTab%3A%20function%28aTab%2C%20aE%29%20%7B%0A%09%09if%20%28aE.target.getAttribute%28%22_loading%22%29%20%3D%3D%20%22true%22%29%20%7B%0A%09%09%09aTab.linkedBrowser.stop%28%29%3B%0A%09%09%09return%3B%0A%09%09%7D%0A%09%09if%20%28aE.shiftKey%29%20%7B%0A%09%09%09let%20flags%20%3D%20Ci.nsIWebNavigation.LOAD_FLAGS_BYPASS_PROXY%20%7C%0A%09%09%09%09Ci.nsIWebNavigation.LOAD_FLAGS_BYPASS_CACHE%3B%0A%09%09%09aTab.linkedBrowser.reloadWithFlags%28flags%29%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09aTab.linkedBrowser.reload%28%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09PreviewFunctions%3A%20%7B%0A%09%09OnClick%3A%20function%28aE%29%20%7B%0A%09%09%09if%20%28aE.target.localName%20%3D%3D%3D%20%22canvas%22%29%0A%09%09%09%09that.PreviewFunctions._performAction%28%22emulate%22%2C%20aE%29%3B%0A%09%09%7D%2C%0A%0A%09%09OnCommand%3A%20function%28aE%29%20%7B%0A%09%09%09that.PreviewFunctions._performAction%28aE.target.label%2C%20aE%29%3B%0A%09%09%7D%2C%0A%0A%09%09OnMozAfterPaint%3A%20function%28aE%29%20%7B%0A%09%09%09if%20%28aE.clientRects.length%20%3E%200%29%0A%09%09%09%09that._updatePreview%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09OnDOMScroll%3A%20function%28aE%29%20%7B%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09if%20%28that._prevAutomaticSize%20%26%26%20%21that.canvas._scaleX%20%26%26%20%21that.canvas._scaleY%29%0A%09%09%09%09return%3B%0A%09%09%09if%20%28%21that._prevAutomaticSize%20%26%26%20%21that.canvas._scale%29%0A%09%09%09%09return%3B%0A%09%09%09let%20rect%20%3D%20that.canvas.getBoundingClientRect%28%29%3B%0A%09%09%09that._tab.linkedBrowser.messageManager.sendAsyncMessage%28that._scrollMsgID%2C%20%7B%0A%09%09%09%09x%3A%20%28aE.clientX%20-%20rect.left%29%20/%20%28that._prevAutomaticSize%20%3F%20that.canvas._scaleX%20%3A%20that.canvas._scale%29%2C%0A%09%09%09%09y%3A%20%28aE.clientY%20-%20rect.top%29%20/%20%28that._prevAutomaticSize%20%3F%20that.canvas._scaleY%20%3A%20that.canvas._scale%29%2C%0A%09%09%09%09lines%3A%20aE.detail%2C%0A%09%09%09%09ctrlKey%3A%20aE.ctrlKey%2C%0A%09%09%09%09shiftKey%3A%20aE.shiftKey%2C%0A%09%09%09%7D%29%3B%0A%09%09%09that._updatePreview%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09_performAction%3A%20function%28aCmd%2C%20aE%29%20%7B%0A%09%09%09switch%20%28aCmd%29%20%7B%0A%09%09%09%09case%20%22back%22%3A%0A%09%09%09%09%09that._tab.linkedBrowser.goBack%28%29%3B%0A%09%09%09%09%09return%3B%0A%09%09%09%09case%20%22forward%22%3A%0A%09%09%09%09%09that._tab.linkedBrowser.goForward%28%29%3B%0A%09%09%09%09%09return%3B%0A%09%09%09%09case%20%22reload%22%3A%0A%09%09%09%09%09that._reloadTab%28that._tab%2C%20aE%29%3B%0A%09%09%09%09%09return%3B%0A%09%09%09%09case%20%22pin%22%3A%0A%09%09%09%09%09gBrowser%5Bthat._tab.pinned%20%3F%20%22unpinTab%22%20%3A%20%22pinTab%22%5D%28that._tab%29%3B%0A%09%09%09%09%09that._appendTabsToTabsBox%28document.getElementById%28that._UID%20+%20%22-tabs-box%22%29%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22close%22%3A%0A%09%09%09%09%09gBrowser.removeTab%28that._tab%2C%20%7B%0A%09%09%09%09%09%09animate%3A%20true%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22zoom%22%3A%0A%09%09%09%09%09that._prevZoomedIn%20%3D%20%21that._prevZoomedIn%3B%0A%09%09%09%09%09that._resetPreview%28%29%3B%0A%09%09%09%09%09that._updatePreview%28%29%3B%0A%09%09%09%09%09return%3B%0A%09%09%09%09case%20%22emulate%22%3A%0A%09%09%09%09%09var%20elt%3B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09elt%20%3D%20that.PreviewFunctions._elementFromPointOnPreview%28aE%29%3B%0A%09%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09%09%09%09elt%20%3D%20null%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09if%20%28elt%20%26%26%20elt.namespaceURI%20%3D%3D%3D%20xulns%29%20%7B%20//%20For%20XUL%20content%20only.%0A%09%09%09%09%09%09let%20view%20%3D%20elt.ownerDocument.defaultView%3B%0A%09%09%09%09%09%09if%20%28elt.localName%20%3D%3D%3D%20%22button%22%29%0A%09%09%09%09%09%09%09elt.doCommand%28%29%3B%0A%09%09%09%09%09%09else%20if%20%28elt.localName%20%3D%3D%3D%20%22checkbox%22%29%0A%09%09%09%09%09%09%09elt.checked%20%3D%20%21elt.checked%3B%0A%09%09%09%09%09%09else%20%7B%0A%09%09%09%09%09%09%09elt.dispatchEvent%28new%20view.MouseEvent%28%22mousedown%22%2C%20%7B%20//%20%22click%22%20event%20doesn%27t%20work%20on%20XUL%20content.%20%AC%AC%0A%09%09%09%09%09%09%09%09view%3A%20view%2C%0A%09%09%09%09%09%09%09%09cancelable%3A%20true%2C%0A%09%09%09%09%09%09%09%09bubbles%3A%20true%2C%0A%09%09%09%09%09%09%09%09button%3A%20aE.button%2C%0A%09%09%09%09%09%09%09%09ctrlKey%3A%20aE.ctrlKey%2C%0A%09%09%09%09%09%09%09%09altKey%3A%20aE.altKey%2C%0A%09%09%09%09%09%09%09%09shiftKey%3A%20aE.shiftKey%2C%0A%09%09%09%09%09%09%09%09metaKey%3A%20aE.metaKey%0A%09%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%20else%20%7B%20//%20For%20web%20page%20content%20only.%0A%09%09%09%09%09%09if%20%28that._prevAutomaticSize%20%26%26%20%21that.canvas._scaleX%20%26%26%20%21that.canvas._scaleY%29%0A%09%09%09%09%09%09%09return%3B%0A%09%09%09%09%09%09if%20%28%21that._prevAutomaticSize%20%26%26%20%21that.canvas._scale%29%0A%09%09%09%09%09%09%09return%3B%0A%09%09%09%09%09%09var%20rect%20%3D%20that.canvas.getBoundingClientRect%28%29%3B%0A%09%09%09%09%09%09var%20x%20%3D%20%28aE.clientX%20-%20rect.left%29%20/%20%28that._prevAutomaticSize%20%3F%20that.canvas._scaleX%20%3A%20that.canvas._scale%29%3B%0A%09%09%09%09%09%09var%20y%20%3D%20%28aE.clientY%20-%20rect.top%29%20/%20%28that._prevAutomaticSize%20%3F%20that.canvas._scaleY%20%3A%20that.canvas._scale%29%3B%0A%09%09%09%09%09%09that._tab.linkedBrowser.messageManager.sendAsyncMessage%28that._emulateMsgID%2C%20%7B%0A%09%09%09%09%09%09%09x%3A%20x%2C%0A%09%09%09%09%09%09%09y%3A%20y%2C%0A%09%09%09%09%09%09%09type%3A%20%22click%22%2C%20//%20%22mousedown%22%20event%20doesn%27t%20work%20on%20web%20content.%20%AC%AC%0A%09%09%09%09%09%09%09button%3A%20aE.button%2C%0A%09%09%09%09%09%09%09ctrlKey%3A%20aE.ctrlKey%2C%0A%09%09%09%09%09%09%09altKey%3A%20aE.altKey%2C%0A%09%09%09%09%09%09%09shiftKey%3A%20aE.shiftKey%2C%0A%09%09%09%09%09%09%09metaKey%3A%20aE.metaKey%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09that._updatePreview%28%29%3B%3B%0A%09%09%09%09%09return%3B%0A%09%09%09%09default%3A%0A%09%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09that.tooltip.hidePopup%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09_updateToolbar%3A%20function%28%29%20%7B%0A%09%09%09var%20toolbar%20%3D%20that.toolbar%3B%0A%09%09%09if%20%28toolbar.hidden%29%0A%09%09%09%09return%3B%0A%09%09%09if%20%28toolbar.collapsed%29%0A%09%09%09%09toolbar.collapsed%20%3D%20false%3B%0A%09%09%09var%20browser%20%3D%20that._tab.linkedBrowser%3B%0A%09%09%09document.getElementById%28that._UID%20+%20%22-tabs-preview-back-button%22%29.disabled%20%3D%20%21browser.canGoBack%3B%0A%09%09%09document.getElementById%28that._UID%20+%20%22-tabs-preview-forward-button%22%29.disabled%20%3D%20%21browser.canGoForward%3B%0A%09%09%09var%20button%20%3D%20document.getElementById%28that._UID%20+%20%22-tabs-preview-reload-button%22%29%3B%0A%09%09%09if%20%28%21button.hidden%29%0A%09%09%09%09button.setAttribute%28%22_loading%22%2C%20browser.webProgress.isLoadingDocument%29%3B%0A%09%09%09button%20%3D%20document.getElementById%28that._UID%20+%20%22-tabs-preview-pin-button%22%29%3B%0A%09%09%09if%20%28%21button.hidden%29%0A%09%09%09%09button.setAttribute%28%22_active%22%2C%20that._tab.pinned%29%3B%0A%09%09%09button%20%3D%20document.getElementById%28that._UID%20+%20%22-tabs-preview-zoom-button%22%29%3B%0A%09%09%09if%20%28%21button.hidden%29%0A%09%09%09%09button.setAttribute%28%22_active%22%2C%20that._prevZoomedIn%29%3B%0A%09%09%7D%2C%0A%0A%0A%09%09_elementFromPointOnPreview%3A%20function%28aE%29%20%7B%0A%09%09%09var%20rect%20%3D%20that.canvas.getBoundingClientRect%28%29%3B%0A%09%09%09var%20x%20%3D%20%28aE.clientX%20-%20rect.left%29%20/%20%28that._prevAutomaticSize%20%3F%20that.canvas._scaleX%20%3A%20that.canvas._scale%29%3B%0A%09%09%09var%20y%20%3D%20%28aE.clientY%20-%20rect.top%29%20/%20%28that._prevAutomaticSize%20%3F%20that.canvas._scaleY%20%3A%20that.canvas._scale%29%3B%0A%09%09%09var%20win%20%3D%20that._tab.linkedBrowser.contentWindow%3B%0A%09%09%09var%20elt%20%3D%20win.document.elementFromPoint%28x%2C%20y%29%3B%0A%09%09%09if%20%28%21elt%29%0A%09%09%09%09elt%20%3D%20win.QueryInterface%28Ci.nsIInterfaceRequestor%29.%0A%09%09%09getInterface%28Ci.nsIDOMWindowUtils%29.%0A%09%09%09elementFromPoint%28x%2C%20y%2C%20true%2C%20false%29%3B%0A%09%09%09if%20%28%21elt%29%0A%09%09%09%09elt%20%3D%20win.document.body%20%7C%7C%20win.document.documentElement%3B%0A%09%09%09while%20%28/%5Ei%3Fframe%24/.test%28elt.localName.toLowerCase%28%29%29%29%20%7B%0A%09%09%09%09x%20-%3D%20elt.getBoundingClientRect%28%29.left%3B%0A%09%09%09%09y%20-%3D%20elt.getBoundingClientRect%28%29.top%3B%0A%09%09%09%09elt%20%3D%20elt.contentDocument.elementFromPoint%28x%2C%20y%29%3B%0A%09%09%09%7D%0A%09%09%09return%20elt%3B%0A%09%09%7D%2C%0A%09%7D%2C%0A%0A%09PanelFunctions%3A%20%7B%0A%09%09OnPanelHidden%3A%20function%28aE%2C%20aNode%29%20%7B%0A%09%09%09aNode.height%20%3D%200%3B%0A%09%09%09aNode.width%20%3D%200%3B%0A%09%09%09that.PanelFunctions._removeListeners%28%29%3B%0A%09%09%09that.tooltip.hidePopup%28%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09_removeListeners%3A%20function%28%29%20%7B%20//%20Outside%20of%20OnPanelHidden%20so%20I%20can%20call%20it%20from%20onDestroy%28%29.%0A%09%09%09let%20tabcontainer%20%3D%20gBrowser.tabContainer%3B%0A%09%09%09tabcontainer.removeEventListener%28%22TabAttrModified%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09tabcontainer.removeEventListener%28%22TabClose%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09tabcontainer.removeEventListener%28%22TabOpen%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09tabcontainer.removeEventListener%28%22TabPinned%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09tabcontainer.removeEventListener%28%22TabUnpinned%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09that.canvas.removeEventListener%28%22click%22%2C%20that.PreviewFunctions.OnClick%2C%20true%29%3B%0A%09%09%09that.canvas.removeEventListener%28%22DOMMouseScroll%22%2C%20that.PreviewFunctions.OnDOMScroll%2C%20false%29%3B%0A%09%09%09if%20%28that._tab%29%0A%09%09%09%09that._tab.linkedBrowser%20%26%26%0A%09%09%09%09that._tab.linkedBrowser.removeEventListener%28%22MozAfterPaint%22%2C%20that.PreviewFunctions.OnMozAfterPaint%2C%20false%29%3B%0A%09%09%09gBrowser.removeTabsProgressListener%28that.TabsProgressListenerForPanel%29%3B%0A%09%09%09gBrowser.removeTabsProgressListener%28that.TabsProgressListenerForPreview%29%3B%0A%09%09%7D%2C%0A%0A%09%09OnPanelShowing%3A%20function%28aE%2C%20aPanel%29%20%7B%0A%09%09%09aPanel.width%20%3D%20that.panelWidth%3B%0A%09%09%09aPanel.maxWidth%20%3D%20that.panelWidth%3B%0A%09%09%09let%20tabcontainer%20%3D%20gBrowser.tabContainer%3B%0A%09%09%09tabcontainer.addEventListener%28%22TabAttrModified%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09tabcontainer.addEventListener%28%22TabClose%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09tabcontainer.addEventListener%28%22TabOpen%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09tabcontainer.addEventListener%28%22TabPinned%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09tabcontainer.addEventListener%28%22TabUnpinned%22%2C%20that.tabContainerListener%2C%20false%29%3B%0A%09%09%09gBrowser.addTabsProgressListener%28that.TabsProgressListenerForPanel%29%3B%0A%09%09%09if%20%28that._prevEnabled%29%20%7B%0A%09%09%09%09//%20Doesn%27t%20matter%20wich%20event%20to%20listen%20to.%20%22click%22%20doesn%27t%20work%20on%20XUL%20content%20and%20%22mousedown%22%20doesn%27t%20work%20on%20web%20content.%0A%09%09%09%09//%20The%20correct%20event%20to%20use%20is%20defined%20in%20the%20%22emulate%22%20case%20of%20_performAction%20function.%0A%09%09%09%09if%20%28that._prevSendClicks%29%0A%09%09%09%09%09that.canvas.addEventListener%28%22click%22%2C%20that.PreviewFunctions.OnClick%2C%20true%29%3B%0A%09%09%09%09if%20%28that._prevSendScroll%29%0A%09%09%09%09%09that.canvas.addEventListener%28%22DOMMouseScroll%22%2C%20that.PreviewFunctions.OnDOMScroll%2C%20false%29%3B%0A%09%09%09%09gBrowser.addTabsProgressListener%28that.TabsProgressListenerForPreview%29%3B%0A%09%09%09%7D%0A%09%09%09that._appendButtonsToGroupsBox%28document.getElementById%28that._UID%20+%20%22-tabs-groups-box%22%29%29%3B%0A%09%09%09that._appendTabsToTabsBox%28document.getElementById%28that._UID%20+%20%22-tabs-box%22%29%29%3B%0A%09%09%09let%20optB%20%3D%20that.optionsBox.hasChildNodes%28%29%3B%0A%09%09%09document.getElementById%28that._UID%20+%20%22-inline-options-button%22%29.setAttribute%28%22_checked%22%2C%20optB%29%3B%0A%09%09%09optB%20%26%26%20that.PopulateOptionsBox%28false%29%3B%0A%09%09%09that.PanelFunctions.HandleGroupsElements%28%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09AddGroupBtn%3A%20function%28aE%29%20%7B%0A%09%09%09if%20%28aE.button%20%21%3D%3D%200%29%0A%09%09%09%09return%20false%3B%0A%09%09%09that.GroupItems.newGroup%28%29.newTab%28%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09that._appendButtonsToGroupsBox%28document.getElementById%28that._UID%20+%20%22-tabs-groups-box%22%29%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09OnItemClick%3A%20function%28aE%29%20%7B%0A%09%09%09clearTimeout%28that._selectTabOnHoverTimer%29%3B%0A%09%09%09clearTimeout%28that._hoverOpenPreviewTimer%29%3B%0A%09%09%09that.tooltip.hidePopup%28%29%3B%0A%09%09%09if%20%28aE.button%20%3D%3D%3D%202%29%0A%09%09%09%09return%20true%3B%0A%09%09%09var%20btn%20%3D%20aE.target%3B%0A%09%09%09var%20tab%20%3D%20btn.tab%3B%0A%09%09%09if%20%28btn.localName%20%21%3D%3D%20%22toolbarbutton%22%20%7C%7C%20%21tab%29%0A%09%09%09%09return%20false%3B%0A%09%09%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20%21aE.altKey%29%0A%09%09%09%09that.PanelFunctions._multiSelectTab%28btn%2C%20tab%29%3B%0A%09%09%09else%20if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%0A%09%09%09%09gBrowser.tabContainer._notifyBackgroundTab%28gBrowser.selectedTab%20%3D%20tab%29%0A%09%09%09else%20if%20%28aE.button%20%3D%3D%3D%201%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09switch%20%28that._pMiddleClickOnTabAction%29%20%7B%0A%09%09%09%09%09case%200%3A%20//%20Close%20tab%0A%09%09%09%09%09%09gBrowser.removeTab%28tab%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%201%3A%20//%20Reload%20tab%0A%09%09%09%09%09%09that._reloadTab%28tab%2C%20aE%29%3B%0A%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09that._setButtonAttributes%28btn%2C%20tab%29%3B%0A%09%09%09%09%09%09%7D%2C%2010%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%202%3A%20//%20Multi-select%20tab%0A%09%09%09%09%09%09that.PanelFunctions._multiSelectTab%28btn%2C%20tab%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09default%3A%0A%09%09%09%09%09%09Services.prompt.alert%28null%2C%20self.name%2C%20%22You%20manually%20changed%20the%20preference%22%20+%0A%09%09%09%09%09%09%09%22%20called%20%5C%22PanelMiddleClickOnTabAction%5C%22%20to%20an%20invalid%20value%21%21%21%5Cn%22%20+%0A%09%09%09%09%09%09%09%22Go%20to%20%22%20+%20self.name%20+%20%22%20options%20page%20and%20reset%20that%20preference%2C%20then%22%20+%0A%09%09%09%09%09%09%09%22choose%20the%20action%20you%20want%20from%20the%20in-line%20options%20inside%20the%20main%20panel.%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09_multiSelectTab%3A%20function%28aBtn%2C%20aTab%29%20%7B%0A%09%09%09if%20%28aBtn.hasAttribute%28%22_multisel%22%29%29%20%7B%0A%09%09%09%09aBtn.removeAttribute%28%22_multisel%22%29%3B%0A%09%09%09%09if%20%28gBrowser.selectedTab%20%21%3D%3D%20aTab%29%0A%09%09%09%09%09aBtn.removeAttribute%28%22checked%22%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09aBtn.removeAttribute%28%22type%22%29%3B%20//%20Remove%20to%20avoid%20checked%20state.%20%AC%AC%0A%09%09%09%09aBtn.removeAttribute%28%22group%22%29%3B%20//%20Remove%20to%20avoid%20checked%20state.%20%AC%AC%0A%09%09%09%09aBtn.setAttribute%28%22_multisel%22%2C%20true%29%3B%0A%09%09%09%09if%20%28gBrowser.selectedTab%20%21%3D%3D%20aTab%29%0A%09%09%09%09%09aBtn.removeAttribute%28%22checked%22%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%0A%0A%09%09OnMouseMoveItem%3A%20function%28aE%29%20%7B%0A%09%09%09var%20btn%20%3D%20aE.target%3B%0A%09%09%09var%20tab%20%3D%20btn.tab%3B%0A%09%09%09if%20%28btn.localName%20%21%3D%3D%20%22toolbarbutton%22%20%7C%7C%20%21tab%29%0A%09%09%09%09return%20false%3B%0A%09%09%09that._tab%20%3D%20tab%3B%0A%09%09%09if%20%28%21that._prevEnabled%20%26%26%20%21that._prevShowToolbar%29%0A%09%09%09%09return%20false%3B%0A%09%09%09that.tooltip.removeAttribute%28%22width%22%29%3B%0A%09%09%09that.tooltip.removeAttribute%28%22height%22%29%3B%0A%09%09%09that._ctrlKeyPressed%20%3D%20aE.ctrlKey%3B%0A%09%09%09that._openDelayedTooltip%28aE%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09OnMouseOverItem%3A%20function%28aE%29%20%7B%0A%09%09%09var%20btn%20%3D%20aE.target%3B%0A%09%09%09var%20tab%20%3D%20btn.tab%3B%0A%09%09%09if%20%28btn.localName%20%21%3D%3D%20%22toolbarbutton%22%20%7C%7C%20%21tab%29%0A%09%09%09%09return%20false%3B%0A%09%09%09try%20%7B%0A%09%09%09%09XULBrowserWindow.setOverLink%28tab.linkedBrowser.currentURI.spec%2C%20null%29%3B%0A%09%09%09%7D%20catch%20%28aErr%29%20%7B%7D%0A%09%09%09if%20%28gBrowser._removingTabs.indexOf%28tab%29%20%3E%20-1%29%0A%09%09%09%09return%20true%3B%0A%09%09%09if%20%28that._selectTabOnHover%29%20%7B%0A%09%09%09%09clearTimeout%28that._selectTabOnHoverTimer%29%3B%0A%09%09%09%09that._selectTabOnHoverTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09gBrowser.selectedTab%20%3D%20tab%3B%0A%09%09%09%09%7D%2C%20that._selectTabOnHoverDelay%29%3B%0A%09%09%09%09return%20true%3B%0A%09%09%09%7D%0A%09%09%09that._tab%20%3D%20tab%3B%0A%09%09%09if%20%28%21that._prevEnabled%20%26%26%20%21that._prevShowToolbar%29%20%7B%0A%09%09%09%09that._updateTitle%28btn%29%3B%0A%09%09%09%09return%20false%3B%0A%09%09%09%7D%0A%09%09%09if%20%28%21that._prevEnabled%29%0A%09%09%09%09return%20true%3B%0A%09%09%09tab.linkedBrowser.removeEventListener%28%22MozAfterPaint%22%2C%20that.PreviewFunctions.OnMozAfterPaint%2C%20false%29%3B%0A%09%09%09if%20%28%21that._hoverOpenPreviewTimer%20%26%26%20that.tooltip.state%20%3D%3D%3D%20%22open%22%29%0A%09%09%09%09that.tooltip.hidePopup%28%29%3B%0A%09%09%09that._ctrlKeyPressed%20%3D%20aE.ctrlKey%3B%0A%09%09%09tab.linkedBrowser.addEventListener%28%22MozAfterPaint%22%2C%20that.PreviewFunctions.OnMozAfterPaint%2C%20false%29%3B%0A%09%09%09that._updatePreview%28%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09OnMouseOutItem%3A%20function%28aE%29%20%7B%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09var%20btn%20%3D%20aE.target%3B%0A%09%09%09var%20tab%20%3D%20btn.tab%3B%0A%09%09%09if%20%28btn.localName%20%21%3D%3D%20%22toolbarbutton%22%20%7C%7C%20%21tab%29%0A%09%09%09%09return%20false%3B%0A%09%09%09that._ctrlKeyPressed%20%3D%20aE.ctrlKey%3B%0A%09%09%09XULBrowserWindow.setOverLink%28%22%22%2C%20null%29%3B%0A%09%09%09clearTimeout%28that._selectTabOnHoverTimer%29%3B%0A%09%09%09clearTimeout%28that._hoverOpenPreviewTimer%29%3B%0A%09%09%09var%20x%20%3D%20aE.screenX%2C%0A%09%09%09%09y%20%3D%20aE.screenY%3B%0A%09%09%09if%20%28that._tooltipAllowHovering%20%26%26%20that.tooltip.state%20%3D%3D%3D%20%22open%22%29%20%7B%0A%09%09%09%09let%20box%20%3D%20that.tooltip.boxObject%3B%0A%09%09%09%09if%20%28box.screenX%20%3C%3D%20x%20%26%26%20x%20%3C%20box.screenX%20+%20box.width%20%26%26%0A%09%09%09%09%09box.screenY%20%3C%3D%20y%20%26%26%20y%20%3C%20box.screenY%20+%20box.height%29%0A%09%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09that.tooltip.hidePopup%28%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09HandleGroupsElements%3A%20function%28%29%20%7B%0A%09%09%09Array.prototype.slice.call%28that.panel.getElementsByAttribute%28%22_group%22%2C%20%22*%22%29%29.forEach%28function%28aEl%29%20%7B%0A%09%09%09%09aEl.collapsed%20%3D%20that._pHideGroupsRow%3B%0A%09%09%09%7D%29%3B%0A%09%09%09document.getElementById%28that._UID%20+%20%22-hide-groups-box-button%22%29.setAttribute%28%22_checked%22%2C%20%21that._pHideGroupsRow%29%3B%0A%09%09%7D%2C%0A%0A%09%09toggleGroupButtons%3A%20function%28%29%20%7B%0A%09%09%09that.sPref%28%22PanelHideGroupsRow%22%2C%20%21that._pHideGroupsRow%29%3B%0A%09%09%7D%2C%0A%09%7D%2C%0A%0A%09togglePanel%3A%20function%28%29%20%7B%0A%09%09var%20panel%20%3D%20that.panel%3B%0A%09%09if%20%28panel%29%20%7B%0A%09%09%09if%20%28panel.state%20%3D%3D%3D%20%22open%22%29%0A%09%09%09%09panel.hidePopup%28%29%3B%0A%09%09%09else%0A%09%09%09%09panel.openPopup%28that.panelAnchor%2C%20that.panelPosition%2C%200%2C%20that._pVerticalOffset%2C%20false%2C%20false%2C%20null%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09openOptions%3A%20%7B%0A%09%09Init%3A%20function%28%29%20%7B%0A%09%09%09var%20url%20%3D%20%22about%3Aconfig%3Ffilter%3D%22%20+%20that.Branch%3B%0A%09%09%09var%20onDocLoad%20%3D%20function%20onDocLoad%28aE%29%20%7B%0A%09%09%09%09window.removeEventListener%28%22DOMContentLoaded%22%2C%20onDocLoad%2C%20true%29%3B%0A%09%09%09%09that.openOptions.loadDesc%28aE%29%3B%0A%09%09%09%7D%3B%0A%09%09%09if%20%28that.gPref%28%22OpenOptionsInTab%22%29%20%26%26%20%28%22gBrowser%22%20in%20window%29%29%20%7B%0A%09%09%09%09let%20tab%20%3D%20gBrowser.visibleTabs.find%28tab%20%3D%3E%20tab.linkedBrowser.currentURI.spec%20%3D%3D%3D%20url%29%3B%0A%09%09%09%09%21%21tab%20%7C%7C%20window.addEventListener%28%22DOMContentLoaded%22%2C%20onDocLoad%2C%20true%29%3B%0A%09%09%09%09gBrowser.selectedTab%20%3D%20tab%20%7C%7C%20gBrowser.addTab%28url%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09let%20observer%20%3D%20%7B%0A%09%09%09%09%09observe%3A%20function%28aSubject%2C%20aTopic%2C%20aData%29%20%7B%0A%09%09%09%09%09%09aSubject.addEventListener%28%22load%22%2C%20function%20_%28aE%29%20%7B%0A%09%09%09%09%09%09%09Services.obs.removeObserver%28observer%2C%20%22domwindowopened%22%29%3B%0A%09%09%09%09%09%09%09aE.target.removeEventListener%28%22load%22%2C%20_%2C%20false%29%3B%0A%09%09%09%09%09%09%09that.openOptions.loadDesc%28aE%29%3B%0A%09%09%09%09%09%09%7D%2C%20true%29%3B%0A%09%09%09%09%09%7D%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09let%20win%20%3D%20Services.wm.getMostRecentWindow%28%22Preferences%3AConfigManager%22%29%3B%0A%09%09%09%09if%20%28win%29%20%7B%0A%09%09%09%09%09win.focus%28%29%3B%0A%09%09%09%09%09return%3B%0A%09%09%09%09%7D%0A%09%09%09%09Services.obs.addObserver%28observer%2C%20%22domwindowopened%22%2C%20false%29%3B%0A%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09toOpenWindowByType%28%22Preferences%3AConfigManager%22%2C%20url%29%3B%0A%09%09%09%09%7D%2C%2010%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%0A%0A%09%09loadDesc%3A%20function%28aE%29%20%7B%0A%09%09%09const%20ROOT%20%3D%20that.Branch%3B%0A%0A%09%09%09var%20doc%20%3D%20aE.target%2C%0A%09%09%09%09win%3B%0A%09%09%09if%20%28%21doc%20%26%26%20%21%28doc.location.href.startsWith%28%22chrome%3A//global/content/config.xul%22%29%20%7C%7C%0A%09%09%09%09%09doc.location.href.startsWith%28%22about%3Aconfig%22%29%29%29%0A%09%09%09%09return%3B%0A%09%09%09if%20%28%21doc.getElementById%28%22configTree%22%29%29%0A%09%09%09%09return%3B%0A%09%09%09win%20%3D%20doc.defaultView%3B%0A%0A%09%09%09var%20curTab%20%3D%20document.getElementsByTagName%28%22tab%22%29%3B%0A%09%09%09for%20%28let%20i%20%3D%20curTab.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%20%7B%0A%09%09%09%09if%20%28curTab%5Bi%5D.selected%29%20%7B%0A%09%09%09%09%09let%20newLabel%20%3D%20self.name%20+%20%22%20preference%20window.%22%3B%0A%09%09%09%09%09curTab%5Bi%5D.setAttribute%28%22visibleLabel%22%2C%20newLabel%29%3B%0A%09%09%09%09%09curTab%5Bi%5D.setAttribute%28%22label%22%2C%20newLabel%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09var%20tB%20%3D%20win.document.getElementById%28%22textbox%22%29%3B%0A%09%09%09tB.value%20%3D%20ROOT%3B%0A%09%09%09tB.doCommand%28%29%3B%0A%09%09%09tB.setAttribute%28%22readonly%22%2C%20true%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09var%20tree%20%3D%20win.document.getElementById%28%22configTree%22%29%3B%0A%09%09%09%09var%20treecols%20%3D%20tree.firstChild%3B%0A%09%09%09%09var%20newSplit%20%3D%20win.document.createElement%28%22splitter%22%29%3B%0A%09%09%09%09newSplit.setAttribute%28%22class%22%2C%20%22tree-splitter%22%29%3B%0A%09%09%09%09var%20newCol%20%3D%20win.document.createElement%28%22treecol%22%29%3B%0A%09%09%09%09newCol.setAttribute%28%22id%22%2C%20%22descCol%22%29%3B%0A%09%09%09%09newCol.setAttribute%28%22label%22%2C%20%22Description%22%29%3B%0A%09%09%09%09newCol.setAttribute%28%22flex%22%2C%2012%29%3B%0A%09%09%09%09treecols.appendChild%28newSplit%29%3B%0A%09%09%09%09treecols.appendChild%28newCol%29%3B%0A%09%09%09%09var%20prefsArr%20%3D%20win.gPrefArray%3B%0A%09%09%09%09for%20%28let%20i%20%3D%20prefsArr.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%20%7B%0A%09%09%09%09%09if%20%28prefsArr%5Bi%5D.prefCol.match%28ROOT%29%29%20%7B%0A%09%09%09%09%09%09var%20prefName%20%3D%20prefsArr%5Bi%5D.prefCol%3B%0A%09%09%09%09%09%09let%20prefDesc%20%3D%20that.openOptions.optionsDesc%5BprefName.slice%28ROOT.length%29%5D%3B%0A%09%09%09%09%09%09prefsArr%5Bi%5D.descCol%20%3D%20prefDesc%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09let%20branch%20%3D%20Services.prefs.getDefaultBranch%28that.Branch%29%3B%0A%09%09%09%09var%20prefListener%20%3D%20%7B%0A%09%09%09%09%09observe%3A%20function%28subject%2C%20topic%2C%20prefName%29%20%7B%0A%09%09%09%09%09%09if%20%28topic%20%21%3D%3D%20%22nsPref%3Achanged%22%29%0A%09%09%09%09%09%09%09return%3B%0A%09%09%09%09%09%09window.setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09var%20prefObj%20%3D%20win.gPrefHash%5BprefName%5D%3B%0A%09%09%09%09%09%09%09if%20%28%21prefObj%29%0A%09%09%09%09%09%09%09%09return%3B%0A%09%09%09%09%09%09%09var%20viewIndex%20%3D%20win.getViewIndexOfPref%28prefObj%29%3B%0A%09%09%09%09%09%09%09var%20arrayIndex%20%3D%20win.getIndexOfPref%28prefObj%29%3B%0A%09%09%09%09%09%09%09let%20prefDesc%20%3D%20that.openOptions.optionsDesc%5BprefName.slice%28ROOT.length%29%5D%3B%0A%09%09%09%09%09%09%09win.gPrefArray%5BarrayIndex%5D.descCol%20%3D%20prefDesc%3B%0A%09%09%09%09%09%09%09if%20%28viewIndex%20%3E%3D%200%29%20%7B%0A%09%09%09%09%09%09%09%09win.gPrefView%5BviewIndex%5D%20%3D%20win.gPrefArray%5BarrayIndex%5D%3B%0A%09%09%09%09%09%09%09%09tree.treeBoxObject.invalidateRow%28viewIndex%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%3B%0A%09%09%09%09branch.addObserver%28%22%22%2C%20prefListener%2C%20false%29%3B%0A%09%09%09%09let%20unLoad%20%3D%20function%20unLoad%28%29%20%7B%0A%09%09%09%09%09win.removeEventListener%28%22unload%22%2C%20unLoad%2C%20false%29%3B%0A%09%09%09%09%09branch.removeObserver%28%22%22%2C%20prefListener%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09win.addEventListener%28%22unload%22%2C%20unLoad%2C%20false%29%3B%0A%09%09%09%7D%2C%20250%29%3B%0A%09%09%7D%2C%0A%0A%09%09optionsDesc%3A%20%7B%0A%09%09%09ButtonImage%3A%20%22Change%20the%20button%20image.%5Cn0%20%3D%20Custom%20image.%20%27Edit%20Button...%27%20%3E%20Image%20sec%22%20+%0A%09%09%09%09%22tion.%5Cn1%20%3D%20Dark%20icon.%5Cn2%20%3D%20Light%20icon.%22%2C%0A%09%09%09MaxIconSizeForTabButtonsInPanel%3A%20%22Each%20%27tab%20item%27%20in%20the%20grid%20will%20display%20the%20site%27s%20%22%20+%0A%09%09%09%09%22favicon.%20This%20option%20allows%20to%20set%20a%20custom%20fixed%20size%20for%20those%20icons.%22%2C%0A%09%09%09OpenOptionsInTab%3A%20%22If%20enabled%2C%20the%20options%20page%20for%20this%20button%20will%20be%20opened%20in%20a%20ne%22%20+%0A%09%09%09%09%22w%20tab.%20If%20disabled%2C%20it%20will%20open%20a%20new%20window.%22%2C%0A%09%09%09PanelButtonGroupsPerRow%3A%20%22How%20many%20groups%20buttons%20per%20row%20should%20the%20grid%20display.%5CnDe%22%20+%0A%09%09%09%09%22fault%3A%208%22%2C%0A%09%09%09PanelButtonTabsPerRow%3A%20%22How%20many%20tabs%20per%20row%20should%20the%20grid%20display.%5CnMinimum%3A%205%20tab%22%20+%0A%09%09%09%09%22s%20per%20row%5CnMaximum%3A%2030%20tabs%20per%20row%5CnDefault%3A%2010%22%2C%0A%09%09%09PanelButtonTabsPerRowAuto%3A%20%22The%20amount%20of%20tabs%20per%20row%20will%20be%20automatically%20calculate%22%20+%0A%09%09%09%09%22d%20based%20on%20the%20%27PanelButtonTabsPerRowAutoWidth%27%20option.%22%2C%0A%09%09%09PanelButtonTabsPerRowAutoWidth%3A%20%22Width%20used%20to%20calculate%20the%20amount%20of%20tabs%20per%20row%20in%22%20+%0A%09%09%09%09%22side%20the%20main%20panel%20%28if%20%27PanelButtonTabsPerRowAuto%27%20is%20enabled%29.%5CnMinimum%3A%20100px.%22%20+%0A%09%09%09%09%22%5CnMaximum%3A%20250px.%22%2C%0A%09%09%09PanelHideGroupsRow%3A%20%22When%20there%20is%20just%20one%20group%20of%20tabs%2C%20hide%20the%20groups%20row%20from%20th%22%20+%0A%09%09%09%09%22e%20main%20panel.%22%2C%0A%09%09%09PanelInvertDarkIcons%3A%20%22Almost%20all%20icons%20used%20by%20this%20button%20are%20dark/black.%20With%20this%20%22%20+%0A%09%09%09%09%22option%20enabled%2C%20a%20white%20filter%20will%20be%20applyed%20to%20those%20icons%20so%20they%20are%20actuall%22%20+%0A%09%09%09%09%22y%20seen%20on%20dark%20themes.%22%2C%0A%09%09%09PanelKeepItOpen%3A%20%22By%20default%2C%20the%20panel%20will%20close%20whenever%20its%20focus%20is%20lost%20or%20by%20pr%22%20+%0A%09%09%09%09%22essing%20the%20Escape%20key.%20With%20this%20option%20enabled%2C%20the%20panel%20will%20ONLY%20close%20when%20y%22%20+%0A%09%09%09%09%22ou%20tell%20it%20to%20by%20pressing%20this%20button%20or%20toggling%20the%20panel%20with%20the%20hotkey%20%28%22%20+%0A%09%09%09%09%22if%20any%29.%22%2C%0A%09%09%09PanelListOfHotSpotsIDs%3A%20%22Comma%20separated%20list%20of%20elements%20IDs.%20When%20you%20hover%20over%20thi%22%20+%0A%09%09%09%09%22s%20elements%2C%20the%20panel%20will%20automatically%20open.%5CnExample%3A%20%27urlbar-container%2Ctabbro%22%20+%0A%09%09%09%09%22wser-tabs%27.%20The%20main%20panel%20will%20open%20when%20you%20hover%20over%20the%20URL%20bar%20and/or%20the%20t%22%20+%0A%09%09%09%09%22ab%20bar.%22%2C%0A%09%09%09PanelOpenOnHover%3A%20%22If%20enabled%2C%20it%20will%20allow%20you%20to%20open%20the%20main%20panel%20by%20just%20hoveri%22%20+%0A%09%09%09%09%22ng%20over%20this%20button.%22%2C%0A%09%09%09PanelOpenOnHoverDelay%3A%20%22Delay%20in%20milliseconds%20for%20the%20%27OpenPanelOnHover%27%20option.%22%2C%0A%09%09%09PanelSelectTabOnHover%3A%20%22If%20enabled%2C%20it%20will%20allow%20you%20to%20select%20the%20tab%20while%20hovering%22%20+%0A%09%09%09%09%22%20over%20the%20%27tabs%20items%27%20inside%20the%20main%20panel.%22%2C%0A%09%09%09PanelSelectTabOnHoverDelay%3A%20%22Delay%20in%20milliseconds%20for%20the%20%27SelectTabOnHover%27%20option.%22%2C%0A%09%09%09PanelShowPinnedTabs%3A%20%22If%20enabled%2C%20it%20will%20also%20display%20the%20pinned%20tabs%20inside%20the%20main%22%20+%0A%09%09%09%09%22%20panel.%5CnDefault%3A%20disabled/false%22%2C%0A%09%09%09PanelVerticalOffset%3A%20%22Vertical%20distance%20from%20the%20top%20of%20the%20main%20panel%20in%20relation%20to%20%22%20+%0A%09%09%09%09%22its%20anchor%20%28the%20default%20anchor%20is%20the%20%27Navigation%20toolbar%27%29.%22%2C%0A%09%09%09PanelMiddleClickOnTabAction%3A%20%22Choose%20what%20action%20to%20perform%20when%20middle-clicking%20on%20a%20%22%20+%0A%09%09%09%09%22tab%20item%20on%20the%20main%20panel.%5Cn0%20%3D%20Close%20tab%5Cn1%20%3D%20Reload%20tab%5Cn2%20%3D%20Multi%20select%20tabs.%22%2C%0A%09%09%09TabPreviewAutomaticSize%3A%20%22Ignore%20the%20fixed%20preview%20width/height%20and%20size%20it%20based%20on%20a%22%20+%0A%09%09%09%09%22%20percentage%20of%20the%20actual%20page%20content%20size.%22%2C%0A%09%09%09TabPreviewAutomaticSizePercentage%3A%20%22Tabs%20preview%20size%20percentage%20in%20relation%20to%20the%20pa%22%20+%0A%09%09%09%09%22ge%20content%20size.%26%23xA%3BMinimum%3A%2010%25.%26%23xA%3BMaximum%3A%20100%25.%22%2C%0A%09%09%09TabPreviewEnabled%3A%20%22If%20enabled%2C%20it%20will%20display%20a%20live%20preview%20of%20the%20content%20of%20the%20t%22%20+%0A%09%09%09%09%22ab%20while%20hovering%20over%20any%20%27tab%20item%27%20inside%20the%20main%20panel.%22%2C%0A%09%09%09TabPreviewLoadUnloadedTabs%3A%20%22If%20enabled%2C%20and%20if%20the%20tab%20is%20not%20loaded%20yet%2C%20it%20will%20rel%22%20+%0A%09%09%09%09%22oad%20that%20tab%20and%20the%20preview%20will%20be%20updated.%22%2C%0A%09%09%09TabPreviewRequireControlKey%3A%20%22If%20enabled%2C%20the%20tab%20preview%20will%20be%20displayed%20only%20if%20th%22%20+%0A%09%09%09%09%22e%20control%20key%20is%20pressed.%22%2C%0A%09%09%09TabPreviewSendClicks%3A%20%22If%20enabled%2C%20it%20will%20send%20clicks%20%27through%20the%20preview%27%20to%20be%20han%22%20+%0A%09%09%09%09%22dled%20by%20the%20page%20content.%22%2C%0A%09%09%09TabPreviewSendScroll%3A%20%22If%20enabled%2C%20it%20will%20allow%20you%20to%20scroll%20the%20page%20content%20%27throu%22%20+%0A%09%09%09%09%22gh%20the%20preview%27%20and%20the%20preview%20will%20be%20updated.%22%20+%0A%09%09%09%09%22%5CnScroll%20with%20no%20modifiers%3A%20Scroll%20page%20content%20vertically%20by%20lines.%22%20+%0A%09%09%09%09%22%5CnCtrl%20+%20Scroll%3A%20Scroll%20page%20content%20vertically%20by%20pages.%22%20+%0A%09%09%09%09%22%5CnShift%20+%20Scroll%3A%20Scroll%20page%20content%20horizontally.%22%20+%0A%09%09%09%09%22%5CnCtrl%20+%20Shift%20+%20Scroll%3A%20Scroll%20page%20content%20horizontally%20by%20content%20width.%20This%20%22%20+%0A%09%09%09%09%22is%20an%20intent%20to%20emulate%20the%20vertical%20Scroll%20by%20pages.%22%2C%0A%09%09%09TabPreviewShowDelay%3A%20%22Delay%20in%20milliseconds%20for%20the%20tab%20preview%20to%20display.%5CnDefault%3A%20200%22%2C%0A%09%09%09TabPreviewShowToolbar%3A%20%22If%20enabled%2C%20the%20tab%20preview%20will%20have%20a%20toolbar%20with%20some%20acti%22%20+%0A%09%09%09%09%22ons%20available%20to%20perform%20on%20the%20tab%20belonging%20to%20that%20preview.%5CnAvailable%20actions%22%20+%0A%09%09%09%09%22%20are%3A%20Go%20back%20a%20page%2C%20Go%20forward%20a%20page%2C%20Reload%20page%2C%20Pin%20tab%2C%20Zoom%20preview%20and%20Close%20tab.%22%2C%0A%09%09%09TabPreviewWidth%3A%20%22Size%20in%20pixels%20for%20the%20tab%20preview%20width.%5CnMinimum%3A%20100%20pixels%5CnMaxi%22%20+%0A%09%09%09%09%22mum%3A%202000%20pixels%5CnDefault%3A%20360%20pixels%22%2C%0A%09%09%09TabPreviewHeight%3A%20%22Size%20in%20pixels%20for%20the%20tab%20preview%20height.%5CnMinimum%3A%20100%20pixels%5CnMa%22%20+%0A%09%09%09%09%22ximum%3A%202000%20pixels%5CnDefault%3A%20225%20pixels%22%2C%0A%09%09%09TabPreviewZoomFactor%3A%20%22Zoom%20factor%20in%20percentage.%5CnMinimum%3A%205%25%5CnMaximum%3A%20500%25%5CnDefault%3A%20100%25%22%2C%0A%09%09%7D%0A%09%7D%2C%0A%0A%09_appendButtonsToGroupsBox%3A%20function%28aGBox%29%20%7B%0A%09%09aGBox.textContent%20%3D%20%22%22%3B%0A%09%09var%20groups%20%3D%20that.GroupItems.groupItems%3B%0A%09%09var%20breakPoint%20%3D%200%3B%0A%09%09var%20btnPerRow%20%3D%20that._pGroupsPerRow%3B%0A%09%09var%20btnWidth%20%3D%20%28%28that.panelWidth%20-%20100%29%20/%20btnPerRow%29%20-%202%3B%0A%09%09var%20count%20%3D%200%3B%0A%09%09var%20createRow%20%3D%20function%28aArr%29%20%7B%0A%09%09%09let%20hbox%20%3D%20aGBox.appendChild%28%24CNS%28%22hbox%22%2C%20%7B%0A%09%09%09%09align%3A%20%22center%22%0A%09%09%09%7D%29%29%3B%0A%09%09%09var%20g%20%3D%200%2C%0A%09%09%09%09aLen%20%3D%20aArr.length%3B%0A%09%09%09for%20%28%3B%20g%20%3C%20aLen%3B%20g++%29%20%7B%0A%09%09%09%09let%20gI%20%3D%20aArr%5Bg%5D%3B%0A%09%09%09%09let%20title%20%3D%20gI.getTitle%28%29%3B%0A%0A%09%09%09%09if%20%28%21title.trim%28%29%29%20%7B%0A%09%09%09%09%09count++%3B%0A%09%09%09%09%09title%20%3D%20%22Unnamed%20group%20%23%22%20+%20count%3B%0A%09%09%09%09%09gI.setTitle%28title%29%3B%0A%09%09%09%09%7D%0A%0A%09%09%09%09let%20btn%20%3D%20%24CNS%28%22toolbarbutton%22%2C%20%7B%0A%09%09%09%09%09label%3A%20%22%28%22%20+%20gI._children.length%20+%20%22%29%20%22%20+%20title%2C%0A%09%09%09%09%09type%3A%20%22radio%22%2C%0A%09%09%09%09%09maxwidth%3A%20parseInt%28btnWidth%2C%2010%29%2C%0A%09%09%09%09%09class%3A%20%22tabs-groups-button%22%2C%0A%09%09%09%09%09group%3A%20that._UID%20+%20%22-groups-radio-group%22%2C%0A%09%09%09%09%09tooltiptext%3A%20title%2C%0A%09%09%09%09%09groupid%3A%20gI.id%2C%0A%09%09%09%09%09checked%3A%20that.GroupItems.getActiveGroupItem%28%29%20%3D%3D%3D%20gI%2C%0A%09%09%09%09%09autocheck%3A%20false%2C%0A%09%09%09%09%09ondragover%3A%20%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.TabsManager.DragAndDropHandler.onDragOver%28event%29%3B%22%2C%0A%09%09%09%09%09ondrop%3A%20%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.TabsManager.DragAndDropHandler.onDrop%28event%29%3B%22%2C%0A%09%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09crop%3A%20%22end%22%2C%0A%09%09%09%09%7D%29%3B%0A%0A%09%09%09%09btn.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09%09Array.prototype.slice.call%28aE.target.parentNode.parentNode.getElementsByTagName%28%22toolbarbutton%22%29%29.forEach%28function%28aBtn%29%20%7B%0A%09%09%09%09%09%09%09%28aBtn%20%21%3D%3D%20aE.target%29%20%26%26%20%28aBtn.checked%20%3D%20false%29%3B%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09that._setGroup%28gI.id%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09hbox.appendChild%28btn%29%3B%0A%09%09%09%7D%0A%09%09%7D%3B%0A%09%09var%20i%20%3D%200%2C%0A%09%09%09gLen%20%3D%20groups.length%2C%0A%09%09%09gRow%20%3D%20%5B%5D%3B%0A%09%09for%20%28%3B%20i%20%3C%20gLen%3B%20i++%29%20%7B%0A%09%09%09breakPoint++%3B%0A%09%09%09gRow.push%28groups%5Bi%5D%29%3B%0A%09%09%09if%20%28%28gRow.length%20%3D%3D%3D%20btnPerRow%29%20%7C%7C%20%28i%20+%201%29%20%3D%3D%3D%20groups.length%29%20%7B%0A%09%09%09%09breakPoint%20%3D%200%3B%0A%09%09%09%09createRow%28gRow%29%3B%0A%09%09%09%09gRow%20%3D%20%5B%5D%3B%0A%09%09%09%09continue%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09aGBox.appendChild%28%24CNS%28%22spacer%22%2C%20%7B%0A%09%09%09flex%3A%201%0A%09%09%7D%29%29%3B%0A%09%09aGBox.collapsed%20%3D%20that._pHideGroupsRow%3B%0A%09%7D%2C%0A%0A%09_setGroup%3A%20function%28aGroupItemID%29%20%7B%0A%09%09try%20%7B%0A%09%09%09let%20currentGroupItem%20%3D%20that.GroupItems.getActiveGroupItem%28%29%3B%0A%09%09%09let%20activateGroupItem%20%3D%20that.GroupItems.groupItem%28aGroupItemID%29%3B%0A%09%09%09window.gBrowser.selectedTab%20%3D%20activateGroupItem._children%5B0%5D.tab%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09that._appendTabsToTabsBox%28document.getElementById%28that._UID%20+%20%22-tabs-box%22%29%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09LOG%28aErr%29%3B%0A%09%09%09return%20false%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09_moveTabToGroupItem%3A%20function%28aTab%2C%20aGroupItemId%2C%20aAvoidUpdate%29%20%7B%0A%09%09if%20%28aTab._tabViewTabItem.parent%20%26%26%20aTab._tabViewTabItem.parent.id%20%3D%3D%3D%20aGroupItemId%29%0A%09%09%09return%3B%0A%09%09let%20shouldUpdateTabBar%20%3D%20false%3B%0A%09%09let%20groupItem%3B%0A%09%09if%20%28aTab.selected%29%20%7B%0A%09%09%09if%20%28gBrowser.visibleTabs.length%20%3E%201%29%20%7B%0A%09%09%09%09gBrowser._blurTab%28aTab%29%3B%0A%09%09%09%09shouldUpdateTabBar%20%3D%20true%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09shouldUpdateTabBar%20%3D%20true%0A%09%09%7D%0A%09%09if%20%28aTab._tabViewTabItem.parent%29%0A%09%09%09aTab._tabViewTabItem.parent.remove%28aTab._tabViewTabItem%29%3B%0A%09%09groupItem%20%3D%20that.GroupItems.groupItem%28aGroupItemId%29%3B%0A%09%09groupItem.add%28aTab._tabViewTabItem%29%3B%0A%09%09if%20%28shouldUpdateTabBar%20%26%26%20%21aAvoidUpdate%29%0A%09%09%09that.GroupItems._updateTabBar%28%29%3B%0A%09%7D%2C%0A%0A%09_appendTabsToTabsBox%3A%20function%28aBox%29%20%7B%0A%09%09let%20panel%20%3D%20that.panel%3B%0A%09%09if%20%28%21panel%29%0A%09%09%09return%20false%3B%0A%09%09if%20%28%21%21panel%20%26%26%20panel.state%20%3D%3D%3D%20%22closed%22%29%0A%09%09%09return%20false%3B%0A%09%09aBox.textContent%20%3D%20%22%22%3B%0A%09%09let%20tabs%20%3D%20gBrowser.visibleTabs%3B%0A%09%09let%20boxWidth%20%3D%20that.panelWidth%20-%2048%3B%0A%09%09let%20btnPerRow%20%3D%20that._pTabsPerRowAuto%20%3F%0A%09%09%09Math.round%28boxWidth%20/%20that._pTabsPerRowAutoWidth%29%20%3A%0A%09%09%09that._pTabsPerRow%3B%0A%09%09let%20colWidth%20%3D%20%28boxWidth%20/%20btnPerRow%29%3B%0A%09%09let%20breakPoint%20%3D%200%3B%0A%09%09let%20tabRow%20%3D%20%5B%5D%3B%0A%09%09let%20pinnedTabs%20%3D%20%5B%5D%3B%0A%0A%09%09let%20grid%20%3D%20aBox.appendChild%28%24CNS%28%22grid%22%2C%20%7B%0A%09%09%09maxwidth%3A%20boxWidth%2C%0A%09%09%09minwidth%3A%20boxWidth%2C%0A%09%09%7D%29%29%3B%0A%0A%09%09let%20cols%20%3D%20grid.appendChild%28%24CNS%28%22columns%22%29%29%3B%0A%0A%09%09while%20%28breakPoint%20%21%3D%3D%20btnPerRow%29%20%7B%0A%09%09%09breakPoint++%3B%0A%09%09%09cols.appendChild%28%24CNS%28%22column%22%2C%20%7B%0A%09%09%09%09flex%3A%201%2C%0A%09%09%09%09width%3A%20colWidth%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%0A%0A%09%09let%20rows%20%3D%20grid.appendChild%28%24CNS%28%22rows%22%29%29%3B%0A%09%09let%20createRow%20%3D%20function%28aArr%29%20%7B%0A%09%09%09let%20row%20%3D%20rows.appendChild%28%24CNS%28%22row%22%29%29%3B%0A%09%09%09let%20i%20%3D%200%2C%0A%09%09%09%09iLen%20%3D%20aArr.length%3B%0A%09%09%09for%20%28%3B%20i%20%3C%20iLen%3B%20i++%29%20%7B%0A%09%09%09%09let%20btn%20%3D%20%24CNS%28%22toolbarbutton%22%2C%20%7B%0A%09%09%09%09%09type%3A%20%22radio%22%2C%0A%09%09%09%09%09context%3A%20%22tabContextMenu%22%2C%0A%09%09%09%09%09autocheck%3A%20false%2C%0A%09%09%09%09%09group%3A%20that._UID%20+%20%22-tabs-radio-group%22%2C%0A%09%09%09%09%09oncontextmenu%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%7D%29%3B%0A%09%09%09%09row.appendChild%28btn%29%3B%0A%09%09%09%09that._setButtonAttributes%28btn%2C%20aArr%5Bi%5D%29%3B%0A%09%09%09%09aArr%5Bi%5D.mCorrespondingMenuitem%20%3D%20btn%3B%0A%09%09%09%09btn.tab%20%3D%20aArr%5Bi%5D%3B%0A%09%09%09%7D%0A%09%09%09if%20%28aArr.length%20%21%3D%3D%20btnPerRow%29%20%7B%0A%09%09%09%09let%20dummies%20%3D%20btnPerRow%20-%20%28aArr.length%20%25%20btnPerRow%20%7C%7C%20btnPerRow%29%3B%0A%09%09%09%09while%20%28dummies%29%20%7B%0A%09%09%09%09%09dummies--%3B%0A%09%09%09%09%09row.appendChild%28%24CNS%28%22toolbaritem%22%2C%20%7B%0A%09%09%09%09%09%09//width%3A%20parseInt%28btnWidth%29%2C%0A%09%09%09%09%09%09dummy%3A%20true%2C%0A%09%09%09%09%09%09disabled%3A%20true%2C%0A%09%09%09%09%09%09image%3A%20%22%22%2C%0A%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%3B%0A%09%09var%20t%20%3D%200%2C%0A%09%09%09tLen%20%3D%20tabs.length%3B%0A%09%09for%20%28%3B%20t%20%3C%20tLen%3B%20t++%29%20%7B%0A%09%09%09if%20%28tabs%5Bt%5D.pinned%29%20%7B%0A%09%09%09%09if%20%28that._pShowPinnedTabs%29%0A%09%09%09%09%09pinnedTabs.push%28tabs%5Bt%5D%29%3B%0A%09%09%09%09continue%3B%0A%09%09%09%7D%0A%09%09%09breakPoint++%3B%0A%09%09%09tabRow.push%28tabs%5Bt%5D%29%3B%0A%09%09%09if%20%28%28tabRow.length%20%3D%3D%3D%20btnPerRow%29%20%7C%7C%20%28t%20+%201%29%20%3D%3D%3D%20tabs.length%29%20%7B%0A%09%09%09%09breakPoint%20%3D%200%3B%0A%09%09%09%09createRow%28tabRow%29%3B%0A%09%09%09%09tabRow%20%3D%20%5B%5D%3B%0A%09%09%09%09continue%3B%0A%09%09%09%7D%0A%09%09%7D%0A%0A%09%09if%20%28pinnedTabs.length%20%3E%200%20%26%26%20that._pShowPinnedTabs%29%20%7B%0A%09%09%09let%20pinBox%20%3D%20aBox.insertBefore%28%24CNS%28%22hbox%22%2C%20%7B%0A%09%09%09%09id%3A%20that._UID%20+%20%22-pinned-tabs-box%22%2C%0A%09%09%09%7D%29%2C%20aBox.childNodes%5B0%5D%29%3B%0A%0A%09%09%09pinBox.appendChild%28%24CNS%28%22spacer%22%2C%20%7B%0A%09%09%09%09flex%3A%201%0A%09%09%09%7D%29%29%3B%0A%0A%09%09%09let%20appendPinnedTab%20%3D%20function%28aPTab%29%20%7B%0A%09%09%09%09let%20btn%20%3D%20pinBox.appendChild%28%24CNS%28%22toolbarbutton%22%2C%20%7B%0A%09%09%09%09%09type%3A%20%22radio%22%2C%0A%09%09%09%09%09context%3A%20%22tabContextMenu%22%2C%0A%09%09%09%09%09autocheck%3A%20false%2C%0A%09%09%09%09%09group%3A%20that._UID%20+%20%22-tabs-radio-group%22%2C%0A%09%09%09%09%09oncontextmenu%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%7D%29%29%3B%0A%09%09%09%09that._setButtonAttributes%28btn%2C%20aPTab%29%3B%0A%09%09%09%09aPTab.mCorrespondingMenuitem%20%3D%20btn%3B%0A%09%09%09%09btn.tab%20%3D%20aPTab%3B%0A%09%09%09%7D%3B%0A%09%09%09var%20p%20%3D%200%2C%0A%09%09%09%09pLen%20%3D%20pinnedTabs.length%3B%0A%09%09%09for%20%28%3B%20p%20%3C%20pLen%3B%20p++%29%20%7B%0A%09%09%09%09appendPinnedTab%28pinnedTabs%5Bp%5D%29%3B%0A%09%09%09%7D%0A%09%09%09pinBox.appendChild%28%24CNS%28%22spacer%22%2C%20%7B%0A%09%09%09%09flex%3A%201%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09tabContainerListener%3A%20function%28aE%29%20%7B%0A%09%09var%20tab%20%3D%20aE.target%3B%0A%09%09var%20btn%20%3D%20tab.mCorrespondingMenuitem%3B%0A%09%09if%20%28that.panel.state%20%21%3D%3D%20%22open%22%20%7C%7C%20that.tooltip.hasAttribute%28%22_open%22%29%29%0A%09%09%09return%20true%3B%0A%09%09switch%20%28aE.type%29%20%7B%0A%09%09%09case%20%22TabAttrModified%22%3A%0A%09%09%09%09if%20%28btn%29%0A%09%09%09%09%09that._setButtonAttributes%28btn%2C%20tab%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20%22TabClose%22%3A%0A%09%09%09case%20%22TabOpen%22%3A%0A%09%09%09case%20%22TabPinned%22%3A%0A%09%09%09case%20%22TabUnpinned%22%3A%0A%09%09%09%09clearTimeout%28that._appendTabsToTabsBoxTimer%29%3B%0A%09%09%09%09that._appendTabsToTabsBoxTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09that._appendButtonsToGroupsBox%28document.getElementById%28that._UID%20+%20%22-tabs-groups-box%22%29%29%3B%0A%09%09%09%09%09that._appendTabsToTabsBox%28document.getElementById%28that._UID%20+%20%22-tabs-box%22%29%29%3B%0A%09%09%09%09%7D%2C%2050%29%3B%0A%09%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09_setButtonAttributes%3A%20function%28aBtn%2C%20aTab%29%20%7B%0A%09%09if%20%28%21aBtn%20%7C%7C%20%21aTab%29%0A%09%09%09return%20true%3B%0A%09%09aBtn.setAttribute%28%22label%22%2C%20aTab.label%29%3B%0A%09%09aBtn.setAttribute%28%22crop%22%2C%20aTab.getAttribute%28%22crop%22%29%29%3B%0A%0A%09%09if%20%28aTab.hasAttribute%28%22busy%22%29%29%0A%09%09%09aBtn.setAttribute%28%22image%22%2C%20%22chrome%3A//global/skin/icons/loading_16.png%22%29%3B%0A%09%09else%0A%09%09%09aBtn.setAttribute%28%22image%22%2C%20aTab.getAttribute%28%22image%22%29%20%7C%7C%20%22chrome%3A//branding/content/icon16.png%22%29%3B%0A%0A%09%09if%20%28aTab.hasAttribute%28%22pending%22%29%29%0A%09%09%09aBtn.setAttribute%28%22pending%22%2C%20aTab.getAttribute%28%22pending%22%29%29%3B%0A%09%09else%0A%09%09%09aBtn.removeAttribute%28%22pending%22%29%3B%0A%0A%09%09if%20%28aTab.selected%29%0A%09%09%09aBtn.setAttribute%28%22checked%22%2C%20%22true%22%29%3B%0A%09%09else%0A%09%09%09aBtn.removeAttribute%28%22checked%22%29%3B%0A%0A%09%09if%20%28aTab.hasAttribute%28%22pinned%22%29%29%0A%09%09%09aBtn.setAttribute%28%22pinned%22%2C%20true%29%3B%0A%09%09else%0A%09%09%09aBtn.removeAttribute%28%22pinned%22%29%3B%0A%0A%09%09if%20%28aTab.hasAttribute%28%22muted%22%29%29%0A%09%09%09aBtn.setAttribute%28%22muted%22%2C%20true%29%3B%0A%09%09else%20if%20%28aTab.hasAttribute%28%22soundplaying%22%29%29%0A%09%09%09aBtn.setAttribute%28%22soundplaying%22%2C%20true%29%3B%0A%09%09else%20%7B%0A%09%09%09aBtn.removeAttribute%28%22muted%22%29%3B%0A%09%09%09aBtn.removeAttribute%28%22soundplaying%22%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09CSSLoader%3A%20function%28%29%20%7B%0A%09%09let%20css%20%3D%20%22@namespace%20url%28%22%20+%20xulns%20+%20%22%29%3B%5Cn%22%20+%20getHelp%28%22StyleSheet%22%29%0A%09%09%09.replace%28/_U_I_D_/g%2C%20that._UID%29%0A%09%09%09.replace%28/_I_C_O_N_S_I_Z_E_/g%2C%20that._pMaxIconSize%29%0A%09%09%09.replace%28/_S_E_L_F_I_D_/g%2C%20self.id%29%3B%0A%09%09if%20%28%21window%5Bthat._UID%5D%5B%22StyleSheet%22%5D%29%20%7B%0A%09%09%09window%5Bthat._UID%5D%5B%22StyleSheet%22%5D%20%3D%20css%3B%0A%09%09%09styleSheet%28css%29%3B%0A%09%09%7D%20else%20if%20%28window%5Bthat._UID%5D%5B%22StyleSheet%22%5D%20%26%26%20window%5Bthat._UID%5D%5B%22StyleSheet%22%5D%20%21%3D%3D%20css%29%20%7B%0A%09%09%09styleSheet%28window%5Bthat._UID%5D%5B%22StyleSheet%22%5D%2C%20true%29%3B%0A%09%09%09window%5Bthat._UID%5D%5B%22StyleSheet%22%5D%20%3D%20css%3B%0A%09%09%09styleSheet%28css%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09_handleInvertedImages%3A%20function%28%29%20%7B%0A%09%09let%20invImg%20%3D%20document.getElementsByClassName%28%22marked-for-invertion%22%29%3B%0A%09%09for%20%28let%20i%20%3D%200%3B%20i%20%3C%20invImg.length%3B%20i++%29%0A%09%09%09invImg%5Bi%5D.classList%5Bthat._pInvertDarkIcons%20%3F%20%22add%22%20%3A%20%22remove%22%5D%28%22inverted-color-for-this-image%22%29%3B%0A%09%7D%2C%0A%0A%09DragAndDropHandler%3A%20%7B%0A%09%09onDragStart%3A%20function%28aE%29%20%7B%0A%09%09%09this._ensureTTClosing%28%29%3B%0A%09%09%09if%20%28%21this._isDraggable%28aE.target%29%29%0A%09%09%09%09return%20false%3B%0A%09%09%09aE.dataTransfer.setData%28%22text/plain%22%2C%20aE.target.tab._tPos%29%3B%0A%09%09%09aE.dataTransfer.effectAllowed%20%3D%20%22copy%22%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09_ensureTTClosing%3A%20function%28%29%20%7B%0A%09%09%09clearTimeout%28that._hoverOpenPreviewTimer%29%3B%0A%09%09%09that.tooltip.hidePopup%28%29%3B%0A%09%09%09that._prevDoNotAllow%20%3D%20true%3B%0A%09%09%7D%2C%0A%0A%09%09_isDraggable%3A%20function%28aNode%29%20%7B%0A%09%09%09return%20aNode.localName%20%3D%3D%3D%20%22toolbarbutton%22%20%26%26%20%21aNode.hasAttribute%28%22dummy%22%29%3B%0A%09%09%7D%2C%0A%0A%09%09onDragOver%3A%20function%28aE%29%20%7B%0A%09%09%09this._ensureTTClosing%28%29%3B%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09onDrop%3A%20function%28aE%29%20%7B%0A%09%09%09this._ensureTTClosing%28%29%3B%0A%09%09%09if%20%28%21this._isDraggable%28aE.target%29%29%0A%09%09%09%09return%20false%3B%0A%09%09%09let%20tabIndex%20%3D%20parseInt%28aE.dataTransfer.getData%28%22text/plain%22%29%2C%2010%29%3B%0A%09%09%09if%20%28aE.composedTarget.hasAttribute%28%22groupid%22%29%29%20%7B%0A%09%09%09%09let%20gID%20%3D%20aE.composedTarget.getAttribute%28%22groupid%22%29%3B%0A%09%09%09%09if%20%28that.GroupItems._activeGroupItem._children.length%20%3D%3D%3D%201%29%0A%09%09%09%09%09that._setGroup%28gID%29%3B%0A%09%09%09%09//%20Had%20to%20use%20a%20custom%20_moveTabToGroupItem%20function%20because%20the%20built%20in%20messes%20up%20tab%20ordering.%20%AC%AC%0A%09%09%09%09let%20selTabs%20%3D%20that.selectedTabs%3B%0A%09%09%09%09if%20%28selTabs.length%20%3E%3D%201%29%20%7B%0A%09%09%09%09%09for%20%28let%20i%20%3D%20selTabs.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%0A%09%09%09%09%09%09that._moveTabToGroupItem%28gBrowser.mTabContainer.children%5BselTabs%5Bi%5D.tab._tPos%5D%2C%20parseInt%28gID%2C%2010%29%29%3B%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09that._moveTabToGroupItem%28gBrowser.mTabContainer.children%5BtabIndex%5D%2C%20parseInt%28gID%2C%2010%29%29%3B%0A%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09that._appendButtonsToGroupsBox%28document.getElementById%28that._UID%20+%20%22-tabs-groups-box%22%29%29%3B%0A%09%09%09%09%7D%2C%2010%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09let%20targetTab%20%3D%20aE.composedTarget.tab%3B%0A%09%09%09%09if%20%28targetTab%29%20%7B%0A%09%09%09%09%09if%20%28tabIndex%20%3D%3D%3D%20targetTab._tPos%29%0A%09%09%09%09%09%09return%20false%3B%0A%09%09%09%09%09gBrowser.moveTabTo%28gBrowser.mTabContainer.children%5BtabIndex%5D%2C%20targetTab._tPos%29%3B%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09return%20false%3B%0A%09%09%09%7D%0A%09%09%09clearTimeout%28that._appendTabsToTabsBoxTimer%29%3B%0A%09%09%09that._appendTabsToTabsBoxTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09that._appendTabsToTabsBox%28document.getElementById%28that._UID%20+%20%22-tabs-box%22%29%29%3B%0A%09%09%09%09that.GroupItems.saveAll%28%29%3B%0A%09%09%09%09that._prevDoNotAllow%20%3D%20false%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09OnHotSpotMouseOver%3A%20function%28aE%29%20%7B%0A%09%09clearTimeout%28that._hoverOpenMainPanelTimer%29%3B%0A%09%09that._hoverOpenMainPanelTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09that.panel.openPopup%28that.panelAnchor%2C%20that.panelPosition%2C%200%2C%20that._pVerticalOffset%2C%20false%2C%20false%2C%20null%29%3B%0A%09%09%7D%2C%20that._pOpenOnHoverDelay%29%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%0A%09%7D%2C%0A%0A%09OnHotSpotMouseOut%3A%20function%28aE%29%20%7B%0A%09%09if%20%28%21that.panel.hasAttribute%28%22_open%22%29%29%0A%09%09%09clearTimeout%28that._hoverOpenMainPanelTimer%29%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%2C%0A%0A%09HandleHotSpots%3A%20function%28aRem%29%20%7B%0A%09%09let%20curHP%20%3D%20window%5Bthat._UID%5D%5B%22ListOfHotSpots%22%5D%3B%0A%09%09if%20%28curHP%20%26%26%20curHP.length%20%3E%200%29%20%7B%0A%09%09%09curHP.forEach%28function%28aHPID%29%20%7B%0A%09%09%09%09let%20el%20%3D%20document.getElementById%28aHPID%29%3B%0A%09%09%09%09el%20%26%26%20el.removeEventListener%28%22mouseover%22%2C%20that.OnHotSpotMouseOver%2C%20false%29%3B%0A%09%09%09%09el%20%26%26%20el.removeEventListener%28%22mouseout%22%2C%20that.OnHotSpotMouseOut%2C%20false%29%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%0A%09%09if%20%28aRem%29%0A%09%09%09return%3B%0A%09%09let%20HPs%20%3D%20that.gPref%28%22PanelListOfHotSpotsIDs%22%29.split%28%22%2C%22%29.filter%28function%28aVal%29%20%7B%0A%09%09%09if%20%28aVal%20%21%3D%3D%20%22%22%29%0A%09%09%09%09return%20true%3B%0A%09%09%7D%29%3B%0A%09%09if%20%28HPs%20%26%26%20HPs.length%20%3E%200%29%20%7B%0A%09%09%09window%5Bthat._UID%5D%5B%22ListOfHotSpots%22%5D%20%3D%20HPs%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09window%5Bthat._UID%5D%5B%22ListOfHotSpots%22%5D.forEach%28function%28aHPID%29%20%7B%0A%09%09%09%09%09let%20el%20%3D%20document.getElementById%28aHPID%29%3B%0A%09%09%09%09%09el%20%26%26%20el.addEventListener%28%22mouseover%22%2C%20that.OnHotSpotMouseOver%2C%20false%29%3B%0A%09%09%09%09%09el%20%26%26%20el.addEventListener%28%22mouseout%22%2C%20that.OnHotSpotMouseOut%2C%20false%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%2C%2010%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09HandlePrefListener%3A%20function%28aRem%29%20%7B%20//%20Can%27t%20add%20obs.%20to%20brach%20in%20here.%0A%09%09var%20prefs%20%3D%20that.DefPrefs%3B%0A%09%09for%20%28let%20key%20in%20prefs%29%20%7B%0A%09%09%09let%20pref%20%3D%20that.Branch%20+%20key%3B%0A%09%09%09if%20%28prefs.hasOwnProperty%28key%29%29%20%7B%0A%09%09%09%09if%20%28aRem%29%0A%09%09%09%09%09Services.prefs.removeObserver%28pref%2C%20that.PrefListener%29%3B%0A%09%09%09%09else%0A%09%09%09%09%09Services.prefs.addObserver%28pref%2C%20that.PrefListener%2C%20false%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%0A%09PrefListener%3A%20%7B%0A%09%09observe%3A%20function%28aSubject%2C%20aTopic%2C%20aPStr%29%20%7B%20//%20aPStr%20is%20the%20pref.%20name%20minus%20the%20branch%20name.%0A%09%09%09if%20%28aTopic%20%3D%3D%3D%20%22nsPref%3Achanged%22%29%20%7B%0A%09%09%09%09switch%20%28aPStr.slice%28that.Branch.length%29%29%20%7B%0A%09%09%09%09%09case%20%22ButtonImage%22%3A%0A%09%09%09%09%09%09_setSelfImage%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelKeepItOpen%22%3A%0A%09%09%09%09%09%09that._cleanSlate%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelInvertDarkIcons%22%3A%0A%09%09%09%09%09%09that._pInvertDarkIcons%20%3D%20that.gPref%28%22PanelInvertDarkIcons%22%29%3B%0A%09%09%09%09%09%09that._handleInvertedImages%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelHideGroupsRow%22%3A%0A%09%09%09%09%09%09that._pHideGroupsRow%20%3D%20that.gPref%28%22PanelHideGroupsRow%22%29%3B%0A%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09that.PanelFunctions.HandleGroupsElements%28%29%3B%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09case%20%22PanelButtonGroupsPerRow%22%3A%0A%09%09%09%09%09%09that._pGroupsPerRow%20%3D%20that.gPref%28%22PanelButtonGroupsPerRow%22%29%3B%0A%09%09%09%09%09%09that._appendButtonsToGroupsBox%28document.getElementById%28that._UID%20+%20%22-tabs-groups-box%22%29%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewShowDelay%22%3A%0A%09%09%09%09%09%09that._prevShowDelay%20%3D%20that.gPref%28%22TabPreviewShowDelay%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewHeight%22%3A%0A%09%09%09%09%09%09that._prevHeight%20%3D%20that.gPref%28%22TabPreviewHeight%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewWidth%22%3A%0A%09%09%09%09%09%09that._prevWidth%20%3D%20that.gPref%28%22TabPreviewWidth%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewZoomFactor%22%3A%0A%09%09%09%09%09%09that._prevZoomFactor%20%3D%20that.gPref%28%22TabPreviewZoomFactor%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewAutomaticSize%22%3A%0A%09%09%09%09%09%09that._prevAutomaticSize%20%3D%20that.gPref%28%22TabPreviewAutomaticSize%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewAutomaticSizePercentage%22%3A%0A%09%09%09%09%09%09that._prevAutomaticSizePercentage%20%3D%20that.gPref%28%22TabPreviewAutomaticSizePercentage%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewLoadUnloadedTabs%22%3A%0A%09%09%09%09%09%09that._prevLoadUnloadedTabs%20%3D%20that.gPref%28%22TabPreviewLoadUnloadedTabs%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewRequireControlKey%22%3A%0A%09%09%09%09%09%09that._prevRequireControlKey%20%3D%20that.gPref%28%22TabPreviewRequireControlKey%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelMiddleClickOnTabAction%22%3A%0A%09%09%09%09%09%09that._pMiddleClickOnTabAction%20%3D%20that.gPref%28%22PanelMiddleClickOnTabAction%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewSendScroll%22%3A%0A%09%09%09%09%09%09let%20TPSSval%20%3D%20that.gPref%28%22TabPreviewSendScroll%22%29%3B%0A%09%09%09%09%09%09that._prevSendScroll%20%3D%20TPSSval%3B%0A%09%09%09%09%09%09let%20TPSSaddRem%20%3D%20TPSSval%20%3F%20%22addEventListener%22%20%3A%20%22removeEventListener%22%3B%0A%09%09%09%09%09%09that.canvas%5BTPSSaddRem%5D%28%22DOMMouseScroll%22%2C%20that.PreviewFunctions.OnDOMScroll%2C%20false%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewSendClicks%22%3A%0A%09%09%09%09%09%09let%20TPSCval%20%3D%20that.gPref%28%22TabPreviewSendClicks%22%29%3B%0A%09%09%09%09%09%09that._prevSendClicks%20%3D%20TPSCval%3B%0A%09%09%09%09%09%09let%20TPSCaddRem%20%3D%20TPSCval%20%3F%20%22addEventListener%22%20%3A%20%22removeEventListener%22%3B%0A%09%09%09%09%09%09that.canvas%5BTPSCaddRem%5D%28%22click%22%2C%20that.PreviewFunctions.OnClick%2C%20true%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22TabPreviewEnabled%22%3A%0A%09%09%09%09%09case%20%22TabPreviewShowToolbar%22%3A%0A%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09that._prevEnabled%20%3D%20that.gPref%28%22TabPreviewEnabled%22%29%3B%0A%09%09%09%09%09%09%09that._prevShowToolbar%20%3D%20that.gPref%28%22TabPreviewShowToolbar%22%29%3B%0A%09%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09%09let%20val%20%3D%20%21%21that._prevShowToolbar%20%7C%7C%20%21%21that._prevEnabled%20%7C%7C%20false%3B%0A%09%09%09%09%09%09%09%09that._tooltipAllowHovering%20%3D%20val%3B%0A%09%09%09%09%09%09%09%7D%2C%2010%29%3B%0A%09%09%09%09%09%09%7D%2C%2010%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelOpenOnHover%22%3A%0A%09%09%09%09%09case%20%22PanelOpenOnHoverDelay%22%3A%0A%09%09%09%09%09%09that.HandleOpenOnHover%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22MaxIconSizeForTabButtonsInPanel%22%3A%0A%09%09%09%09%09%09that.CSSLoader%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelVerticalOffset%22%3A%20//%20Destroy%20the%20freaking%20entire%20button%20so%20the%20vertical%20offset%20is%20respected.%20%AC%AC%0A%09%09%09%09%09%09that._pVerticalOffset%20%3D%20that.gPref%28%22PanelVerticalOffset%22%29%3B%0A%09%09%09%09%09%09if%20%28%21window%5Bthat._UID%5D%5B%22SelfDestroyerListener%22%5D%29%20%7B%0A%09%09%09%09%09%09%09window%5Bthat._UID%5D%5B%22SelfDestroyerListener%22%5D%20%3D%20true%3B%0A%09%09%09%09%09%09%09that.panel.addEventListener%28%22popuphidden%22%2C%20function%20_%28aE%29%20%7B%0A%09%09%09%09%09%09%09%09this.removeEventListener%28%22popuphidden%22%2C%20_%2C%20false%29%3B%0A%09%09%09%09%09%09%09%09window%5Bthat._UID%5D%5B%22SelfDestroyerListener%22%5D%20%3D%20false%3B%0A%09%09%09%09%09%09%09%09that._cleanSlate%28%29%3B%0A%09%09%09%09%09%09%09%7D%2C%20false%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelButtonTabsPerRowAuto%22%3A%0A%09%09%09%09%09%09that._pTabsPerRowAuto%20%3D%20that.gPref%28%22PanelButtonTabsPerRowAuto%22%29%3B%0A%09%09%09%09%09case%20%22PanelButtonTabsPerRowAutoWidth%22%3A%0A%09%09%09%09%09%09that._pTabsPerRowAutoWidth%20%3D%20that.gPref%28%22PanelButtonTabsPerRowAutoWidth%22%29%3B%0A%09%09%09%09%09case%20%22PanelShowPinnedTabs%22%3A%0A%09%09%09%09%09%09that._pShowPinnedTabs%20%3D%20that.gPref%28%22PanelShowPinnedTabs%22%29%3B%0A%09%09%09%09%09case%20%22PanelButtonTabsPerRow%22%3A%0A%09%09%09%09%09%09that._pTabsPerRow%20%3D%20that.gPref%28%22PanelButtonTabsPerRow%22%29%3B%0A%09%09%09%09%09%09clearTimeout%28that._appendTabsToTabsBoxTimer%29%3B%0A%09%09%09%09%09%09that._appendTabsToTabsBoxTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09that._appendTabsToTabsBox%28document.getElementById%28that._UID%20+%20%22-tabs-box%22%29%29%3B%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelSelectTabOnHover%22%3A%0A%09%09%09%09%09%09that._selectTabOnHover%20%3D%20that.gPref%28%22PanelSelectTabOnHover%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22PanelSelectTabOnHoverDelay%22%3A%0A%09%09%09%09%09%09that._selectTabOnHoverDelay%20%3D%20that.gPref%28%22PanelSelectTabOnHoverDelay%22%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%0A%09_cleanSlate%3A%20function%28%29%20%7B%0A%09%09clearTimeout%28that._cleanSlateTimer%29%3B%0A%09%09that._cleanSlateTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09self.destroy%28%22update%22%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09self.init%28%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%7D%2C%0A%7D%3B%0A%0Athis.TabsManager.Branch%20%3D%20%22CB.TabsManager.Id%22%20+%20self.id.slice%2820%29%20+%20%22.%22%3B%0A%0Athis.TabsManager.gPref%20%3D%20function%28aKey%29%20%7B%0A%09let%20branch%20%3D%20Services.prefs.getBranch%28that.Branch%29%3B%0A%09switch%20%28typeof%20that.DefPrefs%5BaKey%5D%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09return%20branch.getBoolPref%28aKey%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09return%20branch.getIntPref%28aKey%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09return%20branch.getComplexValue%28aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09%09break%3B%0A%09%7D%0A%09return%20null%3B%0A%7D%3B%0A%0Athis.TabsManager.sPref%20%3D%20function%28aKey%2C%20aVal%29%20%7B%0A%09let%20branch%20%3D%20Services.prefs.getBranch%28that.Branch%29%3B%0A%09switch%20%28typeof%20aVal%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09branch.setBoolPref%28aKey%2C%20aVal%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09branch.setIntPref%28aKey%2C%20aVal%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09str.data%20%3D%20aVal%3B%0A%09%09%09branch.setComplexValue%28%28aKey%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09break%3B%0A%09%7D%0A%7D%3B%0A%0Athis.TabsManager.InitPrefs%20%3D%20function%28%29%20%7B%0A%09let%20branch%20%3D%20Services.prefs.getDefaultBranch%28that.Branch%29%2C%0A%09%09defaults%20%3D%20that.DefPrefs%3B%0A%09for%20%28let%20key%20in%20defaults%29%20%7B%0A%09%09if%20%28defaults.hasOwnProperty%28key%29%29%20%7B%0A%09%09%09let%20val%20%3D%20defaults%5Bkey%5D%3B%0A%09%09%09switch%20%28typeof%20val%29%20%7B%0A%09%09%09%09case%20%22boolean%22%3A%0A%09%09%09%09%09branch.setBoolPref%28key%2C%20val%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22number%22%3A%0A%09%09%09%09%09branch.setIntPref%28key%2C%20val%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22string%22%3A%0A%09%09%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09%09%09str.data%20%3D%20val%3B%0A%09%09%09%09%09branch.setComplexValue%28%28key%29%2C%0A%09%09%09%09%09%09Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Afunction%20_setSelfImage%28%29%20%7B%0A%09switch%20%28that.gPref%28%22ButtonImage%22%29%29%20%7B%0A%09%09case%201%3A%20//%20Dark%20image%0A%09%09%09self.image%20%3D%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACJ0%22%20+%0A%09%09%09%09%22lEQVQ4jZ2Tz6sSURTHR19tqlVBPwkif4w7mWajOIPMnasIMw7+uv6a+SvaTZugXYLLeLMoo40LiWgjIoh%22%20+%0A%09%09%09%09%22v4cKNzujT9/JZBIFRCE6z0e1tozKpFXXgsznc7+ecxbkEsVMYY8ca5w6bvmM3Yw9fqdVqZLlcpkql0iM7%22%20+%0A%09%09%09%09%225XKZqlarPozx1d+FHZVK5aHP53vndru/ezyeH3ZcLtc3kiTfa5rmwRg7Dwkux2KxxzRNTwAAw0gkYtjQe%22%20+%0A%09%09%09%09%22Z4f0zR9wfP8E4zxpU3mlw0ghC8ghOepVGqYSCRO4/H4OB6Pj5PJ5DCTyXwGAAx5ntdsmVt2wVEoFHotiu%22%20+%0A%09%09%09%09%22IXWZY/FAqFaaFQuFgzlWV5Eo1GDYZh3tg2uLMVNJvNmwzD1ERRPC8Wi/ohBEEYhEKht/V6/faeQFVVNhw%22%20+%0A%09%09%09%09%22On4ii2C8Wi8YhJEnSw+Hwiaqq7FaAMb6GMb4OAHgKABil0+nJeuKeIJFI6ACAMcdxz2az2Q2M8X2i2+0+%22%20+%0A%09%09%09%09%228Pv9LwOBQF8QhBFC6HQTkGXZkGV5K0in07ogCKNgMKj7/f5XvV7PRTQaDZKiqLkkSWcIISObzfbz+byey%22%20+%0A%09%09%09%09%22+UMhNAAITTI5XLGuqcjhAxJks4oiprX63Uv0W63SZZl54qi9BVF0e1sJu/2FUXpsyw7b7VaXqLT6XghhD%22%20+%0A%09%09%09%09%22OO4z5BCKcQwo9/Ybp++7XT6XiJ5XJ51zTN55ZlaZZlHZum+Ucsyzq2LEtbLBal1Wp1b3NETozx0T+y/x/%22%20+%0A%09%09%09%09%22+p34Ccs6yiWZsYJoAAAAASUVORK5CYII%3D%22%3B%0A%09%09%09break%3B%0A%09%09case%202%3A%20//%20Light%20image%0A%09%09%09self.image%20%3D%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAsk%22%20+%0A%09%09%09%09%22lEQVQ4jWNgGJQgNCr+f2Jq1v/45PT/8cnp/xNTs/6HRsX/J0rzlBmz/+MCM2fPI2zI6TNncRpw+sxZwgb%22%20+%0A%09%09%09%09%22cuXsPpwF37t4jbMCbN29xGvDmzVv8BhSXV///9v07TgO+ff/+v7i8GrchK1etxakZBlauWovdgNVrN/zH%22%20+%0A%09%09%09%09%2253xkb6zftAXVEAMzG4Ia0YGBmQ3CEDNrR5INMLN2/E89FzAwMDDom1j9NzCzIQrrm1gRl6zpAgA/Aaw4c%22%20+%0A%09%09%09%09%22JqIzQAAAABJRU5ErkJggg%3D%3D%22%3B%0A%09%09%09break%3B%0A%09%09default%3A%0A%09%09%09self.removeAttribute%28%22image%22%29%3B%0A%09%09%09return%20true%3B%0A%09%7D%0A%7D%0A%0Afunction%20%24CNS%28aElName%2C%20aAttrs%2C%20aNS%29%20%7B%0A%09var%20el%20%3D%20document.createElementNS%28%28aNS%20%3F%20aNS%20%3A%20xulns%29%2C%20aElName%29%3B%0A%09if%20%28aAttrs%29%0A%09%09Object.keys%28aAttrs%29.forEach%28function%28n%29%20%7B%0A%09%09%09if%20%28aAttrs%5Bn%5D%20%21%3D%3D%20%22%22%29%0A%09%09%09%09el.setAttribute%28n%2C%20aAttrs%5Bn%5D%29%0A%09%09%7D%29%3B%0A%09return%20el%3B%0A%7D%0A%0Afunction%20getHelp%28aPlaceholder%29%20%7B%20//%20Get%20specific%20data%2C%20surrounded%20by%20%22placeholders%22%2C%20from%20the%20Help%20tab.%0A%09return%20document.getElementById%28self.id%29.getAttribute%28%22Help%22%29.split%28%22%3C%21--%22%20+%20aPlaceholder%20+%20%22--%3E%22%29%5B1%5D%3B%0A%7D%0A%0Afunction%20parseXML%28aXML%29%20%7B%20//%20Return%20parsed%20XML%0A%09aXML%20%3D%20aXML.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%20//%20Linearize%20XML%0A%09return%20%28new%20DOMParser%29.parseFromString%28aXML%2C%20%22application/xml%22%29.documentElement%3B%0A%7D%0A%0Afunction%20promptme%28aMsg%2C%20aVal%29%20%7B%0A%09let%20retVal%20%3D%20%7B%0A%09%09value%3A%20aVal%0A%09%7D%3B%0A%09if%20%28Services.prompt.prompt%28null%2C%20self.name%2C%20aMsg%2C%20retVal%2C%20null%2C%20%7B%7D%29%29%0A%09%09return%20retVal.value%3B%0A%09else%0A%09%09return%20false%3B%0A%09return%20false%3B%0A%7D%0A%0Afunction%20styleSheet%28aCSS%2C%20aRemFlag%29%20%7B%0A%09var%20sss%20%3D%20Cc%5B%22@mozilla.org/content/style-sheet-service%3B1%22%5D.getService%28Ci.nsIStyleSheetService%29%3B%0A%09var%20uri%20%3D%20Services.io.newURI%28%22data%3Atext/css%2C%22%20+%20encodeURIComponent%28aCSS%29%2C%20null%2C%20null%29%3B%0A%09if%20%28sss.sheetRegistered%28uri%2C%20sss.USER_SHEET%29%29%0A%09%09sss.unregisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%09if%20%28aRemFlag%29%0A%09%09return%3B%0A%09sss.loadAndRegisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%7D%0A%0Athis.TabsManager.DefPrefs%20%3D%20%7B%0A%09ButtonImage%3A%202%2C%0A%09MaxIconSizeForTabButtonsInPanel%3A%2018%2C%0A%09OpenOptionsInTab%3A%20true%2C%0A%09PanelButtonGroupsPerRow%3A%208%2C%0A%09PanelButtonTabsPerRow%3A%2010%2C%0A%09PanelButtonTabsPerRowAuto%3A%20true%2C%0A%09PanelButtonTabsPerRowAutoWidth%3A%20120%2C%0A%09PanelHideGroupsRow%3A%20false%2C%0A%09PanelInvertDarkIcons%3A%20false%2C%0A%09PanelKeepItOpen%3A%20false%2C%0A%09PanelListOfHotSpotsIDs%3A%20%22%22%2C%0A%09PanelMiddleClickOnTabAction%3A%201%2C%0A%09PanelOpenOnHover%3A%20false%2C%0A%09PanelOpenOnHoverDelay%3A%20200%2C%0A%09PanelSelectTabOnHover%3A%20false%2C%0A%09PanelSelectTabOnHoverDelay%3A%20200%2C%0A%09PanelShowPinnedTabs%3A%20false%2C%0A%09PanelVerticalOffset%3A%2032%2C%0A%09TabPreviewEnabled%3A%20true%2C%0A%09TabPreviewLoadUnloadedTabs%3A%20true%2C%0A%09TabPreviewAutomaticSize%3A%20true%2C%0A%09TabPreviewAutomaticSizePercentage%3A%2030%2C%0A%09TabPreviewRequireControlKey%3A%20false%2C%0A%09TabPreviewSendClicks%3A%20true%2C%0A%09TabPreviewSendScroll%3A%20true%2C%0A%09TabPreviewShowDelay%3A%20200%2C%0A%09TabPreviewShowToolbar%3A%20true%2C%0A%09TabPreviewWidth%3A%20360%2C%0A%09TabPreviewHeight%3A%20225%2C%0A%09TabPreviewZoomFactor%3A%20100%2C%0A%7D%3B%0A%0Athis.TabsManager.Init%28%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%28%21event.target%20%26%26%20%21this.disabled%29%0A%09this.TabsManager.togglePanel%28%29%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5BInside%20the%20Help%20tab%20of%20this%20button%20can%20be%20found%20the%20CSS%20style%20sheet%20to%20customize%20the%20appearance%20of%20every%20part%20of%20the%20elements%20created%20by%20this%20button.%0A%0A%5B%2C%5D%0A%3C%21--StyleSheet--%3E%0A/*%20Groups%20context%20menu%20image%20-%20Delete%20menu%20item%20*/%0A%0A%0A%0A/*%20FROM%20THIS%20POINT%20DOWN%20DO%20NOT%20TOUCH%20ANYTHING%20UNLESS%20YOU%20KNOW%20WHAT%20YOU%20ARE%20DOING%21%21%21%20*/%0A/*%20The%20tab%20item%20in%20the%20main%20panel%20when%20the%20tab%20is%20selected%20*/%0A%23_U_I_D_-main-panel%20toolbarbutton%5Bchecked%3D%22true%22%5D%20%7B%0A%09font-weight%3A%20600%20%21important%3B%0A%7D%0A/*%20Toolbarbuttons%20looking%20like%20buttons.%20*/%0A%23_U_I_D_-main-panel%20toolbarbutton%20%7B%0A%09-moz-appearance%3A%20button%20%21important%3B%0A%09padding%3A%201px%20%21important%3B%0A%7D%0A/*%20Show%20toolbarbutton%20label%20and%20align%20it%20to%20its%20icon%20*/%0A%23_U_I_D_-main-panel%20toolbarbutton%20.toolbarbutton-text%20%7B%0A%09display%3A%20inline-block%20%21important%3B%0A%09text-align%3A%20left%20%21important%3B%0A%7D%0A/*%20Image%20for%20tab%20items%20with%20mutted%20sound%20*/%0A%23_U_I_D_-main-panel%20toolbarbutton%5Bmutted%5D%3Aafter%20%7B%0A%09/*content%3A%20url%28%22chrome%3A//browser/skin/tabbrowser/tab-audio.svg%23tab-audio-muted-white%22%29%20%21important%3B*/%20/*%20Light%20icon%20*/%0A%09content%3A%20url%28%22chrome%3A//browser/skin/tabbrowser/tab-audio.svg%23tab-audio-muted%22%29%20%21important%3B%20/*%20Dark%20icon%20*/%0A%09display%3A%20block%20%21important%3B%0A%09clear%3A%20both%20%21important%3B%0A%09position%3A%20absolute%20%21important%3B%0A%7D%0A/*%20Image%20for%20tab%20items%20with%20sound%20playing%20*/%0A%23_U_I_D_-main-panel%20toolbarbutton%5Bsoundplaying%5D%3Aafter%20%7B%0A%09/*content%3A%20url%28%22chrome%3A//browser/skin/tabbrowser/tab-audio.svg%23tab-audio-white%22%29%20%21important%3B*/%20/*%20Light%20icon%20*/%0A%09content%3A%20url%28%22chrome%3A//browser/skin/tabbrowser/tab-audio.svg%23tab-audio%22%29%20%21important%3B%20/*%20Dark%20icon%20*/%0A%09display%3A%20block%20%21important%3B%0A%09clear%3A%20both%20%21important%3B%0A%09position%3A%20absolute%20%21important%3B%0A%7D%0A/*%20Pinned%20tab%20items%20*/%0A%0A%23_U_I_D_-pinned-tabs-box%20toolbarbutton%20.toolbarbutton-text%20%7B%0A%09display%3A%20none%20%21important%3B%0A%7D%0A/*%20Hide%20image%20from%20groups%20toolbarbuttons%20because%20there%20is%20none%20applied%20and%20%22we%20need%22%20the%20space%20*/%0A%23_U_I_D_-tabs-groups-box%20.tabs-groups-button%20.toolbarbutton-icon%20%7B%0A%09display%3A%20none%20%21important%3B%0A%7D%0A/*%20Just%20some%20padding%20for%20the%20tab%20items%20container%20*/%0A%23_U_I_D_-tabs-box%20%7B%0A%09padding%3A%205px%20%21important%3B%0A%7D%0A/*%20Style%20for%20%22multi%20selected%22%20tabs%20buttons%20*/%0A%23tabContextMenu%20menuitem%5B_multisel%3D%22true%22%5D%2C%0A%23_U_I_D_-tabs-box%20toolbarbutton%5B_multisel%3D%22true%22%5D%20%7B%0A%09color%3A%20orange%20%21important%3B%0A%09text-shadow%3A%201px%200px%200px%20orange%20%21important%3B%0A%09box-shadow%3A%200%200%202px%200%20orange%20%21important%3B%0A%7D%0A/*%20Fixed%20size%20for%20buttons%20images%20*/%0A/*%20DO%20NOT%20TOUCH%20THIS%21%21%21%20It%27s%20used%20by%20the%20option%20called%20%22MaxIconSizeForTabButtonsInPanel%22%20*/%0A%23_U_I_D_-tabs-box%20.toolbarbutton-icon%20%7B%0A%09min-width%3A%20_I_C_O_N_S_I_Z_E_px%20%21important%3B%0A%09min-height%3A%20_I_C_O_N_S_I_Z_E_px%20%21important%3B%0A%09max-width%3A%20_I_C_O_N_S_I_Z_E_px%20%21important%3B%0A%09max-height%3A%20_I_C_O_N_S_I_Z_E_px%20%21important%3B%0A%7D%0A/*%20Filter%20to%20%22invert%22%20the%20color%20of%20some%20icons%20*/%0A/*%23_S_E_L_F_I_D_%20.toolbarbutton-icon%2C*/%20/*%20Comment/delete%20this%20line%20to%20remove%20%22color%20reversal%22%20for%20this%20button%20image.%20*/%0A%23_U_I_D_-tabs-preview-toolbar%20toolbarbutton%3Anot%28%5B_active%3D%22true%22%5D%29.inverted-color-for-this-image%20.toolbarbutton-icon%20%2C%20/*%20The%20toolbar%20button%20icons%20from%20the%20tab%20preview%20toolbar%20*/%0Amenuitem.inverted-color-for-this-image%20.menu-iconic-icon%20%2C%0A%23_U_I_D_-main-panel%20toolbarbutton%3Anot%28%23_U_I_D_-reset-groups-button%29.inverted-color-for-this-image%20.toolbarbutton-icon%20%7B%0A%09filter%3A%20var%28--tabs-manager-css-filter-white%29%3B%0A%7D%0A%23_U_I_D_-tabs-preview-toolbar%20toolbarbutton%5B_active%3D%22true%22%5D%20.toolbarbutton-icon%20%7B%0A%09filter%3A%20none%20%21important%3B%0A%7D%0A/*%20Tab%20preview%20tweaks%20*/%0A/*%20The%20entire%20tab%20preview%20panel%20*/%0A%23_U_I_D_-tabs-box-tooltip%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09border-radius%3A%205px%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%09/*background-color%3A%20-moz-Dialog%20%21important%3B%0A%09color%3A%20-moz-DialogText%20%21important%3B*/%0A%09/*background-color%3A%20Highlight%20%21important%3B%0A%09color%3A%20HighlightText%20%21important%3B*/%0A%09background-color%3A%20-moz-Field%20%21important%3B%0A%09color%3A%20-moz-FieldText%20%21important%3B%0A%7D%0A/*%20Preview%20panel%20show%20animation%20*/%0A%23_U_I_D_-tabs-box-tooltip%20%7B%0A%09transition-duration%3A%20200ms%2C%20200ms%20%21important%3B%0A%09transition-property%3A%20opacity%2C%20transform%20%21important%3B%0A%09transition-timing-function%3A%20ease-out%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-box-tooltip%3Anot%28%5B_open%5D%29%20%7B%0A%09transform%3A%20translateY%28-8px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-box-tooltip%3Anot%28%5B_open%5D%29%20%7B%0A%09opacity%3A%200%20%21important%3B%0A%7D%0A/*%20The%20box%20that%20contains%20the%20tab%20preview%20label%2C%20toolbar%20and%20canvas%20*/%0A%23_U_I_D_-tabs-preview-container%20%7B%0A%09padding%3A%203px%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09box-shadow%3A%20none%20%21important%3B%0A%7D%0A/*%20Tab%20preview%20toolbar%20*/%0A%23_U_I_D_-tabs-preview-toolbar%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09opacity%3A%201%20%21important%3B%0A%09z-index%3A%201%20%21important%3B%0A%09background%3A%20none%20%21important%3B%0A%09border-bottom%3A%201px%20solid%20rgba%280%2C%200%2C%200%2C%200%29%20%21important%3B%0A%09margin%3A%200%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%7D%0A/*%20Toolbar%20buttons%20in%20tab%20preview%20toolbar%20*/%0A%23_U_I_D_-tabs-preview-toolbar%20%3E%20toolbarbutton%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09margin%3A%200%20%21important%3B%0A%09padding%3A%202px%20%21important%3B%0A%09width%3A%2018px%20%21important%3B%0A%09height%3A%2018px%20%21important%3B%0A%09background%3A%20none%20%21important%3B%0A%09list-style-image%3A%20var%28--tabs-manager-css-global-image%29%3B%0A%7D%0A/*%20Toolbar%20button%20icons%20in%20tab%20preview%20toolbar%20*/%0A%23_U_I_D_-tabs-preview-toolbar%20%3E%20toolbarbutton%20.toolbarbutton-icon%20%7B%0A%09margin%3A%200%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%7D%0A/*%20Hovered%20toolbar%20buttons%20in%20tab%20preview%20toolbar%20*/%0A%23_U_I_D_-tabs-preview-toolbar%20%3E%20toolbarbutton%3Anot%28%5Bdisabled%3D%22true%22%5D%29%3Ahover%20%7B%0A%09border-radius%3A%202px%20%21important%3B%0A%09background-color%3A%20hsla%28117%2C%2096%25%2C%2037%25%2C.3%29%20%21important%3B%0A%7D%0A/*%20The%20label%20of%20each%20toolbar%20button%20is%20hidden%20*/%0A%23_U_I_D_-tabs-preview-toolbar%20%3E%20toolbarbutton%20.toolbarbutton-text%20%7B%0A%09display%3A%20none%20%21important%3B%0A%7D%0A/*%20The%20image%20for%20each%20toolbar%20button%20*/%0A%23_U_I_D_-tabs-preview-back-button%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%2016px%2C%2016px%2C%200px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-preview-forward-button%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%2032px%2C%2016px%2C%2016px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-preview-reload-button%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%2048px%2C%2016px%2C%2032px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-preview-reload-button%5B_loading%3D%22true%22%5D%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%2064px%2C%2016px%2C%2048px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-preview-close-button%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%2080px%2C%2016px%2C%2064px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-preview-pin-button%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%2096px%2C%2016px%2C%2080px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-preview-pin-button%5B_active%3D%22true%22%5D%20%7B%0A%09-moz-image-region%3A%20rect%2816px%2C%2096px%2C%2032px%2C%2080px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-preview-zoom-button%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%20112px%2C%2016px%2C%2096px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-tabs-preview-zoom-button%5B_active%3D%22true%22%5D%20%7B%0A%09-moz-image-region%3A%20rect%2816px%2C%20112px%2C%2032px%2C%2096px%29%20%21important%3B%0A%7D%0A/*%20The%20toolbar%20button%20when%20is%20disabled%20*/%0A%23_U_I_D_-tabs-preview-toolbar%20%3E%20toolbarbutton%5Bdisabled%3D%22true%22%5D%20%7B%0A%09opacity%3A%200.35%20%21important%3B%0A%7D%0A/*%20The%20label%20in%20the%20tab%20preview%20*/%0A%23_U_I_D_-tabs-preview-title%20%7B%0A%09text-align%3A%20center%20%21important%3B%0A%7D%0A/*%20The%20label%2C%20canvas%20and%20toolbar%20in%20the%20tab%20preview%20*/%0A%23_U_I_D_-tabs-preview-toolbar%2C%0A%23_U_I_D_-tabs-preview-canvas%2C%0A%23_U_I_D_-tabs-preview-title%20%7B%0A%09padding%3A%203px%200%203px%200%20%21important%3B%0A%7D%0A/*%20Other%20images%20*/%0A%23_U_I_D_-main-panel%20.tabs-manager-options-buttons%20toolbarbutton%20%7B%0A%09list-style-image%3A%20var%28--tabs-manager-css-global-image%29%3B%0A%7D%0A.tabs-manager-options-buttons%20%23_U_I_D_-add-group-button%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%20192px%2C%2016px%2C%20176px%29%20%21important%3B%0A%7D%0A.tabs-manager-options-buttons%20%23_U_I_D_-reset-groups-button%20%7B%0A%09-moz-image-region%3A%20rect%2816px%2C%20160px%2C%2032px%2C%20144px%29%20%21important%3B%0A%7D%0A.tabs-manager-options-buttons%20%23_U_I_D_-open-options-button%20%7B%0A%09-moz-image-region%3A%20rect%280px%2C%20176px%2C%2016px%2C%20160px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-new-tab-button%20%7B%0A%09list-style-image%3A%20var%28--tabs-manager-css-global-image%29%3B%0A%09-moz-image-region%3A%20rect%280px%2C%20208px%2C%2016px%2C%20192px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-hide-groups-box-button%5B_checked%3D%22false%22%5D%2C%0A%23_U_I_D_-inline-options-button%5B_checked%3D%22false%22%5D%20%7B%0A%09list-style-image%3A%20var%28--tabs-manager-css-global-image%29%3B%0A%09-moz-image-region%3A%20rect%280px%2C%20128px%2C%2016px%2C%20112px%29%20%21important%3B%0A%7D%0A%23_U_I_D_-hide-groups-box-button%5B_checked%3D%22true%22%5D%2C%0A%23_U_I_D_-inline-options-button%5B_checked%3D%22true%22%5D%20%7B%0A%09list-style-image%3A%20var%28--tabs-manager-css-global-image%29%3B%0A%09-moz-image-region%3A%20rect%280px%2C%20144px%2C%2016px%2C%20128px%29%20%21important%3B%0A%7D%0A/*%20Size%20for%20the%20options%20buttons%20inside%20the%20main%20panel%20*/%0A%23_U_I_D_-main-panel%20.tabs-manager-options-buttons%20toolbarbutton%20.toolbarbutton-icon%20%7B%0A%09max-width%3A%2016px%20%21important%3B%0A%09max-height%3A%2016px%20%21important%3B%0A%7D%0A/*%20Variables%20globally%20declared%20*/%0A%3Aroot%20%7B%0A%09--tabs-manager-css-filter-white%3A%20url%28%22data%3Aimage/svg+xml%3Butf8%2C%3Csvg%20height%3D%270%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Cfilter%20id%3D%27white%27%20x%3D%270%25%27%20y%3D%270%25%27%20width%3D%27100%25%27%20height%3D%27100%25%27%20%3E%3CfeComponentTransfer%3E%3CfeFuncR%20type%3D%27table%27%20tableValues%3D%27.6%200%27/%3E%3CfeFuncG%20type%3D%27table%27%20tableValues%3D%27.6%200%27/%3E%3CfeFuncB%20type%3D%27table%27%20tableValues%3D%27.6%200%27/%3E%3C/feComponentTransfer%3E%3C/filter%3E%3C/svg%3E%23white%22%29%20%21important%3B%0A%09--tabs-manager-css-filter-green%3A%20url%28%22data%3Aimage/svg+xml%3Butf8%2C%3Csvg%20height%3D%270%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Cfilter%20id%3D%27green%27%20color-interpolation-filters%3D%27sRGB%27%20filterUnits%3D%27objectBoundingBox%27%20x%3D%270%27%20y%3D%270%27%20width%3D%27100%25%27%20height%3D%27100%25%27%3E%3CfeColorMatrix%20type%3D%27saturate%27%20in%3D%27SourceGraphic%27%20values%20%3D%20%270%27%20result%3D%27A%27/%3E%3CfeColorMatrix%20type%3D%27matrix%27%20in%3D%27A%27%20values%20%3D%20%270.38%20%200.3%20%200.3%20%200.0%20%200.0%200.3%20%200.38%20%200.3%20%200.0%20%200.24%200.3%20%200.3%20%200.38%20%200.0%20%200.0%200.0%20%200.0%20%200.0%20%201.0%20%200.0%27%20/%3E%3C/filter%3E%3C/svg%3E%23green%22%29%20%21important%3B%0A%09--tabs-manager-css-filter-red%3A%20url%28%22data%3Aimage/svg+xml%3Butf8%2C%3Csvg%20height%3D%270%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%3E%3Cfilter%20id%3D%27crimson%27%20color-interpolation-filters%3D%27sRGB%27%20filterUnits%3D%27objectBoundingBox%27%20x%3D%270%27%20y%3D%270%27%20width%3D%27100%25%27%20height%3D%27100%25%27%3E%3CfeColorMatrix%20type%3D%27saturate%27%20in%3D%27SourceGraphic%27%20values%20%3D%20%270%27%20result%3D%27A%27/%3E%3CfeColorMatrix%20type%3D%27matrix%27%20in%3D%27A%27%20values%20%3D%20%270.38%20%200.3%20%200.3%20%200.0%20%200.36%200.3%20%200.38%20%200.3%20%200.0%20%200.0%200.3%20%200.3%20%200.38%20%200.0%20%200.06%200.0%20%200.0%20%200.0%20%201.0%20%200.0%27%20/%3E%3C/filter%3E%3C/svg%3E%23crimson%22%29%20%21important%3B%0A%09/*--tabs-manager-css-global-image%3A%20url%28%22data%3Aimage/png%3Bbase64%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%3D%22%29%20%21important%3B*/%0A%09--tabs-manager-css-global-image%3A%20url%28%22data%3Aimage/png%3Bbase64%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%22%29%20%21important%3B%0A%7D%0A%3C%21--StyleSheet--%3E%0A%09%20width%3D%22_W_I_D_T_H_%22%0A%09%20maxwidth%3D%22_W_I_D_T_H_%22%0A%3C%21--MainPanel--%3E%3Cpanel%20id%3D%22_U_I_D_-main-panel%22%0A%09%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%0A%09%20orient%3D%22vertical%22%0A%09%20flip%3D%22slide%22%0A%09%20cb_id%3D%22_U_I_D_%22%0A%09%20level%3D%22parent%22%0A%09%20consumeoutsideclicks%3D%22false%22%0A%09%20noautohide%3D%22_N_O_H_I_D_E_%22%0A%09%20onmouseout%3D%22event.stopPropagation%28%29%3B%22%0A%09%20onclick%3D%22event.stopPropagation%28%29%3B%22%0A%09%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%20onpopupshowing%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PanelFunctions.OnPanelShowing%28event%2C%20this%29%3B%22%0A%09%20onpopuphiding%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PanelFunctions.OnPanelHidden%28event%2C%20this%29%3B%22%3E%0A%09%3Chbox%20id%3D%22_U_I_D_-main-panel-box%22%3E%0A%09%09%3Cvbox%3E%0A%09%09%09%3Cvbox%20id%3D%22_U_I_D_-tabs-groups-box%22%0A%09%09%09%09%20%20align%3D%22center%22%0A%09%09%09%09%20%20_group%3D%22true%22%0A%09%09%09%09%20%20context%3D%22_U_I_D_-tabs-groups-box-context%22/%3E%0A%09%09%09%3Cvbox%20id%3D%22_U_I_D_-tabs-box%22%0A%09%09%09%09%20%20onclick%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PanelFunctions.OnItemClick%28event%29%3B%22%0A%09%09%09%09%20%20oncontextmenu%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%20%20onmousemove%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PanelFunctions.OnMouseMoveItem%28event%29%3B%22%0A%09%09%09%09%20%20onmouseover%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PanelFunctions.OnMouseOverItem%28event%29%3B%22%0A%09%09%09%09%20%20onmouseout%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PanelFunctions.OnMouseOutItem%28event%29%3B%22%0A%09%09%09%09%20%20ondragstart%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.DragAndDropHandler.onDragStart%28event%29%3B%22%0A%09%09%09%09%20%20ondragover%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.DragAndDropHandler.onDragOver%28event%29%3B%22%0A%09%09%09%09%20%20ondrop%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.DragAndDropHandler.onDrop%28event%29%3B%22/%3E%0A%09%09%3C/vbox%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Cvbox%20maxwidth%3D%2248%22%20class%3D%22tabs-manager-options-buttons%22%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-hide-groups-box-button%22%0A%09%09%09%09%09%09%20%20%20flex%3D%22999%22%0A%09%09%09%09%09%09%20%20%20tooltiptext%3D%22Hide%20groups%20row.%22%0A%09%09%09%09%09%09%20%20%20class%3D%22marked-for-invertion%22%0A%09%09%09%09%09%09%20%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%20%20%20onclick%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PanelFunctions.toggleGroupButtons%28%29%3B%22/%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-add-group-button%22%0A%09%09%09%09%09%09%20%20%20flex%3D%22999%22%0A%09%09%09%09%09%09%20%20%20_group%3D%22true%22%0A%09%09%09%09%09%09%20%20%20tooltiptext%3D%22Add%20a%20new%20group.%22%0A%09%09%09%09%09%09%20%20%20class%3D%22marked-for-invertion%22%0A%09%09%09%09%09%09%20%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%20%20%20onclick%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PanelFunctions.AddGroupBtn%28event%29%3B%22/%3E%0A%09%09%09%3Cbox%20flex%3D%221%22%3E%0A%09%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-new-tab-button%22%0A%09%09%09%09%09%09%20%20%20maxwidth%3D%22500%22%0A%09%09%09%09%09%09%20%20%20tooltiptext%3D%22Open%20New%20tab%22%0A%09%09%09%09%09%09%20%20%20class%3D%22marked-for-invertion%22%0A%09%09%09%09%09%09%20%20%20oncommand%3D%22BrowserOpenNewTabOrWindow%28event%29%3B%22/%3E%0A%09%09%09%3C/box%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-open-options-button%22%0A%09%09%09%09%09%09%20%20%20tooltiptext%3D%22Open%20Tabs%20Manager%20options%20page.%22%0A%09%09%09%09%09%09%20%20%20class%3D%22marked-for-invertion%22%0A%09%09%09%09%09%09%20%20%20oncommand%3D%22event.stopPropagation%28%29%3Bdocument.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.openOptions.Init%28%29%3B%22/%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-inline-options-button%22%0A%09%09%09%09%09%09%20%20%20tooltiptext%3D%22Show%20inline%20options.%22%0A%09%09%09%09%09%09%20%20%20class%3D%22marked-for-invertion%22%0A%09%09%09%09%09%09%20%20%20oncommand%3D%22document.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.HandleOptionsBox%28%29%3B%22/%3E%0A%09%09%3C/vbox%3E%0A%09%3C/hbox%3E%0A%09%3Cvbox%20id%3D%22_U_I_D_-options-box%22%20/%3E%0A%3C/panel%3E%3C%21--MainPanel--%3E%0A%0A%3C%21--OptionsBox--%3E%3Chbox%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%20%3E%0A%3Cvbox%3E%0A%09%3Chbox%20align%3D%22center%22%3E%0A%09%09%3Clabel%20value%3D%22Vertical%20offset%3A%22/%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Ctextbox%20type%3D%22number%22%0A%09%09%09%09%20_pref%3D%22PanelVerticalOffset%22%0A%09%09%09%09%20tooltiptext%3D%22Vertical%20offset%20for%20panel%20in%20relation%20to%20its%20anchor.%26%23xA%3BMinimum%3A%20-300px.%26%23xA%3BMaximum%3A%20300px.%22%0A%09%09%09%09%20size%3D%223%22%0A%09%09%09%09%20min%3D%22-300%22%0A%09%09%09%09%20max%3D%22300%22/%3E%0A%09%3C/hbox%3E%0A%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%3Chbox%20align%3D%22center%22%3E%0A%09%09%3Clabel%20value%3D%22Icon%20size%3A%22/%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Ctextbox%20type%3D%22number%22%0A%09%09%09%09%20_pref%3D%22MaxIconSizeForTabButtonsInPanel%22%0A%09%09%09%09%20tooltiptext%3D%22Set%20a%20fixed%20icon%20size%20for%20the%20tabs%20buttons.%26%23xA%3BMinimum%3A%2016px.%26%23xA%3BMaximum%3A%2064px.%22%0A%09%09%09%09%20size%3D%223%22%0A%09%09%09%09%20min%3D%2216%22%0A%09%09%09%09%20max%3D%2264%22/%3E%0A%09%3C/hbox%3E%0A%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%3Chbox%20align%3D%22center%22%0A%09%09%20%20_auto_tab%3D%22false%22%3E%0A%09%09%3Clabel%20value%3D%22Tabs%20per%20row%3A%22/%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Ctextbox%20type%3D%22number%22%0A%09%09%09%09%20_pref%3D%22PanelButtonTabsPerRow%22%0A%09%09%09%09%20tooltiptext%3D%22How%20many%20tabs%20per%20row%20should%20display%20the%20panel.%26%23xA%3BMinimum%3A%205%20tabs%20per%20row.%26%23xA%3BMaximum%3A%2030%20tabs%20per%20row.%22%0A%09%09%09%09%20size%3D%223%22%0A%09%09%09%09%20min%3D%221%22%0A%09%09%09%09%20max%3D%2230%22/%3E%0A%09%3C/hbox%3E%0A%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%3Chbox%20align%3D%22center%22%0A%09%09%20%20_auto_tab%3D%22true%22%3E%0A%09%09%3Clabel%20value%3D%22Tabs%20width%3A%22/%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Ctextbox%20type%3D%22number%22%0A%09%09%09%09%20_pref%3D%22PanelButtonTabsPerRowAutoWidth%22%0A%09%09%09%09%20tooltiptext%3D%22Width%20used%20to%20calculate%20the%20amount%20of%20tabs%20per%20row%20inside%20the%20main%20panel.%26%23xA%3BMinimum%3A%20100px.%26%23xA%3BMaximum%3A%20250px.%22%0A%09%09%09%09%20size%3D%223%22%0A%09%09%09%09%20increment%3D%225%22%0A%09%09%09%09%20min%3D%22100%22%0A%09%09%09%09%20max%3D%22250%22/%3E%0A%09%3C/hbox%3E%0A%09%3Ccheckbox%20label%3D%22Tabs%20per%20row%20auto%22%0A%09%09%09%20%20_pref%3D%22PanelButtonTabsPerRowAuto%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22The%20amount%20of%20tabs%20per%20row%20will%20be%20automatically%20calculated%20based%20on%20the%20%27Tabs%20width%27%20option.%22%20/%3E%0A%3C/vbox%3E%0A%3Cvbox%3E%0A%09%3Chbox%20align%3D%22center%22%0A%09%09%20%20_preview%3D%22true%22%0A%09%09%20%20_preview_size%3D%22false%22%3E%0A%09%09%3Clabel%20value%3D%22Tabs%20preview%20width%3A%22/%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Ctextbox%20type%3D%22number%22%0A%09%09%09%09%20_pref%3D%22TabPreviewWidth%22%0A%09%09%09%09%20tooltiptext%3D%22Tabs%20preview%20width%20in%20pixels.%26%23xA%3BMinimum%3A%20100%20pixels.%26%23xA%3BMaximum%3A%202000%20pixels.%22%0A%09%09%09%09%20size%3D%224%22%0A%09%09%09%09%20increment%3D%2210%22%0A%09%09%09%09%20min%3D%22100%22%0A%09%09%09%09%20max%3D%222000%22/%3E%0A%09%3C/hbox%3E%0A%09%3Chbox%20align%3D%22center%22%0A%09%09%20%20_preview%3D%22true%22%0A%09%09%20%20_preview_size%3D%22true%22%3E%0A%09%09%3Clabel%20value%3D%22Tabs%20preview%20size%3A%22/%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Ctextbox%20type%3D%22number%22%0A%09%09%09%09%20_pref%3D%22TabPreviewAutomaticSizePercentage%22%0A%09%09%09%09%20tooltiptext%3D%22Tabs%20preview%20size%20percentage%20in%20relation%20to%20the%20page%20content%20size.%26%23xA%3BMinimum%3A%2010%25.%26%23xA%3BMaximum%3A%20100%25.%22%0A%09%09%09%09%20size%3D%224%22%0A%09%09%09%09%20increment%3D%225%22%0A%09%09%09%09%20min%3D%2210%22%0A%09%09%09%09%20max%3D%22100%22/%3E%0A%09%3C/hbox%3E%0A%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%3Chbox%20align%3D%22center%22%0A%09%09%20%20_preview%3D%22true%22%0A%09%09%20%20_preview_size%3D%22false%22%3E%0A%09%09%3Clabel%20value%3D%22Tabs%20preview%20height%3A%22/%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Ctextbox%20type%3D%22number%22%0A%09%09%09%09%20_pref%3D%22TabPreviewHeight%22%0A%09%09%09%09%20tooltiptext%3D%22Tabs%20preview%20height%20in%20pixels.%26%23xA%3BMinimum%3A%20100%20pixels.%26%23xA%3BMaximum%3A%202000%20pixels.%22%0A%09%09%09%09%20size%3D%224%22%0A%09%09%09%09%20increment%3D%2210%22%0A%09%09%09%09%20min%3D%22100%22%0A%09%09%09%09%20max%3D%222000%22/%3E%0A%09%3C/hbox%3E%0A%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%3Chbox%20align%3D%22center%22%0A%09%09%20%20_preview%3D%22true%22%3E%0A%09%09%3Clabel%20value%3D%22Tabs%20preview%20zoom%3A%22/%3E%0A%09%09%3Cspacer%20flex%3D%221%22/%3E%0A%09%09%3Ctextbox%20type%3D%22number%22%0A%09%09%09%09%20_pref%3D%22TabPreviewZoomFactor%22%0A%09%09%09%09%20tooltiptext%3D%22Zoom%20factor%20in%20%25%20for%20tabs%20preview.%26%23xA%3BMinimum%3A%205%25%26%23xA%3BMaximum%3A%20500%25%22%0A%09%09%09%09%20size%3D%224%22%0A%09%09%09%09%20increment%3D%225%22%0A%09%09%09%09%20min%3D%22100%22%0A%09%09%09%09%20max%3D%22500%22/%3E%0A%09%3C/hbox%3E%0A%09%3C%21--%20%3Cspacer%20flex%3D%221%22/%3E%20--%3E%0A%09%3Ccheckbox%20label%3D%22Auto%20size%20preview%22%0A%09%09%09%20%20_pref%3D%22TabPreviewAutomaticSize%22%0A%09%09%09%20%20_preview%3D%22true%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Ignore%20the%20fixed%20preview%20width/height%20and%20size%20it%20based%20on%20a%20percentage%20of%20the%20actual%20page%20content%20size.%22%20/%3E%0A%3C/vbox%3E%0A%3Cvbox%3E%0A%09%3Ccheckbox%20label%3D%22Invert%20dark%20icons%22%0A%09%09%09%20%20_pref%3D%22PanelInvertDarkIcons%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22A%20white%20filter%20will%20be%20applyed%20to%20all%20dark%20icons%20of%20this%20panel%20so%20they%20are%20actually%20seen%20on%20dark%20themes.%22%20/%3E%0A%09%3Ccheckbox%20label%3D%22Select%20tab%20on%20hover%22%0A%09%09%09%20%20_pref%3D%22PanelSelectTabOnHover%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Auto%20select%20tabs%20on%20the%20panel%20on%20mouse%20over.%22%20/%3E%0A%09%3Ccheckbox%20label%3D%22Show%20pinned%20tabs%22%0A%09%09%09%20%20_pref%3D%22PanelShowPinnedTabs%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Show%20pinned%20tabs%20row.%22%20/%3E%0A%09%3Ccheckbox%20label%3D%22Tabs%20preview%22%0A%09%09%09%20%20_pref%3D%22TabPreviewEnabled%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Enable%20tabs%20preview.%22%20/%3E%0A%09%3Ccheckbox%20label%3D%22Show%20toolbar%22%0A%09%09%09%20%20_pref%3D%22TabPreviewShowToolbar%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Show%20toolbar%20inside%20the%20preview%20panel.%20The%20toolbar%20is%20standalone%2C%20so%20it%20can%20be%20used%20even%20if%20the%20tabs%20preview%20is%20disabled.%22%20/%3E%0A%3C/vbox%3E%0A%3Cvbox%3E%0A%09%3Ccheckbox%20label%3D%22Send%20clicks%20to%20preview%22%0A%09%09%09%20%20_pref%3D%22TabPreviewSendClicks%22%0A%09%09%09%20%20_preview%3D%22true%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Enable%20sending%20click%20events%20to%20the%20page%20content%20currently%20displayed%20on%20the%20tab%20preview.%22%20/%3E%0A%09%3Ccheckbox%20label%3D%22Send%20scroll%20to%20preview%22%0A%09%09%09%20%20_pref%3D%22TabPreviewSendScroll%22%0A%09%09%09%20%20_preview%3D%22true%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Enable%20scrolling%20of%20the%20page%20content%20currently%20displayed%20on%20the%20tab%20preview.%22%20/%3E%0A%09%3Ccheckbox%20label%3D%22Load%20unloaded%20tabs%22%0A%09%09%09%20%20_pref%3D%22TabPreviewLoadUnloadedTabs%22%0A%09%09%09%20%20_preview%3D%22true%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Automatically%20load%20unloaded%20tabs%20so%20they%20are%20visible%20when%20tabs%20preview%20is%20enabled.%22%20/%3E%0A%09%3Ccheckbox%20label%3D%22Require%20Control%20key%22%0A%09%09%09%20%20_pref%3D%22TabPreviewRequireControlKey%22%0A%09%09%09%20%20_preview%3D%22true%22%0A%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%20%20tooltiptext%3D%22Require%20the%20Control%20key%20to%20be%20pressed%20to%20display%20the%20tab%20preview.%22%20/%3E%0A%3C/vbox%3E%0A%3Cgroupbox%20orient%3D%22vertical%22%3E%0A%09%3Ccaption%20label%3D%22Middle%20click%20action%22%20tooltiptext%3D%22Action%20triggered%20when%20middle-clicking%20a%20tab%20item.%22%20/%3E%0A%09%3Cradiogroup%20_pref%3D%22PanelMiddleClickOnTabAction%22%20orient%3D%22vertical%22%20%3E%0A%09%09%3Cradio%20value%3D%220%22%20label%3D%22Close%20tab%22%20/%3E%0A%09%09%3Cradio%20value%3D%221%22%20label%3D%22Reload%20tab%22%20/%3E%0A%09%09%3Cradio%20value%3D%222%22%20label%3D%22Multi%20select%20tabs%22%20tooltiptext%3D%22Select%20more%20than%20one%20tab%20to%20perform%20in-bulk%20actions.%26%23xA%3BMulti-selection%20can%20also%20be%20done%20with%20Ctrl%20+%20Left%20click.%22%20/%3E%0A%09%3C/radiogroup%3E%0A%3C/groupbox%3E%0A%3Cgroupbox%20orient%3D%22vertical%22%3E%0A%09%3Ccaption%20label%3D%22Button%20image%22%20tooltiptext%3D%22Choose%20this%20button%20image.%22%20/%3E%0A%09%3Cradiogroup%20_pref%3D%22ButtonImage%22%20orient%3D%22vertical%22%20%3E%0A%09%09%3Cradio%20value%3D%220%22%20label%3D%22Custom%22%20tooltiptext%3D%22Set%20an%20image%20by%20going%20to%20%27Edit%20Button...%27%20%26gt%3B%20%27Image%27%20section.%22%20/%3E%0A%09%09%3Cradio%20value%3D%221%22%20label%3D%22Dark%20image%22%20/%3E%0A%09%09%3Cradio%20value%3D%222%22%20label%3D%22Light%20image%22%20/%3E%0A%09%3C/radiogroup%3E%0A%3C/groupbox%3E%0A%3C/hbox%3E%3C%21--OptionsBox--%3E%0A%0A%3C%21--TabsPreviewPanel--%3E%3Cpanel%20id%3D%22_U_I_D_-tabs-box-tooltip%22%0A%09%09%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%0A%09%09%20xmlns%3Ahtml%3D%22http%3A//www.w3.org/1999/xhtml%22%0A%09%09%20cb_id%3D%22_U_I_D_%22%0A%09%09%20orient%3D%22vertical%22%0A%09%09%20position%3D%22after_start%22%0A%09%09%20flip%3D%22slide%22%0A%09%09%20level%3D%22top%22%0A%09%09%20noautofocus%3D%22true%22%0A%09%09%20consumeoutsideclicks%3D%22false%22%0A%09%09%20oncontextmenu%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%20onmouseout%3D%22event.stopPropagation%28%29%3Bdocument.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.OnTooltipOut%28event%2C%20this%29%3B%22%0A%09%09%20onpopuphiding%3D%22event.stopPropagation%28%29%3Bdocument.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.OnTooltipHiding%28event%2C%20this%29%3B%22%0A%09%09%20onpopupshowing%3D%22event.stopPropagation%28%29%3Bdocument.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PopulateTabsTooltip%28event%2C%20this%29%3B%22%3E%0A%09%3Cvbox%20id%3D%22_U_I_D_-tabs-preview-container%22%3E%0A%09%09%3Clabel%20id%3D%22_U_I_D_-tabs-preview-title%22%20crop%3D%22end%22/%3E%0A%09%09%3Ctoolbar%20id%3D%22_U_I_D_-tabs-preview-toolbar%22%0A%09%09%09%09%20fullscreentoolbar%3D%22true%22%0A%09%09%09%09%20onclick%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%20oncommand%3D%22event.stopPropagation%28%29%3Bdocument.getElementById%28%27_S_E_L_F_I_D_%27%29.TabsManager.PreviewFunctions.OnCommand%28event%29%3B%22%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-tabs-preview-back-button%22%20class%3D%22marked-for-invertion%22%20tooltiptext%3D%22Go%20backwards%20one%20page%22%20label%3D%22back%22/%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-tabs-preview-forward-button%22%20class%3D%22marked-for-invertion%22%20tooltiptext%3D%22Go%20forward%20one%20page%22%20label%3D%22forward%22/%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-tabs-preview-reload-button%22%20class%3D%22marked-for-invertion%22%20tooltiptext%3D%22Reload%20page%22%20label%3D%22reload%22/%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-tabs-preview-pin-button%22%20class%3D%22marked-for-invertion%22%20tooltiptext%3D%22Pin%20tab%22%20label%3D%22pin%22/%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-tabs-preview-zoom-button%22%20class%3D%22marked-for-invertion%22%20tooltiptext%3D%22Zoom%20preview%22%20label%3D%22zoom%22/%3E%0A%09%09%09%3Cspacer%20flex%3D%221%22%20/%3E%0A%09%09%09%3Ctoolbarbutton%20id%3D%22_U_I_D_-tabs-preview-close-button%22%20class%3D%22marked-for-invertion%22%20tooltiptext%3D%22Close%20tab%22%20label%3D%22close%22/%3E%0A%09%09%3C/toolbar%3E%0A%09%09%3Chtml%3Acanvas%20id%3D%22_U_I_D_-tabs-preview-canvas%22/%3E%0A%09%3C/vbox%3E%0A%3C/panel%3E%3C%21--TabsPreviewPanel--%3E%0A%0A%3C%21--FrameScript--%3E%22use%20sctrict%22%3B%0Alet%20TabsPreview%20%3D%20%7B%0A%09init%3A%20function%28%29%20%7B%0A%09%09addMessageListener%28%22_Update_Preview_ID_%22%2C%20this%29%3B%0A%09%09addMessageListener%28%22_Scroll_Preview_ID_%22%2C%20this%29%3B%0A%09%09addMessageListener%28%22_Emulate_Preview_ID_%22%2C%20this%29%3B%0A%09%7D%2C%0A%0A%09receiveMessage%3A%20function%28aMsg%29%20%7B%0A%09%09switch%20%28aMsg.name%29%20%7B%0A%09%09%09case%20%22_Update_Preview_ID_%22%3A%0A%09%09%09%09this._updatePreview%28aMsg.data%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20%22_Scroll_Preview_ID_%22%3A%0A%09%09%09%09this._scrollWindow%28aMsg.data%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20%22_Emulate_Preview_ID_%22%3A%0A%09%09%09%09this._emulateEvent%28aMsg.data%29%3B%0A%09%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09_updatePreview%3A%20function%28aData%29%20%7B%0A%09%09let%20canvas%20%3D%20content.document.createElementNS%28%22http%3A//www.w3.org/1999/xhtml%22%2C%20%22canvas%22%29%3B%0A%09%09canvas.mozImageSmoothingEnabled%20%3D%20true%3B%0A%09%09let%20auto%20%3D%20aData.auto%3B%0A%09%09let%20win%20%3D%20content.window%3B%0A%09%09let%20w%20%3D%20win.innerWidth%3B%0A%09%09let%20scale%20%3D%20aData.width%20/%20w%3B%0A%09%09let%20h%20%3D%20auto%20%3F%20win.innerHeight%20%3A%20aData.height%20/%20scale%3B%0A%09%09let%20canvasW%20%3D%20auto%20%3F%20Math.round%28w%20*%20aData.autoPercentage%20/%20100%20*%20aData.zoomFactor%29%20%3A%20aData.width%3B%0A%09%09let%20canvasH%20%3D%20auto%20%3F%20Math.round%28canvasW%20*%20h%20/%20w%29%20%3A%20aData.height%3B%0A%09%09canvas.width%20%3D%20canvasW%3B%0A%09%09canvas.height%20%3D%20canvasH%3B%0A%09%09let%20scaleX%20%3D%20canvasW%20/%20w%3B%0A%09%09let%20scaleY%20%3D%20canvasH%20/%20h%3B%0A%09%09let%20ctx%3B%0A%09%09try%20%7B%0A%09%09%09ctx%20%3D%20canvas.getContext%28%222d%22%29%3B%0A%09%09%09ctx.clearRect%280%2C%200%2C%20canvas.width%2C%20canvas.height%29%3B%0A%09%09%09ctx.save%28%29%3B%0A%09%09%09auto%20%3F%0A%09%09%09%09ctx.scale%28canvasW%20/%20w%2C%20canvasH%20/%20h%29%20%3A%0A%09%09%09%09ctx.scale%28scale%2C%20scale%29%3B%0A%09%09%09ctx.drawWindow%28win%2C%20win.scrollX%2C%20win.scrollY%2C%20w%2C%20h%2C%20%22Window%22%29%3B%0A%09%09%09ctx.restore%28%29%3B%0A%09%09%7D%20catch%20%28aErr%29%20%7B%7D%20finally%20%7B%0A%09%09%09sendAsyncMessage%28%22_Response_ID_%22%2C%20%7B%0A%09%09%09%09width%3A%20canvas.width%2C%0A%09%09%09%09height%3A%20canvas.height%2C%0A%09%09%09%09msgID%3A%20aData.msgID%2C%0A%09%09%09%09scaleX%3A%20scaleX%2C%0A%09%09%09%09scaleY%3A%20scaleY%2C%0A%09%09%09%09scale%3A%20scale%2C%0A%09%09%09%09imgData%3A%20ctx.getImageData%280%2C%200%2C%20canvas.width%2C%20canvas.height%29%2C%0A%09%09%09%7D%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09_scrollWindow%3A%20function%28aData%29%20%7B%0A%09%09let%20elt%20%3D%20this._elementFromPoint%28aData.x%2C%20aData.y%29%3B%0A%09%09if%20%28aData.ctrlKey%20%26%26%20%21aData.shiftKey%29%20//%20Ctrl%20only%20-%20Scroll%20by%20pages%0A%09%09%09elt.ownerDocument.defaultView.scrollByPages%28%28aData.lines%20%3E%200%20%3F%201%20%3A%20-1%29%29%3B%0A%09%09else%20if%20%28aData.shiftKey%20%26%26%20%21aData.ctrlKey%29%20//%20Shift%20only%20-%20Scroll%20horizontally%0A%09%09%09elt.ownerDocument.defaultView.scrollBy%28aData.lines%20*%2010%2C%200%29%3B%0A%09%09else%20if%20%28aData.shiftKey%20%26%26%20aData.ctrlKey%29%20//%20Shift%20+%20Ctrl%20-%20Scroll%20horizontally%20faster%0A%09%09%09elt.ownerDocument.defaultView.scrollBy%28%28aData.lines%20%3E%200%20%3F%20content.window.innerWidth%20%3A%20-%28content.window.innerWidth%29%29%2C%200%29%3B%0A%09%09else%20if%20%28%21aData.shiftKey%20%26%26%20%21aData.ctrlKey%29%20//%20No%20modifiers%20-%20Scroll%20by%20lines%0A%09%09%09elt.ownerDocument.defaultView.scrollByLines%28aData.lines%29%3B%0A%09%7D%2C%0A%0A%09_emulateEvent%3A%20function%28aData%29%20%7B%0A%09%09let%20elt%20%3D%20this._elementFromPoint%28aData.x%2C%20aData.y%29%3B%0A%09%09let%20view%20%3D%20elt.ownerDocument.defaultView%3B%0A%09%09elt.dispatchEvent%28new%20view.MouseEvent%28aData.type%2C%20%7B%0A%09%09%09view%3A%20view%2C%0A%09%09%09cancelable%3A%20true%2C%0A%09%09%09bubbles%3A%20true%2C%0A%09%09%09button%3A%20aData.button%2C%0A%09%09%09ctrlKey%3A%20aData.ctrlKey%2C%0A%09%09%09altKey%3A%20aData.altKey%2C%0A%09%09%09shiftKey%3A%20aData.shiftKey%2C%0A%09%09%09metaKey%3A%20aData.metaKey%0A%09%09%7D%29%29%3B%0A%09%7D%2C%0A%0A%09_elementFromPoint%3A%20function%28x%2C%20y%29%20%7B%0A%09%09let%20elt%20%3D%20content.document.elementFromPoint%28x%2C%20y%29%3B%0A%09%09if%20%28%21elt%29%20%7B%0A%09%09%09const%20Ci%20%3D%20Components.interfaces%3B%0A%09%09%09elt%20%3D%20content.window.QueryInterface%28Ci.nsIInterfaceRequestor%29.%0A%09%09%09getInterface%28Ci.nsIDOMWindowUtils%29.%0A%09%09%09elementFromPoint%28x%2C%20y%2C%20true%2C%20false%29%3B%0A%09%09%7D%0A%09%09if%20%28%21elt%29%0A%09%09%09elt%20%3D%20content.document.body%20%7C%7C%20content.document.documentElement%3B%0A%09%09while%20%28/%5Ei%3Fframe%24/.test%28elt.localName.toLowerCase%28%29%29%29%20%7B%0A%09%09%09x%20-%3D%20elt.getBoundingClientRect%28%29.left%3B%0A%09%09%09y%20-%3D%20elt.getBoundingClientRect%28%29.top%3B%0A%09%09%09elt%20%3D%20elt.contentDocument.elementFromPoint%28x%2C%20y%29%3B%0A%09%09%7D%0A%09%09return%20elt%3B%0A%09%7D%0A%7D%3B%0ATabsPreview.init%28%29%3B%0A%3C%21--FrameScript--%3E%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E" rel="nofollow" title="Install Tabs Manager">
				<![CDATA[Install this button]]>
			</html:a>
		</html:div>
		<html:a id="about" href="https://addons.mozilla.org/addon/custom-buttons/">
			<![CDATA[About CustomButtons]]>
		</html:a>
		<html:div id="credits">
			<html:a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?t=1217">
				<![CDATA[XML created with]]>
				<html:br/>
				<![CDATA[Custom Buttons Toolkit]]>
			</html:a>
		</html:div>
	</html:div>
</html:body>
  <name>Tabs Manager</name>
  <image><![CDATA[data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAsklEQVQ4jWNgGJQgNCr+f2Jq1v/45PT/8cnp/xNTs/6HRsX/J0rzlBmz/+MCM2fPI2zI6TNncRpw+sxZwgbcuXsPpwF37t4jbMCbN29xGvDmzVv8BhSXV///9v07TgO+ff/+v7i8GrchK1etxakZBlauWovdgNVrN/zH53xkb6zftAXVEAMzG4Ia0YGBmQ3CEDNrR5INMLN2/E89FzAwMDDom1j9NzCzIQrrm1gRl6zpAgA/Aaw4cJqIzQAAAABJRU5ErkJggg==]]></image>
  <mode>0</mode>
  <initcode><![CDATA[var that = this.TabsManager = {
	/**
	 * Fixed width for the main panel
	 * UNCOMMENT ONLY ONE OF THE OPTIONS!!!
	 */
	get panelWidth() {
		return window.innerWidth; // The width of the browser window.
		//return screen.width; // The width of the screen.
		//return 500; // Custom with in pixels. CAN'T BE ZERO!!!
	},

	/**
	 * How to position the main panel
	 * UNCOMMENT ONLY ONE OF THE OPTIONS!!!
	 * More info about panel positioning:
	 * https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/PopupGuide/Positioning
	 */
	get panelPosition() {
		return "overlap"; // This is the "less buggy" position. Any other position will produce "some visual weirdness" with the main panel.
		//return "after_start";
		// return ""; // Do not set a position
	},

	/**
	 * Where to anchor the main panel
	 * UNCOMMENT ONLY ONE OF THE OPTIONS!!!
	 */
	get panelAnchor() {
		return document.getElementById("nav-bar"); // Navigation toolbar
		//return document.getElementById("TabsToolbar"); // Tabs toolbar
		//return document.getElementById(self.id); // This button itself
	},

	_UID: "__tabs_manager_" + self.id.slice(14),
	_hoverOpenPreviewTimer: 0,
	_hoverOpenMainPanelTimer: 0,
	_appendTabsToTabsBoxTimer: 0,
	_selectTabOnHoverTimer: 0,
	_cleanSlateTimer: 0,
	_updatePreviewTimer: 0,
	_ctrlKeyPressed: null,
	_prevZoomedIn: null,
	_prevDoNotAllow: null,
	_tooltipAllowHovering: null,
	_globalMM: Cc["@mozilla.org/globalmessagemanager;1"].getService(Ci.nsIMessageListenerManager),
	_tab: null,
	_randomID: null,
	_lastCanvasHeight: null,
	_lastCanvasWidth: null,


	get _responseMsgID() {
		return "CB:TabsManager:Response:" + self.id.slice(14) + "-";
	},

	get _updatePreviewMsgID() {
		return "CB:TabsManager:Preview:" + self.id.slice(14) + "-" + that._randomID;
	},

	get _scrollMsgID() {
		return "CB:TabsManager:Scroll:" + self.id.slice(14) + "-" + that._randomID;
	},

	get _emulateMsgID() {
		return "CB:TabsManager:Emulate:" + self.id.slice(14) + "-" + that._randomID;
	},

	get canvas() {
		return document.getElementById(that._UID + "-tabs-preview-canvas");
	},

	get optionsBox() {
		return document.getElementById(that._UID + "-options-box");
	},

	get panel() {
		return document.getElementById(that._UID + "-main-panel");
	},

	get tooltip() {
		return document.getElementById(that._UID + "-tabs-box-tooltip");
	},

	get tooltipLabel() {
		return document.getElementById(that._UID + "-tabs-preview-title");
	},

	get toolbar() {
		return document.getElementById(that._UID + "-tabs-preview-toolbar");
	},

	get selectedTabs() {
		return document.getElementById(that._UID + "-tabs-box").getElementsByAttribute("_multisel", "*");
	},

	get GroupItems() { // Defined as a "get" because TabView is not loaded at browser start-up.
		return TabView._window.GroupItems;
	},

	Init: function() {
		that.InitPrefs();
		_setSelfImage();
		if (!("Services" in window))
			Cu.import("resource://gre/modules/Services.jsm");

		if (!(that._UID in window)) {
			window[that._UID] = {
				StyleSheet: false,
				SelfDestroyerListener: false,
				FrameScriptLoaded: false,
				ListOfHotSpots: false,
				TabsContextEvaluated: false,
				TabsContextHandled: false
			}
		}

		self.setAttribute("overflows", false);

		self.onclick = function(aE) {
			if (aE.button === 0 && !aE.shiftKey && !aE.ctrlKey && !aE.altKey) {
				aE.preventDefault();
				that.togglePanel();
			} else if (aE.button === 0 && !aE.shiftKey && aE.ctrlKey && !aE.altKey) {
				aE.preventDefault();
				that.openOptions.Init();
			}
			aE.stopPropagation();
		};

		that._pInvertDarkIcons = that.gPref("PanelInvertDarkIcons");
		that._pMaxIconSize = that.gPref("MaxIconSizeForTabButtonsInPanel");
		that._hideTabsToolbar = that.gPref("HideTabsToolbar");
		that.CSSLoader();
		that.CreateMainPanel();
		that.HandleTabsContext();
		that.CreateTabsTooltip();
		that.CreateGroupsContext();
		that.HandlePrefListener();
		that.HandleOpenOnHover();
		that.HandleHotSpots();

		that._prevEnabled = that.gPref("TabPreviewEnabled");
		that._tooltipAllowHovering = (that.gPref("TabPreviewEnabled") || that.gPref("TabPreviewShowToolbar"));

		if (that._prevEnabled) {
			that._prevShowDelay = that.gPref("TabPreviewShowDelay");
			that._prevSendClicks = that.gPref("TabPreviewSendClicks");
			that._prevSendScroll = that.gPref("TabPreviewSendScroll");
			that._prevLoadUnloadedTabs = that.gPref("TabPreviewLoadUnloadedTabs");
			that._prevAutomaticSize = that.gPref("TabPreviewAutomaticSize");
			that._prevRequireControlKey = that.gPref("TabPreviewRequireControlKey");
			that._randomID = parseInt(Math.random() * 10000, 10);
			window[that._UID]["RandomID"] = that._randomID;
		}

		// The next 4 are declared even if "TabPreviewEnabled" is false.
		// This are used by the "Option box" inside the panel and their values are needed.
		// This is done this way so that every time the in-line options are opened, there is no need to use "that.gPref".
		that._prevZoomFactor = that.gPref("TabPreviewZoomFactor");
		that._prevWidth = that.gPref("TabPreviewWidth");
		that._prevHeight = that.gPref("TabPreviewHeight");
		that._prevAutomaticSizePercentage = that.gPref("TabPreviewAutomaticSizePercentage");


		that._pHideGroupsRow = that.gPref("PanelHideGroupsRow");
		that._pMiddleClickOnTabAction = that.gPref("PanelMiddleClickOnTabAction");
		that._pShowPinnedTabs = that.gPref("PanelShowPinnedTabs");
		that._pTabsPerRow = that.gPref("PanelButtonTabsPerRow");
		that._pGroupsPerRow = that.gPref("PanelButtonGroupsPerRow");
		that._pVerticalOffset = that.gPref("PanelVerticalOffset");
		that._pTabsPerRowAuto = that.gPref("PanelButtonTabsPerRowAuto");
		that._pTabsPerRowAutoWidth = that.gPref("PanelButtonTabsPerRowAutoWidth");
		that._pOpenOnHoverDelay = that.gPref("PanelOpenOnHoverDelay");
		that._prevShowToolbar = that.gPref("TabPreviewShowToolbar");
		that._selectTabOnHover = that.gPref("PanelSelectTabOnHover");
		that._selectTabOnHoverDelay = that.gPref("PanelSelectTabOnHoverDelay");


		if (!(window[that._UID]["FrameScriptLoaded"]) && that._prevEnabled) {
			window[that._UID]["FrameScriptLoaded"] = true;
			that._frameScript = "data:application/javascript," + encodeURIComponent(getHelp("FrameScript")
				.replace(/_Update_Preview_ID_/g, that._updatePreviewMsgID)
				.replace(/_Scroll_Preview_ID_/g, that._scrollMsgID)
				.replace(/_Emulate_Preview_ID_/g, that._emulateMsgID)
				.replace(/_Response_ID_/g, that._responseMsgID + that._randomID));
			that._globalMM.loadFrameScript(that._frameScript, true);
			that._globalMM.addMessageListener(that._responseMsgID + that._randomID, that._messageResponse);
		}

		if (!(window[that._UID]["TabsContextEvaluated"])) {
			window[that._UID]["TabsContextEvaluated"] = true;
			let originalFunc = TabContextMenu.updateContextMenu;
			eval("TabContextMenu.updateContextMenu=" + originalFunc.toString().replace(": gBrowser.selectedTab;",
				": (aPopupMenu.triggerNode.localName === \"toolbarbutton\" && aPopupMenu.triggerNode.hasOwnProperty(\"tab\")) ? aPopupMenu.triggerNode.tab : gBrowser.selectedTab;"));
		}

		addDestructor(function(aReason) {
			if (aReason === "update" || aReason === "delete" || aReason === "destructor") {
				that.PanelFunctions._removeListeners();
				// A half-working nightmare!!! ¬¬
				// Frame scripts are not unloaded.
				window[that._UID]["FrameScriptLoaded"] = false;
				that._globalMM.removeDelayedFrameScript(that._frameScript);
				that._globalMM.removeMessageListener(that._responseMsgID + window[that._UID]["RandomID"], that._messageResponse);
				that.HandlePrefListener(true);
				let selfEls = document.getElementsByAttribute("cb_id", that._UID);
				Array.prototype.slice.call(selfEls).forEach(function(aEl) {
					aEl && aEl.parentNode.removeChild(aEl);
				});
				try {
					Services.obs.removeObserver(observer, "domwindowopened");
				} catch (aErr) {}
			}
			if (aReason === "delete" || aReason === "destructor") {
				that.HandleHotSpots(true);
				styleSheet(window[that._UID]["StyleSheet"], true);
				delete window[that._UID];
			}
			if (aReason === "delete") {
				(Services.prefs.getBranch(that.Branch)).deleteBranch("");
				Services.prefs.savePrefFile(null);
			}
		});

		setTimeout(function() {
			TabView._initFrame(); // Init this crap for the button to work. ¬¬
		}, 3000);

		that._handleInvertedImages();
	},

	_messageResponse: {
		receiveMessage: function(aMsg) {
			if (aMsg.name !== that._responseMsgID + that._randomID)
				return;
			that.canvas._scaleX = aMsg.data.scaleX;
			that.canvas._scaleY = aMsg.data.scaleY;
			that.canvas._scale = aMsg.data.scale;
			that.canvas.width = aMsg.data.width;
			that.canvas.height = aMsg.data.height;
			that._lastCanvasWidth = aMsg.data.width;
			that._lastCanvasHeight = aMsg.data.height;
			that.canvas.getContext("2d").putImageData(aMsg.data.imgData, 0, 0);
			that.tooltipLabel.style.maxWidth = aMsg.data.width + "px";
		},
	},

	HandleTabsContext: function() {
		if (!(window[that._UID]["TabsContextHandled"])) {
			window[that._UID]["TabsContextHandled"] = true;
			let tCtx = document.getElementById("tabContextMenu");
			let trigger = function(aE) {
				let isShowing = (aE.type === "popupshowing");
				isShowing && clearTimeout(that._hoverOpenPreviewTimer);
				isShowing && that.tooltip.hidePopup();
				Array.prototype.slice.call(this.getElementsByAttribute("_multisel", "*")).forEach(function(aMI) {
					if (that.selectedTabs.length > 0)
						aMI.hidden = false;
					else
						aMI.hidden = true;
				});
			};
			tCtx.addEventListener("popupshowing", trigger, false);
			tCtx.addEventListener("popuphidden", trigger, false);
			tCtx.appendChild($CNS("separator", {
				_multisel: true,
				hidden: true,
			}));
			let pinAll = tCtx.appendChild($CNS("menuitem", {
				label: "Pin/Unpin selected tabs",
				_multisel: true,
				class: "marked-for-invertion",
				hidden: true,
				oncommand: "event.preventDefault();event.stopPropagation();",
			}));
			pinAll.onclick = function(aE) {
				Array.prototype.slice.call(that.selectedTabs).forEach(function(aTabItem) {
					gBrowser[aTabItem.tab.pinned ? "unpinTab" : "pinTab"](aTabItem.tab);
				});
			};
			pinAll.style.listStyleImage = "var(--tabs-manager-css-global-image)";
			pinAll.style.MozImageRegion = "rect(0px, 96px, 16px, 80px)";
			let reloadAll = tCtx.appendChild($CNS("menuitem", {
				label: "Reload selected tabs",
				_multisel: true,
				class: "marked-for-invertion",
				hidden: true,
				oncommand: "event.preventDefault();event.stopPropagation();",
			}));
			reloadAll.onclick = function(aE) {
				Array.prototype.slice.call(that.selectedTabs).forEach(function(aTabItem) {
					gBrowser.reloadTab(aTabItem.tab);
				});
			};
			reloadAll.style.listStyleImage = "var(--tabs-manager-css-global-image)";
			reloadAll.style.MozImageRegion = "rect(0px, 48px, 16px, 32px)";
			let closeAll = tCtx.appendChild($CNS("menuitem", {
				label: "Close selected tabs",
				_multisel: true,
				hidden: true,
				oncommand: "event.preventDefault();event.stopPropagation();",
			}));
			closeAll.onclick = function(aE) {
				Array.prototype.slice.call(that.selectedTabs).forEach(function(aTabItem) {
					gBrowser.removeTab(aTabItem.tab, {
						animate: true
					});
				});
			};
			closeAll.style.listStyleImage = "var(--tabs-manager-css-global-image)";
			closeAll.style.MozImageRegion = "rect(0px, 224px, 16px, 208px)";
		}
	},

	CreateGroupsContext: function() {
		if (!(document.getElementById(that._UID + "-tabs-groups-box-context"))) {
			let mPop = document.getElementById("mainPopupSet").appendChild($CNS("menupopup", {
				id: that._UID + "-tabs-groups-box-context",
				cb_id: that._UID,
				oncontextmenu: "event.stopPropagation();",
				onpopuphiding: "event.stopPropagation();",
				onpopupshowing: "event.stopPropagation();",
				onclick: "event.preventDefault();event.stopPropagation();",
				consumeoutsideclicks: false,
				menugenerated: true,
			}));
			let renG = mPop.appendChild($CNS("menuitem", {
				label: "Rename group",
				class: "marked-for-invertion",
				oncommand: "event.stopPropagation();",
			}));
			renG.onclick = function(aE) {
				if (aE.button !== 0)
					return false;
				var node = document.popupNode;
				let gI = that.GroupItems.groupItem(node.getAttribute("groupid"));
				let value = promptme("Set a new title for this group.", gI.getTitle());
				if (value) {
					gI.setTitle(value);
					node.label = value;
					that._appendButtonsToGroupsBox(document.getElementById(that._UID + "-tabs-groups-box"));
				}
				aE.stopPropagation();
			};
			renG.style.listStyleImage = "var(--tabs-manager-css-global-image)";
			renG.style.MozImageRegion = "rect(0px, 240px, 16px, 224px)";
			let delG = mPop.appendChild($CNS("menuitem", {
				label: "Delete group",
				oncommand: "event.stopPropagation();",
			}));
			delG.onclick = function(aE) {
				if (aE.button !== 0)
					return false;
				if (that.GroupItems.groupItems.length > 1) {
					if (document.popupNode.getAttribute("checked") == "true") {
						Services.prompt.alert(null, self.name, "You can't delete a currently selected group.\n" +
							"Select another group and then delete this one.");
						return false;
					}
					let curGI = that.GroupItems.groupItem(document.popupNode.getAttribute("groupid"));
					let tabs = curGI._children;
					var destGI = (curGI === that.GroupItems.groupItems[0]) ? that.GroupItems.groupItems[1] : that.GroupItems.groupItems[0];
					try {
						for (var i = tabs.length - 1; i >= 0; i--)
							that._moveTabToGroupItem(gBrowser.mTabContainer.children[tabs[i].tab._tPos], destGI.id, true);
					} catch (aErr) {
						Cu.reportError(aErr)
					} finally {
						setTimeout(function() {
							curGI.destroy();
							that.GroupItems._updateTabBar();
							that._appendButtonsToGroupsBox(document.getElementById(that._UID + "-tabs-groups-box"));
							that._appendTabsToTabsBox(document.getElementById(that._UID + "-tabs-box"));
						}, 100);
					}
				} else
					Services.prompt.alert(null, self.name, "You can't delete the last remaining group!!!");
			};
			delG.style.listStyleImage = "var(--tabs-manager-css-global-image)";
			delG.style.MozImageRegion = "rect(0px, 224px, 16px, 208px)";
		}
	},

	CreateTabsTooltip: function() {
		var TT = that.tooltip;
		if (!TT) {
			let t = getHelp("TabsPreviewPanel");
			t = t.replace(/_U_I_D_/g, that._UID)
				.replace(/_S_E_L_F_I_D_/g, self.id);
			t = parseXML(t);
			document.getElementById("mainPopupSet").appendChild(t);
		}
	},

	OnTooltipOut: function(aE, aNode) {
		if (!that.tooltip.mozMatchesSelector(":hover"))
			that.tooltip.hidePopup();
		aE.stopPropagation();
	},

	OnTooltipHiding: function(aE, aNode) {
		that._tab.linkedBrowser.removeEventListener("MozAfterPaint", that.PreviewFunctions.OnMozAfterPaint, false);
		that._tab = null;
		that._resetPreview();
		that._resetTitle();
		clearTimeout(that._hoverOpenPreviewTimer);
		that.tooltip.removeAttribute("_open");
		aE.stopPropagation();
	},

	PopulateTabsTooltip: function(aE, aNode) {
		if (that._tab.localName !== "tab")
			aE.preventDefault();
		var b = that._tab.linkedBrowser;
		if (!b)
			aE.preventDefault();
		if (that._prevDoNotAllow)
			aE.preventDefault();

		that._updateTitle();
		let tBar = that.toolbar;
		tBar.hidden = true;
		let canvas = that.canvas;
		canvas.hidden = true;
		aNode.setAttribute("_open", "true");

		if (that._prevShowToolbar)
			tBar.hidden = false;
		if (!that._prevEnabled)
			return true;
		if (that._prevRequireControlKey && !that._ctrlKeyPressed)
			return true;
		if (that._prevEnabled)
			canvas.hidden = false;
		else
			return true;
		that._tab.linkedBrowser.addEventListener("MozAfterPaint", that.PreviewFunctions.OnMozAfterPaint, false);
		that._ensureTabIsRestored();
		that._updatePreview();
		return true;
	},

	_openDelayedTooltip: function(aE) {
		if (!that._prevRequireControlKey && that._ctrlKeyPressed)
			return;
		var anotherPopupOpen = !!document.popupNode;
		if (!aE.target.mozMatchesSelector(":hover") || anotherPopupOpen)
			return;
		if (document.documentElement.mozMatchesSelector(":-moz-window-inactive"))
			return;

		if (!that._hoverOpenPreviewTimer && that.tooltip.state === "open") {
			if (that._tab.hasAttribute("pending"))
				that._updatePreview();
			return;
		}
		clearTimeout(that._hoverOpenPreviewTimer);
		that._hoverOpenPreviewTimer = setTimeout(function() {
			that.tooltip.openPopup(aE.target, "", 0, 0, false, false);
		}, that._prevShowDelay);
	},

	_ensureTabIsRestored: function() {
		let ensure = that._prevLoadUnloadedTabs;
		let reload = function(aEnsure) {
			if (aEnsure)
				that._tab.linkedBrowser.reload();
			else
				that.canvas.height = 0;
		};
		if ("unloadTabObj" in window && that._tab.hasAttribute("uT_tabUnload"))
			reload(ensure);
		if (that._tab.linkedBrowser.__SS_restoreState === 1)
			reload(ensure);
	},

	_updatePreview: function() {
		// The timer is to avoid triggering _updatePreview() a million times per second!!
		clearTimeout(that._updatePreviewTimer);
		that._updatePreviewTimer = setTimeout(function() {
			if (!that.tooltip)
				return false;
			if (!that._tab)
				return false;
			let zoomFactor = that._prevZoomedIn ? 1 + parseInt(that._prevZoomFactor / 100, 10) : 1;
			let cW = parseInt(that._prevWidth, 10) * zoomFactor;
			let cH = parseInt(that._prevHeight, 10) * zoomFactor;
			// that.tooltipLabel.style.maxWidth = cW + "px"; // "Fix" to avoid large label to resize the entire preview.
			if (that._tab.getAttribute("pending") == "true") {
				that._resetPreview();
				if (that._prevLoadUnloadedTabs) {
					let temp = that._prevAutomaticSizePercentage / 100;
					that.canvas.width = that._lastCanvasWidth || window.content.innerWidth * temp;
					that.canvas.height = that._lastCanvasHeight || window.content.innerHeight * temp;
				}
				return;
			}
			if (!that._tab.linkedBrowser)
				return;
			that._tab.linkedBrowser.messageManager.sendAsyncMessage(that._updatePreviewMsgID, {
				msgID: that._updatePreviewMsgID,
				auto: that._prevAutomaticSize,
				autoPercentage: that._prevAutomaticSizePercentage,
				zoomFactor: zoomFactor,
				width: cW,
				height: cH
			});
			if (that._prevShowToolbar)
				that.PreviewFunctions._updateToolbar();
		}, 15);
	},

	_resetPreview: function() {
		that.tooltip.removeAttribute("width");
		that.tooltip.removeAttribute("height");
		var canvas = that.canvas;
		var ctx = canvas.getContext("2d");
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		canvas.removeAttribute("width");
		canvas.height = 0;
	},

	_updateTitle: function(aBtn) {
		let lbl = that.tooltipLabel;
		let uri = that._tab.linkedBrowser.currentURI.spec;
		if (aBtn) {
			aBtn.setAttribute("tooltiptext", aBtn.label + "\n" + uri);
			return true;
		}
		lbl.value = that._tab.label;
		lbl.setAttribute("tooltiptext", lbl.value + "\n" + uri);
		lbl.style.maxWidth = that._prevWidth.toString() + "px";
	},

	_resetTitle: function() {
		let lbl = that.tooltipLabel;
		lbl.value = "";
		lbl.removeAttribute("tooltiptext");
		lbl.style.maxWidth = "0px";
		XULBrowserWindow.setOverLink("", null);
	},

	TabsProgressListenerForPanel: {
		onStateChange: function(aBrowser) {
			let tab = gBrowser.getTabForBrowser(aBrowser);
			if (!tab)
				return;
			if (!that.panel || that.panel.state !== "open")
				return;
			that._setButtonAttributes(tab.mCorrespondingMenuitem, tab);
		},
	},

	TabsProgressListenerForPreview: {
		onStateChange: function(aBrowser) {
			if (!that._tab)
				return;
			if (aBrowser !== that._tab.linkedBrowser)
				return;
			if (!that.tooltip || that.tooltip.state !== "open")
				return;
			that._updatePreview();
		},

		onLocationChange: function(aBrowser) {
			if (!that._tab)
				return;
			if (aBrowser !== that._tab.linkedBrowser)
				return;
			if (!that.tooltip || that.tooltip.state !== "open")
				return;
			that.PreviewFunctions._updateToolbar();
		},
	},

	HandleOpenOnHover: function() {
		if (that.gPref("PanelOpenOnHover")) {
			self.onmouseover = function(aE) {
				that.OnHotSpotMouseOver(aE);
			};
			self.onmouseout = function(aE) {
				that.OnHotSpotMouseOut(aE);
			};
		} else {
			self.onmouseover = null;
			self.onmouseout = null;
		}
	},

	HandleOptionsBox: function() {
		let hasNodes = that.optionsBox.hasChildNodes();
		if (hasNodes) {
			that.PopulateOptionsBox(true);
			document.getElementById(that._UID + "-inline-options-button").setAttribute("_checked", false);
		} else {
			that.PopulateOptionsBox(false);
			document.getElementById(that._UID + "-inline-options-button").setAttribute("_checked", true);
		}
	},

	PopulateOptionsBox: function(aDel) {
		let optB = that.optionsBox;
		optB.textContent = "";
		if (aDel)
			return false;
		let o = getHelp("OptionsBox");
		o = o.replace(/_U_I_D_/g, that._UID)
			.replace(/_S_E_L_F_I_D_/g, self.id);
		o = parseXML(o);
		// Styling in-line doesn't freaking work!!! ¬¬
		//o.style.display = "block"; // This breaks "spacers flex 1". ¬¬
		o.style.overflowX = "auto"; // "overflow" alone doesn't work either! ¬¬
		o.style.overflowY = "auto";
		//o.style.maxWidth = (that.panelWidth - 100) + "px";
		optB.appendChild(o);

		Array.prototype.slice.call(optB.getElementsByTagName("textbox")).forEach(function(aTBox) {
			let pref = aTBox.getAttribute("_pref");
			aTBox.value = that.gPref(pref);
			aTBox.style.listStyleImage = "none"; // Remove stupid wrong icons. ¬¬
			aTBox.onchange = function(aE) {
				let tBox = this;
				if (pref === "PanelVerticalOffset") {
					let panel = that.panel;
					let curVal = that._pVerticalOffset;
					let tBoxVal = tBox.value;
					let deltaY = parseInt(tBoxVal, 10) - parseInt(curVal, 10);
					panel.moveTo(parseInt(panel.boxObject.screenX, 10), parseInt(panel.boxObject.screenY + deltaY, 10))
				}
				setTimeout(function() {
					that.sPref(pref, parseInt(tBox.value, 10));
				}, 10);
			};
		});

		Array.prototype.slice.call(optB.getElementsByTagName("checkbox")).forEach(function(aCBox) {
			aCBox.checked = that.gPref(aCBox.getAttribute("_pref"));
			aCBox.onclick = function(aE) {
				let pref = aE.target.getAttribute("_pref");
				let val = that.gPref(pref);
				that.sPref(pref, !val);
				that._checkPrevOptVis(optB);
				that._checkTabsPerRowOptVis(optB);
				aE.stopPropagation();
			};
		});

		that._checkPrevOptVis(optB);
		that._checkTabsPerRowOptVis(optB);

		Array.prototype.slice.call(optB.getElementsByTagName("radiogroup")).forEach(function(aRadG) {
			let pref = aRadG.getAttribute("_pref");
			aRadG.selectedIndex = that.gPref(pref);
			aRadG.onselect = function(aE) {
				setTimeout(function() {
					that.sPref(pref, aE.target.selectedIndex);
				}, 10);
			};
		});
	},

	_checkTabsPerRowOptVis: function(aOptB) {
		Array.prototype.slice.call(aOptB.getElementsByAttribute("_auto_tab", "*")).forEach(function(aOptEl) {
			let auto = that.gPref("PanelButtonTabsPerRowAuto");
			if (aOptEl.getAttribute("_auto_tab") == "true")
				aOptEl.hidden = !auto;
			else
				aOptEl.hidden = auto;
		});
	},

	_checkPrevOptVis: function(aOptB) {
		let prevEnabled = that.gPref("TabPreviewEnabled");
		Array.prototype.slice.call(aOptB.getElementsByAttribute("_preview", "*")).forEach(function(aOptEl) {
			aOptEl.hidden = !prevEnabled;
		});
		if (!prevEnabled)
			return true;
		Array.prototype.slice.call(aOptB.getElementsByAttribute("_preview_size", "*")).forEach(function(aOptEl) {
			let auto = that.gPref("TabPreviewAutomaticSize");
			if (aOptEl.getAttribute("_preview_size") == "true")
				aOptEl.hidden = !auto;
			else
				aOptEl.hidden = auto;
		});
	},

	CreateMainPanel: function() {
		var panel = that.panel;
		if (!panel) {
			let p = getHelp("MainPanel");
			p = p.replace(/_U_I_D_/g, that._UID)
				// .replace(/_W_I_D_T_H_/g, that.panelWidth)
				.replace(/_N_O_H_I_D_E_/g, that.gPref("PanelKeepItOpen"))
				.replace(/_S_E_L_F_I_D_/g, self.id);
			p = parseXML(p);
			document.getElementById("mainPopupSet").appendChild(p);
		}
	},

	_reloadTab: function(aTab, aE) {
		if (aE.target.getAttribute("_loading") == "true") {
			aTab.linkedBrowser.stop();
			return;
		}
		if (aE.shiftKey) {
			let flags = Ci.nsIWebNavigation.LOAD_FLAGS_BYPASS_PROXY |
				Ci.nsIWebNavigation.LOAD_FLAGS_BYPASS_CACHE;
			aTab.linkedBrowser.reloadWithFlags(flags);
		} else {
			aTab.linkedBrowser.reload();
		}
	},

	PreviewFunctions: {
		OnClick: function(aE) {
			if (aE.target.localName === "canvas")
				that.PreviewFunctions._performAction("emulate", aE);
		},

		OnCommand: function(aE) {
			that.PreviewFunctions._performAction(aE.target.label, aE);
		},

		OnMozAfterPaint: function(aE) {
			if (aE.clientRects.length > 0)
				that._updatePreview();
		},

		OnDOMScroll: function(aE) {
			aE.preventDefault();
			aE.stopPropagation();
			if (that._prevAutomaticSize && !that.canvas._scaleX && !that.canvas._scaleY)
				return;
			if (!that._prevAutomaticSize && !that.canvas._scale)
				return;
			let rect = that.canvas.getBoundingClientRect();
			that._tab.linkedBrowser.messageManager.sendAsyncMessage(that._scrollMsgID, {
				x: (aE.clientX - rect.left) / (that._prevAutomaticSize ? that.canvas._scaleX : that.canvas._scale),
				y: (aE.clientY - rect.top) / (that._prevAutomaticSize ? that.canvas._scaleY : that.canvas._scale),
				lines: aE.detail,
				ctrlKey: aE.ctrlKey,
				shiftKey: aE.shiftKey,
			});
			that._updatePreview();
		},

		_performAction: function(aCmd, aE) {
			switch (aCmd) {
				case "back":
					that._tab.linkedBrowser.goBack();
					return;
				case "forward":
					that._tab.linkedBrowser.goForward();
					return;
				case "reload":
					that._reloadTab(that._tab, aE);
					return;
				case "pin":
					gBrowser[that._tab.pinned ? "unpinTab" : "pinTab"](that._tab);
					that._appendTabsToTabsBox(document.getElementById(that._UID + "-tabs-box"));
					break;
				case "close":
					gBrowser.removeTab(that._tab, {
						animate: true
					});
					break;
				case "zoom":
					that._prevZoomedIn = !that._prevZoomedIn;
					that._resetPreview();
					that._updatePreview();
					return;
				case "emulate":
					var elt;
					try {
						elt = that.PreviewFunctions._elementFromPointOnPreview(aE);
					} catch (aErr) {
						elt = null;
					}
					if (elt && elt.namespaceURI === xulns) { // For XUL content only.
						let view = elt.ownerDocument.defaultView;
						if (elt.localName === "button")
							elt.doCommand();
						else if (elt.localName === "checkbox")
							elt.checked = !elt.checked;
						else {
							elt.dispatchEvent(new view.MouseEvent("mousedown", { // "click" event doesn't work on XUL content. ¬¬
								view: view,
								cancelable: true,
								bubbles: true,
								button: aE.button,
								ctrlKey: aE.ctrlKey,
								altKey: aE.altKey,
								shiftKey: aE.shiftKey,
								metaKey: aE.metaKey
							}));
						}
					} else { // For web page content only.
						if (that._prevAutomaticSize && !that.canvas._scaleX && !that.canvas._scaleY)
							return;
						if (!that._prevAutomaticSize && !that.canvas._scale)
							return;
						var rect = that.canvas.getBoundingClientRect();
						var x = (aE.clientX - rect.left) / (that._prevAutomaticSize ? that.canvas._scaleX : that.canvas._scale);
						var y = (aE.clientY - rect.top) / (that._prevAutomaticSize ? that.canvas._scaleY : that.canvas._scale);
						that._tab.linkedBrowser.messageManager.sendAsyncMessage(that._emulateMsgID, {
							x: x,
							y: y,
							type: "click", // "mousedown" event doesn't work on web content. ¬¬
							button: aE.button,
							ctrlKey: aE.ctrlKey,
							altKey: aE.altKey,
							shiftKey: aE.shiftKey,
							metaKey: aE.metaKey
						});
					}
					that._updatePreview();;
					return;
				default:
					return;
			}
			that.tooltip.hidePopup();
		},

		_updateToolbar: function() {
			var toolbar = that.toolbar;
			if (toolbar.hidden)
				return;
			if (toolbar.collapsed)
				toolbar.collapsed = false;
			var browser = that._tab.linkedBrowser;
			document.getElementById(that._UID + "-tabs-preview-back-button").disabled = !browser.canGoBack;
			document.getElementById(that._UID + "-tabs-preview-forward-button").disabled = !browser.canGoForward;
			var button = document.getElementById(that._UID + "-tabs-preview-reload-button");
			if (!button.hidden)
				button.setAttribute("_loading", browser.webProgress.isLoadingDocument);
			button = document.getElementById(that._UID + "-tabs-preview-pin-button");
			if (!button.hidden)
				button.setAttribute("_active", that._tab.pinned);
			button = document.getElementById(that._UID + "-tabs-preview-zoom-button");
			if (!button.hidden)
				button.setAttribute("_active", that._prevZoomedIn);
		},


		_elementFromPointOnPreview: function(aE) {
			var rect = that.canvas.getBoundingClientRect();
			var x = (aE.clientX - rect.left) / (that._prevAutomaticSize ? that.canvas._scaleX : that.canvas._scale);
			var y = (aE.clientY - rect.top) / (that._prevAutomaticSize ? that.canvas._scaleY : that.canvas._scale);
			var win = that._tab.linkedBrowser.contentWindow;
			var elt = win.document.elementFromPoint(x, y);
			if (!elt)
				elt = win.QueryInterface(Ci.nsIInterfaceRequestor).
			getInterface(Ci.nsIDOMWindowUtils).
			elementFromPoint(x, y, true, false);
			if (!elt)
				elt = win.document.body || win.document.documentElement;
			while (/^i?frame$/.test(elt.localName.toLowerCase())) {
				x -= elt.getBoundingClientRect().left;
				y -= elt.getBoundingClientRect().top;
				elt = elt.contentDocument.elementFromPoint(x, y);
			}
			return elt;
		},
	},

	PanelFunctions: {
		OnPanelHidden: function(aE, aNode) {
			aNode.height = 0;
			aNode.width = 0;
			that.PanelFunctions._removeListeners();
			that.tooltip.hidePopup();
			aE.stopPropagation();
		},

		_removeListeners: function() { // Outside of OnPanelHidden so I can call it from onDestroy().
			let tabcontainer = gBrowser.tabContainer;
			tabcontainer.removeEventListener("TabAttrModified", that.tabContainerListener, false);
			tabcontainer.removeEventListener("TabClose", that.tabContainerListener, false);
			tabcontainer.removeEventListener("TabOpen", that.tabContainerListener, false);
			tabcontainer.removeEventListener("TabPinned", that.tabContainerListener, false);
			tabcontainer.removeEventListener("TabUnpinned", that.tabContainerListener, false);
			that.canvas.removeEventListener("click", that.PreviewFunctions.OnClick, true);
			that.canvas.removeEventListener("DOMMouseScroll", that.PreviewFunctions.OnDOMScroll, false);
			if (that._tab)
				that._tab.linkedBrowser &&
				that._tab.linkedBrowser.removeEventListener("MozAfterPaint", that.PreviewFunctions.OnMozAfterPaint, false);
			gBrowser.removeTabsProgressListener(that.TabsProgressListenerForPanel);
			gBrowser.removeTabsProgressListener(that.TabsProgressListenerForPreview);
		},

		OnPanelShowing: function(aE, aPanel) {
			aPanel.width = that.panelWidth;
			aPanel.maxWidth = that.panelWidth;
			let tabcontainer = gBrowser.tabContainer;
			tabcontainer.addEventListener("TabAttrModified", that.tabContainerListener, false);
			tabcontainer.addEventListener("TabClose", that.tabContainerListener, false);
			tabcontainer.addEventListener("TabOpen", that.tabContainerListener, false);
			tabcontainer.addEventListener("TabPinned", that.tabContainerListener, false);
			tabcontainer.addEventListener("TabUnpinned", that.tabContainerListener, false);
			gBrowser.addTabsProgressListener(that.TabsProgressListenerForPanel);
			if (that._prevEnabled) {
				// Doesn't matter wich event to listen to. "click" doesn't work on XUL content and "mousedown" doesn't work on web content.
				// The correct event to use is defined in the "emulate" case of _performAction function.
				if (that._prevSendClicks)
					that.canvas.addEventListener("click", that.PreviewFunctions.OnClick, true);
				if (that._prevSendScroll)
					that.canvas.addEventListener("DOMMouseScroll", that.PreviewFunctions.OnDOMScroll, false);
				gBrowser.addTabsProgressListener(that.TabsProgressListenerForPreview);
			}
			that._appendButtonsToGroupsBox(document.getElementById(that._UID + "-tabs-groups-box"));
			that._appendTabsToTabsBox(document.getElementById(that._UID + "-tabs-box"));
			let optB = that.optionsBox.hasChildNodes();
			document.getElementById(that._UID + "-inline-options-button").setAttribute("_checked", optB);
			optB && that.PopulateOptionsBox(false);
			that.PanelFunctions.HandleGroupsElements();
			aE.stopPropagation();
		},

		AddGroupBtn: function(aE) {
			if (aE.button !== 0)
				return false;
			that.GroupItems.newGroup().newTab();
			setTimeout(function() {
				that._appendButtonsToGroupsBox(document.getElementById(that._UID + "-tabs-groups-box"));
			}, 100);
			aE.stopPropagation();
		},

		OnItemClick: function(aE) {
			clearTimeout(that._selectTabOnHoverTimer);
			clearTimeout(that._hoverOpenPreviewTimer);
			that.tooltip.hidePopup();
			if (aE.button === 2)
				return true;
			var btn = aE.target;
			var tab = btn.tab;
			if (btn.localName !== "toolbarbutton" || !tab)
				return false;
			if (aE.button === 0 && !aE.shiftKey && aE.ctrlKey && !aE.altKey)
				that.PanelFunctions._multiSelectTab(btn, tab);
			else if (aE.button === 0 && !aE.shiftKey && !aE.ctrlKey && !aE.altKey)
				gBrowser.tabContainer._notifyBackgroundTab(gBrowser.selectedTab = tab)
			else if (aE.button === 1 && !aE.shiftKey && !aE.ctrlKey && !aE.altKey) {
				switch (that._pMiddleClickOnTabAction) {
					case 0: // Close tab
						gBrowser.removeTab(tab);
						break;
					case 1: // Reload tab
						that._reloadTab(tab, aE);
						setTimeout(function() {
							that._setButtonAttributes(btn, tab);
						}, 10);
						break;
					case 2: // Multi-select tab
						that.PanelFunctions._multiSelectTab(btn, tab);
						break;
					default:
						Services.prompt.alert(null, self.name, "You manually changed the preference" +
							" called \"PanelMiddleClickOnTabAction\" to an invalid value!!!\n" +
							"Go to " + self.name + " options page and reset that preference, then" +
							"choose the action you want from the in-line options inside the main panel.");
						break;
				}
			}
			aE.stopPropagation();
		},

		_multiSelectTab: function(aBtn, aTab) {
			if (aBtn.hasAttribute("_multisel")) {
				aBtn.removeAttribute("_multisel");
				if (gBrowser.selectedTab !== aTab)
					aBtn.removeAttribute("checked");
			} else {
				aBtn.removeAttribute("type"); // Remove to avoid checked state. ¬¬
				aBtn.removeAttribute("group"); // Remove to avoid checked state. ¬¬
				aBtn.setAttribute("_multisel", true);
				if (gBrowser.selectedTab !== aTab)
					aBtn.removeAttribute("checked");
			}
		},

		OnMouseMoveItem: function(aE) {
			var btn = aE.target;
			var tab = btn.tab;
			if (btn.localName !== "toolbarbutton" || !tab)
				return false;
			that._tab = tab;
			if (!that._prevEnabled && !that._prevShowToolbar)
				return false;
			that.tooltip.removeAttribute("width");
			that.tooltip.removeAttribute("height");
			that._ctrlKeyPressed = aE.ctrlKey;
			that._openDelayedTooltip(aE);
			aE.stopPropagation();
		},

		OnMouseOverItem: function(aE) {
			var btn = aE.target;
			var tab = btn.tab;
			if (btn.localName !== "toolbarbutton" || !tab)
				return false;
			try {
				XULBrowserWindow.setOverLink(tab.linkedBrowser.currentURI.spec, null);
			} catch (aErr) {}
			if (gBrowser._removingTabs.indexOf(tab) > -1)
				return true;
			if (that._selectTabOnHover) {
				clearTimeout(that._selectTabOnHoverTimer);
				that._selectTabOnHoverTimer = setTimeout(function() {
					gBrowser.selectedTab = tab;
				}, that._selectTabOnHoverDelay);
				return true;
			}
			that._tab = tab;
			if (!that._prevEnabled && !that._prevShowToolbar) {
				that._updateTitle(btn);
				return false;
			}
			if (!that._prevEnabled)
				return true;
			tab.linkedBrowser.removeEventListener("MozAfterPaint", that.PreviewFunctions.OnMozAfterPaint, false);
			if (!that._hoverOpenPreviewTimer && that.tooltip.state === "open")
				that.tooltip.hidePopup();
			that._ctrlKeyPressed = aE.ctrlKey;
			tab.linkedBrowser.addEventListener("MozAfterPaint", that.PreviewFunctions.OnMozAfterPaint, false);
			that._updatePreview();
			aE.stopPropagation();
		},

		OnMouseOutItem: function(aE) {
			aE.preventDefault();
			var btn = aE.target;
			var tab = btn.tab;
			if (btn.localName !== "toolbarbutton" || !tab)
				return false;
			that._ctrlKeyPressed = aE.ctrlKey;
			XULBrowserWindow.setOverLink("", null);
			clearTimeout(that._selectTabOnHoverTimer);
			clearTimeout(that._hoverOpenPreviewTimer);
			var x = aE.screenX,
				y = aE.screenY;
			if (that._tooltipAllowHovering && that.tooltip.state === "open") {
				let box = that.tooltip.boxObject;
				if (box.screenX <= x && x < box.screenX + box.width &&
					box.screenY <= y && y < box.screenY + box.height)
					return;
			}
			that.tooltip.hidePopup();
			aE.stopPropagation();
		},

		HandleGroupsElements: function() {
			Array.prototype.slice.call(that.panel.getElementsByAttribute("_group", "*")).forEach(function(aEl) {
				aEl.collapsed = that._pHideGroupsRow;
			});
			document.getElementById(that._UID + "-hide-groups-box-button").setAttribute("_checked", !that._pHideGroupsRow);
		},

		toggleGroupButtons: function() {
			that.sPref("PanelHideGroupsRow", !that._pHideGroupsRow);
		},
	},

	togglePanel: function() {
		var panel = that.panel;
		if (panel) {
			if (panel.state === "open")
				panel.hidePopup();
			else
				panel.openPopup(that.panelAnchor, that.panelPosition, 0, that._pVerticalOffset, false, false, null);
		}
	},

	openOptions: {
		Init: function() {
			var url = "about:config?filter=" + that.Branch;
			var onDocLoad = function onDocLoad(aE) {
				window.removeEventListener("DOMContentLoaded", onDocLoad, true);
				that.openOptions.loadDesc(aE);
			};
			if (that.gPref("OpenOptionsInTab") && ("gBrowser" in window)) {
				let tab = gBrowser.visibleTabs.find(tab => tab.linkedBrowser.currentURI.spec === url);
				!!tab || window.addEventListener("DOMContentLoaded", onDocLoad, true);
				gBrowser.selectedTab = tab || gBrowser.addTab(url);
			} else {
				let observer = {
					observe: function(aSubject, aTopic, aData) {
						aSubject.addEventListener("load", function _(aE) {
							Services.obs.removeObserver(observer, "domwindowopened");
							aE.target.removeEventListener("load", _, false);
							that.openOptions.loadDesc(aE);
						}, true);
					},
				};
				let win = Services.wm.getMostRecentWindow("Preferences:ConfigManager");
				if (win) {
					win.focus();
					return;
				}
				Services.obs.addObserver(observer, "domwindowopened", false);
				setTimeout(function() {
					toOpenWindowByType("Preferences:ConfigManager", url);
				}, 10);
			}
		},

		loadDesc: function(aE) {
			const ROOT = that.Branch;

			var doc = aE.target,
				win;
			if (!doc && !(doc.location.href.startsWith("chrome://global/content/config.xul") ||
					doc.location.href.startsWith("about:config")))
				return;
			if (!doc.getElementById("configTree"))
				return;
			win = doc.defaultView;

			var curTab = document.getElementsByTagName("tab");
			for (let i = curTab.length - 1; i >= 0; i--) {
				if (curTab[i].selected) {
					let newLabel = self.name + " preference window.";
					curTab[i].setAttribute("visibleLabel", newLabel);
					curTab[i].setAttribute("label", newLabel);
				}
			}
			var tB = win.document.getElementById("textbox");
			tB.value = ROOT;
			tB.doCommand();
			tB.setAttribute("readonly", true);
			setTimeout(function() {
				var tree = win.document.getElementById("configTree");
				var treecols = tree.firstChild;
				var newSplit = win.document.createElement("splitter");
				newSplit.setAttribute("class", "tree-splitter");
				var newCol = win.document.createElement("treecol");
				newCol.setAttribute("id", "descCol");
				newCol.setAttribute("label", "Description");
				newCol.setAttribute("flex", 12);
				treecols.appendChild(newSplit);
				treecols.appendChild(newCol);
				var prefsArr = win.gPrefArray;
				for (let i = prefsArr.length - 1; i >= 0; i--) {
					if (prefsArr[i].prefCol.match(ROOT)) {
						var prefName = prefsArr[i].prefCol;
						let prefDesc = that.openOptions.optionsDesc[prefName.slice(ROOT.length)];
						prefsArr[i].descCol = prefDesc;
					}
				}
				let branch = Services.prefs.getDefaultBranch(that.Branch);
				var prefListener = {
					observe: function(subject, topic, prefName) {
						if (topic !== "nsPref:changed")
							return;
						window.setTimeout(function() {
							var prefObj = win.gPrefHash[prefName];
							if (!prefObj)
								return;
							var viewIndex = win.getViewIndexOfPref(prefObj);
							var arrayIndex = win.getIndexOfPref(prefObj);
							let prefDesc = that.openOptions.optionsDesc[prefName.slice(ROOT.length)];
							win.gPrefArray[arrayIndex].descCol = prefDesc;
							if (viewIndex >= 0) {
								win.gPrefView[viewIndex] = win.gPrefArray[arrayIndex];
								tree.treeBoxObject.invalidateRow(viewIndex);
							}
						}, 100);
					}
				};
				branch.addObserver("", prefListener, false);
				let unLoad = function unLoad() {
					win.removeEventListener("unload", unLoad, false);
					branch.removeObserver("", prefListener);
				};
				win.addEventListener("unload", unLoad, false);
			}, 250);
		},

		optionsDesc: {
			ButtonImage: "Change the button image.\n0 = Custom image. 'Edit Button...' > Image sec" +
				"tion.\n1 = Dark icon.\n2 = Light icon.",
			MaxIconSizeForTabButtonsInPanel: "Each 'tab item' in the grid will display the site's " +
				"favicon. This option allows to set a custom fixed size for those icons.",
			OpenOptionsInTab: "If enabled, the options page for this button will be opened in a ne" +
				"w tab. If disabled, it will open a new window.",
			PanelButtonGroupsPerRow: "How many groups buttons per row should the grid display.\nDe" +
				"fault: 8",
			PanelButtonTabsPerRow: "How many tabs per row should the grid display.\nMinimum: 5 tab" +
				"s per row\nMaximum: 30 tabs per row\nDefault: 10",
			PanelButtonTabsPerRowAuto: "The amount of tabs per row will be automatically calculate" +
				"d based on the 'PanelButtonTabsPerRowAutoWidth' option.",
			PanelButtonTabsPerRowAutoWidth: "Width used to calculate the amount of tabs per row in" +
				"side the main panel (if 'PanelButtonTabsPerRowAuto' is enabled).\nMinimum: 100px." +
				"\nMaximum: 250px.",
			PanelHideGroupsRow: "When there is just one group of tabs, hide the groups row from th" +
				"e main panel.",
			PanelInvertDarkIcons: "Almost all icons used by this button are dark/black. With this " +
				"option enabled, a white filter will be applyed to those icons so they are actuall" +
				"y seen on dark themes.",
			PanelKeepItOpen: "By default, the panel will close whenever its focus is lost or by pr" +
				"essing the Escape key. With this option enabled, the panel will ONLY close when y" +
				"ou tell it to by pressing this button or toggling the panel with the hotkey (" +
				"if any).",
			PanelListOfHotSpotsIDs: "Comma separated list of elements IDs. When you hover over thi" +
				"s elements, the panel will automatically open.\nExample: 'urlbar-container,tabbro" +
				"wser-tabs'. The main panel will open when you hover over the URL bar and/or the t" +
				"ab bar.",
			PanelOpenOnHover: "If enabled, it will allow you to open the main panel by just hoveri" +
				"ng over this button.",
			PanelOpenOnHoverDelay: "Delay in milliseconds for the 'OpenPanelOnHover' option.",
			PanelSelectTabOnHover: "If enabled, it will allow you to select the tab while hovering" +
				" over the 'tabs items' inside the main panel.",
			PanelSelectTabOnHoverDelay: "Delay in milliseconds for the 'SelectTabOnHover' option.",
			PanelShowPinnedTabs: "If enabled, it will also display the pinned tabs inside the main" +
				" panel.\nDefault: disabled/false",
			PanelVerticalOffset: "Vertical distance from the top of the main panel in relation to " +
				"its anchor (the default anchor is the 'Navigation toolbar').",
			PanelMiddleClickOnTabAction: "Choose what action to perform when middle-clicking on a " +
				"tab item on the main panel.\n0 = Close tab\n1 = Reload tab\n2 = Multi select tabs.",
			TabPreviewAutomaticSize: "Ignore the fixed preview width/height and size it based on a" +
				" percentage of the actual page content size.",
			TabPreviewAutomaticSizePercentage: "Tabs preview size percentage in relation to the pa" +
				"ge content size.&#xA;Minimum: 10%.&#xA;Maximum: 100%.",
			TabPreviewEnabled: "If enabled, it will display a live preview of the content of the t" +
				"ab while hovering over any 'tab item' inside the main panel.",
			TabPreviewLoadUnloadedTabs: "If enabled, and if the tab is not loaded yet, it will rel" +
				"oad that tab and the preview will be updated.",
			TabPreviewRequireControlKey: "If enabled, the tab preview will be displayed only if th" +
				"e control key is pressed.",
			TabPreviewSendClicks: "If enabled, it will send clicks 'through the preview' to be han" +
				"dled by the page content.",
			TabPreviewSendScroll: "If enabled, it will allow you to scroll the page content 'throu" +
				"gh the preview' and the preview will be updated." +
				"\nScroll with no modifiers: Scroll page content vertically by lines." +
				"\nCtrl + Scroll: Scroll page content vertically by pages." +
				"\nShift + Scroll: Scroll page content horizontally." +
				"\nCtrl + Shift + Scroll: Scroll page content horizontally by content width. This " +
				"is an intent to emulate the vertical Scroll by pages.",
			TabPreviewShowDelay: "Delay in milliseconds for the tab preview to display.\nDefault: 200",
			TabPreviewShowToolbar: "If enabled, the tab preview will have a toolbar with some acti" +
				"ons available to perform on the tab belonging to that preview.\nAvailable actions" +
				" are: Go back a page, Go forward a page, Reload page, Pin tab, Zoom preview and Close tab.",
			TabPreviewWidth: "Size in pixels for the tab preview width.\nMinimum: 100 pixels\nMaxi" +
				"mum: 2000 pixels\nDefault: 360 pixels",
			TabPreviewHeight: "Size in pixels for the tab preview height.\nMinimum: 100 pixels\nMa" +
				"ximum: 2000 pixels\nDefault: 225 pixels",
			TabPreviewZoomFactor: "Zoom factor in percentage.\nMinimum: 5%\nMaximum: 500%\nDefault: 100%",
		}
	},

	_appendButtonsToGroupsBox: function(aGBox) {
		aGBox.textContent = "";
		var groups = that.GroupItems.groupItems;
		var breakPoint = 0;
		var btnPerRow = that._pGroupsPerRow;
		var btnWidth = ((that.panelWidth - 100) / btnPerRow) - 2;
		var count = 0;
		var createRow = function(aArr) {
			let hbox = aGBox.appendChild($CNS("hbox", {
				align: "center"
			}));
			var g = 0,
				aLen = aArr.length;
			for (; g < aLen; g++) {
				let gI = aArr[g];
				let title = gI.getTitle();

				if (!title.trim()) {
					count++;
					title = "Unnamed group #" + count;
					gI.setTitle(title);
				}

				let btn = $CNS("toolbarbutton", {
					label: "(" + gI._children.length + ") " + title,
					type: "radio",
					maxwidth: parseInt(btnWidth, 10),
					class: "tabs-groups-button",
					group: that._UID + "-groups-radio-group",
					tooltiptext: title,
					groupid: gI.id,
					checked: that.GroupItems.getActiveGroupItem() === gI,
					autocheck: false,
					ondragover: "document.getElementById('" + self.id + "').TabsManager.DragAndDropHandler.onDragOver(event);",
					ondrop: "document.getElementById('" + self.id + "').TabsManager.DragAndDropHandler.onDrop(event);",
					oncommand: "event.stopPropagation();",
					crop: "end",
				});

				btn.onclick = function(aE) {
					if (aE.button === 0 && !aE.shiftKey && !aE.ctrlKey && !aE.altKey) {
						Array.prototype.slice.call(aE.target.parentNode.parentNode.getElementsByTagName("toolbarbutton")).forEach(function(aBtn) {
							(aBtn !== aE.target) && (aBtn.checked = false);
						});
						that._setGroup(gI.id);
					}
					aE.stopPropagation();
				};
				hbox.appendChild(btn);
			}
		};
		var i = 0,
			gLen = groups.length,
			gRow = [];
		for (; i < gLen; i++) {
			breakPoint++;
			gRow.push(groups[i]);
			if ((gRow.length === btnPerRow) || (i + 1) === groups.length) {
				breakPoint = 0;
				createRow(gRow);
				gRow = [];
				continue;
			}
		}
		aGBox.appendChild($CNS("spacer", {
			flex: 1
		}));
		aGBox.collapsed = that._pHideGroupsRow;
	},

	_setGroup: function(aGroupItemID) {
		try {
			let currentGroupItem = that.GroupItems.getActiveGroupItem();
			let activateGroupItem = that.GroupItems.groupItem(aGroupItemID);
			window.gBrowser.selectedTab = activateGroupItem._children[0].tab;
			setTimeout(function() {
				that._appendTabsToTabsBox(document.getElementById(that._UID + "-tabs-box"));
			}, 100);
		} catch (aErr) {
			LOG(aErr);
			return false;
		}
	},

	_moveTabToGroupItem: function(aTab, aGroupItemId, aAvoidUpdate) {
		if (aTab._tabViewTabItem.parent && aTab._tabViewTabItem.parent.id === aGroupItemId)
			return;
		let shouldUpdateTabBar = false;
		let groupItem;
		if (aTab.selected) {
			if (gBrowser.visibleTabs.length > 1) {
				gBrowser._blurTab(aTab);
				shouldUpdateTabBar = true;
			}
		} else {
			shouldUpdateTabBar = true
		}
		if (aTab._tabViewTabItem.parent)
			aTab._tabViewTabItem.parent.remove(aTab._tabViewTabItem);
		groupItem = that.GroupItems.groupItem(aGroupItemId);
		groupItem.add(aTab._tabViewTabItem);
		if (shouldUpdateTabBar && !aAvoidUpdate)
			that.GroupItems._updateTabBar();
	},

	_appendTabsToTabsBox: function(aBox) {
		let panel = that.panel;
		if (!panel)
			return false;
		if (!!panel && panel.state === "closed")
			return false;
		aBox.textContent = "";
		let tabs = gBrowser.visibleTabs;
		let boxWidth = that.panelWidth - 48;
		let btnPerRow = that._pTabsPerRowAuto ?
			Math.round(boxWidth / that._pTabsPerRowAutoWidth) :
			that._pTabsPerRow;
		let colWidth = (boxWidth / btnPerRow);
		let breakPoint = 0;
		let tabRow = [];
		let pinnedTabs = [];

		let grid = aBox.appendChild($CNS("grid", {
			maxwidth: boxWidth,
			minwidth: boxWidth,
		}));

		let cols = grid.appendChild($CNS("columns"));

		while (breakPoint !== btnPerRow) {
			breakPoint++;
			cols.appendChild($CNS("column", {
				flex: 1,
				width: colWidth
			}));
		}

		let rows = grid.appendChild($CNS("rows"));
		let createRow = function(aArr) {
			let row = rows.appendChild($CNS("row"));
			let i = 0,
				iLen = aArr.length;
			for (; i < iLen; i++) {
				let btn = $CNS("toolbarbutton", {
					type: "radio",
					context: "tabContextMenu",
					autocheck: false,
					group: that._UID + "-tabs-radio-group",
					oncontextmenu: "event.stopPropagation();",
					oncommand: "event.stopPropagation();",
				});
				row.appendChild(btn);
				that._setButtonAttributes(btn, aArr[i]);
				aArr[i].mCorrespondingMenuitem = btn;
				btn.tab = aArr[i];
			}
			if (aArr.length !== btnPerRow) {
				let dummies = btnPerRow - (aArr.length % btnPerRow || btnPerRow);
				while (dummies) {
					dummies--;
					row.appendChild($CNS("toolbaritem", {
						//width: parseInt(btnWidth),
						dummy: true,
						disabled: true,
						image: "",
					}));
				}
			}
		};
		var t = 0,
			tLen = tabs.length;
		for (; t < tLen; t++) {
			if (tabs[t].pinned) {
				if (that._pShowPinnedTabs)
					pinnedTabs.push(tabs[t]);
				continue;
			}
			breakPoint++;
			tabRow.push(tabs[t]);
			if ((tabRow.length === btnPerRow) || (t + 1) === tabs.length) {
				breakPoint = 0;
				createRow(tabRow);
				tabRow = [];
				continue;
			}
		}

		if (pinnedTabs.length > 0 && that._pShowPinnedTabs) {
			let pinBox = aBox.insertBefore($CNS("hbox", {
				id: that._UID + "-pinned-tabs-box",
			}), aBox.childNodes[0]);

			pinBox.appendChild($CNS("spacer", {
				flex: 1
			}));

			let appendPinnedTab = function(aPTab) {
				let btn = pinBox.appendChild($CNS("toolbarbutton", {
					type: "radio",
					context: "tabContextMenu",
					autocheck: false,
					group: that._UID + "-tabs-radio-group",
					oncontextmenu: "event.stopPropagation();",
					oncommand: "event.stopPropagation();",
				}));
				that._setButtonAttributes(btn, aPTab);
				aPTab.mCorrespondingMenuitem = btn;
				btn.tab = aPTab;
			};
			var p = 0,
				pLen = pinnedTabs.length;
			for (; p < pLen; p++) {
				appendPinnedTab(pinnedTabs[p]);
			}
			pinBox.appendChild($CNS("spacer", {
				flex: 1
			}));
		}
	},

	tabContainerListener: function(aE) {
		var tab = aE.target;
		var btn = tab.mCorrespondingMenuitem;
		if (that.panel.state !== "open" || that.tooltip.hasAttribute("_open"))
			return true;
		switch (aE.type) {
			case "TabAttrModified":
				if (btn)
					that._setButtonAttributes(btn, tab);
				break;
			case "TabClose":
			case "TabOpen":
			case "TabPinned":
			case "TabUnpinned":
				clearTimeout(that._appendTabsToTabsBoxTimer);
				that._appendTabsToTabsBoxTimer = setTimeout(function() {
					that._appendButtonsToGroupsBox(document.getElementById(that._UID + "-tabs-groups-box"));
					that._appendTabsToTabsBox(document.getElementById(that._UID + "-tabs-box"));
				}, 50);
				break;
		}
	},

	_setButtonAttributes: function(aBtn, aTab) {
		if (!aBtn || !aTab)
			return true;
		aBtn.setAttribute("label", aTab.label);
		aBtn.setAttribute("crop", aTab.getAttribute("crop"));

		if (aTab.hasAttribute("busy"))
			aBtn.setAttribute("image", "chrome://global/skin/icons/loading_16.png");
		else
			aBtn.setAttribute("image", aTab.getAttribute("image") || "chrome://branding/content/icon16.png");

		if (aTab.hasAttribute("pending"))
			aBtn.setAttribute("pending", aTab.getAttribute("pending"));
		else
			aBtn.removeAttribute("pending");

		if (aTab.selected)
			aBtn.setAttribute("checked", "true");
		else
			aBtn.removeAttribute("checked");

		if (aTab.hasAttribute("pinned"))
			aBtn.setAttribute("pinned", true);
		else
			aBtn.removeAttribute("pinned");

		if (aTab.hasAttribute("muted"))
			aBtn.setAttribute("muted", true);
		else if (aTab.hasAttribute("soundplaying"))
			aBtn.setAttribute("soundplaying", true);
		else {
			aBtn.removeAttribute("muted");
			aBtn.removeAttribute("soundplaying");
		}
	},

	CSSLoader: function() {
		let css = "@namespace url(" + xulns + ");\n" + getHelp("StyleSheet")
			.replace(/_U_I_D_/g, that._UID)
			.replace(/_I_C_O_N_S_I_Z_E_/g, that._pMaxIconSize)
			.replace(/_S_E_L_F_I_D_/g, self.id);
		if (!window[that._UID]["StyleSheet"]) {
			window[that._UID]["StyleSheet"] = css;
			styleSheet(css);
		} else if (window[that._UID]["StyleSheet"] && window[that._UID]["StyleSheet"] !== css) {
			styleSheet(window[that._UID]["StyleSheet"], true);
			window[that._UID]["StyleSheet"] = css;
			styleSheet(css);
		}
	},

	_handleInvertedImages: function() {
		let invImg = document.getElementsByClassName("marked-for-invertion");
		for (let i = 0; i < invImg.length; i++)
			invImg[i].classList[that._pInvertDarkIcons ? "add" : "remove"]("inverted-color-for-this-image");
	},

	DragAndDropHandler: {
		onDragStart: function(aE) {
			this._ensureTTClosing();
			if (!this._isDraggable(aE.target))
				return false;
			aE.dataTransfer.setData("text/plain", aE.target.tab._tPos);
			aE.dataTransfer.effectAllowed = "copy";
			aE.stopPropagation();
		},

		_ensureTTClosing: function() {
			clearTimeout(that._hoverOpenPreviewTimer);
			that.tooltip.hidePopup();
			that._prevDoNotAllow = true;
		},

		_isDraggable: function(aNode) {
			return aNode.localName === "toolbarbutton" && !aNode.hasAttribute("dummy");
		},

		onDragOver: function(aE) {
			this._ensureTTClosing();
			aE.preventDefault();
			aE.stopPropagation();
		},

		onDrop: function(aE) {
			this._ensureTTClosing();
			if (!this._isDraggable(aE.target))
				return false;
			let tabIndex = parseInt(aE.dataTransfer.getData("text/plain"), 10);
			if (aE.composedTarget.hasAttribute("groupid")) {
				let gID = aE.composedTarget.getAttribute("groupid");
				if (that.GroupItems._activeGroupItem._children.length === 1)
					that._setGroup(gID);
				// Had to use a custom _moveTabToGroupItem function because the built in messes up tab ordering. ¬¬
				let selTabs = that.selectedTabs;
				if (selTabs.length >= 1) {
					for (let i = selTabs.length - 1; i >= 0; i--)
						that._moveTabToGroupItem(gBrowser.mTabContainer.children[selTabs[i].tab._tPos], parseInt(gID, 10));
				} else
					that._moveTabToGroupItem(gBrowser.mTabContainer.children[tabIndex], parseInt(gID, 10));
				setTimeout(function() {
					that._appendButtonsToGroupsBox(document.getElementById(that._UID + "-tabs-groups-box"));
				}, 10);
			} else {
				let targetTab = aE.composedTarget.tab;
				if (targetTab) {
					if (tabIndex === targetTab._tPos)
						return false;
					gBrowser.moveTabTo(gBrowser.mTabContainer.children[tabIndex], targetTab._tPos);
				} else
					return false;
			}
			clearTimeout(that._appendTabsToTabsBoxTimer);
			that._appendTabsToTabsBoxTimer = setTimeout(function() {
				that._appendTabsToTabsBox(document.getElementById(that._UID + "-tabs-box"));
				that.GroupItems.saveAll();
				that._prevDoNotAllow = false;
			}, 100);
			aE.stopPropagation();
		}
	},

	OnHotSpotMouseOver: function(aE) {
		clearTimeout(that._hoverOpenMainPanelTimer);
		that._hoverOpenMainPanelTimer = setTimeout(function() {
			that.panel.openPopup(that.panelAnchor, that.panelPosition, 0, that._pVerticalOffset, false, false, null);
		}, that._pOpenOnHoverDelay);
		aE.stopPropagation();

	},

	OnHotSpotMouseOut: function(aE) {
		if (!that.panel.hasAttribute("_open"))
			clearTimeout(that._hoverOpenMainPanelTimer);
		aE.stopPropagation();
	},

	HandleHotSpots: function(aRem) {
		let curHP = window[that._UID]["ListOfHotSpots"];
		if (curHP && curHP.length > 0) {
			curHP.forEach(function(aHPID) {
				let el = document.getElementById(aHPID);
				el && el.removeEventListener("mouseover", that.OnHotSpotMouseOver, false);
				el && el.removeEventListener("mouseout", that.OnHotSpotMouseOut, false);
			});
		}
		if (aRem)
			return;
		let HPs = that.gPref("PanelListOfHotSpotsIDs").split(",").filter(function(aVal) {
			if (aVal !== "")
				return true;
		});
		if (HPs && HPs.length > 0) {
			window[that._UID]["ListOfHotSpots"] = HPs;
			setTimeout(function() {
				window[that._UID]["ListOfHotSpots"].forEach(function(aHPID) {
					let el = document.getElementById(aHPID);
					el && el.addEventListener("mouseover", that.OnHotSpotMouseOver, false);
					el && el.addEventListener("mouseout", that.OnHotSpotMouseOut, false);
				});
			}, 10);
		}
	},

	HandlePrefListener: function(aRem) { // Can't add obs. to brach in here.
		var prefs = that.DefPrefs;
		for (let key in prefs) {
			let pref = that.Branch + key;
			if (prefs.hasOwnProperty(key)) {
				if (aRem)
					Services.prefs.removeObserver(pref, that.PrefListener);
				else
					Services.prefs.addObserver(pref, that.PrefListener, false);
			}
		}
	},

	PrefListener: {
		observe: function(aSubject, aTopic, aPStr) { // aPStr is the pref. name minus the branch name.
			if (aTopic === "nsPref:changed") {
				switch (aPStr.slice(that.Branch.length)) {
					case "ButtonImage":
						_setSelfImage();
						break;
					case "PanelKeepItOpen":
						that._cleanSlate();
						break;
					case "PanelInvertDarkIcons":
						that._pInvertDarkIcons = that.gPref("PanelInvertDarkIcons");
						that._handleInvertedImages();
						break;
					case "PanelHideGroupsRow":
						that._pHideGroupsRow = that.gPref("PanelHideGroupsRow");
						setTimeout(function() {
							that.PanelFunctions.HandleGroupsElements();
						}, 100);
					case "PanelButtonGroupsPerRow":
						that._pGroupsPerRow = that.gPref("PanelButtonGroupsPerRow");
						that._appendButtonsToGroupsBox(document.getElementById(that._UID + "-tabs-groups-box"));
						break;
					case "TabPreviewShowDelay":
						that._prevShowDelay = that.gPref("TabPreviewShowDelay");
						break;
					case "TabPreviewHeight":
						that._prevHeight = that.gPref("TabPreviewHeight");
						break;
					case "TabPreviewWidth":
						that._prevWidth = that.gPref("TabPreviewWidth");
						break;
					case "TabPreviewZoomFactor":
						that._prevZoomFactor = that.gPref("TabPreviewZoomFactor");
						break;
					case "TabPreviewAutomaticSize":
						that._prevAutomaticSize = that.gPref("TabPreviewAutomaticSize");
						break;
					case "TabPreviewAutomaticSizePercentage":
						that._prevAutomaticSizePercentage = that.gPref("TabPreviewAutomaticSizePercentage");
						break;
					case "TabPreviewLoadUnloadedTabs":
						that._prevLoadUnloadedTabs = that.gPref("TabPreviewLoadUnloadedTabs");
						break;
					case "TabPreviewRequireControlKey":
						that._prevRequireControlKey = that.gPref("TabPreviewRequireControlKey");
						break;
					case "PanelMiddleClickOnTabAction":
						that._pMiddleClickOnTabAction = that.gPref("PanelMiddleClickOnTabAction");
						break;
					case "TabPreviewSendScroll":
						let TPSSval = that.gPref("TabPreviewSendScroll");
						that._prevSendScroll = TPSSval;
						let TPSSaddRem = TPSSval ? "addEventListener" : "removeEventListener";
						that.canvas[TPSSaddRem]("DOMMouseScroll", that.PreviewFunctions.OnDOMScroll, false);
						break;
					case "TabPreviewSendClicks":
						let TPSCval = that.gPref("TabPreviewSendClicks");
						that._prevSendClicks = TPSCval;
						let TPSCaddRem = TPSCval ? "addEventListener" : "removeEventListener";
						that.canvas[TPSCaddRem]("click", that.PreviewFunctions.OnClick, true);
						break;
					case "TabPreviewEnabled":
					case "TabPreviewShowToolbar":
						setTimeout(function() {
							that._prevEnabled = that.gPref("TabPreviewEnabled");
							that._prevShowToolbar = that.gPref("TabPreviewShowToolbar");
							setTimeout(function() {
								let val = !!that._prevShowToolbar || !!that._prevEnabled || false;
								that._tooltipAllowHovering = val;
							}, 10);
						}, 10);
						break;
					case "PanelOpenOnHover":
					case "PanelOpenOnHoverDelay":
						that.HandleOpenOnHover();
						break;
					case "MaxIconSizeForTabButtonsInPanel":
						that.CSSLoader();
						break;
					case "PanelVerticalOffset": // Destroy the freaking entire button so the vertical offset is respected. ¬¬
						that._pVerticalOffset = that.gPref("PanelVerticalOffset");
						if (!window[that._UID]["SelfDestroyerListener"]) {
							window[that._UID]["SelfDestroyerListener"] = true;
							that.panel.addEventListener("popuphidden", function _(aE) {
								this.removeEventListener("popuphidden", _, false);
								window[that._UID]["SelfDestroyerListener"] = false;
								that._cleanSlate();
							}, false);
						}
						break;
					case "PanelButtonTabsPerRowAuto":
						that._pTabsPerRowAuto = that.gPref("PanelButtonTabsPerRowAuto");
					case "PanelButtonTabsPerRowAutoWidth":
						that._pTabsPerRowAutoWidth = that.gPref("PanelButtonTabsPerRowAutoWidth");
					case "PanelShowPinnedTabs":
						that._pShowPinnedTabs = that.gPref("PanelShowPinnedTabs");
					case "PanelButtonTabsPerRow":
						that._pTabsPerRow = that.gPref("PanelButtonTabsPerRow");
						clearTimeout(that._appendTabsToTabsBoxTimer);
						that._appendTabsToTabsBoxTimer = setTimeout(function() {
							that._appendTabsToTabsBox(document.getElementById(that._UID + "-tabs-box"));
						}, 100);
						break;
					case "PanelSelectTabOnHover":
						that._selectTabOnHover = that.gPref("PanelSelectTabOnHover");
						break;
					case "PanelSelectTabOnHoverDelay":
						that._selectTabOnHoverDelay = that.gPref("PanelSelectTabOnHoverDelay");
						break;
				}
			}
		}
	},

	_cleanSlate: function() {
		clearTimeout(that._cleanSlateTimer);
		that._cleanSlateTimer = setTimeout(function() {
			self.destroy("update");
			setTimeout(function() {
				self.init();
			}, 100);
		}, 100);
	},
};

this.TabsManager.Branch = "CB.TabsManager.Id" + self.id.slice(20) + ".";

this.TabsManager.gPref = function(aKey) {
	let branch = Services.prefs.getBranch(that.Branch);
	switch (typeof that.DefPrefs[aKey]) {
		case "boolean":
			return branch.getBoolPref(aKey);
			break;
		case "number":
			return branch.getIntPref(aKey);
			break;
		case "string":
			return branch.getComplexValue(aKey, Ci.nsISupportsString).data;
			break;
	}
	return null;
};

this.TabsManager.sPref = function(aKey, aVal) {
	let branch = Services.prefs.getBranch(that.Branch);
	switch (typeof aVal) {
		case "boolean":
			branch.setBoolPref(aKey, aVal);
			break;
		case "number":
			branch.setIntPref(aKey, aVal);
			break;
		case "string":
			let str = Cc["@mozilla.org/supports-string;1"].createInstance(Ci.nsISupportsString);
			str.data = aVal;
			branch.setComplexValue((aKey), Ci.nsISupportsString, str);
			break;
	}
};

this.TabsManager.InitPrefs = function() {
	let branch = Services.prefs.getDefaultBranch(that.Branch),
		defaults = that.DefPrefs;
	for (let key in defaults) {
		if (defaults.hasOwnProperty(key)) {
			let val = defaults[key];
			switch (typeof val) {
				case "boolean":
					branch.setBoolPref(key, val);
					break;
				case "number":
					branch.setIntPref(key, val);
					break;
				case "string":
					let str = Cc["@mozilla.org/supports-string;1"].createInstance(Ci.nsISupportsString);
					str.data = val;
					branch.setComplexValue((key),
						Ci.nsISupportsString, str);
					break;
			}
		}
	}
};

function _setSelfImage() {
	switch (that.gPref("ButtonImage")) {
		case 1: // Dark image
			self.image = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACJ0" +
				"lEQVQ4jZ2Tz6sSURTHR19tqlVBPwkif4w7mWajOIPMnasIMw7+uv6a+SvaTZugXYLLeLMoo40LiWgjIoh" +
				"v4cKNzujT9/JZBIFRCE6z0e1tozKpFXXgsznc7+ecxbkEsVMYY8ca5w6bvmM3Yw9fqdVqZLlcpkql0iM7" +
				"5XKZqlarPozx1d+FHZVK5aHP53vndru/ezyeH3ZcLtc3kiTfa5rmwRg7Dwkux2KxxzRNTwAAw0gkYtjQe" +
				"Z4f0zR9wfP8E4zxpU3mlw0ghC8ghOepVGqYSCRO4/H4OB6Pj5PJ5DCTyXwGAAx5ntdsmVt2wVEoFHotiu" +
				"IXWZY/FAqFaaFQuFgzlWV5Eo1GDYZh3tg2uLMVNJvNmwzD1ERRPC8Wi/ohBEEYhEKht/V6/faeQFVVNhw" +
				"On4ii2C8Wi8YhJEnSw+Hwiaqq7FaAMb6GMb4OAHgKABil0+nJeuKeIJFI6ACAMcdxz2az2Q2M8X2i2+0+" +
				"8Pv9LwOBQF8QhBFC6HQTkGXZkGV5K0in07ogCKNgMKj7/f5XvV7PRTQaDZKiqLkkSWcIISObzfbz+byey" +
				"+UMhNAAITTI5XLGuqcjhAxJks4oiprX63Uv0W63SZZl54qi9BVF0e1sJu/2FUXpsyw7b7VaXqLT6XghhD" +
				"OO4z5BCKcQwo9/Ybp++7XT6XiJ5XJ51zTN55ZlaZZlHZum+Ucsyzq2LEtbLBal1Wp1b3NETozx0T+y/x/" +
				"+p34Ccs6yiWZsYJoAAAAASUVORK5CYII=";
			break;
		case 2: // Light image
			self.image = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAsk" +
				"lEQVQ4jWNgGJQgNCr+f2Jq1v/45PT/8cnp/xNTs/6HRsX/J0rzlBmz/+MCM2fPI2zI6TNncRpw+sxZwgb" +
				"cuXsPpwF37t4jbMCbN29xGvDmzVv8BhSXV///9v07TgO+ff/+v7i8GrchK1etxakZBlauWovdgNVrN/zH" +
				"53xkb6zftAXVEAMzG4Ia0YGBmQ3CEDNrR5INMLN2/E89FzAwMDDom1j9NzCzIQrrm1gRl6zpAgA/Aaw4c" +
				"JqIzQAAAABJRU5ErkJggg==";
			break;
		default:
			self.removeAttribute("image");
			return true;
	}
}

function $CNS(aElName, aAttrs, aNS) {
	var el = document.createElementNS((aNS ? aNS : xulns), aElName);
	if (aAttrs)
		Object.keys(aAttrs).forEach(function(n) {
			if (aAttrs[n] !== "")
				el.setAttribute(n, aAttrs[n])
		});
	return el;
}

function getHelp(aPlaceholder) { // Get specific data, surrounded by "placeholders", from the Help tab.
	return document.getElementById(self.id).getAttribute("Help").split("<!--" + aPlaceholder + "-->")[1];
}

function parseXML(aXML) { // Return parsed XML
	aXML = aXML.replace(/>\s+</g, "><"); // Linearize XML
	return (new DOMParser).parseFromString(aXML, "application/xml").documentElement;
}

function promptme(aMsg, aVal) {
	let retVal = {
		value: aVal
	};
	if (Services.prompt.prompt(null, self.name, aMsg, retVal, null, {}))
		return retVal.value;
	else
		return false;
	return false;
}

function styleSheet(aCSS, aRemFlag) {
	var sss = Cc["@mozilla.org/content/style-sheet-service;1"].getService(Ci.nsIStyleSheetService);
	var uri = Services.io.newURI("data:text/css," + encodeURIComponent(aCSS), null, null);
	if (sss.sheetRegistered(uri, sss.USER_SHEET))
		sss.unregisterSheet(uri, sss.USER_SHEET);
	if (aRemFlag)
		return;
	sss.loadAndRegisterSheet(uri, sss.USER_SHEET);
}

this.TabsManager.DefPrefs = {
	ButtonImage: 2,
	MaxIconSizeForTabButtonsInPanel: 18,
	OpenOptionsInTab: true,
	PanelButtonGroupsPerRow: 8,
	PanelButtonTabsPerRow: 10,
	PanelButtonTabsPerRowAuto: true,
	PanelButtonTabsPerRowAutoWidth: 120,
	PanelHideGroupsRow: false,
	PanelInvertDarkIcons: false,
	PanelKeepItOpen: false,
	PanelListOfHotSpotsIDs: "",
	PanelMiddleClickOnTabAction: 1,
	PanelOpenOnHover: false,
	PanelOpenOnHoverDelay: 200,
	PanelSelectTabOnHover: false,
	PanelSelectTabOnHoverDelay: 200,
	PanelShowPinnedTabs: false,
	PanelVerticalOffset: 32,
	TabPreviewEnabled: true,
	TabPreviewLoadUnloadedTabs: true,
	TabPreviewAutomaticSize: true,
	TabPreviewAutomaticSizePercentage: 30,
	TabPreviewRequireControlKey: false,
	TabPreviewSendClicks: true,
	TabPreviewSendScroll: true,
	TabPreviewShowDelay: 200,
	TabPreviewShowToolbar: true,
	TabPreviewWidth: 360,
	TabPreviewHeight: 225,
	TabPreviewZoomFactor: 100,
};

this.TabsManager.Init();]]></initcode>
  <code><![CDATA[if(!event.target && !this.disabled)
	this.TabsManager.togglePanel();]]></code>
  <accelkey><![CDATA[]]></accelkey>
  <help><![CDATA[Inside the Help tab of this button can be found the CSS style sheet to customize the appearance of every part of the elements created by this button.

[,]
<!--StyleSheet-->
/* Groups context menu image - Delete menu item */



/* FROM THIS POINT DOWN DO NOT TOUCH ANYTHING UNLESS YOU KNOW WHAT YOU ARE DOING!!! */
/* The tab item in the main panel when the tab is selected */
#_U_I_D_-main-panel toolbarbutton[checked="true"] {
	font-weight: 600 !important;
}
/* Toolbarbuttons looking like buttons. */
#_U_I_D_-main-panel toolbarbutton {
	-moz-appearance: button !important;
	padding: 1px !important;
}
/* Show toolbarbutton label and align it to its icon */
#_U_I_D_-main-panel toolbarbutton .toolbarbutton-text {
	display: inline-block !important;
	text-align: left !important;
}
/* Image for tab items with mutted sound */
#_U_I_D_-main-panel toolbarbutton[mutted]:after {
	/*content: url("chrome://browser/skin/tabbrowser/tab-audio.svg#tab-audio-muted-white") !important;*/ /* Light icon */
	content: url("chrome://browser/skin/tabbrowser/tab-audio.svg#tab-audio-muted") !important; /* Dark icon */
	display: block !important;
	clear: both !important;
	position: absolute !important;
}
/* Image for tab items with sound playing */
#_U_I_D_-main-panel toolbarbutton[soundplaying]:after {
	/*content: url("chrome://browser/skin/tabbrowser/tab-audio.svg#tab-audio-white") !important;*/ /* Light icon */
	content: url("chrome://browser/skin/tabbrowser/tab-audio.svg#tab-audio") !important; /* Dark icon */
	display: block !important;
	clear: both !important;
	position: absolute !important;
}
/* Pinned tab items */

#_U_I_D_-pinned-tabs-box toolbarbutton .toolbarbutton-text {
	display: none !important;
}
/* Hide image from groups toolbarbuttons because there is none applied and "we need" the space */
#_U_I_D_-tabs-groups-box .tabs-groups-button .toolbarbutton-icon {
	display: none !important;
}
/* Just some padding for the tab items container */
#_U_I_D_-tabs-box {
	padding: 5px !important;
}
/* Style for "multi selected" tabs buttons */
#tabContextMenu menuitem[_multisel="true"],
#_U_I_D_-tabs-box toolbarbutton[_multisel="true"] {
	color: orange !important;
	text-shadow: 1px 0px 0px orange !important;
	box-shadow: 0 0 2px 0 orange !important;
}
/* Fixed size for buttons images */
/* DO NOT TOUCH THIS!!! It's used by the option called "MaxIconSizeForTabButtonsInPanel" */
#_U_I_D_-tabs-box .toolbarbutton-icon {
	min-width: _I_C_O_N_S_I_Z_E_px !important;
	min-height: _I_C_O_N_S_I_Z_E_px !important;
	max-width: _I_C_O_N_S_I_Z_E_px !important;
	max-height: _I_C_O_N_S_I_Z_E_px !important;
}
/* Filter to "invert" the color of some icons */
/*#_S_E_L_F_I_D_ .toolbarbutton-icon,*/ /* Comment/delete this line to remove "color reversal" for this button image. */
#_U_I_D_-tabs-preview-toolbar toolbarbutton:not([_active="true"]).inverted-color-for-this-image .toolbarbutton-icon , /* The toolbar button icons from the tab preview toolbar */
menuitem.inverted-color-for-this-image .menu-iconic-icon ,
#_U_I_D_-main-panel toolbarbutton:not(#_U_I_D_-reset-groups-button).inverted-color-for-this-image .toolbarbutton-icon {
	filter: var(--tabs-manager-css-filter-white);
}
#_U_I_D_-tabs-preview-toolbar toolbarbutton[_active="true"] .toolbarbutton-icon {
	filter: none !important;
}
/* Tab preview tweaks */
/* The entire tab preview panel */
#_U_I_D_-tabs-box-tooltip {
	-moz-appearance: none !important;
	border: none !important;
	border-radius: 5px !important;
	padding: 0 !important;
	/*background-color: -moz-Dialog !important;
	color: -moz-DialogText !important;*/
	/*background-color: Highlight !important;
	color: HighlightText !important;*/
	background-color: -moz-Field !important;
	color: -moz-FieldText !important;
}
/* Preview panel show animation */
#_U_I_D_-tabs-box-tooltip {
	transition-duration: 200ms, 200ms !important;
	transition-property: opacity, transform !important;
	transition-timing-function: ease-out !important;
}
#_U_I_D_-tabs-box-tooltip:not([_open]) {
	transform: translateY(-8px) !important;
}
#_U_I_D_-tabs-box-tooltip:not([_open]) {
	opacity: 0 !important;
}
/* The box that contains the tab preview label, toolbar and canvas */
#_U_I_D_-tabs-preview-container {
	padding: 3px !important;
	border: none !important;
	box-shadow: none !important;
}
/* Tab preview toolbar */
#_U_I_D_-tabs-preview-toolbar {
	-moz-appearance: none !important;
	opacity: 1 !important;
	z-index: 1 !important;
	background: none !important;
	border-bottom: 1px solid rgba(0, 0, 0, 0) !important;
	margin: 0 !important;
	padding: 0 !important;
}
/* Toolbar buttons in tab preview toolbar */
#_U_I_D_-tabs-preview-toolbar > toolbarbutton {
	-moz-appearance: none !important;
	border: none !important;
	margin: 0 !important;
	padding: 2px !important;
	width: 18px !important;
	height: 18px !important;
	background: none !important;
	list-style-image: var(--tabs-manager-css-global-image);
}
/* Toolbar button icons in tab preview toolbar */
#_U_I_D_-tabs-preview-toolbar > toolbarbutton .toolbarbutton-icon {
	margin: 0 !important;
	padding: 0 !important;
}
/* Hovered toolbar buttons in tab preview toolbar */
#_U_I_D_-tabs-preview-toolbar > toolbarbutton:not([disabled="true"]):hover {
	border-radius: 2px !important;
	background-color: hsla(117, 96%, 37%,.3) !important;
}
/* The label of each toolbar button is hidden */
#_U_I_D_-tabs-preview-toolbar > toolbarbutton .toolbarbutton-text {
	display: none !important;
}
/* The image for each toolbar button */
#_U_I_D_-tabs-preview-back-button {
	-moz-image-region: rect(0px, 16px, 16px, 0px) !important;
}
#_U_I_D_-tabs-preview-forward-button {
	-moz-image-region: rect(0px, 32px, 16px, 16px) !important;
}
#_U_I_D_-tabs-preview-reload-button {
	-moz-image-region: rect(0px, 48px, 16px, 32px) !important;
}
#_U_I_D_-tabs-preview-reload-button[_loading="true"] {
	-moz-image-region: rect(0px, 64px, 16px, 48px) !important;
}
#_U_I_D_-tabs-preview-close-button {
	-moz-image-region: rect(0px, 80px, 16px, 64px) !important;
}
#_U_I_D_-tabs-preview-pin-button {
	-moz-image-region: rect(0px, 96px, 16px, 80px) !important;
}
#_U_I_D_-tabs-preview-pin-button[_active="true"] {
	-moz-image-region: rect(16px, 96px, 32px, 80px) !important;
}
#_U_I_D_-tabs-preview-zoom-button {
	-moz-image-region: rect(0px, 112px, 16px, 96px) !important;
}
#_U_I_D_-tabs-preview-zoom-button[_active="true"] {
	-moz-image-region: rect(16px, 112px, 32px, 96px) !important;
}
/* The toolbar button when is disabled */
#_U_I_D_-tabs-preview-toolbar > toolbarbutton[disabled="true"] {
	opacity: 0.35 !important;
}
/* The label in the tab preview */
#_U_I_D_-tabs-preview-title {
	text-align: center !important;
}
/* The label, canvas and toolbar in the tab preview */
#_U_I_D_-tabs-preview-toolbar,
#_U_I_D_-tabs-preview-canvas,
#_U_I_D_-tabs-preview-title {
	padding: 3px 0 3px 0 !important;
}
/* Other images */
#_U_I_D_-main-panel .tabs-manager-options-buttons toolbarbutton {
	list-style-image: var(--tabs-manager-css-global-image);
}
.tabs-manager-options-buttons #_U_I_D_-add-group-button {
	-moz-image-region: rect(0px, 192px, 16px, 176px) !important;
}
.tabs-manager-options-buttons #_U_I_D_-reset-groups-button {
	-moz-image-region: rect(16px, 160px, 32px, 144px) !important;
}
.tabs-manager-options-buttons #_U_I_D_-open-options-button {
	-moz-image-region: rect(0px, 176px, 16px, 160px) !important;
}
#_U_I_D_-new-tab-button {
	list-style-image: var(--tabs-manager-css-global-image);
	-moz-image-region: rect(0px, 208px, 16px, 192px) !important;
}
#_U_I_D_-hide-groups-box-button[_checked="false"],
#_U_I_D_-inline-options-button[_checked="false"] {
	list-style-image: var(--tabs-manager-css-global-image);
	-moz-image-region: rect(0px, 128px, 16px, 112px) !important;
}
#_U_I_D_-hide-groups-box-button[_checked="true"],
#_U_I_D_-inline-options-button[_checked="true"] {
	list-style-image: var(--tabs-manager-css-global-image);
	-moz-image-region: rect(0px, 144px, 16px, 128px) !important;
}
/* Size for the options buttons inside the main panel */
#_U_I_D_-main-panel .tabs-manager-options-buttons toolbarbutton .toolbarbutton-icon {
	max-width: 16px !important;
	max-height: 16px !important;
}
/* Variables globally declared */
:root {
	--tabs-manager-css-filter-white: url("data:image/svg+xml;utf8,<svg height='0' xmlns='http://www.w3.org/2000/svg'><filter id='white' x='0%' y='0%' width='100%' height='100%' ><feComponentTransfer><feFuncR type='table' tableValues='.6 0'/><feFuncG type='table' tableValues='.6 0'/><feFuncB type='table' tableValues='.6 0'/></feComponentTransfer></filter></svg>#white") !important;
	--tabs-manager-css-filter-green: url("data:image/svg+xml;utf8,<svg height='0' xmlns='http://www.w3.org/2000/svg'><filter id='green' color-interpolation-filters='sRGB' filterUnits='objectBoundingBox' x='0' y='0' width='100%' height='100%'><feColorMatrix type='saturate' in='SourceGraphic' values = '0' result='A'/><feColorMatrix type='matrix' in='A' values = '0.38  0.3  0.3  0.0  0.0 0.3  0.38  0.3  0.0  0.24 0.3  0.3  0.38  0.0  0.0 0.0  0.0  0.0  1.0  0.0' /></filter></svg>#green") !important;
	--tabs-manager-css-filter-red: url("data:image/svg+xml;utf8,<svg height='0' xmlns='http://www.w3.org/2000/svg'><filter id='crimson' color-interpolation-filters='sRGB' filterUnits='objectBoundingBox' x='0' y='0' width='100%' height='100%'><feColorMatrix type='saturate' in='SourceGraphic' values = '0' result='A'/><feColorMatrix type='matrix' in='A' values = '0.38  0.3  0.3  0.0  0.36 0.3  0.38  0.3  0.0  0.0 0.3  0.3  0.38  0.0  0.06 0.0  0.0  0.0  1.0  0.0' /></filter></svg>#crimson") !important;
	/*--tabs-manager-css-global-image: url("data:image/png;base64,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") !important;*/
	--tabs-manager-css-global-image: url("data:image/png;base64,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") !important;
}
<!--StyleSheet-->
	 width="_W_I_D_T_H_"
	 maxwidth="_W_I_D_T_H_"
<!--MainPanel--><panel id="_U_I_D_-main-panel"
	 xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	 orient="vertical"
	 flip="slide"
	 cb_id="_U_I_D_"
	 level="parent"
	 consumeoutsideclicks="false"
	 noautohide="_N_O_H_I_D_E_"
	 onmouseout="event.stopPropagation();"
	 onclick="event.stopPropagation();"
	 oncommand="event.stopPropagation();"
	 onpopupshowing="document.getElementById('_S_E_L_F_I_D_').TabsManager.PanelFunctions.OnPanelShowing(event, this);"
	 onpopuphiding="document.getElementById('_S_E_L_F_I_D_').TabsManager.PanelFunctions.OnPanelHidden(event, this);">
	<hbox id="_U_I_D_-main-panel-box">
		<vbox>
			<vbox id="_U_I_D_-tabs-groups-box"
				  align="center"
				  _group="true"
				  context="_U_I_D_-tabs-groups-box-context"/>
			<vbox id="_U_I_D_-tabs-box"
				  onclick="document.getElementById('_S_E_L_F_I_D_').TabsManager.PanelFunctions.OnItemClick(event);"
				  oncontextmenu="event.stopPropagation();"
				  onmousemove="document.getElementById('_S_E_L_F_I_D_').TabsManager.PanelFunctions.OnMouseMoveItem(event);"
				  onmouseover="document.getElementById('_S_E_L_F_I_D_').TabsManager.PanelFunctions.OnMouseOverItem(event);"
				  onmouseout="document.getElementById('_S_E_L_F_I_D_').TabsManager.PanelFunctions.OnMouseOutItem(event);"
				  ondragstart="document.getElementById('_S_E_L_F_I_D_').TabsManager.DragAndDropHandler.onDragStart(event);"
				  ondragover="document.getElementById('_S_E_L_F_I_D_').TabsManager.DragAndDropHandler.onDragOver(event);"
				  ondrop="document.getElementById('_S_E_L_F_I_D_').TabsManager.DragAndDropHandler.onDrop(event);"/>
		</vbox>
		<spacer flex="1"/>
		<vbox maxwidth="48" class="tabs-manager-options-buttons">
			<toolbarbutton id="_U_I_D_-hide-groups-box-button"
						   flex="999"
						   tooltiptext="Hide groups row."
						   class="marked-for-invertion"
						   oncommand="event.stopPropagation();"
						   onclick="document.getElementById('_S_E_L_F_I_D_').TabsManager.PanelFunctions.toggleGroupButtons();"/>
			<toolbarbutton id="_U_I_D_-add-group-button"
						   flex="999"
						   _group="true"
						   tooltiptext="Add a new group."
						   class="marked-for-invertion"
						   oncommand="event.stopPropagation();"
						   onclick="document.getElementById('_S_E_L_F_I_D_').TabsManager.PanelFunctions.AddGroupBtn(event);"/>
			<box flex="1">
				<toolbarbutton id="_U_I_D_-new-tab-button"
						   maxwidth="500"
						   tooltiptext="Open New tab"
						   class="marked-for-invertion"
						   oncommand="BrowserOpenNewTabOrWindow(event);"/>
			</box>
			<toolbarbutton id="_U_I_D_-open-options-button"
						   tooltiptext="Open Tabs Manager options page."
						   class="marked-for-invertion"
						   oncommand="event.stopPropagation();document.getElementById('_S_E_L_F_I_D_').TabsManager.openOptions.Init();"/>
			<toolbarbutton id="_U_I_D_-inline-options-button"
						   tooltiptext="Show inline options."
						   class="marked-for-invertion"
						   oncommand="document.getElementById('_S_E_L_F_I_D_').TabsManager.HandleOptionsBox();"/>
		</vbox>
	</hbox>
	<vbox id="_U_I_D_-options-box" />
</panel><!--MainPanel-->

<!--OptionsBox--><hbox xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" >
<vbox>
	<hbox align="center">
		<label value="Vertical offset:"/>
		<spacer flex="1"/>
		<textbox type="number"
				 _pref="PanelVerticalOffset"
				 tooltiptext="Vertical offset for panel in relation to its anchor.&#xA;Minimum: -300px.&#xA;Maximum: 300px."
				 size="3"
				 min="-300"
				 max="300"/>
	</hbox>
	<spacer flex="1"/>
	<hbox align="center">
		<label value="Icon size:"/>
		<spacer flex="1"/>
		<textbox type="number"
				 _pref="MaxIconSizeForTabButtonsInPanel"
				 tooltiptext="Set a fixed icon size for the tabs buttons.&#xA;Minimum: 16px.&#xA;Maximum: 64px."
				 size="3"
				 min="16"
				 max="64"/>
	</hbox>
	<spacer flex="1"/>
	<hbox align="center"
		  _auto_tab="false">
		<label value="Tabs per row:"/>
		<spacer flex="1"/>
		<textbox type="number"
				 _pref="PanelButtonTabsPerRow"
				 tooltiptext="How many tabs per row should display the panel.&#xA;Minimum: 5 tabs per row.&#xA;Maximum: 30 tabs per row."
				 size="3"
				 min="1"
				 max="30"/>
	</hbox>
	<spacer flex="1"/>
	<hbox align="center"
		  _auto_tab="true">
		<label value="Tabs width:"/>
		<spacer flex="1"/>
		<textbox type="number"
				 _pref="PanelButtonTabsPerRowAutoWidth"
				 tooltiptext="Width used to calculate the amount of tabs per row inside the main panel.&#xA;Minimum: 100px.&#xA;Maximum: 250px."
				 size="3"
				 increment="5"
				 min="100"
				 max="250"/>
	</hbox>
	<checkbox label="Tabs per row auto"
			  _pref="PanelButtonTabsPerRowAuto"
			  oncommand="event.stopPropagation();"
			  tooltiptext="The amount of tabs per row will be automatically calculated based on the 'Tabs width' option." />
</vbox>
<vbox>
	<hbox align="center"
		  _preview="true"
		  _preview_size="false">
		<label value="Tabs preview width:"/>
		<spacer flex="1"/>
		<textbox type="number"
				 _pref="TabPreviewWidth"
				 tooltiptext="Tabs preview width in pixels.&#xA;Minimum: 100 pixels.&#xA;Maximum: 2000 pixels."
				 size="4"
				 increment="10"
				 min="100"
				 max="2000"/>
	</hbox>
	<hbox align="center"
		  _preview="true"
		  _preview_size="true">
		<label value="Tabs preview size:"/>
		<spacer flex="1"/>
		<textbox type="number"
				 _pref="TabPreviewAutomaticSizePercentage"
				 tooltiptext="Tabs preview size percentage in relation to the page content size.&#xA;Minimum: 10%.&#xA;Maximum: 100%."
				 size="4"
				 increment="5"
				 min="10"
				 max="100"/>
	</hbox>
	<spacer flex="1"/>
	<hbox align="center"
		  _preview="true"
		  _preview_size="false">
		<label value="Tabs preview height:"/>
		<spacer flex="1"/>
		<textbox type="number"
				 _pref="TabPreviewHeight"
				 tooltiptext="Tabs preview height in pixels.&#xA;Minimum: 100 pixels.&#xA;Maximum: 2000 pixels."
				 size="4"
				 increment="10"
				 min="100"
				 max="2000"/>
	</hbox>
	<spacer flex="1"/>
	<hbox align="center"
		  _preview="true">
		<label value="Tabs preview zoom:"/>
		<spacer flex="1"/>
		<textbox type="number"
				 _pref="TabPreviewZoomFactor"
				 tooltiptext="Zoom factor in % for tabs preview.&#xA;Minimum: 5%&#xA;Maximum: 500%"
				 size="4"
				 increment="5"
				 min="100"
				 max="500"/>
	</hbox>
	<!-- <spacer flex="1"/> -->
	<checkbox label="Auto size preview"
			  _pref="TabPreviewAutomaticSize"
			  _preview="true"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Ignore the fixed preview width/height and size it based on a percentage of the actual page content size." />
</vbox>
<vbox>
	<checkbox label="Invert dark icons"
			  _pref="PanelInvertDarkIcons"
			  oncommand="event.stopPropagation();"
			  tooltiptext="A white filter will be applyed to all dark icons of this panel so they are actually seen on dark themes." />
	<checkbox label="Select tab on hover"
			  _pref="PanelSelectTabOnHover"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Auto select tabs on the panel on mouse over." />
	<checkbox label="Show pinned tabs"
			  _pref="PanelShowPinnedTabs"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Show pinned tabs row." />
	<checkbox label="Tabs preview"
			  _pref="TabPreviewEnabled"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Enable tabs preview." />
	<checkbox label="Show toolbar"
			  _pref="TabPreviewShowToolbar"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Show toolbar inside the preview panel. The toolbar is standalone, so it can be used even if the tabs preview is disabled." />
</vbox>
<vbox>
	<checkbox label="Send clicks to preview"
			  _pref="TabPreviewSendClicks"
			  _preview="true"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Enable sending click events to the page content currently displayed on the tab preview." />
	<checkbox label="Send scroll to preview"
			  _pref="TabPreviewSendScroll"
			  _preview="true"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Enable scrolling of the page content currently displayed on the tab preview." />
	<checkbox label="Load unloaded tabs"
			  _pref="TabPreviewLoadUnloadedTabs"
			  _preview="true"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Automatically load unloaded tabs so they are visible when tabs preview is enabled." />
	<checkbox label="Require Control key"
			  _pref="TabPreviewRequireControlKey"
			  _preview="true"
			  oncommand="event.stopPropagation();"
			  tooltiptext="Require the Control key to be pressed to display the tab preview." />
</vbox>
<groupbox orient="vertical">
	<caption label="Middle click action" tooltiptext="Action triggered when middle-clicking a tab item." />
	<radiogroup _pref="PanelMiddleClickOnTabAction" orient="vertical" >
		<radio value="0" label="Close tab" />
		<radio value="1" label="Reload tab" />
		<radio value="2" label="Multi select tabs" tooltiptext="Select more than one tab to perform in-bulk actions.&#xA;Multi-selection can also be done with Ctrl + Left click." />
	</radiogroup>
</groupbox>
<groupbox orient="vertical">
	<caption label="Button image" tooltiptext="Choose this button image." />
	<radiogroup _pref="ButtonImage" orient="vertical" >
		<radio value="0" label="Custom" tooltiptext="Set an image by going to 'Edit Button...' &gt; 'Image' section." />
		<radio value="1" label="Dark image" />
		<radio value="2" label="Light image" />
	</radiogroup>
</groupbox>
</hbox><!--OptionsBox-->

<!--TabsPreviewPanel--><panel id="_U_I_D_-tabs-box-tooltip"
		 xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
		 xmlns:html="http://www.w3.org/1999/xhtml"
		 cb_id="_U_I_D_"
		 orient="vertical"
		 position="after_start"
		 flip="slide"
		 level="top"
		 noautofocus="true"
		 consumeoutsideclicks="false"
		 oncontextmenu="event.stopPropagation();"
		 onmouseout="event.stopPropagation();document.getElementById('_S_E_L_F_I_D_').TabsManager.OnTooltipOut(event, this);"
		 onpopuphiding="event.stopPropagation();document.getElementById('_S_E_L_F_I_D_').TabsManager.OnTooltipHiding(event, this);"
		 onpopupshowing="event.stopPropagation();document.getElementById('_S_E_L_F_I_D_').TabsManager.PopulateTabsTooltip(event, this);">
	<vbox id="_U_I_D_-tabs-preview-container">
		<label id="_U_I_D_-tabs-preview-title" crop="end"/>
		<toolbar id="_U_I_D_-tabs-preview-toolbar"
				 fullscreentoolbar="true"
				 onclick="event.stopPropagation();"
				 oncommand="event.stopPropagation();document.getElementById('_S_E_L_F_I_D_').TabsManager.PreviewFunctions.OnCommand(event);">
			<toolbarbutton id="_U_I_D_-tabs-preview-back-button" class="marked-for-invertion" tooltiptext="Go backwards one page" label="back"/>
			<toolbarbutton id="_U_I_D_-tabs-preview-forward-button" class="marked-for-invertion" tooltiptext="Go forward one page" label="forward"/>
			<toolbarbutton id="_U_I_D_-tabs-preview-reload-button" class="marked-for-invertion" tooltiptext="Reload page" label="reload"/>
			<toolbarbutton id="_U_I_D_-tabs-preview-pin-button" class="marked-for-invertion" tooltiptext="Pin tab" label="pin"/>
			<toolbarbutton id="_U_I_D_-tabs-preview-zoom-button" class="marked-for-invertion" tooltiptext="Zoom preview" label="zoom"/>
			<spacer flex="1" />
			<toolbarbutton id="_U_I_D_-tabs-preview-close-button" class="marked-for-invertion" tooltiptext="Close tab" label="close"/>
		</toolbar>
		<html:canvas id="_U_I_D_-tabs-preview-canvas"/>
	</vbox>
</panel><!--TabsPreviewPanel-->

<!--FrameScript-->"use sctrict";
let TabsPreview = {
	init: function() {
		addMessageListener("_Update_Preview_ID_", this);
		addMessageListener("_Scroll_Preview_ID_", this);
		addMessageListener("_Emulate_Preview_ID_", this);
	},

	receiveMessage: function(aMsg) {
		switch (aMsg.name) {
			case "_Update_Preview_ID_":
				this._updatePreview(aMsg.data);
				break;
			case "_Scroll_Preview_ID_":
				this._scrollWindow(aMsg.data);
				break;
			case "_Emulate_Preview_ID_":
				this._emulateEvent(aMsg.data);
				break;
		}
	},

	_updatePreview: function(aData) {
		let canvas = content.document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
		canvas.mozImageSmoothingEnabled = true;
		let auto = aData.auto;
		let win = content.window;
		let w = win.innerWidth;
		let scale = aData.width / w;
		let h = auto ? win.innerHeight : aData.height / scale;
		let canvasW = auto ? Math.round(w * aData.autoPercentage / 100 * aData.zoomFactor) : aData.width;
		let canvasH = auto ? Math.round(canvasW * h / w) : aData.height;
		canvas.width = canvasW;
		canvas.height = canvasH;
		let scaleX = canvasW / w;
		let scaleY = canvasH / h;
		let ctx;
		try {
			ctx = canvas.getContext("2d");
			ctx.clearRect(0, 0, canvas.width, canvas.height);
			ctx.save();
			auto ?
				ctx.scale(canvasW / w, canvasH / h) :
				ctx.scale(scale, scale);
			ctx.drawWindow(win, win.scrollX, win.scrollY, w, h, "Window");
			ctx.restore();
		} catch (aErr) {} finally {
			sendAsyncMessage("_Response_ID_", {
				width: canvas.width,
				height: canvas.height,
				msgID: aData.msgID,
				scaleX: scaleX,
				scaleY: scaleY,
				scale: scale,
				imgData: ctx.getImageData(0, 0, canvas.width, canvas.height),
			});
		}
	},

	_scrollWindow: function(aData) {
		let elt = this._elementFromPoint(aData.x, aData.y);
		if (aData.ctrlKey && !aData.shiftKey) // Ctrl only - Scroll by pages
			elt.ownerDocument.defaultView.scrollByPages((aData.lines > 0 ? 1 : -1));
		else if (aData.shiftKey && !aData.ctrlKey) // Shift only - Scroll horizontally
			elt.ownerDocument.defaultView.scrollBy(aData.lines * 10, 0);
		else if (aData.shiftKey && aData.ctrlKey) // Shift + Ctrl - Scroll horizontally faster
			elt.ownerDocument.defaultView.scrollBy((aData.lines > 0 ? content.window.innerWidth : -(content.window.innerWidth)), 0);
		else if (!aData.shiftKey && !aData.ctrlKey) // No modifiers - Scroll by lines
			elt.ownerDocument.defaultView.scrollByLines(aData.lines);
	},

	_emulateEvent: function(aData) {
		let elt = this._elementFromPoint(aData.x, aData.y);
		let view = elt.ownerDocument.defaultView;
		elt.dispatchEvent(new view.MouseEvent(aData.type, {
			view: view,
			cancelable: true,
			bubbles: true,
			button: aData.button,
			ctrlKey: aData.ctrlKey,
			altKey: aData.altKey,
			shiftKey: aData.shiftKey,
			metaKey: aData.metaKey
		}));
	},

	_elementFromPoint: function(x, y) {
		let elt = content.document.elementFromPoint(x, y);
		if (!elt) {
			const Ci = Components.interfaces;
			elt = content.window.QueryInterface(Ci.nsIInterfaceRequestor).
			getInterface(Ci.nsIDOMWindowUtils).
			elementFromPoint(x, y, true, false);
		}
		if (!elt)
			elt = content.document.body || content.document.documentElement;
		while (/^i?frame$/.test(elt.localName.toLowerCase())) {
			x -= elt.getBoundingClientRect().left;
			y -= elt.getBoundingClientRect().top;
			elt = elt.contentDocument.elementFromPoint(x, y);
		}
		return elt;
	}
};
TabsPreview.init();
<!--FrameScript-->]]></help>
  <attributes/>
</custombutton>