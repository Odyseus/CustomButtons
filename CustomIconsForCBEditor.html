<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<title></title>
	<link rel="shortcut icon" type="image/x-icon" href="lib/img/CustomIconsForCBEditor-icon.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link type="text/css" rel="stylesheet" href="lib/css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="lib/css/bootstrap.odyseus.css" />
	<link type="text/css" rel="stylesheet" href="lib/css/highlight.css" />
	<style type="text/css">
@media (min-width:992px) {
	#install_alert {
		margin-right:300px;
	}
}
</style>
</head>

<body>
<noscript><div class="alert alert-danger">
<strong>Oh snap! This page needs JavaScript enabled to display correctly.</strong>
</div></noscript>
<div id="mainarea" style="display: none">
<span id="headmenu">
<!-- Inserted via jQuery -->
</span>
<div class="container boxed">
<h1 class="button-name"></h1>
	<div id="basic-info">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Basic info</h3>
			</div>
			<div class="panel-body">
				<ul class="list-unstyled">
					<li><b>Author/s: </b>Odyseus</li>
					<li><b>Creation Date: </b>January 10, 2015</li>
					<li><b>Status: </b>Complete</li>
					<li><b>Contributor/s: </b>SendAbuse, okkamas_knife and Infocatcher</li>
					<li><b>Licence: </b><a href="http://mozilla.org/MPL/2.0/">Mozilla Public Licence</a></li>
					<li><b><a href="http">Button Homepage</a></b></li>
				</ul>
				<br>
				<div style="text-align:center!important;">
					<a id="button-uri" data-toggle="tooltip" data-placement="bottom" data-original-title="" class="btn btn-primary button-name" rel="nofollow" title="" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ECustom%20Icons%20for%20CB%20Editor%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/x-icon%3Bbase64%2CAAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACPjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf/W1qf//////////////////////4+PEf////////////////////////////////+PjxH/j48R/4+PEf+PjxH///////////////////////////+PjxH/////////////////////////////////j48R/4+PEf+PjxH/j48R////////////j48R/4+PEf+PjxH/j48R/4+PEf+PjxH///////////+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf///////////4+PEf+PjxH/j48R/4+PEf+PjxH/j48R////////////j48R/4+PEf+PjxH/j48R/4+PEf+PjxH///////////+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf///////////4+PEf+PjxH/j48R/4+PEf+PjxH/j48R////////////j48R/4+PEf+PjxH/j48R/4+PEf+PjxH///////////+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf///////////////////////////4+PEf////////////////////////////////+PjxH/j48R/4+PEf+PjxH/1tan//////////////////////+PjxH/////////////////////////////////j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/j48R/4+PEf+PjxH/AACsQQAArEEAAKxBAACsQQAArEEAAKxBAACsQQAArEEAAKxBAACsQQAArEEAAKxBAACsQQAArEEAAKxBAACsQQ%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B%22use%20strict%22%3B%0A%0Aif%20%28self.parentNode%20%26%26%20self.parentNode.id.match%28%22wrapper-%22%29%29%0A%09return%3B%0A%0Aif%20%28%21%28%22Services%22%20in%20window%29%29%0A%09Cu.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0A%0Aconst%20PREF_BRANCH%20%3D%20%22extensions.custombuttons.CustomIconsForCBEditor.Id%22%20+%20%28self.id%29.split%28%22-button%22%29%5B1%5D%20+%20%22.%22%3B%0A%0Aconst%20PREF_SHARED%20%3D%20%22extensions.custombuttons.CustomIconsForCBEditor%5BShared%5D.%22%3B%0A%0Aconst%20_UID%20%3D%20%22custom-icons-for-cb-editor%22%20+%20%28self.id%29.split%28%22custombuttons%22%29%5B1%5D%3B%20//%20Unique%20ID%0A%0Aconst%20editorURL%20%3D%20%22chrome%3A//custombuttons/content/editor.xul%22%3B%0A%0Avar%20icons%20%3D%20this.Help.split%28%22%5Cn%22%29%3B%0A%0A//START//%20Default%20preferences%20management%0AbtnPref.root%20%3D%20PREF_BRANCH%3B%0A%0AbtnPref.defaults%20%3D%20%7B%0A%09AllowChecked%20%3A%20true%2C%0A%09Off%20%3A%20false%0A%7D%3B%0A%0Afor%20%28let%20key%20in%20btnPref.defaults%29%20%7B%0A%09if%20%28btnPref.defaults.hasOwnProperty%28key%29%29%20%7B%0A%09%09let%20val%20%3D%20btnPref.defaults%5Bkey%5D%3B%0A%09%09switch%20%28typeof%20val%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setBoolPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setIntPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09str.data%20%3D%20val%3B%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setComplexValue%28%28key%29%2C%0A%09%09%09%09Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%0A%7D%0A%0AbtnPref.observe%20%3D%20function%20%28aPrefs%2C%20aCallback%29%20%7B%0A%09let%20%7B%0A%09%09root%0A%09%7D%0A%09%09%20%3D%20btnPref%3B%0A%09function%20observe%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09if%20%28topic%20%21%3D%3D%20%22nsPref%3Achanged%22%29%0A%09%09%09return%3B%0A%09%09let%20pref%20%3D%20data.slice%28root.length%29%3B%0A%09%09if%20%28aPrefs.indexOf%28pref%29%20%3D%3D%3D%20-1%29%0A%09%09%09return%3B%0A%09%09aCallback%28pref%29%3B%0A%09%7D%0A%09Services.prefs.addObserver%28root%2C%20observe%2C%20false%29%3B%0A%09unload%28function%20%28%29Services.prefs.removeObserver%28root%2C%20observe%29%29%3B%0A%7D%3B%0A%0Afunction%20btnPref%28aKey%29%20%7B%0A%09let%20%7B%0A%09%09branch%2C%0A%09%09defaults%0A%09%7D%0A%09%09%20%3D%20btnPref%3B%0A%09if%20%28%21branch%29%0A%09%09branch%20%3D%20Services.prefs.getBranch%28btnPref.root%29%3B%0A%09switch%20%28typeof%20defaults%5BaKey%5D%29%20%7B%0A%09case%20%22boolean%22%3A%0A%09%09return%20branch.getBoolPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22number%22%3A%0A%09%09return%20branch.getIntPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22string%22%3A%0A%09%09return%20branch.getComplexValue%28aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09break%3B%0A%09%7D%0A%09return%20null%3B%0A%7D%0A%0Afunction%20unload%28aCallback%2C%20aContainer%29%20%7B%0A%09let%20unloaders%20%3D%20unload.unloaders%3B%0A%09if%20%28unloaders%20%3D%3D%3D%20null%29%0A%09%09unloaders%20%3D%20unload.unloaders%20%3D%20%5B%5D%3B%0A%09if%20%28aCallback%20%3D%3D%3D%20null%29%20%7B%0A%09%09unloaders.slice%28%29.forEach%28function%20%28unloader%29unloader%28%29%29%3B%0A%09%09%09unloaders.length%20%3D%200%3B%0A%09%7D%0A%09if%20%28aContainer%20%21%3D%3D%20null%29%20%7B%0A%09%09aContainer.addEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09let%20origCallback%20%3D%20aCallback%3B%0A%09%09callback%20%3D%20function%20%28%29%20%7B%0A%09%09%09aContainer.removeEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09%09origCallback%28%29%3B%0A%09%09%7D%0A%09%09return%20null%3B%0A%09%7D%0A%09function%20unloader%28%29%20%7B%0A%09%09try%20%7B%0A%09%09%09callback%28%29%3B%0A%09%09%7D%20catch%20%28err%29%20%7B%0A%09%09%09Components.utils.reportError%28err%29%3B%0A%09%09%7D%0A%09%7D%0A%09unloaders.push%28unloader%29%3B%0A%09function%20removeUnloader%28%29%20%7B%0A%09%09let%20index%20%3D%20unloaders.indexOf%28unloader%29%3B%0A%09%09if%20%28index%20%21%3D%3D%20-1%29%0A%09%09%09unloaders.splice%28index%2C%201%29%3B%0A%09%7D%0A%09return%20removeUnloader%3B%0A%7D%0A//END//%20Default%20preferences%20management%0A%0Aif%20%28Services.prefs.getPrefType%28PREF_SHARED%20+%20%22HideStdIcons%22%29%20%3D%3D%3D%200%29%0A%09Services.prefs.setBoolPref%28PREF_SHARED%20+%20%22HideStdIcons%22%2C%20false%29%3B%0A%0Athis.style.opacity%20%3D%20%221%22%3B%0A%0Athis.tooltipText%20%3D%20self.name%20+%20%22%5Cn%5Cn%22%20+%0A%09%22%5CtL%20%3A%20Show/Hide%20new%20icons%20on%20CB%20Editor%5Ct%5Ct%5Cn%22%20+%0A%09%22%5CtM%20%3A%20Open%20options%20menu%5Cn%5Cn%22%3B%0A%0Aif%20%28btnPref%28%22AllowChecked%22%29%29%0A%09this.checked%20%3D%20true%3B%0A%0Aif%20%28btnPref%28%22Off%22%29%29%20%7B%0A%09this.style.opacity%20%3D%20%220.65%22%3B%0A%09this.checked%20%3D%20false%3B%0A%7D%20else%20%7B%0A%09if%20%28btnPref%28%22AllowChecked%22%29%29%0A%09%09this.checked%20%3D%20true%3B%0A%7D%0A%0Afunction%20moveIcons%28aDoc%2C%20aRem%29%20%7B%0A%09var%20menupopup%20%3D%20aDoc.getElementById%28%22image%22%29.firstChild%3B%0A%09for%20%28var%20h%20%3D%200%3B%20h%20%3C%205%3B%20h++%29%20%7B%0A%09%09var%20mi%20%3D%20menupopup.children%5Bh%5D%3B%0A%09%09if%20%28%21mi%29%0A%09%09%09break%3B%0A%09%09var%20val%20%3D%20mi.getAttribute%28%22value%22%29%3B%0A%09%09var%20isStd%20%3D%20val.substring%280%2C%2022%29%20%3D%3D%3D%20%22custombuttons-stdicon-%22%3B%0A%09%09if%20%28Services.prefs.getBoolPref%28PREF_SHARED%20+%20%22HideStdIcons%22%29%20%26%26%20isStd%29%0A%09%09%09mi.hidden%20%3D%20true%3B%0A%09%09if%20%28%21Services.prefs.getBoolPref%28PREF_SHARED%20+%20%22HideStdIcons%22%29%20%7C%7C%20%21isStd%29%0A%09%09%09mi.hidden%20%3D%20false%3B%0A%09%7D%0A%09if%20%28aRem%29%20%7B%0A%09%09var%20count%20%3D%20menupopup.childElementCount%3B%0A%09%09var%20itemsToRemove%20%3D%20%5B%5D%3B%0A%09%09for%20%28var%20i%20%3D%201%3B%20i%20%3C%20menupopup.childElementCount%3B%20i++%29%20%7B%0A%09%09%09if%20%28menupopup.children%5Bi%5D.getAttribute%28%22from-%22%20+%20_UID%29%29%0A%09%09%09%09itemsToRemove.push%28menupopup.children%5Bi%5D%29%3B%0A%09%09%7D%0A%09%09itemsToRemove.forEach%28function%20%28aEl%29%20%7B%0A%09%09%09menupopup.removeChild%28aEl%29%3B%0A%09%09%7D%29%3B%0A%09%09return%3B%0A%09%7D%0A%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%20icons.length%3B%20i++%29%20%7B%0A%09%09if%20%28icons%5Bi%5D%20%3D%3D%3D%20%22%22%29%0A%09%09%09continue%3B%0A%09%09var%20menuitem%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%3B%0A%09%09menuitem.setAttribute%28%22label%22%2C%20icons%5Bi%5D%29%3B%0A%09%09menuitem.setAttribute%28%22value%22%2C%20icons%5Bi%5D%29%3B%0A%09%09menuitem.setAttribute%28%22src%22%2C%20icons%5Bi%5D%29%3B%0A%09%09menuitem.setAttribute%28%22from-%22%20+%20_UID%2C%20%22true%22%29%3B%0A%09%09menupopup.appendChild%28menuitem%29%3B%0A%09%7D%0A%7D%0A%0Afunction%20setForEachWin%28aRem%29%20%7B%0A%09var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%09var%20win%20%3D%20true%3B%0A%09while%20%28win%29%20%7B%0A%09%09win%20%3D%20em.getNext%28%29%3B%0A%09%09if%20%28%21win%29%0A%09%09%09return%3B%0A%09%09var%20doc%20%3D%20win.document%3B%0A%09%09if%20%28doc.location.href.substring%280%2C%2041%29%20%21%3D%3D%20editorURL%29%0A%09%09%09continue%3B%0A%09%09if%20%28win.opener%20%21%3D%3D%20window%29%0A%09%09%09continue%3B%0A%09%09moveIcons%28doc%2C%20aRem%29%3B%0A%09%7D%0A%7D%0A%0Avar%20observer%20%3D%20%7B%0A%09observe%20%3A%20function%20%28aSubject%2C%20aTopic%2C%20aData%29%20%7B%0A%09%09aSubject.addEventListener%28%22load%22%2C%20this%2C%20false%29%3B%0A%09%7D%2C%0A%09handleEvent%20%3A%20function%20%28aEvt%29%20%7B%0A%09%09var%20doc%20%3D%20aEvt.target%3B%0A%09%09var%20win%20%3D%20doc.defaultView%3B%0A%09%09win.removeEventListener%28%22load%22%2C%20this%2C%20false%29%3B%0A%09%09if%20%28doc.location.href.substring%280%2C%2041%29%20%21%3D%3D%20editorURL%29%0A%09%09%09return%3B%0A%09%09moveIcons%28doc%2C%20false%29%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20setForEachTab%28aRem%29%20%7B%0A%09var%20tabContainer%20%3D%20gBrowser.mTabContainer%3B%0A%09var%20tabs%20%3D%20tabContainer.childNodes%3B%0A%09for%20%28var%20t%20%3D%200%3B%20t%20%3C%20tabContainer.itemCount%3B%20t++%29%20%7B%0A%09%09var%20doc%20%3D%20tabs%5Bt%5D.linkedBrowser.contentDocument%3B%0A%09%09if%20%28doc.location.href.substring%280%2C%2041%29%20%21%3D%3D%20editorURL%29%0A%09%09%09continue%3B%0A%09%09moveIcons%28doc%2C%20aRem%29%3B%0A%09%7D%0A%7D%0A%0Afunction%20alsoForTabs%28evt%29%20%7B%0A%09var%20doc%20%3D%20evt.target%3B%0A%09if%20%28doc.location.href.substring%280%2C%2041%29%20%21%3D%3D%20editorURL%29%0A%09%09return%3B%0A%09moveIcons%28doc%2C%20false%29%3B%0A%7D%0A%0Aif%20%28%21btnPref%28%22Off%22%29%29%20%7B%0A%09Services.obs.addObserver%28observer%2C%20%22domwindowopened%22%2C%20false%29%3B%0A%09%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%26%26%20window.addEventListener%28%22DOMContentLoaded%22%2C%20alsoForTabs%2C%20false%29%3B%0A%09setForEachWin%28false%29%3B%0A%09%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%26%26%20setForEachTab%28false%29%3B%0A%7D%0A%0Athis.onclick%20%3D%20function%20%28aEvt%29%20%7B%0A%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%200%29%20%7B%20//%20Left%20click%0A%09%09aEvt.preventDefault%28%29%3B%0A%09%09self.gSwitch%28%22switchIcons%22%29%3B%0A%09%09aEvt.stopPropagation%28%29%3B%0A%09%7D%20else%20if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%201%29%20%7B%20//%20Middle%20click%0A%09%09aEvt.preventDefault%28%29%3B%0A%09%09var%20opt_tt%20%3D%20%7B%0A%09%09%09allowCheck%20%3A%20%22If%20checked/enabled%2C%20%22%20+%20self.name%20+%20%22%20will%20also%20reflect%20the%20enabled%20%22%20+%0A%09%09%09%22state%20by%20its%20pressed/checked%20state.%22%2C%0A%09%09%09hideStdIcons%20%3A%20%22If%20checked/enabled%2C%20the%20CB%20standard%20icons%20will%20be%20hidden%20from%20the%20%22%20+%0A%09%09%09%22dropdown%20menu%20%26quot%3BImage%26quot%3B%20of%20the%20CB%20Editor%20window.%22%2C%0A%09%09%09addFromFolder%20%3A%20%22Select%20a%20folder%20containing%20images.%20Each%20image%20found%20will%20be%20added%20%22%20+%0A%09%09%09%22%20to%20the%20Help%20tab%20of%20this%20button%20in%20Base64%20format%20or%20as%20a%20file%20URI.%22%0A%09%09%7D%3B%0A%09%09while%20%28self.hasChildNodes%28%29%29%0A%09%09%09self.removeChild%28self.lastChild%29%3B%0A%09%09self.appendChild%28%24XML%28%22%3Cmenupopup%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20id%3D%5C%22%22%20+%20_UID%20+%20%22-options-mpop%5C%22%22%20+%0A%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20onpopuphiding%3D%5C%22this.parentNode.gSwitch%28%5C%27init%5C%27%29%3B%5C%22%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Allow%20checked%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.allowCheck%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27allowChecked%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%22%20+%0A%09%09%09%09%22%20checked%3D%5C%22%22%20+%20btnPref%28%22AllowChecked%22%29%20+%20%22%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Hide%20standard%20icons%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.hideStdIcons%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27hideStdIcons%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%22%20+%0A%09%09%09%09%22%20checked%3D%5C%22%22%20+%20Services.prefs.getBoolPref%28PREF_SHARED%20+%20%22HideStdIcons%22%29%20+%20%22%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuseparator/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Add%20images%20from%20folder%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.addFromFolder%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27createListing%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%22%3C/menupopup%3E%22%29%29%3B%0A%09%09let%20optPopup%20%3D%20document.getElementById%28_UID%20+%20%22-options-mpop%22%29%3B%0A%09%09optPopup.openPopup%28self%2C%20%22after_start%22%2C%200%2C%200%2C%20false%2C%20false%29%3B%0A%09%09aEvt.stopPropagation%28%29%3B%0A%09%7D%0A%7D%3B%0A%0Athis.gSwitch%20%3D%20function%20%28aSwitch%29%20%7B%0A%09var%20value%3B%0A%09switch%20%28aSwitch%29%20%7B%0A%09case%20%22init%22%3A%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09try%20%7B%0A%09%09%09%09self.onDestroy%28%29%3B%0A%09%09%09%7D%20catch%20%28e%29%20%7B%7D%0A%09%09%09self.init%28%29%3B%20//%20Note%20to%20self.%20ALWAYS%20use%20onDestroy%28%29%20before%20init%28%29%20%0A%09%09%7D%2C%20100%29%3B%0A%09%09break%3B%0A%09case%20%22allowChecked%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22AllowChecked%22%2C%20%21btnPref%28%22AllowChecked%22%29%29%3B%0A%09%09break%3B%0A%09case%20%22hideStdIcons%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_SHARED%20+%20%22HideStdIcons%22%2C%0A%09%09%09%21Services.prefs.getBoolPref%28PREF_SHARED%20+%20%22HideStdIcons%22%29%29%3B%0A%09%09break%3B%0A%09case%20%22createListing%22%3A%0A%09%09var%20fp%20%3D%20Cc%5B%22@mozilla.org/filepicker%3B1%22%5D.createInstance%28Ci.nsIFilePicker%29%3B%0A%09%09fp.init%28window%2C%20%22Folder%20selection%22%2C%20Ci.nsIFilePicker.modeGetFolder%29%3B%0A%09%09if%20%28fp.show%28%29%20%3D%3D%3D%20Ci.nsIFilePicker.returnOK%20%26%26%20fp.file.isDirectory%28%29%29%20%7B%0A%09%09%09var%20entries%20%3D%20getIconsFromFolder%28fp.file.path%29%2C%0A%09%09%09b64Entries%20%3D%20%5B%5D%3B%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09var%20cBox%20%3D%20custombuttons.confirmBox3%28self.name%2C%20entries.length%20+%0A%09%09%09%09%09%22%20images%20were%20found.%5Cn%5CnConvert%20images%20to%20Base64%3F%22%2C%0A%09%09%09%09%09%09%09%22Yes%22%2C%20%22Cancel%22%2C%20%22No%22%29%3B%0A%09%09%09%09%09if%20%28cBox%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09Array.prototype.slice.call%28entries%29.forEach%28function%20%28aPath%29%20%7B%0A%09%09%09%09%09%09%09if%20%28aPath.length%20%3E%200%29%20%7B%0A%09%09%09%09%09%09%09%09img_to_b64_cback%28aPath%2C%20function%20%28aImg%29%20%7B%0A%09%09%09%09%09%09%09%09%09b64Entries.push%28aImg%29%3B%0A%09%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09%09addToHelpTabSwitch%28b64Entries%29%3B%0A%09%09%09%09%09%09%09%7D%2C%20b64Entries.length%29%3B%0A%09%09%09%09%09%09%7D%2C%201000%29%3B%0A%09%09%09%09%09%7D%20else%20if%20%28cBox%20%3D%3D%3D%201%29%0A%09%09%09%09%09%09return%3B%0A%09%09%09%09%09else%20if%20%28cBox%20%3D%3D%3D%202%29%0A%09%09%09%09%09%09addToHelpTabSwitch%28entries%29%3B%0A%09%09%09%09%7D%2C%20entries.length%29%3B%0A%09%09%09%7D%2C%201000%29%3B%0A%09%09%7D%20else%0A%09%09%09return%3B%0A%09%09break%3B%0A%09case%20%22switchIcons%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22Off%22%2C%20%21btnPref%28%22Off%22%29%29%3B%0A%09%09try%20%7B%0A%09%09%09self.onDestroy%28%29%3B%0A%09%09%7D%20catch%20%28e%29%20%7B%7D%0A%09%09self.init%28%29%3B%20//%20Note%20to%20self.%20ALWAYS%20use%20onDestroy%28%29%20before%20init%28%29%0A%09%09break%3B%0A%09default%3A%0A%09%09return%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20img_to_b64_cback%28aImgURI%2C%20aCallback%29%20%7B%0A%09var%20img%20%3D%20document.createElementNS%28xhtmlns%2C%20%22html%3Aimg%22%29%3B%0A%09img.src%20%3D%20aImgURI%3B%0A%09var%20canvas%20%3D%20document.createElementNS%28xhtmlns%2C%20%22html%3Acanvas%22%29%3B%0A%09var%20ctx%20%3D%20canvas.getContext%28%222d%22%29%3B%0A%09img.onload%20%3D%20function%20%28%29%20%7B%0A%09%09canvas.width%20%3D%20this.naturalWidth%3B%0A%09%09canvas.height%20%3D%20this.naturalHeight%3B%0A%09%09ctx.drawImage%28img%2C%200%2C%200%2C%20this.naturalWidth%2C%20this.naturalHeight%29%3B%0A%09%09aCallback.call%28img%2C%20canvas.toDataURL%28%29%29%3B%0A%09%7D%3B%0A%7D%0A%0Afunction%20addToHelpTabSwitch%28aEntries%29%20%7B%0A%09var%20cBox%20%3D%20custombuttons.confirmBox3%28self.name%2C%20%22Save%20list%20of%20images%20%22%20+%0A%09%09%09%22into%20the%20Help%20tab%20of%20%22%20+%20self.name%20+%20%22.%20%5Cn%5Cn%22%20+%0A%09%09%09%22WARNING%21%21%21%5CnOnce%20you%20make%20your%20choice%2C%20changes%20can%27t%20be%20undone%21%20Choose%20wisely%21%22%2C%0A%09%09%09%22APPEND%20to%20Help%20tab%20content%22%2C%20%22Cancel%22%2C%20%22OVERWRITE%20Help%20tab%20content%22%29%3B%0A%09if%20%28cBox%20%3D%3D%3D%200%29%0A%09%09addToHelpTab%28aEntries%2C%20true%29%3B%0A%09else%20if%20%28cBox%20%3D%3D%3D%201%29%0A%09%09return%3B%0A%09else%20if%20%28cBox%20%3D%3D%3D%202%29%0A%09%09addToHelpTab%28aEntries%29%3B%0A%7D%0A%0Afunction%20addToHelpTab%28aEntries%2C%20aAppend%29%20%7B%0A%09var%20helpContent%20%3D%20self.Help%2C%0A%09btnURL%20%3D%20custombuttons.makeButtonLink%28%22edit%22%2C%20self.id%29%2C%0A%09cbService%20%3D%20custombuttons.cbService%3B%0A%09var%20param%20%3D%20cbService.getButtonParameters%28btnURL%29%3B%0A%09param%20%3D%20param.wrappedJSObject%20%7C%7C%20param%3B%0A%09if%20%28aAppend%29%0A%09%09param.help%20%3D%20helpContent%20+%20%22%5Cn%22%20+%20aEntries.join%28%22%5Cn%22%29%3B%0A%09else%0A%09%09param.help%20%3D%20aEntries.join%28%22%5Cn%22%29%3B%0A%09cbService.installButton%28param%29%3B%20//%20Triggers%20onDestroy%28%29%0A%7D%0A%0Afunction%20getIconsFromFolder%28aPath%29%20%7B%0A%09if%20%28%21%28%22OS%22%20in%20window%29%29%0A%09%09Cu.import%28%22resource%3A//gre/modules/osfile.jsm%22%29%3B%0A%09let%20iterator%20%3D%20new%20OS.File.DirectoryIterator%28aPath%29%2C%0A%09imgPattern%20%3D%20/%5C.%28gif%7Cjpg%7Cjpeg%7Ctiff%7Cpng%7Cico%7Csvg%7Cbmp%29%24/i%2C%0A%09entries%20%3D%20%5B%5D%3B%0A%09iterator.forEach%28function%20%28aEntry%29%20%7B%0A%09%09if%20%28%21aEntry.isDir%20%26%26%20imgPattern.test%28aEntry.path%29%29%0A%09%09%09entries.push%28%22file%3A///%22%20+%20aEntry.path%29%3B%0A%09%7D%29%3B%0A%09return%20entries%3B%0A%7D%0A%0Afunction%20%24XML%28aXML%29%20%7B%20//%20Return%20parsed%20XML%0A%09aXML%20%3D%20aXML.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%20//%20Linearize%20XML%0A%09return%20%28new%20DOMParser%29.parseFromString%28aXML%2C%20%22application/xml%22%29.documentElement%3B%0A%7D%0A%0Aif%20%28%22CustomizableUI%22%20in%20window%29%20%7B%0A%09let%20_cui%20%3D%20_UID%20+%20%22customizable_ui_%22%3B%0A%09CustomizableUI.addListener%28%7B%0A%09%09onCustomizeStart%20%3A%20function%20%28aWindow%29%20%7B%0A%09%09%09window%5B_cui%5D%20%3D%20true%3B%0A%09%09%7D%2C%0A%09%09onCustomizeEnd%20%3A%20function%20%28aWindow%29%20%7B%0A%09%09%09let%20thisBtn%20%3D%20aWindow.document.getElementById%28self.id%29%3B%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09if%20%28window%5B_cui%5D%29%20%7B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09thisBtn.onDestroy%28%29%3B%0A%09%09%09%09%09%7D%20catch%20%28e%29%20%7B%7D%0A%09%09%09%09%09thisBtn.init%28%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%2C%20Math.floor%28Math.random%28%29%20*%20%281%20+%202000%20-%20200%29%29%20+%20200%29%3B%0A%09%09%7D%2C%0A%09%7D%29%3B%0A%7D%0A%0Athis.onDestroy%20%3D%20function%20%28aReason%29%20%7B%0A%09setForEachWin%28true%29%3B%0A%09%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%26%26%20setForEachTab%28true%29%3B%0A%09Services.obs.removeObserver%28observer%2C%20%22domwindowopened%22%29%3B%0A%09%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%26%26%20window.removeEventListener%28%22DOMContentLoaded%22%2C%20alsoForTabs%2C%20false%29%3B%0A%09if%20%28aReason%20%3D%3D%3D%20%22delete%22%29%0A%09%09%28Services.prefs.getBranch%28PREF_BRANCH%29%29.deleteBranch%28%22%22%29%3B%0A%7D%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%28%21event.target%20%26%26%20%21this.disabled%29%0A%09this.gSwitch%28%22switchIcons%22%29%3B%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5Bhttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-7zip.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-ace.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-bittorrent.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-cd-image.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-class-file.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-csproj.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-cue.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-deb.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-desktop.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-executable.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-executable_2.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-flash-video.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-glade.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-gnome-saved-search.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-gnome-theme-package.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-gnumeric.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-java.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-javascript.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-m4.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-matroska.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-xml.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-ms-dos-executable.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-msdownload.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-ole-storage.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-pak.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-php.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-python-bytecode.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-rar.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-rpm.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-ruby.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-scribus.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-shellscript.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-shockwave-flash.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-sln.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-sqlite2.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-theme.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-trash.png%0Ahttps%3A//dl.dropboxusercontent.com/u/5194280/Icons/PNG/16x16/application-x-zip.png%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">
					Install this button</a><br><br>
				<a id="button-source" data-toggle="tooltip" data-placement="bottom" data-original-title="" class="btn btn-info btn-xs button-name" title="Button source on GitHub">
				GitHub</a>
				</div>
				<br>
			</div>
		</div>
	</div>
<p>This button adds new images to the Custom Buttons Editor and is based on a button of the same name that can be found in the <a href="https://forum.mozilla-russia.org/viewtopic.php?id=55963">Mozilla Russian forum</a>. The author is <b>SendAbuse</b> and is based on an idea by <b>okkamas_knife</b> with code contribution from <b>InfoCatcher</b>.</p>
<p>The main difference between my version of this button compared to the original, is that I have added the option to add images from a folder. I also added a menu to change certain options.</p>
<h3>Usage</h3>
<p>The images are stored inside the Help tab of this button (one image per line). Left-clicking on this button will switch between its enabled/disabled state. More than one version of this button can be installed at the same time containing different sets of icons. It will also work for buttons edited in tabs (See <a href="https://github.com/Infocatcher/Custom_Buttons/tree/master/Edit_Custom_Button_in_Tab">Edit Custom Button in Tab</a> button by <b>InfoCatcher</b>).</p>
<p>An image can be:</p>
<ul>
	<li>An URL containing an online image, e.g., "https://duckduckgo.com/favicon.ico".</li>
	<li>A "chrome" URL, e.g., "chrome://branding/content/icon32.png".</li>
	<li>A "file:///" URI, e.g., "file:///C:/Users/UserName/Desktop/Image.png", "file:///home/UserName/Pictures/Image.png".</li>
	<li>A data URI, e.g., "data:image/png;base64,...base64 code...".</li>
	<li>A "moz-icon", e.g., "moz-icon://.png?size=16".</li>
</ul>
<div id="install_alert" class="alert alert-warning">
<p>The more images you store inside the Help tab, the more time it will take to the CB Editor window to load. In my tests I stored more than 1600 (one thousand and six hundred) images as "file:///" URI and CB Editor delayed to load just a couple of seconds.</p>
</div>
<h3>Options - Acceced by middle-clicking on this button</h3>
<ul>
	<li><b>Allow checked: </b>If checked/enabled, the enabled state of Custom Icons for CB Editor will be reflected by its pressed/checked state.</li>
	<li><b>Hide standard icons: </b>If checked/enabled, the CB standard icons will be hidden from the dropdown menu &quot;Image&quot; of the CB Editor window.</li>
	<li><b>Add images from folder: </b>Select a folder containing images. Each image found will be added to the Help tab of this button in Base64 format or as a file URI. You can choose whether to append the new images to the already existent images inside the Help tab, or overwrite them.</li>
</ul>
<h3>Shortcuts/Button clicks</h3>
<ul>
	<li><b>Left Click: </b>Show/Hide new icons on CB Editor.</li>
	<li><b>Midle Click: </b>Open options menu.</li>
</ul>

<div align="middle">
<img src="lib/img/CustomIconsForCBEditor-01.png" alt="" border="0" width="" height="" /><br><br>
</div>

<div class="panel panel-warning">
  <div class="panel-heading">
    <h3 class="panel-title">Compatibility</h3>
  </div>
  <div class="panel-body">
<p>This button is intended to work with all Firefox-based browsers, SeaMonkey and Thunderbird. But it has been tested only in the following environments.</p>
<b>Arch Linux (XFCE and KDE) - Firefox 35.x</b><br>
<b>Windows 7 x64 - Palemoon x64 25.x.x, Thunderbird 31.x, Cyberfox x64 35.x and latest versions of Firefox ESR/Stable/Beta</b><br>
</div>
</div>

<div class="panel panel-danger">
  <div class="panel-heading">
    <h3 class="panel-title">Error report</h3>
  </div>
<div class="panel-body">
<b>If any errors are found, report it ASAP on this button <a href="http">homepage</a> with as much details as possible.</b>
<ul>
	<li>Wich plattform and its version (Linux, Mac or Windows).</li>
	<li>Wich application and its version (Any Firefox-based browser, Thunderbir or SeaMonkey).</li>
	<li>Error/Browser console output, if any.</li>
	<li>If it's easier for you to report an error with images, and if the image is too large or there are more than one, publish the links to them, do not post them using the IMG tag in the message.</li>
	<li>Be willing to follow troubleshooting instructions.</li>
</ul>
</div>
</div>

</div> <!-- .container .boxed -->
<div class="container boxed">
	<h1>Button code preview</h1>
	<div class="panel-body">
		<ul class="nav nav-tabs" style="margin-bottom: 15px;">
			<li class="active code-tab"><a href="#code-tab" rel="nofollow" data-toggle="tab">Code Tab</a></li>
			<li class="init-tab"><a href="#init-tab" rel="nofollow" data-toggle="tab">Initialization Tab</a></li>
			<li class="help-tab"><a href="#help-tab" rel="nofollow" data-toggle="tab">Help Tab</a></li>
		</ul>
		<div id="myTabContent" class="tab-content">
			<div class="tab-pane fade active in code-tab" id="code-tab"></div>
			<div class="tab-pane fade init-tab" id="init-tab"></div>
			<div class="tab-pane fade help-tab" id="help-tab"></div>
		</div>
	</div>
</div> <!-- .container .boxed -->

<div id="footer" class="navbar navbar-default">
<!-- Inserted via jQuery -->
</div>
</div> <!-- #mainarea -->


<span id="top-link-block" class="hidden">
	<a id="top-link" href="#top" rel="nofollow" class="well">
		<i class="glyphicon glyphicon-chevron-up"></i>
	</a>
</span><!-- /#top-link-block -->

	<script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="lib/js/highlight.pack.js"></script>
	<script type="text/javascript" src="lib/js/myFunctions.js"></script>
	<script type="text/javascript">
		var syntax = "js"; // In case syntax highlighting for help tab is needed. Posible values: "html", "css", "js" or empty (""),
		var isIndex = 0;
	</script>
</body>
</html>