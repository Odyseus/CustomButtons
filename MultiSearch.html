<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<title></title>
	<link rel="shortcut icon" type="image/x-icon" href="lib/img/MultiSearch-icon.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link type="text/css" rel="stylesheet" href="lib/css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="lib/css/bootstrap.odyseus.css" />
	<link type="text/css" rel="stylesheet" href="lib/css/highlight.css" />
</head>

<body>
<noscript><div class="alert alert-danger">
<strong>Oh snap! This page needs JavaScript enabled to display correctly.</strong>
</div></noscript>
<div id="mainarea" style="display: none">
<span id="headmenu">
<!-- Inserted via jQuery -->
</span>
<div class="container boxed">
<h1 class="button-name"></h1>
	<div id="basic-info">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Basic info</h3>
			</div>
			<div class="panel-body">
				<ul class="list-unstyled">
					<li><b>Author/s: </b>Odyseus</li>
					<li><b>Creation Date: </b>May 20, 2014</li>
					<li><b>Updated: </b>Dec 22, 2014 <a class="internal_link label label-success" href="#changelog">Changelog</a></li>
					<li><b>Status: </b>Complete</li>
					<li><b>Licence: </b><a href="http://mozilla.org/MPL/2.0/">Mozilla Public Licence</a></li>
					<li><b><a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?f=4&amp;t=3371">Button Homepage</a></b></li>
				</ul>
				<br>
				<div style="text-align:center!important;">
					<a id="button-uri" data-toggle="tooltip" data-placement="bottom" data-original-title="" class="btn btn-primary button-name" rel="nofollow" title="" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EMulti%20Search%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC7ElEQVQ4jXWTwWsaaxTFP2jXgXYhNJSCdBaGLLoJEVx1VSj0DyguGwiYIC6EKgg67pJQVFITyEzF6CLJDGjqNKCosZUig34Tg3zquNA+ZqHgogN2IbiZ8zbN46XF3/aecy73ci8hSwgGg49KpdKHUqn0IRgMPlqmuwfP80+vr6/L1Wr1Szgcft1sNtFsNhGNRl8XCoUv1Wq1zPP806UBoijK3W4XjDGUSqU+YwyMMVxdXfUZY+j1eojH4/JfxkAg8KxcLn9cW1t72+/3MRwOLcMwoGkaNE2DYRgYDodWr9fD+vr6W1VVP/I8/+y/AErp18lkgtFohOl0ajUaDSSTSQiCAEEQkEwm0Wg0MJ1OLcMwMB6PQSn9eud/eHh42DVNE6Zpot1u4/T0FDzP/+NyuUIulysUjUZ/pNNp3N7e4k6XSCS6hJCHxOv1rvh8vjeKoowXiwVkWbZEUfxFCFn935RPRFH8JcuytVgsoCjK2OfzvfF6vSukVqsJpmliPp9jNpshl8shFospf+4pFospuVwOs9kM8/kcpmmiVqsJJJvNplRVBaUU/X4fxWIRsix/+zNAluVvxWIRuq6DUgpVVZHNZlPEZrO92NjYeJ9KpSaapoFSCk3TEAqFXHfmUCjk0jQNrVYLNzc3ODk5mWxubr632WwvCCGEXF5eflYUBeVyGa1WC+1229J1HZ1OR+t0Opqu62i32xalFJVKBYqiIJ1Of75r8CASibBMJoOLiwsUCgWrXq+DMYbBYIDBYADGGOr1OhRFsSRJQjabRSQSYYSQB4QQQhwOx8utra3vHMeFM5kMzs7OIEkS8vk88vk8JEnC+fk50uk0VldXw9vb298dDsfLvy5yb2/vUzwex9HREfx+/09BECCKIvx+/8/j42MkEgkEAoFPS3/Bbre/8ng8o93d3Y7T6Xy3v7+Pg4MDOJ3Odzs7Ox2PxzOy2+2vlgb8ZoUQ8pjjuOdut7vidrsrHMc9J4Q8/l27x78wUO831tEJLgAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B%22use%20strict%22%3B%0Aif%20%28self.parentNode%20%26%26%20self.parentNode.id.match%28%22wrapper-%22%29%29%0A%09return%3B%0A%0Aif%20%28%21%28%22Services%22%20in%20window%29%29%0A%09Cu.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0A%0Aconst%20_UID%20%3D%20%22__multi_search%22%20+%20%28self.id%29.split%28%22custombuttons%22%29%5B1%5D%3B%0A%0Aconst%20_CSS%20%3D%20_UID%20+%20%22_stylesheet_%22%3B%0A%0Aconst%20_FLG1%20%3D%20_UID%20+%20%22_flag1_%22%3B%0A%0Aconst%20_FLG2%20%3D%20_UID%20+%20%22_flag2_%22%3B%0A%0Aconst%20_FLG3%20%3D%20_UID%20+%20%22_flag3_%22%3B%0A%0Aconst%20PREF_BRANCH%20%3D%20%22extensions.custombuttons.MultiSearch.Id%22%20+%20%28self.id%29.split%28%22-button%22%29%5B1%5D%20+%20%22.%22%3B%0A%0Avar%20currentTime%20%3D%20parseInt%28%28new%20Date%28%29%29.getTime%28%29%20/%2086400000%29%3B%0A%0A//START//%20Default%20preferences%20management%0AbtnPref.defaults%20%3D%20%7B%0A%09AboutConfigEngine%20%3A%20false%2C%0A%09AttachOneOffBoxToMainPanel%20%3A%20true%2C%0A%09AutoFillWithSelection%20%3A%20false%2C%0A%09AutoTriggerSuggestions%20%3A%20true%2C%0A%09ButtonIconHeight%20%3A%2018%2C%0A%09DaDDoorHanger%20%3A%20true%2C%0A%09DaDNotifications%20%3A%20true%2C%0A%09EnginesPerRow%20%3A%204%2C%0A%09FlipAttribute%20%3A%20false%2C%0A%09GlobalDaDFeedback%20%3A%20true%2C%0A%09HideDefaultSearchbar%20%3A%20false%2C%0A%09HotkeyAction%20%3A%20false%2C%0A%09OneOffButtons%20%3A%20true%2C%0A%09DragAndDropForOneOffButtons%20%3A%20true%2C%0A%09OverrideHosts%20%3A%20%22%22%2C%0A%09OverrideURLs%20%3A%20%22about%3Ablank%2Cabout%3Anewtab%2Cabout%3Ahome%22%2C%0A%09SearchHistory%20%3A%20true%2C%0A%09SearchImageContextMenu%20%3A%20false%2C%0A%09SearchMode%20%3A%20false%2C%0A%09ShowDropmarker%20%3A%20true%2C%0A%09ShowFullTooltip%20%3A%20true%2C%0A%09StraightSearch%20%3A%20false%2C%0A%09UseClipboard%20%3A%20false%2C%0A%09UseQuotationMarks%20%3A%20false%2C%0A%09UseSearchAlias%20%3A%20true%2C%0A%09TabOpening%20%3A%203%2C%0A%09TabOpeningForImg%20%3A%202%2C%0A%09TooltipDelay%20%3A%201000%2C%0A%09Updates%20%3A%20false%2C%0A%09UpdatesEvery%20%3A%207%2C%0A%09UpdatesDelay%20%3A%2060%2C%0A%09UpdatesLastCheck%20%3A%20currentTime%0A%7D%3B%0A%0Afor%20%28let%20key%20in%20btnPref.defaults%29%20%7B%0A%09if%20%28btnPref.defaults.hasOwnProperty%28key%29%29%20%7B%0A%09%09let%20val%20%3D%20btnPref.defaults%5Bkey%5D%3B%0A%09%09switch%20%28typeof%20val%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setBoolPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setIntPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09str.data%20%3D%20val%3B%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setComplexValue%28%28key%29%2C%0A%09%09%09%09Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%0A%7D%0A%0AbtnPref.observe%20%3D%20function%20%28aPrefs%2C%20aCallback%29%20%7B%0A%09let%20%7B%0A%09%09root%0A%09%7D%0A%09%09%20%3D%20btnPref%3B%0A%09function%20observe%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09if%20%28topic%20%21%3D%3D%20%22nsPref%3Achanged%22%29%0A%09%09%09return%3B%0A%09%09let%20pref%20%3D%20data.slice%28root.length%29%3B%0A%09%09if%20%28aPrefs.indexOf%28pref%29%20%3D%3D%3D%20-1%29%0A%09%09%09return%3B%0A%09%09aCallback%28pref%29%3B%0A%09%7D%0A%09Services.prefs.addObserver%28root%2C%20observe%2C%20false%29%3B%0A%09unload%28function%20%28%29Services.prefs.removeObserver%28root%2C%20observe%29%29%3B%0A%7D%3B%0A%0Afunction%20btnPref%28aKey%29%20%7B%0A%09let%20%7B%0A%09%09branch%2C%0A%09%09defaults%0A%09%7D%0A%09%09%20%3D%20btnPref%3B%0A%09if%20%28%21branch%29%0A%09%09branch%20%3D%20Services.prefs.getBranch%28PREF_BRANCH%29%3B%0A%09switch%20%28typeof%20defaults%5BaKey%5D%29%20%7B%0A%09case%20%22boolean%22%3A%0A%09%09return%20branch.getBoolPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22number%22%3A%0A%09%09return%20branch.getIntPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22string%22%3A%0A%09%09return%20branch.getComplexValue%28aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09break%3B%0A%09%7D%0A%09return%20null%3B%0A%7D%0A%0Afunction%20unload%28aCallback%2C%20aContainer%29%20%7B%0A%09let%20unloaders%20%3D%20unload.unloaders%3B%0A%09if%20%28unloaders%20%3D%3D%3D%20null%29%0A%09%09unloaders%20%3D%20unload.unloaders%20%3D%20%5B%5D%3B%0A%09if%20%28aCallback%20%3D%3D%3D%20null%29%20%7B%0A%09%09unloaders.slice%28%29.forEach%28function%20%28unloader%29unloader%28%29%29%3B%0A%09%09%09unloaders.length%20%3D%200%3B%0A%09%7D%0A%09if%20%28aContainer%20%21%3D%3D%20null%29%20%7B%0A%09%09aContainer.addEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09let%20origCallback%20%3D%20aCallback%3B%0A%09%09callback%20%3D%20function%20%28%29%20%7B%0A%09%09%09aContainer.removeEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09%09origCallback%28%29%3B%0A%09%09%7D%3B%0A%09%09return%20null%3B%0A%09%7D%0A%09function%20unloader%28%29%20%7B%0A%09%09try%20%7B%0A%09%09%09callback%28%29%3B%0A%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09Cu.reportError%28aError%29%3B%0A%09%09%7D%0A%09%7D%0A%09unloaders.push%28unloader%29%3B%0A%09function%20removeUnloader%28%29%20%7B%0A%09%09let%20index%20%3D%20unloaders.indexOf%28unloader%29%3B%0A%09%09if%20%28index%20%21%3D%3D%20-1%29%0A%09%09%09unloaders.splice%28index%2C%201%29%3B%0A%09%7D%0A%09return%20removeUnloader%3B%0A%7D%0A//END//%20Default%20preferences%20management%0A%0Aif%20%28btnPref%28%22OneOffButtons%22%29%29%0A%09%28Services.prefs.getPrefType%28%22browser.search.hiddenOneOffs%22%29%20%3D%3D%3D%200%29%0A%09%20%26%26%20sCV%28%22browser.search.hiddenOneOffs%22%2C%20%22%22%2C%20true%29%3B%0A%0Avar%20_%24%20%3D%20%7B%0A%09/**%0A%09%20*%20%20The%20next%20six%20values%20can%20be%20changed%20to%20your%20liking.%20Mainly%20to%20adapt%20the%20search%20textbox.%0A%09%20*%20%20Follow%20the%20links%20to%20learn%20more%20about%20the%20values.%0A%09%20*/%0A%09minresultsforpopup%20%3A%200%2C%20//%20http%3A//developer.mozilla.org/en-US/docs/XUL/Attribute/minresultsforpopup%0A%09timeout%20%3A%2050%2C%20//%20http%3A//developer.mozilla.org/en-US/docs/XUL/Attribute/timeout%0A%09completeselectedindex%20%3A%20true%2C%20//%20https%3A//developer.mozilla.org/en-US/docs/XUL/Attribute/completeselectedindex%0A%09tabscrolling%20%3A%20true%2C%20//%20http%3A//developer.mozilla.org/en-US/docs/XUL/Attribute/tabscrolling%0A%09showcommentcolumn%20%3A%20true%2C%20//%20http%3A//developer.mozilla.org/en-US/docs/XUL/Attribute/showcommentcolumn%0A%0A%09searchByImageBaseURL%20%3A%20%22https%3A//encrypted.google.com%22%2C%0A%09/**%0A%09%20*%20%20From%20here%20down%2C%20DO%20NOT%20TOUCH%20ANYTHING.%0A%09%20*/%0A%0A%09engPerRow%20%3A%20btnPref%28%22EnginesPerRow%22%29%2C%0A%0A%09maxMinWidth%20%3A%20btnPref%28%22EnginesPerRow%22%29%20*%2039%2C%0A%0A%09get%20oODetached%28%29%20%7B%20//%20Where%20to%20create%20the%20one-off%20buttons%20box.%0A%09%09//%20Attached%20to%20the%20main%20panel%20or%20inside%20%22CustomPopupAutoComplete%22.%0A%09%09if%20%28btnPref%28%22AttachOneOffBoxToMainPanel%22%29%20%7C%7C%20appID%28%22SM%22%29%20%7C%7C%0A%09%09%09%28%21btnPref%28%22SearchHistory%22%29%20%26%26%20%21gBP%28%22browser.search.suggest.enabled%22%2C%20true%29%29%29%0A%09%09%09return%20false%3B%0A%09%09else%0A%09%09%09return%20true%3B%0A%09%09return%20false%3B%0A%09%7D%2C%0A%0A%09isWin%20%3A%20%28window.navigator.platform.toLowerCase%28%29.indexOf%28%22win%22%29%20%3D%3D%3D%200%29%2C%0A%0A%09defaultImage%20%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAmUlEQVQ%22%20+%0A%09%224ja1TsQ0EMQi7/SeAii2YgWWoXfqrSMkFcvf6j0RBwIaAc13FUVWqKkWEIsLhV7nLuQPuNmIluAN1RFvlEXR3ZiYBMDP%22%20+%0A%09%22p7s8kMxgA3Z1mtvgVyVa9qjg6aruYLwDQzLZEAO08FoJvO9gIuhlExLsnVFuIiPMgT8KpOitX+UY8g2Qecimkk83gTY0%22%20+%0A%09%22/Sfkvn+mJqKv6AVvEX41/04OeAAAAAElFTkSuQmCC%22%2C%0A%0A%09get%20aCPanel%28%29%24%28_UID%20+%20%22-CustomPopupAutoComplete%22%29%2C%0A%0A%09get%20sPanel%28%29%24%28_UID%20+%20%22-search_panel%22%29%2C%0A%0A%09get%20txtBox%28%29%24%28_UID%20+%20%22-searchbox%22%29%0A%7D%3B%0A%0Athis.createPanels%20%3D%20function%20%28%29%20%7B%0A%09let%20autoCPanel%20%3D%20%24XML%28%22%3Cpanel%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%20type%3D%5C%22autocomplete%5C%22%20id%3D%5C%22%22%20+%0A%09%09%09_UID%20+%20%22-CustomPopupAutoComplete%5C%22%20noautofocus%3D%5C%22true%5C%22%20minwidth%3D%5C%22%22%20+%20_%24.maxMinWidth%20+%0A%09%09%09%22%5C%22%20maxwidth%3D%5C%22%22%20+%20_%24.maxMinWidth%20+%20%22%5C%22%20hidden%3D%5C%22true%5C%22/%3E%22%29%3B%0A%09if%20%28btnPref%28%22OneOffButtons%22%29%20%26%26%20_%24.oODetached%29%0A%09%09_%24.aCPanel%20%7C%7C%20%24%28%22mainPopupSet%22%29.appendChild%28autoCPanel%29%3B%0A%09else%20if%20%28btnPref%28%22OneOffButtons%22%29%20%26%26%20%21_%24.oODetached%29%0A%09%09_%24.aCPanel%20%26%26%20_%24.aCPanel.parentNode.removeChild%28_%24.aCPanel%29%3B%0A%09let%20mPanel%20%3D%20document.createElementNS%28xulns%2C%20%22panel%22%29%3B%0A%09mPanel.setAttribute%28%22id%22%2C%20_UID%20+%20%22-search_panel%22%29%3B%0A%09mPanel.setAttribute%28%22align%22%2C%20%22center%22%29%3B%0A%09mPanel.setAttribute%28%22type%22%2C%20%22arrow%22%29%3B%0A%09mPanel.setAttribute%28%22consumeoutsideclicks%22%2C%20false%29%3B%0A%09mPanel.setAttribute%28%22orient%22%2C%20%22vertical%22%29%3B%0A%09mPanel.setAttribute%28%22flip%22%2C%20%28btnPref%28%22FlipAttribute%22%29%20%3F%20%22both%22%20%3A%20%22slide%22%29%29%3B%0A%09mPanel.setAttribute%28%22onpopuphiding%22%2C%20%22this.parentNode.searchPanelActions.onPopupHiding%28event%29%3B%22%29%3B%0A%09mPanel.setAttribute%28%22onpopupshowing%22%2C%0A%09%09%22this.parentNode.searchPanelActions.prePopupShowing%28%29%3B%22%20+%0A%09%09%22this.parentNode.searchPanelActions.onPopupShowing%28event%29%3B%22%29%3B%0A%09while%20%28mPanel.lastChild%29%0A%09%09mPanel.removeChild%28mPanel.lastChild%29%3B%0A%09let%20searchBoxContainer%20%3D%20mPanel.appendChild%28document.createElementNS%28xulns%2C%20%22hbox%22%29%29%3B%0A%09searchBoxContainer.setAttribute%28%22id%22%2C%20_UID%20+%20%22-searchbox-container%22%29%3B%0A%09let%20txtBox%20%3D%20searchBoxContainer.appendChild%28document.createElementNS%28xulns%2C%20%22textbox%22%29%29%3B%0A%09txtBox.setAttribute%28%22id%22%2C%20_UID%20+%20%22-searchbox%22%29%3B%0A%09txtBox.setAttribute%28%22minwidth%22%2C%20_%24.maxMinWidth%29%3B%0A%09txtBox.setAttribute%28%22maxwidth%22%2C%20_%24.maxMinWidth%29%3B%0A%09txtBox.setAttribute%28%22placeholder%22%2C%20Services.search.currentEngine.name%29%3B%0A%09if%20%28btnPref%28%22SearchHistory%22%29%20%7C%7C%20gBP%28%22browser.search.suggest.enabled%22%2C%20true%29%29%20%7B%0A%09%09txtBox.setAttribute%28%22type%22%2C%20%22autocomplete%22%29%3B%0A%09%09txtBox.setAttribute%28%22autocompletepopup%22%2C%20%28btnPref%28%22OneOffButtons%22%29%20%26%26%20_%24.oODetached%29%0A%09%09%09%20%3F%20_UID%20+%20%22-CustomPopupAutoComplete%22%0A%09%09%09%20%3A%20%22PopupAutoComplete%22%29%3B%0A%09%09txtBox.setAttribute%28%22autocompletesearch%22%2C%20%22search-autocomplete%22%29%3B%0A%09%09btnPref%28%22SearchHistory%22%29%20%26%26%20txtBox.setAttribute%28%22autocompletesearchparam%22%2C%20%22searchbar-history%22%29%3B%0A%09%09txtBox.setAttribute%28%22minresultsforpopup%22%2C%20_%24.minresultsforpopup%29%3B%0A%09%09txtBox.setAttribute%28%22timeout%22%2C%20_%24.timeout%29%3B%0A%09%09txtBox.setAttribute%28%22completeselectedindex%22%2C%20_%24.completeselectedindex%29%3B%0A%09%09txtBox.setAttribute%28%22tabscrolling%22%2C%20_%24.tabscrolling%29%3B%0A%09%09txtBox.setAttribute%28%22maxrows%22%2C%2010%29%3B%0A%09%09txtBox.setAttribute%28%22showcommentcolumn%22%2C%20_%24.showcommentcolumn%29%3B%0A%09%7D%0A%09txtBox.setAttribute%28%22onkeyup%22%2C%20%22event.stopPropagation%28%29%3Bdocument.getElementById%28%5C%22%22%20+%0A%09%09self.id%20+%20%22%5C%22%29.searchPanelActions.onKeyUp%28event%29%3B%22%29%3B%0A%09txtBox.setAttribute%28%22onkeypress%22%2C%20%22event.stopPropagation%28%29%3Bdocument.getElementById%28%5C%22%22%20+%0A%09%09self.id%20+%20%22%5C%22%29.searchPanelActions.onKeyPress%28event%29%3B%22%29%3B%0A%09txtBox.setAttribute%28%22oncommand%22%2C%20%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%29%3B%0A%09let%20goBtn%20%3D%20searchBoxContainer.appendChild%28document.createElementNS%28xulns%2C%20%22button%22%29%29%3B%0A%09goBtn.setAttribute%28%22id%22%2C%20_UID%20+%20%22-search-button%22%29%3B%0A%09goBtn.setAttribute%28%22image%22%2C%20_%24.defaultImage%29%3B%0A%09goBtn.setAttribute%28%22tooltiptext%22%2C%20%22Search%20with%3A%20%22%20+%20Services.search.currentEngine.name%29%3B%0A%09goBtn.setAttribute%28%22onclick%22%2C%20%22event.stopPropagation%28%29%3Bdocument.getElementById%28%5C%22%22%20+%0A%09%09self.id%20+%20%22%5C%22%29.searchPanelActions.onKeyPress%28event%29%3B%22%29%3B%0A%09if%20%28btnPref%28%22OneOffButtons%22%29%20%26%26%20%21_%24.oODetached%29%20%7B%0A%09%09let%20oneOffBox%20%3D%20document.createElementNS%28xulns%2C%20%22vbox%22%29%3B%0A%09%09oneOffBox.setAttribute%28%22id%22%2C%20_UID%20+%20%22-one-off-items%22%29%3B%0A%09%09oneOffBox.setAttribute%28%22minwidth%22%2C%20_%24.maxMinWidth%29%3B%0A%09%09oneOffBox.setAttribute%28%22maxwidth%22%2C%20_%24.maxMinWidth%29%3B%0A%09%09//%20Use%20%22html%3Adiv%22%20instead%20of%20%22description%22%20to%20avoid%20Classic%20Toolbar%20Buttons%20addon%20breakage.%20%AC%AC%0A%09%09let%20oneOffItems%20%3D%20oneOffBox.appendChild%28document.createElementNS%28xhtmlns%2C%20%22html%3Adiv%22%29%29%3B%0A%09%09oneOffItems.setAttribute%28%22id%22%2C%20_UID%20+%20%22-one-offs%22%29%3B%0A%09%09oneOffItems.setAttribute%28%22minwidth%22%2C%20_%24.maxMinWidth%29%3B%0A%09%09oneOffItems.setAttribute%28%22maxwidth%22%2C%20_%24.maxMinWidth%29%3B%0A%09%09mPanel.appendChild%28oneOffBox%29%3B%0A%09%7D%0A%09self.appendChild%28mPanel%29%3B%0A%09btnPref%28%22OneOffButtons%22%29%20%26%26%20self.searchPanelActions.attachOneOffBtns%28%29%3B%0A%09setTimeout%28function%20%28%29%20%7B%0A%09%09btnPref%28%22ShowFullTooltip%22%29%20%26%26%20getTooltip%28%29%3B%0A%09%09let%20searchBoxInput%20%3D%20document.getAnonymousElementByAttribute%28%24%28_UID%20+%20%22-searchbox%22%29%2C%0A%09%09%09%09%22class%22%2C%20%22textbox-input-box%22%29%3B%0A%09%09let%20clearBtn%20%3D%20searchBoxInput.appendChild%28document.createElementNS%28xulns%2C%20%22button%22%29%29%3B%0A%09%09clearBtn.setAttribute%28%22id%22%2C%20_UID%20+%20%22-clear-searchbox%22%29%3B%0A%09%09clearBtn.setAttribute%28%22image%22%2C%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAAoAAAAJCAY%22%20+%0A%09%09%09%22AAAALpr0TAAAAKUlEQVQYlWNgIBH8h2KC4v+xCGITw5DAqQiXYoJuJck0gu7D6xmCwQMATYQn2THBknUAAAA%22%20+%0A%09%09%09%22ASUVORK5CYII%3D%22%29%3B%0A%09%09clearBtn.setAttribute%28%22hidden%22%2C%20true%29%3B%0A%09%09clearBtn.onclick%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09if%20%28aEvt.button%20%21%3D%3D%200%20%26%26%20aEvt.originalTarget%20%21%3D%3D%20this%29%0A%09%09%09%09return%3B%0A%09%09%09_%24.txtBox.value%20%3D%20%22%22%3B%0A%09%09%09_%24.txtBox.focus%28%29%3B%0A%09%09%09self.searchPanelActions.showClearSearchboxBtn%28%29%3B%0A%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%7D%3B%0A%09%7D%2C%20100%29%3B%0A%7D%0A%0Athis.type%20%3D%20btnPref%28%22StraightSearch%22%29%20%3F%20%22menu-button%22%20%3A%20%22menu%22%3B%0A%0Athis.value%20%3D%20-1%3B%0A%0AServices.search.init%28function%20onInitComplete%28%29%20%7B%0A%09self.image%20%3D%20Services.search.currentEngine.iconURI.spec%3B%0A%09if%20%28%21_%24.sPanel%29%0A%09%09self.createPanels%28%29%3B%0A%09if%20%28btnPref%28%22OneOffButtons%22%29%20%26%26%20_%24.oODetached%29%20%7B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09if%20%28_%24.aCPanel%29%20%7B%0A%09%09%09%09_%24.aCPanel.style.MozBinding%20%3D%20%22url%28chrome%3A//browser/content/urlbarBindings.xml%22%20+%0A%09%09%09%09%09%22%23browser-autocomplete-result-popup%29%20%21important%3B%22%3B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09//%20To%20keep%20%22CustomPopupAutoComplete%22%20panel%20open%20after%20selecting%20a%20suggestion.%0A%09%09%09%09%09_%24.txtBox.oninput%20%3D%20function%20%28%29%20%7B%0A%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09%28_%24.txtBox.value%20%21%3D%3D%20%22%22%29%0A%09%09%09%09%09%09%09%20%26%26%20self.searchPanelActions.keepItUp%28_%24.txtBox%2C%20_%24.txtBox%29%3B%0A%09%09%09%09%09%09%7D%2C%2050%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09while%20%28_%24.aCPanel.firstChild%29%0A%09%09%09%09%09%09_%24.aCPanel.firstChild.remove%28%29%3B%0A%09%09%09%09%09self.searchPanelActions.attachOneOffBtns%28%29%3B%0A%09%09%09%09%09_%24.aCPanel.hidden%20%3D%20false%3B%20//%20Needed%20for%20Palemoon.%20%AC%AC%0A%09%09%09%09%7D%2C%20500%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%20500%29%3B%0A%09%7D%0A%09let%20aboutEngName%20%3D%20%22aboutConfig%22%3B%0A%09let%20aboutEng%20%3D%20Services.search.getEngineByName%28aboutEngName%29%3B%0A%09if%20%28btnPref%28%22AboutConfigEngine%22%29%29%20%7B%0A%09%09if%20%28%21aboutEng%29%20%7B%0A%09%09%09Services.search.addEngineWithDetails%28%0A%09%09%09%09aboutEngName%2C%0A%09%09%09%09%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAC7ElEQVQ4jX%22%20+%0A%09%09%09%09%22WTwWsaaxTFP2jXgXYhNJSCdBaGLLoJEVx1VSj0DyguGwiYIC6EKgg67pJQVFITyEzF6CLJDGjqNKCosZ%22%20+%0A%09%09%09%09%22Uig34Tg3zquNA+ZqHgogN2IbiZ8zbN46XF3/aecy73ci8hSwgGg49KpdKHUqn0IRgMPlqmuwfP80+vr6%22%20+%0A%09%09%09%09%22/L1Wr1Szgcft1sNtFsNhGNRl8XCoUv1Wq1zPP806UBoijK3W4XjDGUSqU+YwyMMVxdXfUZY+j1eojH4/%22%20+%0A%09%09%09%09%22JfxkAg8KxcLn9cW1t72+/3MRwOLcMwoGkaNE2DYRgYDodWr9fD+vr6W1VVP/I8/+y/AErp18lkgtFohO%22%20+%0A%09%09%09%09%22l0ajUaDSSTSQiCAEEQkEwm0Wg0MJ1OLcMwMB6PQSn9eud/eHh42DVNE6Zpot1u4/T0FDzP/+NyuUIuly%22%20+%0A%09%09%09%09%22sUjUZ/pNNp3N7e4k6XSCS6hJCHxOv1rvh8vjeKoowXiwVkWbZEUfxFCFn935RPRFH8JcuytVgsoCjK2O%22%20+%0A%09%09%09%09%22fzvfF6vSukVqsJpmliPp9jNpshl8shFospf+4pFospuVwOs9kM8/kcpmmiVqsJJJvNplRVBaUU/X4fxW%22%20+%0A%09%09%09%09%22IRsix/+zNAluVvxWIRuq6DUgpVVZHNZlPEZrO92NjYeJ9KpSaapoFSCk3TEAqFXHfmUCjk0jQNrVYLNz%22%20+%0A%09%09%09%09%22c3ODk5mWxubr632WwvCCGEXF5eflYUBeVyGa1WC+1229J1HZ1OR+t0Opqu62i32xalFJVKBYqiIJ1Of7%22%20+%0A%09%09%09%09%225r8CASibBMJoOLiwsUCgWrXq+DMYbBYIDBYADGGOr1OhRFsSRJQjabRSQSYYSQB4QQQhwOx8utra3vHM%22%20+%0A%09%09%09%09%22eFM5kMzs7OIEkS8vk88vk8JEnC+fk50uk0VldXw9vb298dDsfLvy5yb2/vUzwex9HREfx+/09BECCKIv%22%20+%0A%09%09%09%09%22x+/8/j42MkEgkEAoFPS3/Bbre/8ng8o93d3Y7T6Xy3v7+Pg4MDOJ3Odzs7Ox2PxzOy2+2vlgb8ZoUQ8p%22%20+%0A%09%09%09%09%22jjuOdut7vidrsrHMc9J4Q8/l27x78wUO831tEJLgAAAABJRU5ErkJggg%3D%3D%22%2C%0A%09%09%09%09%22%22%2C%0A%09%09%09%09%22aboutConfig%22%2C%0A%09%09%09%09%22GET%22%2C%0A%09%09%09%09%22https%3A//duckduckgo.com/%3Fq%3D%7BsearchTerms%7D%22%29%3B%0A%09%09%09aboutEng%20%3D%20Services.search.getEngineByName%28aboutEngName%29%3B%0A%09%09%7D%0A%09%09aboutEng%20%3D%20aboutEng.wrappedJSObject%3B%0A%09%09aboutEng.getSubmission%20%3D%20function%20%28aData%2C%20aResponseType%29%20%7B%0A%09%09%09let%20url%20%3D%20%27about%3Aconfig%3Ffilter%3D%27%20+%20aData%3B%0A%09%09%09let%20submission%20%3D%20%7B%0A%09%09%09%09uri%20%3A%20%7B%0A%09%09%09%09%09spec%20%3A%20url%0A%09%09%09%09%7D%2C%0A%09%09%09%09postData%20%3A%20null%0A%09%09%09%7D%3B%0A%09%09%09return%20submission%3B%0A%09%09%7D%0A%09%7D%20else%0A%09%09aboutEng%20%26%26%20Services.search.removeEngine%28aboutEng%29%3B%0A%7D%29%3B%0A%0Athis.searchPanelActions%20%3D%20%7B%0A%09showClearSearchboxBtn%20%3A%20function%20%28%29%20%7B%0A%09%09if%20%28_%24.txtBox.value%20%21%3D%3D%20%22%22%29%0A%09%09%09%24%28_UID%20+%20%22-clear-searchbox%22%29.hidden%20%3D%20false%3B%0A%09%09else%0A%09%09%09%24%28_UID%20+%20%22-clear-searchbox%22%29.hidden%20%3D%20true%3B%0A%09%7D%2C%0A%09prePopupShowing%20%3A%20function%20%28%29%20%7B%0A%09%09if%20%28%21_%24.oODetached%20%7C%7C%20%21%28_FLG1%20in%20window%29%29%0A%09%09%09return%3B%0A%09%09if%20%28_%24.aCPanel%20%26%26%20_%24.aCPanel.popupOpen%29%0A%09%09%09_%24.aCPanel.hidePopup%28%29%3B%0A%09%09delete%20window%5B_FLG1%5D%3B%0A%09%7D%2C%0A%09onPopupShowing%20%3A%20function%20%28aEvt%29%20%7B%0A%09%09if%20%28_%24.sPanel.state%20%3D%3D%3D%20%22open%22%20%7C%7C%20%28_FLG1%20in%20window%29%29%0A%09%09%09return%3B%20//%20Workaround%20for%20SeaMonkey%27s%20panels.%20Holly%20%24%25%26%3F%24%25%26%BF%21%21%21%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09_%24.txtBox.value%20%3D%20getSearchVal%28%29%3B%0A%09%09%09_%24.txtBox.focus%28%29%3B%0A%09%09%09_%24.txtBox.select%28%29%3B%0A%09%09%09if%20%28btnPref%28%22AutoTriggerSuggestions%22%29%20%26%26%20_%24.txtBox.value%20%21%3D%3D%20%22%22%29%20%7B%0A%09%09%09%09var%20nsIDOMWindowUtils%20%3D%20window.QueryInterface%28Ci.nsIInterfaceRequestor%29%0A%09%09%09%09%09.getInterface%28Ci.nsIDOMWindowUtils%29%3B%0A%09%09%09%09nsIDOMWindowUtils.sendKeyEvent%28%22keypress%22%2C%2035%2C%200%2C%20null%2C%20null%29%3B%0A%09%09%09%09nsIDOMWindowUtils.sendKeyEvent%28%22keyup%22%2C%2035%2C%200%2C%20null%2C%20null%29%3B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09nsIDOMWindowUtils.sendKeyEvent%28%22keypress%22%2C%200%2C%2032%2C%20null%2C%20null%29%3B%0A%09%09%09%09%09nsIDOMWindowUtils.sendKeyEvent%28%22keyup%22%2C%200%2C%2032%2C%20null%2C%20null%29%3B%0A%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%7D%0A%09%09%09self.searchPanelActions.showClearSearchboxBtn%28%29%3B%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%28_%24.txtBox.value%20%21%3D%3D%20%22%22%29%0A%09%09%09%09%20%26%26%20self.searchPanelActions.keepItUp%28_%24.txtBox%2C%20_%24.txtBox%29%3B%0A%09%09%09%7D%2C%2050%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%7D%2C%0A%09onPopupHiding%20%3A%20function%20%28aEvt%29%20%7B%0A%09%09if%20%28_%24.sPanel%20%26%26%20_%24.sPanel.state%20%3D%3D%3D%20%22open%22%29%0A%09%09%09return%3B%20//%20Again%2C%20for%20SeaMonkey%27s%20panels.%20Holly%20%24%25%26%3F%24%25%26%BF%21%21%21%0A%09%09delete%20window%5B_FLG1%5D%3B%0A%09%09_%24.txtBox.value%20%3D%20%22%22%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09if%20%28_%24.aCPanel%20%26%26%20_%24.aCPanel.popupOpen%29%20//%20%22Needed%22%20in%20case%20aCPanel%20stays%20open%20after%20sPanel%20is%20closed.%0A%09%09%09%09_%24.aCPanel.hidePopup%28%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%09self.searchPanelActions.showClearSearchboxBtn%28%29%3B%0A%09%7D%2C%0A%09onKeyPress%20%3A%20function%20%28aEvt%29%20%7B%0A%09%09if%20%28aEvt.keyCode%20%3D%3D%3D%2013%20%7C%7C%20aEvt.type%20%3D%3D%3D%20%22click%22%29%20%7B%20//%20Enter%20key%20or%20click%0A%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20%7B%20//%20No%20modifiers%0A%09%09%09%09openSearch%28_%24.txtBox.value%2C%20btnPref%28%22SearchMode%22%29%20%3F%20%22site%22%20%3A%20%22web%22%2C%20%22TextBox%22%29%3B%0A%09%09%09%09_%24.sPanel.hidePopup%28%29%3B%0A%09%09%09%7D%20else%20if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20%7B%20//%20Ctrl%0A%09%09%09%09openSearch%28_%24.txtBox.value%2C%20btnPref%28%22SearchMode%22%29%20%3F%20%22web%22%20%3A%20%22site%22%2C%20%22TextBox%22%29%3B%0A%09%09%09%09_%24.sPanel.hidePopup%28%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09aEvt.stopPropagation%28%29%3B%0A%09%7D%2C%0A%09onKeyUp%20%3A%20function%20%28aEvt%29%20%7B%0A%09%09//%20No%20Enter%20key%20nor%20Del%20key%0A%09%09if%20%28btnPref%28%22OneOffButtons%22%29%20%26%26%20_%24.oODetached%20%26%26%20aEvt.keyCode%20%21%3D%3D%2013%20%26%26%20aEvt.keyCode%20%21%3D%3D%2046%29%20%7B%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09if%20%28_%24.txtBox.value%20%21%3D%3D%20%22%22%29%0A%09%09%09%09%09self.searchPanelActions.keepItUp%28_%24.txtBox%2C%20_%24.txtBox%29%3B%0A%09%09%09%7D%2C%2050%29%3B%0A%09%09%7D%20else%20if%20%28aEvt.keyCode%20%3D%3D%3D%2046%20%26%26%20%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20%7B%0A%09%09%09_%24.txtBox.value%20%3D%20%22%22%3B%0A%09%09%09_%24.txtBox.focus%28%29%3B%0A%09%09%09%28_%24.aCPanel%20%26%26%20_%24.aCPanel.popupOpen%29%20%26%26%20_%24.aCPanel.hidePopup%28%29%3B%0A%09%09%7D%0A%09%09self.searchPanelActions.showClearSearchboxBtn%28%29%3B%0A%09%09aEvt.stopPropagation%28%29%3B%0A%09%7D%2C%0A%09keepItUp%20%3A%20function%20%28aInput%2C%20aAnchor%29%20%7B%0A%09%09if%20%28_%24.aCPanel%20%26%26%20%21_%24.aCPanel.popupOpen%29%20%7B%0A%09%09%09_%24.aCPanel.minWidth%20%3D%20_%24.maxMinWidth%3B%0A%09%09%09_%24.aCPanel.maxWidth%20%3D%20_%24.maxMinWidth%3B%0A%09%09%09_%24.aCPanel.height%20%3D%200%3B%20//%20Workaround%20to%20hide%20empty%20autocomplete%20results.%0A%09%09%09_%24.aCPanel.hidden%20%3D%20false%3B%0A%09%09%09_%24.aCPanel.addEventListener%28%22popupshown%22%2C%20function%20%28%29%20%7B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09_%24.aCPanel.removeAttribute%28%22height%22%29%3B%0A%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%7D%2C%20false%29%3B%0A%09%09%09//%20Directly%20using%20%22openPopup%22%20is%20%22glitchy%22.%0A%09%09%09_%24.aCPanel.openAutocompletePopup%28aInput%2C%20aAnchor%29%3B%0A%09%09%7D%20else%0A%09%09%09return%3B%0A%09%7D%2C%0A%09attachOneOffBtns%20%3A%20function%20%28%29%20%7B%0A%09%09let%20oneOffsBox%20%3D%20%24XML%28%22%3Cvbox%20id%3D%5C%22%22%20+%20_UID%20+%20%22-one-off-items%5C%22%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20minwidth%3D%5C%22%22%20+%20_%24.maxMinWidth%20+%20%22%5C%22%20maxwidth%3D%5C%22%22%20+%20_%24.maxMinWidth%20+%20%22%5C%22%3E%22%20+%0A%09%09%09%09%22%3Chbox%20class%3D%5C%22multi-search-header%20multi-search-current-input%5C%22%3E%22%20+%0A%09%09%09%09%22%3Clabel%20value%3D%5C%22Search%20for%20%5C%22/%3E%3Clabel%20id%3D%5C%22%22%20+%20_UID%20+%20%22-one-off-header%5C%22%22%20+%0A%09%09%09%09%22%20flex%3D%5C%221%5C%22%20crop%3D%5C%22end%5C%22%20class%3D%5C%22multi-search-input-value%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Clabel%20flex%3D%5C%2210000%5C%22%20value%3D%5C%22%20with%3A%5C%22/%3E%3C/hbox%3E%22%20+%0A%09%09%09%09%22%3Cdescription%20id%3D%5C%22%22%20+%20_UID%20+%20%22-one-offs%5C%22/%3E%3C/vbox%3E%22%29%3B%0A%09%09if%20%28_%24.oODetached%29%20%7B%0A%09%09%09while%20%28_%24.aCPanel.hasChildNodes%28%29%29%0A%09%09%09%09_%24.aCPanel.removeChild%28_%24.aCPanel.firstChild%29%3B%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%24%28_UID%20+%20%22-one-off-items%22%29%20%7C%7C%20_%24.aCPanel.appendChild%28oneOffsBox%29%3B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09_%24.aCPanel.addEventListener%28%22popupshowing%22%2C%20function%20%28%29%20%7B%0A%09%09%09%09%09%09let%20keyPressHandler%20%3D%20function%20%28%29%20%7B%0A%09%09%09%09%09%09%09%24%28_UID%20+%20%22-one-off-header%22%29.setAttribute%28%22value%22%2C%20_%24.txtBox.value%29%3B%0A%09%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%09_%24.txtBox.addEventListener%28%22keyup%22%2C%20keyPressHandler%29%3B%0A%09%09%09%09%09%09_%24.aCPanel.addEventListener%28%22popuphiding%22%2C%20function%20hiding%28%29%20%7B%0A%09%09%09%09%09%09%09_%24.txtBox.removeEventListener%28%22keyup%22%2C%20keyPressHandler%29%3B%0A%09%09%09%09%09%09%09_%24.aCPanel.removeEventListener%28%22popuphiding%22%2C%20hiding%29%3B%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09keyPressHandler%28%29%3B%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%0A%09%09setTimeout%28function%20%28%29%20%7B%20//%20Finally%2C%20build%20the%20list%20of%20one-off%20buttons.%0A%09%09%09let%20list%20%3D%20%24%28_UID%20+%20%22-one-offs%22%29%3B%0A%09%09%09while%20%28list.firstChild%29%0A%09%09%09%09list.firstChild.remove%28%29%3B%0A%09%09%09let%20hiddenList%3B%0A%09%09%09try%20%7B%0A%09%09%09%09let%20pref%20%3D%20gCV%28%22browser.search.hiddenOneOffs%22%2C%20true%29%3B%0A%09%09%09%09hiddenList%20%3D%20pref%20%3F%20pref.split%28%22%2C%22%29%20%3A%20%5B%5D%3B%0A%09%09%09%7D%20catch%20%28e%29%20%7B%0A%09%09%09%09hiddenList%20%3D%20%5B%5D%3B%0A%09%09%09%7D%0A%09%09%09let%20engines%20%3D%20Services.search.getVisibleEngines%28%29.filter%28e%20%3D%3E%0A%09%09%09%09%09%09e.name%20%21%3D%3D%20Services.search.currentEngine.name%20%26%26%0A%09%09%09%09%09%09hiddenList.indexOf%28e.name%29%20%3D%3D%3D%20-1%29%3B%0A%09%09%09if%20%28%21engines.length%29%0A%09%09%09%09return%3B%0A%09%09%09let%20rowCount%20%3D%20Math.ceil%28engines.length%20/%20_%24.engPerRow%29%3B%0A%09%09%09list.setAttribute%28%22height%22%2C%20rowCount%20*%2033%20+%20%22px%22%29%3B%0A%09%09%09let%20dummyItems%20%3D%20_%24.engPerRow%20-%20%28engines.length%20%25%20_%24.engPerRow%20%7C%7C%20_%24.engPerRow%29%3B%0A%09%09%09for%20%28let%20i%20%3D%200%3B%20i%20%3C%20engines.length%3B%20++i%29%20%7B%0A%09%09%09%09let%20button%20%3D%20document.createElementNS%28xulns%2C%20%22button%22%29%2C%0A%09%09%09%09engine%20%3D%20engines%5Bi%5D%3B%0A%09%09%09%09button.setAttribute%28%22label%22%2C%20engine.name%29%3B%0A%09%09%09%09let%20uri%20%3D%20_%24.defaultImage%3B%0A%09%09%09%09if%20%28engine.iconURI%29%0A%09%09%09%09%09uri%20%3D%20CB_%24ImageURLForResolution%28window%2C%20engine.iconURI.spec%29%3B%0A%09%09%09%09button.setAttribute%28%22image%22%2C%20uri%29%3B%0A%09%09%09%09button.setAttribute%28%22class%22%2C%20%22multi-search-one-off-item%22%29%3B%0A%09%09%09%09button.setAttribute%28%22tooltiptext%22%2C%20%22Search%20with%3A%20%22%20+%20engine.name%29%3B%0A%09%09%09%09button.setAttribute%28%22width%22%2C%2038%29%3B%0A%09%09%09%09button.onmousedown%20%3D%20function%20%28aEvt%29%20%7B%20//%20Fix%20for%20linux.%0A%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09button.onclick%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09if%20%28aEvt.button%20%3D%3D%3D%202%20%7C%7C%20aEvt.originalTarget.localName%20%21%3D%3D%20%22button%22%29%0A%09%09%09%09%09%09return%3B%0A%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09openSearch%28_%24.txtBox.value%2C%20btnPref%28%22SearchMode%22%29%20%3F%20%22site%22%20%3A%20%22web%22%2C%0A%09%09%09%09%09%09%09engine%29%3B%0A%09%09%09%09%09%09_%24.sPanel.hidePopup%28%29%3B%0A%09%09%09%09%09%7D%20else%20if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09openSearch%28_%24.txtBox.value%2C%20btnPref%28%22SearchMode%22%29%20%3F%20%22web%22%20%3A%20%22site%22%2C%0A%09%09%09%09%09%09%09engine%29%3B%0A%09%09%09%09%09%09_%24.sPanel.hidePopup%28%29%3B%0A%09%09%09%09%09%7D%20else%20if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%201%29%20%7B%0A%09%09%09%09%09%09oneOffsHiddenBtn%28engine.name%2C%20uri%29%3B%0A%09%09%09%09%09%09if%20%28%21%28_FLG2%20in%20window%29%29%20%7B%0A%09%09%09%09%09%09%09window%5B_FLG2%5D%20%3D%20true%3B%0A%09%09%09%09%09%09%09_%24.sPanel.addEventListener%28%22popuphiding%22%2C%20function%20%28%29%20%7B%0A%09%09%09%09%09%09%09%09self.init%28%29%3B%0A%09%09%09%09%09%09%09%7D%2C%20false%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09if%20%28btnPref%28%22DragAndDropForOneOffButtons%22%29%29%20%7B%0A%09%09%09%09%09if%20%28_%24.oODetached%29%20%7B%0A%09%09%09%09%09%09button.ondragenter%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09%09%09%09let%20data%20%3D%20aEvt.dataTransfer.getData%28%22text/plain%22%29%3B%0A%09%09%09%09%09%09%09if%20%28%21data%29%0A%09%09%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/x-moz-text-internal%22%29%3B%0A%09%09%09%09%09%09%09if%20%28data%29%20%7B%0A%09%09%09%09%09%09%09%09let%20searchValue%20%3D%20shorten%28data%2C%20900%29%3B%0A%09%09%09%09%09%09%09%09%24%28_UID%20+%20%22-one-off-header%22%29.setAttribute%28%22value%22%2C%20searchValue%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09button.ondragleave%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09%09%09btnPref%28%22DaDNotifications%22%29%20%26%26%20self.dragAndDropHandler.feedbackHide%28%29%3B%0A%09%09%09%09%09%09this.removeAttribute%28%22selected%22%29%3B%0A%09%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09button.ondrop%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09%09%09this.removeAttribute%28%22selected%22%29%3B%0A%09%09%09%09%09%09let%20data%20%3D%20aEvt.dataTransfer.getData%28%22text/plain%22%29%3B%0A%09%09%09%09%09%09if%20%28%21data%29%0A%09%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/x-moz-text-internal%22%29%3B%0A%09%09%09%09%09%09if%20%28data%29%20%7B%0A%09%09%09%09%09%09%09let%20searchValue%20%3D%20shorten%28data%2C%20900%29%3B%0A%09%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09%09searchModeSwitch%28searchValue%2C%20aEvt%2C%20engine%29%3B%0A%09%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09let%20panel%20%3D%20_%24.oODetached%0A%09%09%09%09%09%09%09%20%3F%20_%24.aCPanel%0A%09%09%09%09%09%09%09%20%3A%20_%24.sPanel%3B%0A%09%09%09%09%09%09if%20%28panel.state%20%3D%3D%3D%20%22open%22%29%0A%09%09%09%09%09%09%09panel.hidePopup%28%29%3B%0A%09%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09button.ondragover%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09%09if%20%28btnPref%28%22DaDNotifications%22%29%29%20%7B%0A%09%09%09%09%09%09%09switch%20%28btnPref%28%22SearchMode%22%29%29%20%7B%0A%09%09%09%09%09%09%09case%20true%3A%20//%20Search%20mode%20is%20%22Site%22%0A%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20No%20modifiers%0A%09%09%09%09%09%09%09%09%09self.dragAndDropHandler.feedbackShow%28%22Search%20current%20site%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09engine.name%29%3B%0A%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20Control%0A%09%09%09%09%09%09%09%09%09self.dragAndDropHandler.feedbackShow%28%22Search%20the%20web%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09engine.name%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20false%3A%20//%20Search%20mode%20is%20%22Web%22%0A%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20No%20modifiers%0A%09%09%09%09%09%09%09%09%09self.dragAndDropHandler.feedbackShow%28%22Search%20the%20web%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09engine.name%29%3B%0A%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20Control%0A%09%09%09%09%09%09%09%09%09self.dragAndDropHandler.feedbackShow%28%22Search%20current%20site%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09engine.name%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09this.setAttribute%28%22selected%22%2C%20true%29%3B%0A%09%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%7D%0A%09%09%09%09if%20%28%28i%20+%201%29%20%25%20_%24.engPerRow%20%3D%3D%3D%200%29%0A%09%09%09%09%09button.classList.add%28%22last-of-row%22%29%3B%0A%09%09%09%09if%20%28i%20%3E%3D%20engines.length%20+%20dummyItems%20-%20_%24.engPerRow%29%0A%09%09%09%09%09button.classList.add%28%22last-row%22%29%3B%0A%09%09%09%09list.appendChild%28button%29%3B%0A%09%09%09%7D%0A%09%09%09while%20%28dummyItems%29%20%7B%0A%09%09%09%09let%20button%20%3D%20document.createElementNS%28xulns%2C%20%22button%22%29%3B%0A%09%09%09%09button.setAttribute%28%22class%22%2C%20%22multi-search-one-off-item%20dummy%20last-row%22%29%3B%0A%09%09%09%09button.setAttribute%28%22width%22%2C%2038%29%3B%0A%09%09%09%09if%20%28%21--dummyItems%29%0A%09%09%09%09%09button.classList.add%28%22last-of-row%22%29%3B%0A%09%09%09%09list.appendChild%28button%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%20200%29%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20oneOffsHiddenBtn%28aEngName%2C%20aImg%2C%20aCheck%29%20%7B%0A%09let%20hiddenList%3B%0A%09try%20%7B%0A%09%09let%20pref%20%3D%20gCV%28%22browser.search.hiddenOneOffs%22%2C%20true%29%3B%0A%09%09hiddenList%20%3D%20pref%20%3F%20pref.split%28%22%2C%22%29%20%3A%20%5B%5D%3B%0A%09%7D%20catch%20%28e%29%20%7B%0A%09%09hiddenList%20%3D%20%5B%5D%3B%0A%09%7D%0A%09var%20isHidden%20%3D%20false%2C%0A%09index%3B%0A%09for%20%28let%20i%20%3D%20hiddenList.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%20%7B%0A%09%09if%20%28hiddenList%5Bi%5D%20%3D%3D%3D%20aEngName%29%20%7B%0A%09%09%09isHidden%20%3D%20true%3B%0A%09%09%09index%20%3D%20i%3B%0A%09%09%7D%0A%09%7D%0A%09if%20%28aCheck%29%20%7B%0A%09%09return%20isHidden%3B%0A%09%7D%20else%20%7B%0A%09%09isHidden%0A%09%09%20%3F%20hiddenList.splice%28index%2C%201%29%0A%09%09%20%3A%20hiddenList.push%28aEngName%29%3B%0A%09%09sCV%28%22browser.search.hiddenOneOffs%22%2C%20hiddenList.join%28%22%2C%22%29%2C%20true%29%3B%0A%09%09notifyme%28aImg%2C%20aEngName%20+%20%22%20%5C%22One-Off%5C%22%20button%22%2C%20%22is%20been%20%22%20+%20%28isHidden%20%3F%20%22SHOWN.%22%20%3A%20%22HIDDEN.%22%29%29%3B%0A%09%7D%0A%09return%20false%3B%0A%7D%0A%0Athis.searchEngines%20%3D%20%7B%0A%09openEnginesMenu%20%3A%20function%20%28%29%20%7B%0A%09%09var%20enginesPopup%20%3D%20document.createElementNS%28xulns%2C%20%22menupopup%22%29%3B%0A%09%09enginesPopup.setAttribute%28%22orient%22%2C%20%22horizontal%22%29%3B%0A%09%09enginesPopup.addEventListener%28%22popuphiding%22%2C%20function%20remPop%28%29%20%7B%0A%09%09%09%24%28self.id%29.onDestroy%28%22update%22%29%3B%0A%09%09%09%24%28self.id%29.init%28%29%3B%0A%09%09%7D%2C%20false%29%3B%0A%09%09var%20sep%20%3D%20enginesPopup.appendChild%28document.createElementNS%28xulns%2C%20%22menuseparator%22%29%29%3B%0A%09%09var%20openManagerMitem%20%3D%20enginesPopup.appendChild%28document.createElementNS%28xulns%2C%20%22menuitem%22%29%29%3B%0A%09%09openManagerMitem.setAttribute%28%22label%22%2C%20%22Manage%20Search%20Engines%u2026%22%29%3B%0A%09%09openManagerMitem.setAttribute%28%22oncommand%22%2C%0A%09%09%09%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%29%3B%0A%09%09openManagerMitem.setAttribute%28%22onclick%22%2C%0A%09%09%09%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3Bdocument.getElementById%28%5C%22%22%20+%20self.id%20+%0A%09%09%09%22%5C%22%29.searchEngines.openSearchEngineManager%28%29%3B%22%29%3B%0A%09%09var%20engines%20%3D%20Services.search.getVisibleEngines%28%29%3B%0A%09%09for%20%28let%20i%20%3D%20engines.length%20-%201%3B%20i%20%3E%3D%200%3B%20--i%29%20%7B%0A%09%09%09let%20engMI%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%2C%0A%09%09%09name%20%3D%20engines%5Bi%5D.name%2C%0A%09%09%09uri%20%3D%20_%24.defaultImage%3B%0A%09%09%09if%20%28engines%5Bi%5D.iconURI%29%0A%09%09%09%09uri%20%3D%20CB_%24ImageURLForResolution%28window%2C%20engines%5Bi%5D.iconURI.spec%29%3B%0A%09%09%09engMI.setAttribute%28%22label%22%2C%20name%29%3B%0A%09%09%09engMI.setAttribute%28%22id%22%2C%20_UID%20+%20name%29%3B%0A%09%09%09engMI.setAttribute%28%22class%22%2C%20%22menuitem-iconic%22%29%3B%0A%09%09%09engMI.setAttribute%28%22tooltiptext%22%2C%20%22Left%20click%20%3D%20Set%20as%20default%20engine.%5Cn%22%20+%0A%09%09%09%09%22Middle%20click%20%3D%20Hide/Show%20engine%20%5C%22One-Off%5C%22%20button.%22%29%3B%0A%09%09%09oneOffsHiddenBtn%28name%2C%20null%2C%20true%29%0A%09%09%09%20%26%26%20engMI.classList.add%28%22one-off-is-hidden%22%29%3B%0A%09%09%09if%20%28name%20%3D%3D%3D%20Services.search.currentEngine.name%29%0A%09%09%09%09engMI.setAttribute%28%22style%22%2C%20%22font-weight%3Abold%21important%3B%22%29%3B%0A%09%09%09engMI.setAttribute%28%22src%22%2C%20uri%29%3B%0A%09%09%09enginesPopup.insertBefore%28engMI%2C%20enginesPopup.firstChild%29%3B%0A%09%09%09engMI.engine%20%3D%20engines%5Bi%5D%3B%0A%09%09%09engMI.onclick%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%200%29%0A%09%09%09%09%09Services.search.defaultEngine%20%3D%20aEvt.target.engine%3B%0A%09%09%09%09else%20if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%201%29%0A%09%09%09%09%09oneOffsHiddenBtn%28name%2C%20uri%29%3B%0A%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%09engMI.oncommand%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%7D%0A%09%09var%20addengines%20%3D%20getBrowser%28%29.mCurrentBrowser.engines%3B%0A%09%09if%20%28addengines%20%26%26%20addengines.length%20%3E%200%29%20%7B%0A%09%09%09var%20insLoc%20%3D%20enginesPopup.firstChild%3B%0A%09%09%09while%20%28insLoc.nextSibling%20%26%26%20insLoc.localName%20%21%3D%3D%20%22menuseparator%22%29%0A%09%09%09%09insLoc%20%3D%20insLoc.nextSibling%3B%0A%09%09%09if%20%28insLoc.localName%20%21%3D%3D%20%22menuseparator%22%29%0A%09%09%09%09insLoc%20%3D%20enginesPopup.firstChild%3B%0A%09%09%09var%20sep%20%3D%20document.createElementNS%28xulns%2C%20%22menuseparator%22%29%3B%0A%09%09%09sep.setAttribute%28%22class%22%2C%20%22addengine-separator%22%29%3B%0A%09%09%09enginesPopup.insertBefore%28sep%2C%20insLoc%29%3B%0A%09%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%20addengines.length%3B%20i++%29%20%7B%0A%09%09%09%09var%20newEngMI%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%3B%0A%09%09%09%09var%20engineInfo%20%3D%20addengines%5Bi%5D%3B%0A%09%09%09%09var%20labelStr%20%3D%20engineInfo.title%3B%0A%09%09%09%09newEngMI%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%3B%0A%09%09%09%09newEngMI.setAttribute%28%22class%22%2C%20%22menuitem-iconic%20addengine-item%22%29%3B%0A%09%09%09%09newEngMI.setAttribute%28%22label%22%2C%20%22Add%20%5C%22%22%20+%20labelStr%20+%20%22%5C%22%22%29%3B%0A%09%09%09%09newEngMI.setAttribute%28%22tooltiptext%22%2C%20engineInfo.uri%29%3B%0A%09%09%09%09newEngMI.setAttribute%28%22uri%22%2C%20engineInfo.uri%29%3B%0A%09%09%09%09newEngMI.onclick%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%09%09Services.search.addEngine%28engineInfo.uri%2C%20Ci.nsISearchEngine.DATA_XML%2C%0A%09%09%09%09%09%09%09engineInfo.icon%2C%20false%2C%20null%29%3B%0A%09%09%09%09%09%09self.searchEngines.hideNewEngine%28engineInfo%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%3B%0A%09%09%09%09newEngMI.oncommand%20%3D%20function%20%28aEvt%29%20%7B%0A%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09if%20%28engineInfo.icon%29%0A%09%09%09%09%09newEngMI.setAttribute%28%22src%22%2C%20engineInfo.icon%29%3B%0A%09%09%09%09newEngMI.setAttribute%28%22title%22%2C%20engineInfo.title%29%3B%0A%09%09%09%09enginesPopup.insertBefore%28newEngMI%2C%20insLoc%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09while%20%28self.lastChild%29%0A%09%09%09self.removeChild%28self.lastChild%29%3B%0A%09%09self.appendChild%28enginesPopup%29%3B%0A%09%09enginesPopup.openPopup%28self%2C%20%22after_start%22%2C%200%2C%200%2C%20false%2C%20false%29%3B%0A%09%7D%2C%0A%09openSearchEngineManager%20%3A%20function%20%28%29%20%7B%0A%09%09let%20window%20%3D%20Services.wm.getMostRecentWindow%28%22Browser%3ASearchManager%22%29%3B%0A%09%09if%20%28window%29%0A%09%09%09window.focus%28%29%3B%0A%09%09let%20app%20%3D%20appID%28%22SM%22%29%20%3F%20%22communicator%22%20%3A%20%22browser%22%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09openDialog%28%22chrome%3A//%22%20+%20app%20+%20%22/content/search/engineManager.xul%22%2C%0A%09%09%09%09%22_blank%22%2C%20%22chrome%2Cdialog%2Cmodal%2Ccenterscreen%2Cresizable%22%29%3B%0A%09%09%7D%2C%2010%29%3B%0A%09%7D%2C%0A%09hideNewEngine%20%3A%20function%20%28aEngine%29%20%7B%0A%09%09var%20allbrowsers%20%3D%20getBrowser%28%29.mPanelContainer.childNodes%3B%0A%09%09for%20%28var%20tab%20%3D%200%3B%20tab%20%3C%20allbrowsers.length%3B%20tab++%29%20%7B%0A%09%09%09var%20browser%20%3D%20getBrowser%28%29.getBrowserAtIndex%28tab%29%3B%0A%09%09%09if%20%28browser.engines%29%20%7B%0A%09%09%09%09//%20XXX%20This%20will%20need%20to%20be%20changed%20when%20engines%20are%20identified%20by%0A%09%09%09%09//%20URL%20rather%20than%20title%3B%20see%20bug%20335102.%0A%09%09%09%09var%20removeTitle%20%3D%20aEngine.title%3B%0A%09%09%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%20browser.engines.length%3B%20i++%29%20%7B%0A%09%09%09%09%09if%20%28browser.engines%5Bi%5D.title%20%3D%3D%3D%20removeTitle%29%20%7B%0A%09%09%09%09%09%09if%20%28%21browser.hiddenEngines%29%0A%09%09%09%09%09%09%09browser.hiddenEngines%20%3D%20%5B%5D%3B%0A%09%09%09%09%09%09browser.hiddenEngines.push%28browser.engines%5Bi%5D%29%3B%0A%09%09%09%09%09%09browser.engines.splice%28i%2C%201%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Afunction%20getShortenedSelection%28aWindow%29%20%7B%0A%09var%20getSelection%20%3D%20function%20%28aWindow%29%20%7B%0A%09%09var%20sel%20%3D%20aWindow.document.commandDispatcher.focusedWindow.getSelection%28%29%3B%0A%09%09var%20selection%20%3D%20%28sel%20%3D%3D%3D%20null%29%20%3F%20%22%22%20%3A%20sel.toString%28%29%3B%0A%09%09if%20%28selection%20%3D%3D%3D%20%22%22%29%20%7B%0A%09%09%09var%20getSel%20%3D%20function%20%28win%29%20%7B%0A%09%09%09%09var%20activeEl%20%3D%20win.document.activeElement%3B%0A%09%09%09%09if%20%28activeEl%29%20%7B%0A%09%09%09%09%09if%20%28activeEl.contentWindow%29%0A%09%09%09%09%09%09return%20getSel%28activeEl.contentWindow%29%3B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09if%20%28activeEl.selectionStart%20%21%3D%3D%20undefined%20%26%26%20activeEl.value%20%26%26%0A%09%09%09%09%09%09%09activeEl.type%20%21%3D%3D%20%22password%22%29%0A%09%09%09%09%09%09%09return%20activeEl.value.substring%28activeEl.selectionStart%2C%0A%09%09%09%09%09%09%09%09activeEl.selectionEnd%29%3B%0A%09%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09%09Cu.reportError%28aError%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09return%20%22%22%3B%0A%09%09%09%7D%0A%09%09%09selection%20%3D%20getSel%28aWindow.gBrowser.contentWindow.wrappedJSObject%29%3B%0A%09%09%7D%0A%09%09return%20selection%3B%0A%09%7D%3B%0A%09return%20shorten%28getSelection%28aWindow%29%2C%20900%29%3B%0A%7D%0A%0Afunction%20makeURI%28aURL%2C%20aOriginCharset%2C%20aBaseURI%29%20%7B%0A%09let%20ioService%20%3D%20Cc%5B%22@mozilla.org/network/io-service%3B1%22%5D.getService%28Ci.nsIIOService%29%3B%0A%09return%20ioService.newURI%28aURL%2C%20aOriginCharset%2C%20aBaseURI%29%3B%0A%7D%0A%0Afunction%20getDomainOfAddress%28aUri%29%20%7B%0A%09if%20%28aUri.schemeIs%28%22chrome%22%29%20%7C%7C%20aUri.schemeIs%28%22file%22%29%29%20%7B%0A%09%09return%20null%3B%0A%09%7D%0A%09while%20%28aUri.schemeIs%28%22view-source%22%29%29%20%7B%0A%09%09aUri%20%3D%20makeURI%28aUri.path%2C%20null%2C%20null%29%3B%0A%09%7D%0A%09try%20%7B%0A%09%09return%20aUri.host%3B%0A%09%7D%20catch%20%28aError%29%20%7B%0A%09%09return%20null%3B%0A%09%7D%0A%7D%0A%0Afunction%20shorten%28aStr%2C%20aLimit%29%20%7B%0A%09aStr%20%3D%20aStr.replace%28/%5B%5Cn%5Cr%5D+/g%2C%20%22%20%22%29%3B%20//%20Replace%20newlines%20with%20space.%0A%09if%20%28encodeURIComponent%28aStr%29.length%20%3E%20aLimit%29%20//%20Remove%20duplicate%20whitespace.%0A%09%09aStr%20%3D%20aStr.replace%28/%5Cs%7B2%2C%7D/g%2C%20%27%20%27%29%3B%0A%09aStr%20%3D%20aStr.trim%28%29%3B%20//%20White%20space%20trimming.%0A%09aStr%20%3D%20aStr.slice%280%2C%20aLimit%29%3B%20//%20Cut%20string%20to%20aLimit.%20Default%20900%20characters.%0A%09return%20aStr%3B%0A%7D%0A%0Afunction%20openSearch%28aSTerms%2C%20aType%2C%20aFrom%29%20%7B%0A%09var%20searchTerms%20%3D%20aSTerms.trim%28%29%3B%0A%09var%20engine%20%3D%20false%3B%0A%09if%20%28btnPref%28%22UseSearchAlias%22%29%20%26%26%20aFrom%20%3D%3D%3D%20%22TextBox%22%29%20%7B%0A%09%09let%20offset%20%3D%20aSTerms.indexOf%28%22%20%22%29%3B%0A%09%09if%20%28offset%20%3E%200%29%20%7B%0A%09%09%09let%20alias%20%3D%20aSTerms.substr%280%2C%20offset%29%3B%0A%09%09%09let%20aliasExistence%20%3D%20function%20%28%29%20%7B%0A%09%09%09%09return%20%28Services.search.getEngineByAlias%28alias%29%29%3B%0A%09%09%09%7D%3B%0A%09%09%09searchTerms%20%3D%20%28aliasExistence%28%29%20%3D%3D%3D%20null%29%0A%09%09%09%20%3F%20searchTerms%0A%09%09%09%20%3A%20aSTerms.substr%28offset%20+%201%29%3B%0A%09%09%09engine%20%3D%20Services.search.getEngineByAlias%28alias%29%3B%0A%09%09%7D%0A%09%09if%20%28%21engine%29%0A%09%09%09engine%20%3D%20Services.search.defaultEngine%3B%0A%09%7D%20else%20if%20%28typeof%20aFrom%20%3D%3D%3D%20%22object%22%20%26%26%20aFrom%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%09%09engine%20%3D%20aFrom%3B%0A%09%7D%20else%20%7B%0A%09%09engine%20%3D%20Services.search.defaultEngine%3B%0A%09%7D%0A%09if%20%28btnPref%28%22SearchHistory%22%29%20%26%26%20searchTerms%20%21%3D%3D%20%22%22%20%26%26%0A%09%09%21PrivateBrowsingUtils.isWindowPrivate%28window%29%29%20%7B%0A%09%09let%20searchParam%20%3D%20searchTerms%3B%0A%09%09if%20%28searchParam.match%28/%5Esite%3A/%29%29%0A%09%09%09searchParam%20%3D%20searchTerms.substr%280%2C%20searchTerms.indexOf%28%22%20%22%29%29%3B%0A%09%09%28Cu.import%28%22resource%3A//gre/modules/FormHistory.jsm%22%2C%20%7B%7D%29%29.FormHistory.update%28%7B%0A%09%09%09op%20%3A%20%22bump%22%2C%0A%09%09%09fieldname%20%3A%20_%24.txtBox.getAttribute%28%22autocompletesearchparam%22%29%2C%0A%09%09%09value%20%3A%20searchParam%0A%09%09%7D%2C%20%7B%0A%09%09%09handleError%20%3A%20function%20%28aErr%29%20%7B%0A%09%09%09%09Cu.reportError%28%22Saving%20search%20term%20to%20form%20history%20failed%3A%20%22%20+%20aErr.message%29%3B%0A%09%09%09%7D%0A%09%09%7D%29%3B%0A%09%7D%0A%09if%20%28aType%20%3D%3D%3D%20%22site%22%29%20%7B%0A%09%09searchTerms%20%3D%20%22site%3A%22%20+%20getDomainOfAddress%28gBrowser.selectedBrowser.currentURI%29%20+%0A%09%09%09%22%20%22%20+%20%28btnPref%28%22UseQuotationMarks%22%29%20%3F%20%22%5C%22%22%20+%20searchTerms%20+%20%22%5C%22%22%20%3A%20searchTerms%29%3B%0A%09%09if%20%28searchTerms.slice%280%2C%209%29%20%3D%3D%3D%20%22site%3Anull%22%29%0A%09%09%09return%3B%0A%09%7D%20else%20if%20%28aType%20%3D%3D%3D%20%22web%22%29%0A%09%09searchTerms%20%3D%20%28btnPref%28%22UseQuotationMarks%22%29%20%3F%20%22%5C%22%22%20+%20searchTerms%20+%20%22%5C%22%22%20%3A%20searchTerms%29%3B%0A%09if%20%28engine%29%20%7B%0A%09%09if%20%28%21searchTerms%20%7C%7C%20searchTerms%20%3D%3D%3D%20%22%5C%22%5C%22%22%29%0A%09%09%09return%3B%0A%09%09var%20submission%20%3D%20engine.getSubmission%28searchTerms%29%3B%0A%09%7D%20else%20%7B%0A%09%09alertme%28%22No%20search%20engine%20has%20been%20found.%5Cn%22%20+%0A%09%09%09%22Middle%20click%20on%20%22%20+%20%28self.name%20%7C%7C%20self.label%29%20+%20%22%20button%20and%20choose%20a%20search%20engine.%22%29%3B%0A%09%09return%3B%0A%09%7D%0A%09switch%20%28btnPref%28%22TabOpening%22%29%29%20%7B%0A%09case%201%3A%20//%20Open%20in%20current%20tab%0A%09%09gBrowser.loadURI%28submission.uri.spec%29%3B%0A%09%09break%3B%0A%09case%202%3A%20//%20Open%20in%20new%20background%20tab%0A%09%09getOverrideURLs%28%29%0A%09%09%20%3F%20gBrowser.loadURI%28submission.uri.spec%29%0A%09%09%20%3A%20gBrowser.addTab%28submission.uri.spec%2C%20null%2C%20null%2C%20null%2C%20false%2C%20false%29%3B%0A%09%09break%3B%0A%09case%203%3A%20//%20Open%20in%20new%20foreground%20tab%0A%09%09getOverrideURLs%28%29%0A%09%09%20%3F%20gBrowser.loadURI%28submission.uri.spec%29%0A%09%09%20%3A%20gBrowser.selectedTab%20%3D%20gBrowser.addTab%28submission.uri.spec%2C%20null%2C%20null%2C%20null%2C%20false%2C%20false%29%3B%0A%09%09break%3B%0A%09%7D%0A%7D%0A%0Athis.hotkeyPressed%20%3D%20function%20%28aAnchor%2C%20aEvt%29%20%7B%0A%09switch%20%28btnPref%28%22HotkeyAction%22%29%29%20%7B%0A%09case%20true%3A%0A%09%09openSearch%28getSearchVal%28%29%2C%20btnPref%28%22SearchMode%22%29%20%3F%20%22site%22%20%3A%20%22web%22%29%3B%0A%09%09break%3B%0A%09case%20false%3A%0A%09%09if%20%28_%24.sPanel%29%20%7B%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%28_%24.sPanel.state%20%3D%3D%3D%20%22open%22%29%0A%09%09%09%09%20%3F%20_%24.sPanel.hidePopup%28%29%0A%09%09%09%09%20%3A%20_%24.sPanel.openPopup%28aAnchor%2C%20%22%22%2C%20null%2C%20null%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09self.createPanels%28%29%3B%0A%09%09%09_%24.sPanel.openPopup%28aAnchor%2C%20%22%22%2C%20null%2C%20null%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%7D%0A%09%09break%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20getSearchVal%28%29%20%7B%0A%09let%20searchValue%20%3D%20btnPref%28%22AutoFillWithSelection%22%29%0A%09%09%20%3F%20getShortenedSelection%28self.ownerDocument.defaultView%29%0A%09%09%20%3A%20%22%22%3B%0A%09searchValue%20%3D%20%28btnPref%28%22UseClipboard%22%29%20%26%26%20searchValue%20%3D%3D%3D%20%22%22%29%0A%09%20%3F%20shorten%28gClipboard.read%28%29%2C%20900%29%0A%09%20%3A%20searchValue%3B%0A%09return%20searchValue%3B%0A%7D%0A%0Athis.onclick%20%3D%20function%20%28aEvt%29%20%7B%0A%09if%20%28aEvt.type%20%21%3D%3D%20%22click%22%29%0A%09%09return%3B%0A%09switch%20%28aEvt.button%29%20%7B%0A%09case%200%3A%0A%09%09let%20thisDropMarker%20%3D%20aEvt.originalTarget.value%3B%0A%09%09if%20%28btnPref%28%22StraightSearch%22%29%29%20%7B%0A%09%09%09if%20%28thisDropMarker%20%21%3D%3D%20-1%29%20%7B%0A%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20%7B%20//%20Left%20click%20and%20no%20modifiers%0A%09%09%09%09%09self.addEventListener%28%22command%22%2C%20function%20onLClickDoCmd%28aEvt%29%20%7B%0A%09%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09%09searchModeSwitch%28getSearchVal%28%29%2C%20%22lClick%22%29%3B%0A%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09self.removeEventListener%28%22command%22%2C%20onLClickDoCmd%2C%20false%29%3B%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%2C%20false%29%3B%0A%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%24%28self.id%29.doCommand%3B%0A%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%7D%20else%20if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20%7B%20//%20Left%20click%20+%20Control%0A%09%09%09%09%09self.addEventListener%28%22command%22%2C%20function%20onCtrlLClickDoCmd%28aEvt%29%20%7B%0A%09%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09%09searchModeSwitch%28getSearchVal%28%29%2C%20%22CtrllClick%22%29%3B%0A%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09self.removeEventListener%28%22command%22%2C%20onCtrlLClickDoCmd%2C%20false%29%3B%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%2C%20false%29%3B%0A%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%24%28self.id%29.doCommand%3B%0A%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%7D%20else%20if%20%28aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20%7B%0A%09%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09%09openUILink%28_%24.searchByImageBaseURL%20+%20%22/imghp%3Fsbi%3D1%22%2C%20aEvt%2C%20false%2C%20true%29%3B%0A%09%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09if%20%28aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20%7B%0A%09%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09%09openUILink%28_%24.searchByImageBaseURL%20+%20%22/imghp%3Fsbi%3D1%22%2C%20aEvt%2C%20false%2C%20true%29%3B%0A%09%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09break%3B%0A%09case%201%3A%0A%09%09aEvt.preventDefault%28%29%3B%0A%09%09self.searchEngines.openEnginesMenu%28%29%3B%0A%09%09aEvt.stopPropagation%28%29%3B%0A%09%09break%3B%0A%09case%202%3A%0A%09%09if%20%28%28_%24.isWin%0A%09%09%09%09%20%3F%20%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20aEvt.altKey%0A%09%09%09%09%20%3A%20aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%29%20%7B%20//%20Shift%20or%20Alt%20+%20Right%20Click%0A%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09btnPref%28%22SearchMode%22%29%0A%09%09%09%20%3F%20%28Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22SearchMode%22%2C%20false%29%0A%09%09%09%09%20%7C%20notifyme%28getHelp%28%22WebSearch%22%29%2C%20%22Web%20Search%20mode%20enabled%22%2C%20%22%22%29%0A%09%09%09%09%20%7C%20self.init%28%29%29%0A%09%09%09%20%3A%20%28Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22SearchMode%22%2C%20true%29%0A%09%09%09%09%20%7C%20notifyme%28getHelp%28%22SiteSearch%22%29%2C%20%22Site%20Search%20mode%20enabled%22%2C%20%22%22%29%0A%09%09%09%09%20%7C%20self.init%28%29%29%3B%0A%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%7D%20else%20if%20%28%28_%24.isWin%0A%09%09%09%09%20%3F%20%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20aEvt.altKey%0A%09%09%09%09%20%3A%20aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%29%20%7B%20//%20Control%20+%20Shift%20or%20Alt%20+%20Right%20Click%0A%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09openOptions%28%29%3B%0A%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%7D%20else%20if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20%7B%20//%20Control%20+%20Right%20Click%0A%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09btnPref%28%22StraightSearch%22%29%0A%09%09%09%20%3F%20%28Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22StraightSearch%22%2C%20false%29%0A%09%09%09%09%20%7C%20%28self.type%20%3D%20%22menu%22%29%0A%09%09%09%09%20%7C%20self.init%28%29%29%0A%09%09%09%20%3A%20%28Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22StraightSearch%22%2C%20true%29%0A%09%09%09%09%20%7C%20%28self.type%20%3D%20%22button%22%29%0A%09%09%09%09%20%7C%20self.init%28%29%29%3B%0A%09%09%09aEvt.stopPropagation%28%29%3B%0A%09%09%7D%0A%09%09break%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20searchModeSwitch%28aSerchVal%2C%20aEvt%2C%20aFrom%29%20%7B%0A%09switch%20%28btnPref%28%22SearchMode%22%29%29%20%7B%0A%09case%20true%3A%0A%09%09if%20%28aEvt%20%21%3D%3D%20%22lClick%22%20%26%26%20aEvt%20%21%3D%3D%20%22CtrllClick%22%29%20%7B%0A%09%09%09%28%21aEvt.ctrlKey%20%26%26%20%21aEvt.shiftKey%20%26%26%20%21aEvt.altKey%29%0A%09%09%09%20%26%26%20openSearch%28aSerchVal%2C%20%22site%22%2C%20aFrom%29%3B%0A%09%09%09%28aEvt.ctrlKey%20%26%26%20%21aEvt.shiftKey%20%26%26%20%21aEvt.altKey%29%0A%09%09%09%20%26%26%20openSearch%28aSerchVal%2C%20%22web%22%2C%20aFrom%29%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09%28aEvt%20%3D%3D%3D%20%22lClick%22%29%20%26%26%20openSearch%28aSerchVal%2C%20%22site%22%2C%20aFrom%29%3B%0A%09%09%09%28aEvt%20%3D%3D%3D%20%22CtrllClick%22%29%20%26%26%20openSearch%28aSerchVal%2C%20%22web%22%2C%20aFrom%29%3B%0A%09%09%7D%0A%09%09break%3B%0A%09case%20false%3A%0A%09%09if%20%28aEvt%20%21%3D%3D%20%22lClick%22%20%26%26%20aEvt%20%21%3D%3D%20%22CtrllClick%22%29%20%7B%0A%09%09%09%28%21aEvt.ctrlKey%20%26%26%20%21aEvt.shiftKey%20%26%26%20%21aEvt.altKey%29%0A%09%09%09%20%26%26%20openSearch%28aSerchVal%2C%20%22web%22%2C%20aFrom%29%3B%0A%09%09%09%28aEvt.ctrlKey%20%26%26%20%21aEvt.shiftKey%20%26%26%20%21aEvt.altKey%29%0A%09%09%09%20%26%26%20openSearch%28aSerchVal%2C%20%22site%22%2C%20aFrom%29%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09%28aEvt%20%3D%3D%3D%20%22lClick%22%29%20%26%26%20openSearch%28aSerchVal%2C%20%22web%22%2C%20aFrom%29%3B%0A%09%09%09%28aEvt%20%3D%3D%3D%20%22CtrllClick%22%29%20%26%26%20openSearch%28aSerchVal%2C%20%22site%22%2C%20aFrom%29%3B%0A%09%09%7D%0A%09%09break%3B%0A%09%7D%0A%7D%0A%0Afunction%20getOverrideURLs%28%29%20%7B%20//%20Boolean%20return%20of%20URLs/Hostsnames%20to%20override%0A%09var%20URLList%20%3D%20btnPref%28%22OverrideURLs%22%29.split%28%22%2C%22%29%3B%0A%09if%20%28URLList%29%20%7B%0A%09%09for%20%28let%20url%20in%20URLList%29%20%7B%0A%09%09%09if%20%28URLList%5Burl%5D.length%20%3E%200%29%20%7B%0A%09%09%09%09let%20curURL%20%3D%20%28gBrowser.currentURI.spec%20%3D%3D%3D%20URLList%5Burl%5D%29%3B%0A%09%09%09%09if%20%28curURL%29%0A%09%09%09%09%09return%20true%3B%0A%09%09%09%09else%0A%09%09%09%09%09continue%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09var%20hostList%20%3D%20btnPref%28%22OverrideHosts%22%29.split%28%22%2C%22%29%3B%0A%09if%20%28hostList%29%20%7B%0A%09%09for%20%28let%20name%20in%20hostList%29%20%7B%0A%09%09%09if%20%28hostList%5Bname%5D.length%20%3E%200%29%20%7B%0A%09%09%09%09let%20curURL%20%3D%20%28gBrowser.currentURI.host%20%3D%3D%3D%20hostList%5Bname%5D%29%3B%0A%09%09%09%09if%20%28curURL%29%0A%09%09%09%09%09return%20true%3B%0A%09%09%09%09else%0A%09%09%09%09%09continue%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09return%20false%3B%0A%7D%0A%0Afunction%20CB_%24ImageURLForResolution%28aWindow%2C%20aURL%2C%20aWidth%20%3D%2016%2C%20aHeight%20%3D%2016%29%20%7B%0A%09let%20width%20%3D%20Math.round%28aWidth%20*%20aWindow.devicePixelRatio%29%3B%0A%09let%20height%20%3D%20Math.round%28aHeight%20*%20aWindow.devicePixelRatio%29%3B%0A%09return%20aURL%20+%20%28aURL.contains%28%22%23%22%29%20%3F%20%22%26%22%20%3A%20%22%23%22%29%20+%0A%09%22-moz-resolution%3D%22%20+%20width%20+%20%22%2C%22%20+%20height%3B%0A%7D%0A%0Afunction%20alertme%28aMsg%29%20%7B%0A%09Services.prompt.alert%28null%2C%20%22Multi%20Search%22%2C%20aMsg%29%3B%0A%7D%0A%0Afunction%20utf8_to_b64%28aStr%29%20%7B%20//%20String%20to%20Base64.%20Unicode%20workaround%20without%20using%20%22unescape%22.%0A%09return%20btoa%28encodeURIComponent%28aStr%29.replace%28/%25%28%5B0-9A-F%5D%7B2%7D%29/g%2C%20function%20%28match%2C%20p1%29%20%7B%0A%09%09%09return%20String.fromCharCode%28%270x%27%20+%20p1%29%3B%0A%09%09%7D%29%29%3B%0A%7D%0A%0Afunction%20b64_to_utf8%28aStr%29%20%7B%20//%20Base64%20to%20String.%20Unicode%20workaround%20without%20using%20%22escape%22.%0A%09return%20decodeURIComponent%28atob%28aStr%29.replace%28/%5B%5Cx00-%29%2C%3A-%3F%5B-%5E%60%7B-%5CxFF%5D/g%2C%20function%20%28c%29%20%7B%0A%09%09%09c%20%3D%20c.charCodeAt%28%29%3B%0A%09%09%09return%20%27%25%27%20+%20%28c%20%3C%2016%20%3F%20%270%27%20%3A%20%27%27%29%20+%20c.toString%2816%29.toUpperCase%28%29%3B%0A%09%09%7D%29%29%3B%0A%7D%0A%0Afunction%20getHelp%28aPlaceholder%29%20%7B%20//%20Get%20specific%20data%2C%20surrounded%20by%20%22placeholders%22%2C%20from%20the%20Help%20tab.%0A%09return%20%24%28self.id%29.getAttribute%28%22Help%22%29.split%28%22%3C%21--%22%20+%20aPlaceholder%20+%20%22--%3E%22%29%5B1%5D%3B%0A%7D%0A%0Afunction%20notifyme%28aImg%2C%20aTitle%2C%20aMsg%29%20%7B%20//%20Notification%20function%0A%09let%20ASrv%20%3D%20Cc%5B%27@mozilla.org/alerts-service%3B1%27%5D.getService%28Ci.nsIAlertsService%29%3B%0A%09ASrv.showAlertNotification%28aImg%2C%20aTitle%2C%20aMsg%2C%20false%2C%20%22%22%2C%20null%29%3B%0A%7D%0A%0Afunction%20%24%28aId%29%20%7B%20//%20Return%20elements%20by%20Id%0A%09return%20document.getElementById%28aId%29%3B%0A%7D%0A%0Afunction%20%24XML%28aXML%29%20%7B%20//%20Return%20parsed%20XML%0A%09aXML%20%3D%20aXML.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%20//%20Linearize%20XML%0A%09return%20%28new%20DOMParser%29.parseFromString%28aXML%2C%20%22application/xml%22%29.documentElement%3B%0A%7D%0A%0Afunction%20appID%28aId%29%20%7B%20//%20App%20ID%20boolean%20return.%0A%09let%20app%20%3D%20%7B%0A%09%09%22SM%22%20%3A%20%22%7B92650c4d-4b8e-4d2a-b7eb-24ecf4f6b63a%7D%22%2C%0A%09%09%22FX%22%20%3A%20%22%7Bec8030f7-c20a-464f-9b0e-13a3a9e97384%7D%22%2C%0A%09%09%22TB%22%20%3A%20%22%7B3550f703-e582-4d05-9a08-453d09bdfdc6%7D%22%2C%0A%09%09%22PM%22%20%3A%20%22%7B8de7fcbb-c55c-4fbe-bfc5-fc555c87dbc4%7D%22%0A%09%7D%3B%0A%09return%20%28Services.appinfo.ID%20%3D%3D%3D%20app%5BaId%5D%29%3B%0A%7D%0A%0Afunction%20gBP%28aKey%2C%20aBranch%29%20%7B%20//%20Get%20Boolean%20Pref%0A%09return%20Services.prefs.getBoolPref%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%3B%0A%7D%0A%0Afunction%20gCV%28aKey%2C%20aBranch%29%20%7B%20//%20Get%20Complex%20Value%20%28Char%20Pref%29%0A%09return%20Services.prefs.getComplexValue%28%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%2C%0A%09%09Ci.nsISupportsString%29.data%3B%0A%7D%0A%0Afunction%20sCV%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//%20Set%20Complex%20Value%20%28Char%20Pref%29%0A%09var%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09str.data%20%3D%20aVal%3B%0A%09Services.prefs.setComplexValue%28%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%7D%0A%0Afunction%20notify%28aMsg%2C%20aDel%29%20%7B%20//%20Doorhanger%20notifications%0A%09let%20nt%20%3D%20PopupNotifications.show%28gBrowser.selectedBrowser%2C%20_UID%20+%0A%09%09%09%22-dad-Door-Hanger%22%2C%20aMsg%2C%20self.id%2C%20null%2C%20null%2C%20null%29%3B%0A%09%28aDel%29%20%26%26%20nt.remove%28%29%3B%0A%7D%0A%0Athis.getEngineImage%20%3D%20function%20%28%29%20%7B%0A%09if%20%28Services.search.isInitialized%29%0A%09%09return%20Services.search.currentEngine.iconURI.spec%3B%0A%09return%20_%24.defaultImage%3B%0A%7D%3B%0A%0A//%20If%20button%20is%20located%20inside%20App%20Button%20or%20in%20Vertical%20Toolbar%20Addon%0Aif%20%28this.parentNode%20%26%26%20%28this.parentNode.id.match%28%22PanelUI%22%29%20%7C%7C%20this.parentNode.id.match%28%22vertical-%22%29%29%29%20%7B%0A%09if%20%28this.parentNode.id.match%28%22PanelUI%22%29%29%20%7B%0A%09%09notify%28%22This%20button%20does%20not%20work%20inside%20the%20App%20Menu.%20Place%20it%20inside%20any%20other%20toolbar.%22%29%3B%0A%09%09this.disable%20%3D%20true%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09notify%28%22%22%2C%20true%29%3B%0A%09%09%7D%2C%2020000%29%3B%0A%09%7D%0A%09this.orient%20%3D%20%22vertical%22%3B%0A%7D%20else%0A%09this.orient%20%3D%20%22horizontal%22%3B%0A%0A%28function%20dropmarkerVisibility%28%29%20%7B%0A%09if%20%28%21btnPref%28%22StraightSearch%22%29%20%26%26%20self.parentNode%20%26%26%0A%09%09%28%21self.parentNode.id.match%28%22PanelUI%22%29%20%7C%7C%20%21self.parentNode.id.match%28%22vertical-%22%29%29%29%20%7B%0A%09%09let%20dropMarker%20%3D%20document.getAnonymousElementByAttribute%28self%2C%20%22class%22%2C%0A%09%09%09%09%22toolbarbutton-menu-dropmarker%22%29%3B%0A%09%09if%20%28dropMarker%29%0A%09%09%09dropMarker.setAttribute%28%22hidden%22%2C%20%21btnPref%28%22ShowDropmarker%22%29%29%3B%0A%09%09else%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09dropmarkerVisibility%28%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%7D%0A%7D%29%28%29%3B%0A%0Athis.sbiContext%20%3D%20%7B%0A%09init%20%3A%20function%20%28%29%20%7B%0A%09%09let%20copyImage%20%3D%20%24%28%22context-copyimage%22%29%3B%0A%09%09let%20sbiMI%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%3B%0A%09%09sbiMI.setAttribute%28%22id%22%2C%20_UID%20+%20%22-search_image_menuitem%22%29%3B%0A%09%09sbiMI.setAttribute%28%22class%22%2C%20%22menuitem-iconic%22%29%3B%0A%09%09sbiMI.setAttribute%28%22label%22%2C%20%22Search%20Google%20with%20this%20image%22%29%3B%0A%09%09sbiMI.setAttribute%28%22accesskey%22%2C%20%22e%22%29%3B%0A%09%09sbiMI.setAttribute%28%22image%22%2C%20getHelp%28%22CameraImage%22%29%29%3B%0A%09%09sbiMI.setAttribute%28%22oncommand%22%2C%20%22document.getElementById%28%5C%22%22%20+%20self.id%20+%0A%09%09%09%22%5C%22%29.searchImageSwitch%28%5C%22contextmenu%5C%22%29%3B%22%29%3B%0A%09%09copyImage.parentNode.insertBefore%28sbiMI%2C%20copyImage.nextSibling%29%3B%0A%09%09self.addEventListener%28%22load%22%2C%20function%20initLoadListener%28%29%20%7B%0A%09%09%09self.removeEventListener%28%22load%22%2C%20initLoadListener%2C%20false%29%3B%0A%09%09%09let%20contextmenu%20%3D%20%24%28%22contentAreaContextMenu%22%29%0A%09%09%09%09if%20%28contextmenu%29%20%7B%0A%09%09%09%09%09contextmenu.addEventListener%28%22popupshowing%22%2C%0A%09%09%09%09%09%09self.sbiContext.contextMenuListener%2C%20false%29%3B%0A%09%09%09%09%7D%0A%09%09%7D%2C%20false%29%3B%0A%09%7D%2C%0A%09contextMenuListener%20%3A%20function%20%28%29%20%7B%0A%09%09let%20context%20%3D%20%24%28_UID%20+%20%22-search_image_menuitem%22%29%3B%0A%09%09if%20%28gContextMenu%20%26%26%20context%29%0A%09%09%09context.hidden%20%3D%20%28%21gContextMenu.onImage%29%3B%0A%09%7D%2C%0A%09remove%20%3A%20function%20%28%29%20%7B%0A%09%09let%20mItem%20%3D%20%24%28_UID%20+%20%22-search_image_menuitem%22%29%3B%0A%09%09if%20%28mItem%20%26%26%20mItem.parentNode%29%20%7B%0A%09%09%09mItem.parentNode.removeChild%28mItem%29%3B%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Aif%20%28btnPref%28%22SearchImageContextMenu%22%29%29%20%7B%0A%09if%20%28%21%24%28_UID%20+%20%22-search_image_menuitem%22%29%29%0A%09%09self.sbiContext.init%28%29%3B%0A%7D%20else%0A%09self.sbiContext.remove%28%29%3B%0A%0Athis.dragAndDropHandler%20%3D%20%7B%0A%09handleEvent%20%3A%20function%20%28aEvt%29%20%7B%0A%09%09var%20types%20%3D%20aEvt.dataTransfer.types%3B%0A%09%09switch%20%28aEvt.type%29%20%7B%0A%09%09case%20%22dragenter%22%3A%20//%20ondragenter%0A%09%09%09if%20%28btnPref%28%22DragAndDropForOneOffButtons%22%29%29%20%7B%0A%09%09%09%09window%5B_FLG1%5D%20%3D%20true%3B%0A%09%09%09%09if%20%28_%24.oODetached%29%20%7B%0A%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09self.searchPanelActions.keepItUp%28_%24.txtBox%2C%20self%29%3B%0A%09%09%09%09%09%7D%2C%2050%29%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09if%20%28_%24.sPanel.state%20%3D%3D%3D%20%22closed%22%29%20%7B%0A%09%09%09%09%09%09_%24.sPanel.openPopup%28self%2C%20%22bottomcenter%20topleft%22%2C%200%2C%200%2C%20false%2C%20false%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22dragover%22%3A%20//%20ondragover%0A%09%09%09if%20%28btnPref%28%22DaDNotifications%22%29%29%20%7B%0A%09%09%09%09if%20%28types.contains%28%22application/x-moz-file%22%29%29%20%7B%20//%20If%20what%20is%20being%20dragged%20IS%20a%20local%20file.%0A%09%09%09%09%09checkContentType%28aEvt.dataTransfer.mozGetDataAt%28%22application/x-moz-file%22%2C%200%29%2C%0A%09%09%09%09%09%09false%29%0A%09%09%09%09%09%20%3F%20this.feedbackShow%28%22Search%20local%20image%20file%20with%20Google%20Images%22%29%0A%09%09%09%09%09%20%3A%20this.feedbackShow%28%22The%20file%20that%20is%20being%20dragged%20is%20not%20an%20image%20file%20%22%20+%0A%09%09%09%09%09%09%22or%20is%20not%20a%20supported%20image%20format.%22%29%3B%0A%09%09%09%09%09self.image%20%3D%20getHelp%28%22CameraImage%22%29%3B%0A%09%09%09%09%7D%20else%20if%20%28types.contains%28%22text/html%22%29%20%7C%7C%20types.contains%28%22text/plain%22%29%20%7C%7C%0A%09%09%09%09%09types.contains%28%22text/x-moz-text-internal%22%29%29%20%7B%20//%20If%20what%20is%20being%20dragged%20is%20NOT%20a%20local%20file.%0A%09%09%09%09%09var%20data%20%3D%20aEvt.dataTransfer.getData%28%27text/html%27%29%3B%0A%09%09%09%09%09var%20rex%20%3D%20/src%3D%22%3F%28%5B%5E%22%5Cs%5D+%29%22%3F%5Cs*/%3B%0A%09%09%09%09%09var%20urlArr%20%3D%20rex.exec%28data%29%3B%0A%09%09%09%09%09if%20%28urlArr%29%20%7B%0A%09%09%09%09%09%09let%20url%20%3D%20urlArr%5B1%5D.slice%28-4%29%3B%0A%09%09%09%09%09%09if%20%28url%20%3D%3D%3D%20%22.png%22%20%7C%7C%20url%20%3D%3D%3D%20%22.jpg%22%20%7C%7C%20url%20%3D%3D%3D%20%22.tif%22%20%7C%7C%0A%09%09%09%09%09%09%09url%20%3D%3D%3D%20%22.gif%22%20%7C%7C%20url%20%3D%3D%3D%20%22.bmp%22%20%7C%7C%20url%20%3D%3D%3D%20%22.PNG%22%20%7C%7C%0A%09%09%09%09%09%09%09url%20%3D%3D%3D%20%22.JPG%22%20%7C%7C%20url%20%3D%3D%3D%20%22.TIF%22%20%7C%7C%20url%20%3D%3D%3D%20%22.GIF%22%20%7C%7C%0A%09%09%09%09%09%09%09url%20%3D%3D%3D%20%22.BMP%22%20%7C%7C%20url%20%3D%3D%3D%20%22jpeg%22%20%7C%7C%20url%20%3D%3D%3D%20%22JPEG%22%20%7C%7C%0A%09%09%09%09%09%09%09urlArr%5B1%5D.indexOf%28%22data%3A%22%29%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20image%20in%20content%20with%20Google%20Images%22%29%3B%0A%09%09%09%09%09%09%09self.image%20%3D%20getHelp%28%22CameraImage%22%29%3B%0A%09%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/plain%22%29%3B%0A%09%09%09%09%09%09%09if%20%28%21data%29%0A%09%09%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/x-moz-text-internal%22%29%3B%0A%09%09%09%09%09%09%09if%20%28data%29%20%7B%0A%09%09%09%09%09%09%09%09switch%20%28btnPref%28%22SearchMode%22%29%29%20%7B%0A%09%09%09%09%09%09%09%09case%20true%3A%20//%20Search%20mode%20is%20%22Site%22%0A%09%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20No%20modifiers%0A%09%09%09%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20the%20current%20site%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09%09Services.search.currentEngine.name%29%3B%0A%09%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20Control%0A%09%09%09%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20the%20web%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09%09Services.search.currentEngine.name%29%3B%0A%09%09%09%09%09%09%09%09%09self.image%20%3D%20self.getEngineImage%28%29%3B%0A%09%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%09case%20false%3A%20//%20Search%20mode%20is%20%22Web%22%0A%09%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20No%20modifiers%0A%09%09%09%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20the%20web%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09%09Services.search.currentEngine.name%29%3B%0A%09%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20Control%0A%09%09%09%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20the%20current%20site%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09%09Services.search.currentEngine.name%29%3B%0A%09%09%09%09%09%09%09%09%09self.image%20%3D%20self.getEngineImage%28%29%3B%0A%09%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%09default%3A%0A%09%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/plain%22%29%3B%0A%09%09%09%09%09%09if%20%28%21data%29%0A%09%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/x-moz-text-internal%22%29%3B%0A%09%09%09%09%09%09if%20%28data%29%20%7B%0A%09%09%09%09%09%09%09switch%20%28btnPref%28%22SearchMode%22%29%29%20%7B%0A%09%09%09%09%09%09%09case%20true%3A%20//%20Search%20mode%20is%20%22Site%22%0A%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20No%20modifiers%0A%09%09%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20the%20current%20site%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09Services.search.currentEngine.name%29%3B%0A%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20Control%0A%09%09%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20the%20web%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09Services.search.currentEngine.name%29%3B%0A%09%09%09%09%09%09%09%09self.image%20%3D%20self.getEngineImage%28%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20false%3A%20//%20Search%20mode%20is%20%22Web%22%0A%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20No%20modifiers%0A%09%09%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20the%20web%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09Services.search.currentEngine.name%29%3B%0A%09%09%09%09%09%09%09%09if%20%28%21aEvt.shiftKey%20%26%26%20aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%29%20//%20Control%0A%09%09%09%09%09%09%09%09%09this.feedbackShow%28%22Search%20the%20current%20site%20with%3A%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09Services.search.currentEngine.name%29%3B%0A%09%09%09%09%09%09%09%09self.image%20%3D%20self.getEngineImage%28%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22dragleave%22%3A%20//%20ondragleave%0A%09%09%09btnPref%28%22DaDNotifications%22%29%20%26%26%20this.feedbackHide%28%29%3B%0A%09%09%09self.image%20%3D%20self.getEngineImage%28%29%3B%0A%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22drop%22%3A%20//%20ondrop%0A%09%09%09if%20%28types.contains%28%22application/x-moz-file%22%29%29%20%7B%0A%09%09%09%09let%20imageFile%20%3D%20aEvt.dataTransfer.mozGetDataAt%28%22application/x-moz-file%22%2C%200%29%3B%0A%09%09%09%09self.searchImageSwitch%28%22localfile%22%2C%20imageFile%29%3B%0A%09%09%09%7D%20else%20if%20%28types.contains%28%22text/html%22%29%20%7C%7C%20types.contains%28%22text/plain%22%29%20%7C%7C%0A%09%09%09%09types.contains%28%22text/x-moz-text-internal%22%29%29%20%7B%0A%09%09%09%09var%20data%20%3D%20aEvt.dataTransfer.getData%28%27text/html%27%29%3B%0A%09%09%09%09let%20rexsrc%20%3D%20/src%3D%22%3F%28%5B%5E%22%5Cs%5D+%29%22%3F%5Cs*/%3B%0A%09%09%09%09var%20urlArr%20%3D%20rexsrc.exec%28data%29%3B%0A%09%09%09%09if%20%28urlArr%29%20%7B%0A%09%09%09%09%09let%20url%20%3D%20urlArr%5B1%5D.slice%28-4%29%3B%0A%09%09%09%09%09if%20%28url%20%3D%3D%3D%20%22.png%22%20%7C%7C%20url%20%3D%3D%3D%20%22.jpg%22%20%7C%7C%20url%20%3D%3D%3D%20%22.tif%22%20%7C%7C%20url%20%3D%3D%3D%20%22.gif%22%20%7C%7C%0A%09%09%09%09%09%09url%20%3D%3D%3D%20%22.bmp%22%20%7C%7C%20url%20%3D%3D%3D%20%22.PNG%22%20%7C%7C%20url%20%3D%3D%3D%20%22.JPG%22%20%7C%7C%20url%20%3D%3D%3D%20%22.TIF%22%20%7C%7C%0A%09%09%09%09%09%09url%20%3D%3D%3D%20%22.GIF%22%20%7C%7C%20url%20%3D%3D%3D%20%22.BMP%22%20%7C%7C%20url%20%3D%3D%3D%20%22jpeg%22%20%7C%7C%20url%20%3D%3D%3D%20%22JPEG%22%20%7C%7C%0A%09%09%09%09%09%09urlArr%5B1%5D.indexOf%28%22data%3A%22%29%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09if%20%28urlArr%5B1%5D.indexOf%28%22view-source%3Afile%3A%22%29%20%3D%3D%3D%200%29%0A%09%09%09%09%09%09%09self.searchImageSwitch%28%22content%22%2C%0A%09%09%09%09%09%09%09%09urlArr%5B1%5D.split%28%22view-source%3A%22%29%5B1%5D%29%3B%0A%09%09%09%09%09%09else%20if%20%28urlArr%5B1%5D.indexOf%28%22view-source%3Ajar%3A%22%29%20%3D%3D%3D%200%29%0A%09%09%09%09%09%09%09self.searchImageSwitch%28%22content%22%2C%0A%09%09%09%09%09%09%09%09generateDataURI%28decodeURIComponent%28urlArr%5B1%5D%29%0A%09%09%09%09%09%09%09%09%09.split%28%22view-source%3A%22%29%5B1%5D%2C%20true%29%29%3B%0A%09%09%09%09%09%09else%20if%20%28urlArr%5B1%5D.indexOf%28%22chrome%3A//%22%29%20%3D%3D%3D%200%20%7C%7C%0A%09%09%09%09%09%09%09urlArr%5B1%5D.indexOf%28%22jar%3A%22%29%20%3D%3D%3D%200%29%0A%09%09%09%09%09%09%09self.searchImageSwitch%28%22content%22%2C%0A%09%09%09%09%09%09%09%09generateDataURI%28decodeURIComponent%28urlArr%5B1%5D%29%2C%20true%29%29%3B%0A%09%09%09%09%09%09else%0A%09%09%09%09%09%09%09self.searchImageSwitch%28%22content%22%2C%20urlArr%5B1%5D%29%3B%0A%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/plain%22%29%3B%0A%09%09%09%09%09%09if%20%28%21data%29%0A%09%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/x-moz-text-internal%22%29%3B%0A%09%09%09%09%09%09if%20%28data%29%20%7B%0A%09%09%09%09%09%09%09var%20searchValue%20%3D%20shorten%28data%2C%20900%29%3B%0A%09%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09%09searchModeSwitch%28searchValue%2C%20aEvt%29%3B%0A%09%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/plain%22%29%3B%0A%09%09%09%09%09if%20%28%21data%29%0A%09%09%09%09%09%09data%20%3D%20aEvt.dataTransfer.getData%28%22text/x-moz-text-internal%22%29%3B%0A%09%09%09%09%09if%20%28data%29%20%7B%0A%09%09%09%09%09%09var%20searchValue%20%3D%20shorten%28data%2C%20900%29%3B%0A%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09searchModeSwitch%28searchValue%2C%20aEvt%29%3B%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09notify%28%22%22%2C%20true%29%3B%0A%09%09%09self.image%20%3D%20self.getEngineImage%28%29%3B%0A%09%09%09if%20%28_%24.sPanel%20%26%26%20_%24.sPanel.state%20%3D%3D%3D%20%22open%22%29%0A%09%09%09%09_%24.sPanel.hidePopup%28%29%3B%0A%09%09%09if%20%28_%24.aCPanel%20%26%26%20_%24.aCPanel.popupOpen%29%0A%09%09%09%09_%24.aCPanel.hidePopup%28%29%3B%0A%09%09%09aEvt.preventDefault%28%29%3B%0A%09%09%09break%3B%0A%09%09default%3A%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%09feedbackShow%20%3A%20function%20%28aMsg%29%20%7B%0A%09%09%28btnPref%28%22DaDDoorHanger%22%29%29%0A%09%09%20%3F%20notify%28aMsg%29%0A%09%09%20%3A%20%28appID%28%22SM%22%29%0A%09%09%09%20%3F%20%28%24%28%22statusbar-display%22%29.label%20%3D%20aMsg%29%0A%09%09%09%20%3A%20gBrowser.getStatusPanel%28%29.label%20%3D%20aMsg%29%3B%0A%09%7D%2C%0A%09feedbackHide%20%3A%20function%20%28%29%20%7B%0A%09%09%28btnPref%28%22DaDDoorHanger%22%29%29%0A%09%09%20%3F%20notify%28%22%22%2C%20true%29%0A%09%09%20%3A%20%28appID%28%22SM%22%29%0A%09%09%09%20%3F%20%28%24%28%22statusbar-display%22%29.label%20%3D%20%22%22%29%0A%09%09%09%20%3A%20gBrowser.getStatusPanel%28%29.label%20%3D%20%22%22%29%3B%0A%09%7D%2C%0A%09removeDandDFeedback%20%3A%20function%20%28aEvt%29%20%7B%20//%20Drag%20and%20Drop%20feedback%20%22removal%22%0A%09%09let%20canvas%20%3D%20document.createElementNS%28%22http%3A//www.w3.org/1999/xhtml%22%2C%20%22canvas%22%29%3B%0A%09%09canvas.width%20%3D%20canvas.height%20%3D%200%3B%0A%09%09aEvt.dataTransfer.setDragImage%28canvas%2C%200%2C%200%29%3B%0A%09%7D%0A%7D%3B%0A%0AbtnPref%28%22GlobalDaDFeedback%22%29%0A%20%7C%7C%20document.addEventListener%28%22dragstart%22%2C%20self.dragAndDropHandler.removeDandDFeedback%2C%20false%29%3B%0A%0AbtnPref%28%22OneOffButtons%22%29%0A%20%26%26%20this.setAttribute%28%22ondragenter%22%2C%20%22this.dragAndDropHandler.handleEvent%28event%29%3B%22%29%3B%0A%0Athis.setAttribute%28%22ondragover%22%2C%20%22this.dragAndDropHandler.handleEvent%28event%29%3B%22%29%3B%0A%0Athis.setAttribute%28%22ondragleave%22%2C%20%22this.dragAndDropHandler.handleEvent%28event%29%3B%22%29%3B%0A%0Athis.setAttribute%28%22ondrop%22%2C%20%22this.dragAndDropHandler.handleEvent%28event%29%3B%22%29%3B%0A%0A//START//%20Search%20By%20Image%20functions%0Athis.searchImageSwitch%20%3D%20function%20%28aImgSource%2C%20aImage%29%20%7B%0A%09switch%20%28aImgSource%29%20%7B%0A%09case%20%22content%22%3A%0A%09%09var%20src%20%3D%20aImage%3B%0A%09%09break%3B%0A%09case%20%22localfile%22%3A%0A%09%09let%20imageDataURI%20%3D%20generateDataURI%28aImage%2C%20false%29%3B%0A%09%09if%20%28%21imageDataURI%29%0A%09%09%09alertme%28%22The%20dropped%20file%20is%20NOT%20an%20image%20file%21%21%21%22%29%3B%0A%09%09else%0A%09%09%09var%20src%20%3D%20imageDataURI%3B%0A%09%09break%3B%0A%09case%20%22contextmenu%22%3A%0A%09%09var%20src%20%3D%20gContextMenu.imageURL%20%7C%7C%20gContextMenu.mediaURL%3B%0A%09%09break%3B%0A%09default%3A%0A%09%09break%3B%0A%09%7D%0A%09if%20%28%21src%29%0A%09%09return%3B%0A%09setTimeout%28function%20%28%29%20%7B%0A%09%09if%20%28aImgSource%20%21%3D%3D%20%22localfile%22%20%26%26%20src.indexOf%28%22file%3A%22%29%20%3D%3D%3D%200%29%20%7B%0A%09%09%09let%20image%20%3D%20generateDataURI%28decodeURIComponent%28src%29%2C%20true%29%3B%0A%09%09%09searchImage%28image%29%3B%0A%09%09%7D%20else%0A%09%09%09searchImage%28src%29%3B%0A%09%7D%2C%20100%29%3B%0A%7D%3B%0A%0Afunction%20searchImage%28aImageURL%29%20%7B%0A%09if%20%28aImageURL.indexOf%28%22data%3A%22%29%20%3D%3D%3D%200%29%20%7B%0A%09%09let%20base64Offset%20%3D%20aImageURL.indexOf%28%22%2C%22%29%3B%0A%09%09if%20%28base64Offset%20%21%3D%3D%20-1%29%20%7B%0A%09%09%09let%20inlineImage%20%3D%20aImageURL.substring%28base64Offset%20+%201%29%0A%09%09%09%09.replace%28/%5C+/g%2C%20%22-%22%29%0A%09%09%09%09.replace%28/%5C//g%2C%20%22_%22%29%0A%09%09%09%09.replace%28/%5C./g%2C%20%22%3D%22%29%3B%0A%09%09%09let%20form%20%3D%20content.document.createElement%28%22form%22%29%3B%0A%09%09%09let%20target%20%3D%20%28btnPref%28%22TabOpeningForImg%22%29%20%3D%3D%3D%201%29%20%3F%20%22_self%22%20%3A%20%22_blank%22%3B%0A%09%09%09form.setAttribute%28%22method%22%2C%20%22POST%22%29%3B%0A%09%09%09form.setAttribute%28%22action%22%2C%20_%24.searchByImageBaseURL%20+%20%22/searchbyimage/upload%22%29%3B%0A%09%09%09form.setAttribute%28%22enctype%22%2C%20%22multipart/form-data%22%29%3B%0A%09%09%09form.setAttribute%28%22target%22%2C%20target%29%3B%0A%09%09%09form.setAttribute%28%22accept-charset%22%2C%20%22utf-8%22%29%3B%0A%09%09%09addParamsToForm%28form%2C%20%22image_content%22%2C%20inlineImage%29%3B%0A%09%09%09addParamsToForm%28form%2C%20%22filename%22%2C%20%22%22%29%3B%0A%09%09%09addParamsToForm%28form%2C%20%22image_url%22%2C%20%22%22%29%3B%0A%09%09%09content.document.body.appendChild%28form%29%3B%0A%09%09%09form.submit%28%29%3B%0A%09%09%7D%0A%09%7D%20else%20%7B%0A%09%09var%20doImageSearch%20%3D%20_%24.searchByImageBaseURL%20+%20%22/searchbyimage%3F%22%20+%0A%09%09%09%22image_url%3D%22%20+%20encodeURIComponent%28aImageURL%29%3B%0A%09%09switch%20%28btnPref%28%22TabOpeningForImg%22%29%29%20%7B%0A%09%09case%201%3A%20//%20Open%20in%20current%20tab%0A%09%09%09gBrowser.loadURI%28doImageSearch%29%3B%0A%09%09%09break%3B%0A%09%09case%202%3A%20//%20Open%20in%20new%20background%20tab%0A%09%09%09getOverrideURLs%28%29%0A%09%09%09%20%3F%20gBrowser.loadURI%28doImageSearch%29%0A%09%09%09%20%3A%20gBrowser.addTab%28doImageSearch%2C%20null%2C%20null%2C%20null%2C%20false%2C%20false%29%3B%0A%09%09%09break%3B%0A%09%09case%203%3A%20//%20Open%20in%20new%20foreground%20tab%0A%09%09%09getOverrideURLs%28%29%0A%09%09%09%20%3F%20gBrowser.loadURI%28doImageSearch%29%0A%09%09%09%20%3A%20gBrowser.selectedTab%20%3D%20gBrowser.addTab%28doImageSearch%2C%20null%2C%20null%2C%20null%2C%20false%2C%20false%29%3B%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%0A%7D%0A%0Afunction%20addParamsToForm%28aForm%2C%20aKey%2C%20aValue%29%20%7B%0A%09let%20hiddenField%20%3D%20content.document.createElement%28%22input%22%29%3B%0A%09hiddenField.setAttribute%28%22type%22%2C%20%22hidden%22%29%3B%0A%09hiddenField.setAttribute%28%22name%22%2C%20aKey%29%3B%0A%09hiddenField.setAttribute%28%22value%22%2C%20aValue%29%3B%0A%09aForm.appendChild%28hiddenField%29%3B%0A%7D%0A%0Afunction%20checkContentType%28aFile%2C%20aLocalFile%29%20%7B%0A%09let%20file%20%3D%20%28aLocalFile%20%3F%20aFile%20%3A%20%28Services.io.newFileURI%28aFile%29.spec%29%29%3B%0A%09let%20uri%20%3D%20Cc%5B%22@mozilla.org/network/io-service%3B1%22%5D.getService%28Ci.nsIIOService%29%0A%09%09.newURI%28file%2C%20null%2C%20null%29%3B%0A%09try%20%7B%0A%09%09var%20contentType%20%3D%20Cc%5B%22@mozilla.org/mime%3B1%22%5D%0A%09%09%09.getService%28Ci.nsIMIMEService%29.getTypeFromURI%28uri%29%3B%0A%09%7D%20catch%20%28aError%29%20%7B%0A%09%09LOG%28aError%29%3B%0A%09%09return%20false%3B%0A%09%7D%0A%09if%20%28contentType%20%21%3D%3D%20%22image/png%22%20%26%26%20contentType%20%21%3D%3D%20%22image/jpeg%22%20%26%26%0A%09%09contentType%20%21%3D%3D%20%22image/bmp%22%20%26%26%20contentType%20%21%3D%3D%20%22image/gif%22%20%26%26%20contentType%20%21%3D%3D%20%22image/tiff%22%29%0A%09%09return%20false%3B%0A%09else%0A%09%09return%20contentType%3B%0A%7D%0A%0Afunction%20generateDataURI%28aImageFile%2C%20aLocalFileURL%29%20%7B%0A%09var%20contentType%20%3D%20checkContentType%28aImageFile%2C%20aLocalFileURL%29%3B%0A%09if%20%28%21contentType%29%0A%09%09return%20false%3B%0A%09if%20%28aLocalFileURL%29%20%7B%0A%09%09var%20nsIIOService%20%3D%20Cc%5B%22@mozilla.org/network/io-service%3B1%22%5D.getService%28Ci.nsIIOService%29%3B%0A%09%09var%20channel%20%3D%20nsIIOService.newChannel%28aImageFile%2C%200%2C%20null%29%3B%0A%09%7D%20else%20%7B%0A%09%09var%20nsIFileInputStream%20%3D%20Cc%5B%22@mozilla.org/network/file-input-stream%3B1%22%5D%0A%09%09%09.createInstance%28Ci.nsIFileInputStream%29%3B%0A%09%09nsIFileInputStream.init%28aImageFile%2C%200x01%2C%200x180%2C%200%29%3B%0A%09%7D%0A%09var%20nsIBinaryInputStream%20%3D%20Cc%5B%22@mozilla.org/binaryinputstream%3B1%22%5D%0A%09%09.createInstance%28Ci.nsIBinaryInputStream%29%3B%0A%09nsIBinaryInputStream.setInputStream%28%28aLocalFileURL%0A%09%09%09%20%3F%20channel.open%28%29%0A%09%09%09%20%3A%20nsIFileInputStream%29%29%3B%0A%09let%20encoded%20%3D%20btoa%28nsIBinaryInputStream.readBytes%28nsIBinaryInputStream.available%28%29%29%29%3B%0A%09return%20%22data%3A%22%20+%20contentType%20+%20%22%3Bbase64%2C%22%20+%20encoded%3B%0A%7D%0A%0A//END//%20Search%20By%20Image%20functions%0Afunction%20openOptions%28%29%20%7B%0A%09var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%09var%20winName%20%3D%20_UID%20+%20%22_PrefWindow%22%3B%0A%09var%20index%20%3D%201%3B%0A%09while%20%28em.hasMoreElements%28%29%29%20%7B%0A%09%09let%20win%20%3D%20em.getNext%28%29%3B%0A%09%09if%20%28win.name%20%3D%3D%3D%20winName%29%20%7B%0A%09%09%09win.focus%28%29%3B%0A%09%09%09return%3B%0A%09%09%7D%0A%09%09index++%0A%09%7D%0A%09var%20x%20%3D%20b64_to_utf8%28getHelp%28%22OptionsWindow%22%29%29%3B%0A%09x%20%3D%20x.replace%28%22_self_%22%2C%20%22opener.document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29%22%29%3B%0A%09x%20%3D%20x.replace%28/_app_name_/gm%2C%20Services.appinfo.name%29%3B%0A%09x%20%3D%20x.split%28%22_RoOt_%22%29%3B%0A%09let%20xul%20%3D%20%22data%3Aapplication/vnd.mozilla.xul+xml%3Bbase64%2C%22%20+%20utf8_to_b64%28x.join%28PREF_BRANCH%29%29%3B%0A%09openDialog%28xul%2C%20winName%2C%20%22chrome%2C%20dependant%2C%20dialog%2C%20centerscreen%2C%20close%22%29%3B%0A%7D%0A%0A//START//%20Check%20for%20updates%20block%0Athis.setAttribute%28%27updatedate%27%2C%20%27Dec%2022%2C%202014%27%29%3B%20//%20NEEDED%20for%20buttonUpdateChecker%20function%20to%20work.%0A%0Athis.buttonUpdateChecker%20%3D%20%7B%0A%09infoURL%20%3A%20%22https%3A//raw.githubusercontent.com/Odyseus/CustomButtons/master/MultiSearch/%22%20+%0A%09%22LatestVersion.txt%22%2C%0A%09init%20%3A%20function%20%28%29%20%7B%0A%09%09var%20_UPD%20%3D%20_UID%20+%20%22_updates_checked_%22%3B%0A%09%09if%20%28btnPref%28%22Updates%22%29%20%26%26%20%21%28_UPD%20in%20window%29%29%20%7B%0A%09%09%09window%5B_UPD%5D%20%3D%20true%3B%0A%09%09%09if%20%28%28currentTime%20-%20btnPref%28%22UpdatesLastCheck%22%29%29%20%3E%20btnPref%28%22UpdatesEvery%22%29%29%20%7B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09self.buttonUpdateChecker.checkLatestVersion%28true%29%3B%0A%09%09%09%09%7D%2C%20btnPref%28%22UpdatesDelay%22%29%20*%201000%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%09checkLatestVersion%20%3A%20function%20%28aFromAuto%29%20%7B%0A%09%09var%20req%20%3D%20new%20XMLHttpRequest%28%29%3B%0A%09%09req.open%28%22GET%22%2C%20this.infoURL%2C%20true%29%3B%0A%09%09req.onreadystatechange%20%3D%20function%20%28aEvent%29%20%7B%0A%09%09%09if%20%28req.readyState%20%3D%3D%3D%204%20%26%26%20req.status%20%3D%3D%3D%20200%29%0A%09%09%09%09self.buttonUpdateChecker.inform%28req.responseText.split%28%22%7C%22%29%2C%20aFromAuto%29%3B%0A%09%09%09else%20if%20%28req.readyState%20%3D%3D%3D%204%20%26%26%20req.status%20%21%3D%3D%20200%29%0A%09%09%09%09alert%28%22Error%20trying%20to%20retrieve%20the%20file%20at%3A%5Cn%22%0A%09%09%09%09%09%20+%20self.buttonUpdateChecker.infoURL%20+%20%22%5Cn%22%20+%0A%09%09%09%09%09%22Check%20your%20internet%20connection.%22%29%3B%0A%09%09%7D%3B%0A%09%09req.send%28null%29%3B%0A%09%09Services.prefs.setIntPref%28PREF_BRANCH%20+%20%22UpdatesLastCheck%22%2C%20currentTime%29%3B%0A%09%7D%2C%0A%09inform%20%3A%20function%20%28aDoc%2C%20aFromAuto%29%20%7B%0A%09%09var%20noNeedUpdate%20%3D%20%28aDoc%5B0%5D%20%3D%3D%3D%20self.getAttribute%28%22updatedate%22%29%29%3B%0A%09%09if%20%28aFromAuto%20%26%26%20noNeedUpdate%29%0A%09%09%09return%3B%0A%09%09let%20newUpdate%20%3D%20%22New%20update%20found.%20%22%20+%0A%09%09%09%28%28aDoc%5B1%5D%20%3D%3D%3D%20%22Normal%22%29%0A%09%09%09%09%20%3F%20%22%3Chtml%3Aspan%20style%3D%5C%22color%3Agreen%3B%5C%22%3EPriority%3A%20Normal%3C/html%3Aspan%3E%22%0A%09%09%09%09%20%3A%20%22%3Chtml%3Aspan%20style%3D%5C%22color%3Ared%3B%5C%22%3EPriority%3A%20Critical%3C/html%3Aspan%3E%22%29%3B%0A%09%09this.openNotification%28noNeedUpdate%20%3F%20%22No%20new%20updates.%22%20%3A%20newUpdate%29%3B%0A%09%7D%2C%0A%09openNotification%20%3A%20function%20%28aUpdMsg%29%20%7B%0A%09%09let%20homePage%20%3D%20encodeURIComponent%28%22http%3A//custombuttons.sourceforge.net/forum/%22%20+%0A%09%09%09%09%22viewtopic.php%3Ff%3D4%26t%3D3371%22%29%3B%0A%09%09let%20notificationBox%20%3D%20%24XML%28%22%3Ctoolbox%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%20xmlns%3Ahtml%3D%5C%22%22%20+%20xhtmlns%20+%20%22%5C%22%3E%22%20+%0A%09%09%09%09%22%3Chbox%20align%3D%5C%22center%5C%22%3E%22%20+%0A%09%09%09%09%22%3Clabel%3E%3Chtml%3Ab%20style%3D%5C%22font-size%3A14px%21important%3B%5C%22%3E%22%20+%0A%09%09%09%09%28self.label%20%7C%7C%20self.name%29%20+%20%22%3C/html%3Ab%3E%3C/label%3E%22%20+%0A%09%09%09%09%22%3Clabel%3E%3Chtml%3Ab%20style%3D%5C%22font-size%3A12px%21important%3B%5C%22%3E%22%20+%20aUpdMsg%20+%20%22%3C/html%3Ab%3E%3C/label%3E%22%20+%0A%09%09%09%09%22%3Cspacer%20flex%3D%5C%221%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cbutton%20label%3D%5C%22Go%20to%20homepage%5C%22%20onclick%3D%5C%22try%7BgBrowser.selectedTab%3D%22%20+%0A%09%09%09%09%22gBrowser.addTab%28decodeURIComponent%28%27%22%20+%20homePage%20+%20%22%27%29%29%3B%7Dcatch%28aEr%29%7B%22%20+%0A%09%09%09%09%22openContentTab%28decodeURIComponent%28%27%22%20+%20homePage%20+%20%22%27%29%29%3B%7Devent.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20tooltiptext%3D%5C%22Open%20%22%20+%20%28self.label%20%7C%7C%20self.name%29%20+%20%22%20homepage.%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cbutton%20label%3D%5C%22Dismiss%5C%22%20oncommand%3D%5C%22this.parentNode.parentNode%22%20+%0A%09%09%09%09%22.removeChild%28this.parentNode%29%5C%22/%3E%3C/hbox%3E%3C/toolbox%3E%22%29%3B%0A%09%09let%20notificationTarget%20%3D%20%28document.getElementById%28%22mailContent%22%29%20%7C%7C%0A%09%09%09document.getElementById%28%22appcontent%22%29%29%3B%0A%09%09notificationTarget.appendChild%28notificationBox%29%3B%0A%09%7D%0A%7D%3B%0A%0Athis.buttonUpdateChecker.init%28%29%3B%0A//END//%20Check%20for%20updates%20block%0A%0A//START//%20Tooltip%20creation%0Afunction%20getTooltip%28%29%20%7B%0A%09if%20%28%21%24%28_UID%20+%20%22-tooltip%22%29%29%20%7B%0A%09%09var%20xul%20%3D%20getHelp%28%22ThisButtonTooltip%22%29%0A%09%09%09.replace%28%22_U_I_D_%22%2C%20_UID%29%0A%09%09%09.replace%28%22_search_mode_%22%2C%20btnPref%28%22SearchMode%22%29%20%3F%20%22Site%20Mode%22%20%3A%20%22Web%20Mode%22%29%0A%09%09%09.replace%28%22_left_click_%22%2C%20btnPref%28%22StraightSearch%22%29%0A%09%09%09%09%20%3F%20%28btnPref%28%22SearchMode%22%29%0A%09%09%09%09%09%20%3F%20%22Search%20the%20current%20site.%22%0A%09%09%09%09%09%20%3A%20%22Search%20the%20web.%22%29%0A%09%09%09%09%20%3A%20%22Open%20Panel%22%29%0A%09%09%09.replace%28%22_ctrlleft_click_%22%2C%20btnPref%28%22StraightSearch%22%29%0A%09%09%09%09%20%3F%20%28btnPref%28%22SearchMode%22%29%0A%09%09%09%09%09%20%3F%20%22Search%20the%20web.%22%0A%09%09%09%09%09%20%3A%20%22Search%20current%20site.%22%29%0A%09%09%09%09%20%3A%20%22Open%20Panel%22%29%0A%09%09%09.replace%28/_modifier_/g%2C%20_%24.isWin%20%3F%20%22Alt%22%20%3A%20%22Shift%22%29%0A%09%09%09.replace%28/_tab_/g%2C%20%22%5Ct%22%29%3B%0A%09%09xul%20%3D%20btnPref%28%22StraightSearch%22%29%20%3F%20xul%20%3A%20xul%0A%09%09%09.replace%28/%3C%21--START-NoStraight--%3E%28%5Cs*%3F.*%3F%29*%3F%3C%21--END-NoStraight--%3E/%2C%20%22%22%29%3B%0A%09%09self.removeAttribute%28%22tooltiptext%22%29%3B%0A%09%09_%24.sPanel.insertBefore%28%24XML%28xul%29%2C%20_%24.sPanel.nextSibling%29%3B%20//%20If%20button%20type%20is%20%22menu%22%20or%20%22menu-button%22.%0A%09%09let%20tt%20%3D%20%24%28_UID%20+%20%22-tooltip%22%29%3B%0A%09%09tt.style.padding%20%3D%20%28%228px%22%29%3B%0A%09%7D%0A%7D%0A//END//%20Tooltip%20creation%0A%0A//START//%20Tooltip%20delay%0Avar%20tooltipHandler%20%3D%20%7B%0A%09x%20%3A%200%2C%0A%09y%20%3A%200%2C%0A%09delay%20%3A%200%2C%0A%09button%20%3A%20null%2C%0A%09timer%20%3A%20null%2C%0A%09tooltip%20%3A%20btnPref%28%22ShowFullTooltip%22%29%20%3F%20_UID%20+%20%22-tooltip%22%20%3A%20%22%22%2C%0A%09handleEvent%20%3A%20function%20%28aEvt%29%20%7B%0A%09%09switch%20%28aEvt.type%29%20%7B%0A%09%09case%20%22mouseover%22%3A%0A%09%09%09this.setTimer%28%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22mouseout%22%3A%0A%09%09%09this.clearTimer%28%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22mousemove%22%3A%0A%09%09%09this.x%20%3D%20aEvt.clientX%3B%0A%09%09%09this.y%20%3D%20aEvt.clientY%3B%0A%09%09%09break%3B%0A%09%09default%3A%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%09clearTooltip%20%3A%20function%20%28%29%20%7B%0A%09%09if%20%28this.button.tooltip%29%20%7B%0A%09%09%09this.tooltip%20%3D%20this.button.tooltip%3B%0A%09%09%09this.button.tooltip%20%3D%20%22%22%3B%0A%09%09%7D%0A%09%7D%2C%0A%09restoreTooltip%20%3A%20function%20%28%29%20%7B%0A%09%09if%20%28this.tooltip%29%20%7B%0A%09%09%09this.button.tooltip%20%3D%20this.tooltip%3B%0A%09%09%09this.tooltip%20%3D%20%22%22%3B%0A%09%09%7D%0A%09%7D%2C%0A%09setTimer%20%3A%20function%20%28%29%20%7B%0A%09%09this.clearTooltip%28%29%3B%0A%09%09this.timer%20%3D%20window.setTimeout%28%0A%09%09%09%09function%20%28aThis%29%20%7B%0A%09%09%09%09aThis.showTooltip.apply%28aThis%29%3B%0A%09%09%09%7D%2C%0A%09%09%09%09this.delay%2C%0A%09%09%09%09this%29%3B%0A%09%7D%2C%0A%09clearTimer%20%3A%20function%20%28%29%20%7B%0A%09%09this.restoreTooltip%28%29%3B%0A%09%09window.clearTimeout%28this.timer%29%3B%0A%09%7D%2C%0A%09showTooltip%20%3A%20function%20%28%29%20%7B%0A%09%09this.restoreTooltip%28%29%3B%0A%09%09var%20nsIDOMWindowUtils%20%3D%20window.QueryInterface%28Ci.nsIInterfaceRequestor%29%0A%09%09%09.getInterface%28Ci.nsIDOMWindowUtils%29%3B%0A%09%09nsIDOMWindowUtils.sendMouseEvent%28%22mousemove%22%2C%20this.x%20+%201%2C%20this.y%20+%201%2C%200%2C%200%2C%200%2C%20true%29%3B%0A%09%7D%2C%0A%09init%20%3A%20function%20%28aDelay%2C%20aBtn%29%20%7B%0A%09%09this.delay%20%3D%20aDelay%3B%0A%09%09this.button%20%3D%20aBtn%3B%0A%09%7D%0A%7D%3B%0A%0AbtnPref%28%22ShowFullTooltip%22%29%20%7C%7C%20%28this.tooltipText%20%3D%20%22%22%29%3B%0A%0AtooltipHandler.init%28btnPref%28%22TooltipDelay%22%29%2C%20this%29%3B%0A%0Aif%20%28%21%28_FLG3%20in%20window%29%29%20%7B%0A%09window%5B_FLG3%5D%20%3D%20true%3B%0A%09addEventListener%28%22mouseover%22%2C%20tooltipHandler%2C%20false%2C%20this%29%3B%0A%09addEventListener%28%22mousemove%22%2C%20tooltipHandler%2C%20false%2C%20this%29%3B%0A%09addEventListener%28%22mouseout%22%2C%20tooltipHandler%2C%20false%2C%20this%29%3B%0A%7D%0A//END//%20Tooltip%20delay%0A%0A//START//%20Load%20style%20sheets%0Afunction%20styleSheet%28aCSS%2C%20aRemFlag%29%20%7B%0A%09var%20sss%20%3D%20Cc%5B%22@mozilla.org/content/style-sheet-service%3B1%22%5D%0A%09%09.getService%28Ci.nsIStyleSheetService%29%3B%0A%09var%20ios%20%3D%20Cc%5B%22@mozilla.org/network/io-service%3B1%22%5D%0A%09%09.getService%28Ci.nsIIOService%29%3B%0A%09var%20uri%20%3D%20ios.newURI%28%22data%3Atext/css%2C%22%20+%20encodeURIComponent%28aCSS%29%2C%20null%2C%20null%29%3B%0A%09if%20%28sss.sheetRegistered%28uri%2C%20sss.USER_SHEET%29%29%0A%09%09sss.unregisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%09if%20%28aRemFlag%29%0A%09%09return%3B%0A%09sss.loadAndRegisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%09window%5B_CSS%5D%20%3D%20aCSS%3B%0A%7D%0A%0Avar%20css%20%3D%20getHelp%28%22StyleSheet%22%29%0A%09.split%28%22_U_I_D_%22%29.join%28_UID%29%0A%09.replace%28/_self_id_/gm%2C%20self.id%29%0A%09.replace%28/_size_h_/gm%2C%20btnPref%28%22ButtonIconHeight%22%29%29%3B%0A%0Aif%20%28%21%28_CSS%20in%20window%29%29%0A%09styleSheet%28css%29%3B%0Aelse%20if%20%28window%5B_CSS%5D%20%21%3D%3D%20css%29%20%7B%0A%09styleSheet%28window%5B_CSS%5D%2C%20true%29%3B%0A%09setTimeout%28function%20%28%29%20%7B%0A%09%09styleSheet%28css%29%3B%0A%09%7D%2C%20200%29%3B%0A%7D%0A//END//%20Load%20style%20sheets%0A%0A//START//%20Preferences%20handling%20functions%0Athis.prefHandling%20%3D%20%7B%0A%09resetP%20%3A%20function%20%28%29%20%7B%0A%09%09var%20Msg%20%3D%20%22You%27re%20about%20to%20reset%20Multi%20Search%20preferences%20to%20their%20default%20values%u200B%u200B.%5Ct%5Ct%5Cn%22%20+%0A%09%09%09%22This%20process%20is%20immediate%20and%20irreversible.%5Ct%5Cn%22%20+%0A%09%09%09%22It%20is%20advisable%20to%20make%20a%20backup%20of%20the%20preferences%20before%20proceeding.%5Ct%5Cn%5Cn%22%20+%0A%09%09%09%22Do%20you%20want%20to%20continue%3F%5Cn%22%3B%0A%09%09var%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20Msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09if%20%28cBox%29%20%7B%0A%09%09%09%28Services.prefs.getBranch%28PREF_BRANCH%29%29.deleteBranch%28%22%22%29%3B%0A%09%09%09self.init%28%29%3B%0A%09%09%7D%20else%0A%09%09%09return%3B%0A%09%7D%2C%0A%09exportP%20%3A%20function%20%28%29%20%7B%0A%09%09var%20out%20%3D%20%5B%5D%2C%0A%09%09prefList%20%3D%20%28Services.prefs.getBranch%28PREF_BRANCH%29%29.getChildList%28%22%22%2C%20%7B%7D%29%3B%0A%09%09for%20%28let%20pref%20in%20prefList%29%20%7B%0A%09%09%09switch%20%28Services.prefs.getPrefType%28PREF_BRANCH%20+%20prefList%5Bpref%5D%29%29%20%7B%0A%09%09%09case%200%3A%0A%09%09%09%09break%3B%0A%09%09%09case%2032%3A%0A%09%09%09%09var%20value%20%3D%20btnPref%28prefList%5Bpref%5D%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%2064%3A%0A%09%09%09%09var%20value%20%3D%20btnPref%28prefList%5Bpref%5D%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20128%3A%0A%09%09%09%09var%20value%20%3D%20btnPref%28prefList%5Bpref%5D%29%20%3F%20%22true%22%20%3A%20%22false%22%3B%0A%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%09out.push%28prefList%5Bpref%5D%20+%20%22%7C%22%20+%20value%29%3B%0A%09%09%7D%0A%09%09var%20file%20%3D%20Cc%5B%22@mozilla.org/file/local%3B1%22%5D.createInstance%28Ci.nsIFile%29%3B%0A%09%09file.initWithPath%28Services.dirsvc.get%28%22Desk%22%2C%20Ci.nsIFile%29.path%29%3B%0A%09%09file.append%28%22MultiSearchPrefs%22%20+%20%22.js%22%29%3B%0A%09%09file.createUnique%28Ci.nsIFile.NORMAL_FILE_TYPE%2C%200x1B6%29%3B%0A%09%09var%20fos%20%3D%20Cc%5B%22@mozilla.org/network/file-output-stream%3B1%22%5D%0A%09%09%09.createInstance%28Ci.nsIFileOutputStream%29%3B%0A%09%09fos.init%28file%2C%200x02%20%7C%200x08%20%7C%200x20%2C%200x1B6%2C%200%29%3B%0A%09%09var%20cos%20%3D%20Cc%5B%22@mozilla.org/intl/converter-output-stream%3B1%22%5D%0A%09%09%09.createInstance%28Ci.nsIConverterOutputStream%29%3B%0A%09%09cos.init%28fos%2C%20%22UTF-8%22%2C%200%2C%200%29%3B%0A%09%09cos.writeString%28out.join%28%22%5Cn%22%29%29%3B%0A%09%09cos.close%28%29%3B%0A%09%09notifyme%28getHelp%28%22WebSearch%22%29%2C%20%22Multi%20Search%20Preferences%22%2C%0A%09%09%09%22Successfully%20exported%20to%20your%20Desktop.%22%29%3B%0A%09%7D%2C%0A%09importP%20%3A%20function%20%28%29%20%7B%0A%09%09let%20Msg%20%3D%20%22You%27re%20about%20to%20import%20new%20preferences%20to%20Multi%20Search.%5Ct%5Ct%5Cn%22%20+%0A%09%09%09%22This%20process%20is%20immediate%20and%20irreversible.%5Ct%5Cn%22%20+%0A%09%09%09%22It%20is%20advisable%20to%20make%20a%20backup%20of%20the%20preferences%20before%20proceeding.%5Ct%5Cn%5Cn%22%20+%0A%09%09%09%22Do%20you%20want%20to%20continue%3F%5Cn%22%3B%0A%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20Msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09if%20%28cBox%29%20%7B%0A%09%09%09var%20localDir%20%3D%20Cc%5B%22@mozilla.org/file/local%3B1%22%5D.createInstance%28Ci.nsIFile%29%3B%0A%09%09%09localDir.initWithPath%28Services.dirsvc.get%28%22Desk%22%2C%20Ci.nsIFile%29.path%29%3B%0A%09%09%09var%20fp%20%3D%20Cc%5B%22@mozilla.org/filepicker%3B1%22%5D.createInstance%28Ci.nsIFilePicker%29%3B%0A%09%09%09fp.init%28window%2C%20%22Import%20Multi%20Search%20Preferences%22%2C%0A%09%09%09%09Ci.nsIFilePicker.modeOpen%29%3B%0A%09%09%09fp.appendFilter%28%22MultiSearchPrefs*.js%22%2C%20%22MultiSearchPrefs*.js%22%29%3B%0A%09%09%09fp.displayDirectory%20%3D%20localDir%3B%0A%09%09%09if%20%28fp.show%28%29%20%3D%3D%3D%20Ci.nsIFilePicker.returnOK%29%20%7B%0A%09%09%09%09if%20%28fp.file%20%26%26%20fp.file.exists%28%29%29%20%7B%0A%09%09%09%09%09localDir%20%3D%20fp.file.parent.QueryInterface%28Ci.nsIFile%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%0A%09%09%09%09return%3B%0A%09%09%09OS.File.read%28fp.file.path%29.then%28function%20onSuccess%28aReadData%29%20%7B%0A%09%09%09%09let%20prefFile%20%3D%20new%20TextDecoder%28%29.decode%28aReadData%29%3B%0A%09%09%09%09prefFile%20%3D%20prefFile.replace%28/%5Cr%5Cn/g%2C%20%22%5Cn%22%29.split%28%22%5Cn%22%29%3B%0A%09%09%09%09for%20%28let%20p%20in%20prefFile%29%20%7B%0A%09%09%09%09%09var%20prefName%20%3D%20PREF_BRANCH%20+%20prefFile%5Bp%5D.split%28%22%7C%22%29%5B0%5D%2C%0A%09%09%09%09%09prefValue%20%3D%20prefFile%5Bp%5D.split%28%22%7C%22%29%5B1%5D%3B%0A%09%09%09%09%09if%20%28Services.prefs.getPrefType%28prefName%29%29%20%7B%0A%09%09%09%09%09%09switch%20%28Services.prefs.getPrefType%28prefName%29%29%20%7B%0A%09%09%09%09%09%09case%200%3A%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%2032%3A%0A%09%09%09%09%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D%0A%09%09%09%09%09%09%09%09.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09%09%09%09%09str.data%20%3D%20prefValue%3B%0A%09%09%09%09%09%09%09Services.prefs.setComplexValue%28%28prefName%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%2064%3A%0A%09%09%09%09%09%09%09Services.prefs.setIntPref%28prefName%2C%20prefValue%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20128%3A%0A%09%09%09%09%09%09%09Services.prefs.setBoolPref%28prefName%2C%20%28%28prefValue%20%3D%3D%3D%20%22true%22%29%20%3F%20%22true%22%20%3A%20%22%22%29%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09self.init%3B%0A%09%09%09%09%7D%2C%201000%29%3B%0A%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09Cu.reportError%28aRejectReason%29%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%20else%0A%09%09%09return%3B%0A%09%7D%0A%7D%3B%0A//END//%20Preferences%20handling%20functions%0A%0Aif%20%28%24%28%22search-container%22%29%20%26%26%20%24%28%22search-container%22%29.parentNode.id%20%21%3D%3D%20%22BrowserToolbarPalette%22%29%20%7B%0A%09notify%28%22%22%2C%20true%29%3B%0A%09%24%28%22search-container%22%29.style.visibility%20%3D%20btnPref%28%22HideDefaultSearchbar%22%29%0A%09%09%20%3F%20%22collapse%22%0A%09%09%20%3A%20%22visible%22%3B%0A%7D%20else%20%7B%0A%09notify%28%22For%20certain%20features%20of%20%22%20+%20%28self.name%20%7C%7C%20self.label%29%20+%20%22%20button%20to%20work%20properly%2C%20%22%20+%0A%09%09Services.appinfo.name%20+%20%22%27s%20default%20search%20bar%20needs%20to%20be%20placed%20inside%20any%20toolbar.%20%22%20+%0A%09%09%22You%20can%20hide%20the%20default%20search%20bar%20from%20the%20options%20window%20of%20this%20button.%20%22%20+%0A%09%09%22This%20notification%20will%20self-destruct%20in%2030%20seconds.%22%29%3B%0A%09setTimeout%28function%20%28%29%20%7B%0A%09%09notify%28%22%22%2C%20true%29%3B%0A%09%7D%2C%2030000%29%3B%0A%7D%0A%0Aif%20%28%22CustomizableUI%22%20in%20window%29%20%7B%0A%09let%20_cui%20%3D%20_UID%20+%20%22_customizable_ui_%22%3B%0A%09CustomizableUI.addListener%28%7B%0A%09%09onCustomizeStart%20%3A%20function%20%28aWindow%29%20%7B%0A%09%09%09window%5B_cui%5D%20%3D%20true%3B%0A%09%09%7D%2C%0A%09%09onCustomizeEnd%20%3A%20function%20%28aWindow%29%20%7B%0A%09%09%09let%20thisBtn%20%3D%20aWindow.document.getElementById%28self.id%29%3B%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09window%5B_cui%5D%20%26%26%20thisBtn.init%28%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%2C%0A%09%7D%29%3B%0A%7D%0A%0Athis.onDestroy%20%3D%20function%20%28aReason%29%20%7B%0A%09if%20%28aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09%28Services.prefs.getBranch%28PREF_BRANCH%29%29.deleteBranch%28%22%22%29%3B%0A%09%7D%20else%20if%20%28aReason%20%3D%3D%3D%20%22update%22%20%7C%7C%20aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09styleSheet%28window%5B_CSS%5D%2C%20true%29%3B%0A%09%09_%24.aCPanel%20%26%26%20_%24.aCPanel.parentNode.removeChild%28_%24.aCPanel%29%3B%0A%09%09if%20%28%24%28_UID%20+%20%22-one-off-items%22%29%29%20%7B%0A%09%09%09while%20%28self.firstChild%29%0A%09%09%09%09self.firstChild.remove%28%29%3B%0A%09%09%7D%0A%09%09delete%20window%5B_CSS%5D%3B%0A%09%09delete%20window%5B_FLG1%5D%3B%0A%09%09delete%20window%5B_FLG2%5D%3B%0A%09%7D%0A%7D%3B%0A%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%28%21event.target%20%26%26%20%21this.disabled%29%20%7B%0A%09this.hotkeyPressed%28this%2C%20event%29%3B%0A%7D%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5BWARNING%21%21%20BE%20CAREFUL%20IF%20YOU%20EDIT%20THIS%20HELP%20TAB%21%21%21%0AIT%20COULD%20BREAK%20THE%20FUNCIONALITY%20OF%20THIS%20BUTTON%21%21%21%0A%0AIf%20you%20want%20to%20use%20the%20Help%20tab%20to%20customize%20your%20buttons%2C%0Ainstead%20of%20using%20this.Help%20as%20usually%2C%20use%20getHelp%28%22Marker%22%29.%0AThe%20getHelp%28%22Marker%22%29%20function%20will%20call%20the%20content%20of%20the%20following%20example.%0A%0A%3C%21--Marker--%3E%0AInside%20these%20two%20%22markers%22%20you%20can%20add%20the%20content%20that%20will%20be%20called%20with%20the%20getHelp%28%22Marker%22%29%20function.%0AVirtually%20anything%20can%20be%20placed%20here%20%28CSS%20code%2C%20XUL%20code%2C%20HTML%20code%2C%20images%2C%20ect.%29.%0AIMPORTANT%21%21%21%20Markers%20should%20ALWAYS%20exist%20in%20pairs%20and%20be%20unique.%0A%3C%21--Marker--%3E%0A%5B%2C%5D%0A%0A%3C%21--StyleSheet--%3E%0A/*%20START%20Here%20you%20can%20place%20your%20CSS%20code.%0A%20%20%20It%20will%20be%20automatically%20loaded%20on%20button%20initialization.%20*/%0A%0A%0A/*%20END%20Here%20you%20can%20place%20your%20CSS%20code.%20*/%0A/*%20START%20Doorhanger%20notifications%20styles%20*/%0A.popup-notification-icon%5Bpopupid%3D%22_U_I_D_-dad-Door-Hanger%22%5D%2C%0A%23_U_I_D_-dad-Door-Hanger-notification%20.popup-notification-closebutton%20%7B%20/*%20Hide%20popup%20image%20and%20close%20button%20*/%0A%09-moz-appearance%3Anone%20%21important%3B%0A%09visibility%3A%20collapse%20%21important%3B%0A%7D%0A%23_U_I_D_-dad-Door-Hanger-notification%20%7B%20/*%20Make%20text%20a%20little%20more%20visible%20*/%0A%09-moz-appearance%3Anone%20%21important%3B%0A%09margin%3A%205px%205px%20-15px%205px%20%21important%3B%0A%09font-size%3A%201.175em%20%21important%3B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0A/*%20END%20Doorhanger%20notifications%20styles%20*/%0A%0A/*%20START%20Button%20tooltip%20styles%20*/%0A%23_U_I_D_-tooltip%20.webmode%20%7B%0A%09font-size%3A%201.2em%20%21important%3B%0A%09color%3A%20green%20%21important%3B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0A%23_U_I_D_-tooltip%20.title%20%7B%0A%09font-size%3A%201.2em%20%21important%3B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0A%23_U_I_D_-tooltip%20.modifier%20%7B%0A%09font-size%3A%201.1em%20%21important%3B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0A%23_U_I_D_-tooltip%20.description%20%7B%0A%09font-size%3A%201.1em%20%21important%3B%0A%7D%0A/*%20END%20Button%20tooltip%20styles%20*/%0A%0A/*%20START%20Button%20image%20size%20*/%0A/*%20Fix%20sizes%20of%20this%20button%20image%20*/%0A%23_self_id_%20.toolbarbutton-icon%20%7B%0A%09max-height%3A%20_size_h_px%20%21important%3B%0A%09width%3A%20100%25%20%21important%3B%0A%7D%0A/*%20END%20Button%20image%20size%20*/%0A%0A/*%20START%20Hide%20search%20box%20autocomplete%20icon%20*/%0A%23_U_I_D_-searchbox%20.autocomplete-icon%20%7B%20/*%20Hides%20icon%20inside%20search%20box%20*/%0A%09display%3A%20none%20%21important%3B%0A%7D%0A%0A%23_U_I_D_-searchbox%20.autocomplete-treebody%3A%3A-moz-tree-image%20%7B%20/*%20Hide%20autocomplete%20icons%20in%20SeaMonkey%20%AC%AC%20*/%0A%09height%3A%200%20%21important%3B%0A%09width%3A%200%20%21important%3B%0A%7D%0A%0A%23_U_I_D_-update-panel%20button%20.button-icon%20%7B%20/*%20Update%20panel%20button%20image%20sizes%20*/%0A%09max-width%3A%2016px%20%21important%3B%0A%09max-height%3A%2016px%20%21important%3B%0A%7D%0A%0A/*%20One-off%20buttons%20styles%20*/%0A%23_U_I_D_-search-button%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09display%3A%20inline-block%20%21important%3B%0A%09opacity%3A%200.75%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09min-width%3A%2024px%20%21important%3B%0A%09height%3A%2024px%20%21important%3B%0A%09margin%3A%200%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%09background%3A%20none%20%21important%3B%0A%7D%0A%23_U_I_D_-search-button%3Ahover%20%7B%0A%09transform%3A%20scale%281.05%2C%201.05%29%20%21important%3B%0A%09opacity%3A%201%20%21important%3B%0A%7D%0A%23_self_id_%20menuitem.one-off-is-hidden%20%3E%20.menu-iconic-text%20%7B%0A%09font-style%20%3A%20italic%20%21important%3B%0A%09text-decoration%3A%20underline%20%21important%3B%0A%7D%0A.dummy%20.button-icon%20%7B%20/*%20Fix%20for%20SeaMonkey%20%AC%AC%20*/%0A%09visibility%3A%20collapse%20%21important%3B%0A%7D%0A%23_U_I_D_-search_panel%20%3E%20%23_U_I_D_-one-off-items%20%7B%0A%09padding-top%3A%205px%20%21important%3B%0A%7D%0A%23_U_I_D_-one-offs%20%7B%0A%09margin%3A%200%20%21important%3B%0A%09border-top%3A%201px%20solid%20%23ccc%20%21important%3B%0A%7D%0A%23_U_I_D_-one-offs%20.multi-search-one-off-item%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09display%3A%20inline-block%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09min-width%3A%2038px%20%21important%3B%0A%09height%3A%2032px%20%21important%3B%0A%09margin%3A%200%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%09background%3A%20none%20%21important%3B%0A%09background-image%3A%20url%28%27data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAAEAAAAWCAYAAAABxvaqAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gofECQNNVW2/AAAABBJREFUGFdjOHPmzH8GehEA/KpKg9YTf4AAAAAASUVORK5CYII%3D%27%29%20%21important%3B%0A%09background-repeat%3A%20no-repeat%20%21important%3B%0A%09background-position%3A%20right%20center%20%21important%3B%0A%7D%0A%23_U_I_D_-one-offs%20.multi-search-one-off-item%3Anot%28.last-row%29%20%7B%0A%09box-sizing%3A%20padding-box%20%21important%3B%0A%09border-bottom%3A%201px%20solid%20%23ccc%20%21important%3B%0A%7D%0A%23_U_I_D_-one-offs%20.multi-search-one-off-item.last-of-row%20%7B%0A%09background-image%3A%20none%20%21important%3B%0A%7D%0A%23_U_I_D_-one-offs%20.multi-search-one-off-item%3Ahover%3Anot%28.dummy%29%2C%0A%23_U_I_D_-one-offs%20.multi-search-one-off-item%3Aactive%3Anot%28.dummy%29%2C%0A%23_U_I_D_-one-offs%20.multi-search-one-off-item%5Bselected%5D%20%7B%0A%09background-color%3A%20Highlight%20%21important%3B%0A%09background-image%3A%20none%20%21important%3B%0A%7D%0A%23_U_I_D_-one-offs%20.multi-search-one-off-item%20%3E%20.button-box%20%7B%0A%09border%3A%20none%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%7D%0A%23_U_I_D_-one-offs%20.multi-search-one-off-item%20%3E%20.button-box%20%3E%20.button-text%20%7B%0A%09display%3A%20none%20%21important%3B%0A%7D%0A%23_U_I_D_-one-offs%20.button-icon%20%7B%0A%09width%3A%2016px%20%21important%3B%0A%09height%3A%2016px%20%21important%3B%0A%7D%0A/*%20Clear%20searchbox%20button%20*/%0A%23_U_I_D_-clear-searchbox%20.button-icon%20%7B%0A%09width%3A%2010px%20%21important%3B%0A%09min-width%3A%2010px%20%21important%3B%0A%09max-width%3A%2010px%20%21important%3B%0A%09height%3A%209px%20%21important%3B%0A%09min-height%3A%209px%20%21important%3B%0A%09max-height%3A%209px%20%21important%3B%0A%7D%0A%23_U_I_D_-clear-searchbox%20%7B%0A%09-moz-appearance%3Anone%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09width%3A%2016px%20%21important%3B%0A%09max-width%3A%2016px%20%21important%3B%0A%09min-width%3A%2016px%20%21important%3B%0A%09height%3A%2012px%20%21important%3B%0A%09cursor%3A%20pointer%20%21important%3B%0A%09margin%3A%200%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%09background%3A%20none%20%21important%3B%0A%7D%0A/*%20One-off%20buttons%20header%20*/%0A%23_U_I_D_-one-off-items%20.multi-search-header%20%7B%0A%20%20font-weight%3A%20normal%20%21important%3B%0A%20%20background-color%3A%20rgb%28245%2C%20245%2C%20245%29%20%21important%3B%0A%20%20border-top%3A%201px%20solid%20%23ccc%20%21important%3B%0A%20%20border-right%3A%202px%20solid%20%23666%20%21important%3B%0A%20%20margin%3A%200%20%21important%3B%0A%20%20padding%3A%203px%206px%20%21important%3B%0A%20%20color%3A%20%23666%20%21important%3B%0A%7D%0A%23_U_I_D_-one-off-items%20.multi-search-input-value%20%7B%0A%20%20color%3A%20black%20%21important%3B%0A%7D%0A%23_U_I_D_-one-off-items%20.multi-search-current-input%20%3E%20label%20%7B%0A%20%20margin%3A%200%20%21important%3B%0A%7D%0A/*%20One-off%20buttons%20styles%20*/%0A%3C%21--StyleSheet--%3E%0A%3C%21--ThisButtonTooltip--%3E%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%20%3F%3E%0A%3C%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20%3F%3E%0A%3Ctooltip%20id%3D%22_U_I_D_-tooltip%22%0A%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%3E%0A%09%3Chbox%3E%3Clabel%20class%3D%22title%22%20%3EMulti%20Search%3C/label%3E%3Cspacer%20flex%3D%221%22%20/%3E%3Clabel%20class%3D%22webmode%22%20%3E_search_mode_%3C/label%3E%3C/hbox%3E%0A%09%3Cseparator/%3E%0A%09%3Chbox%3E%3Clabel%20class%3D%22modifier%22%3EL%3A%20_tab_%20%3C/label%3E%3Clabel%20class%3D%22description%22%3E_left_click_%3C/label%3E%3C/hbox%3E%0A%09%3C%21--START-NoStraight--%3E%3Chbox%3E%3Clabel%20class%3D%22modifier%22%3EL%20+%20Ctrl%3A%20_tab_%20%3C/label%3E%3Clabel%20class%3D%22description%22%3E_ctrlleft_click_%3C/label%3E%3C/hbox%3E%3C%21--END-NoStraight--%3E%0A%09%3Cseparator/%3E%0A%09%3Chbox%3E%3Clabel%20class%3D%22modifier%22%3EL%20+%20Shift%3A%20_tab_%20%3C/label%3E%3Clabel%20class%3D%22description%22%3EOpen%20Google%20Images.%3C/label%3E%3C/hbox%3E%0A%09%3Chbox%3E%3Clabel%20class%3D%22modifier%22%3ER%20+%20_modifier_%3A%20_tab_%20%3C/label%3E%3Clabel%20class%3D%22description%22%3ESwitch%20search%20mode.%3C/label%3E%3C/hbox%3E%0A%09%3Chbox%3E%3Clabel%20class%3D%22modifier%22%3ER%20+%20Ctrl%20+%20_modifier_%3A%20_tab_%20%3C/label%3E%3Clabel%20class%3D%22description%22%3EOpen%20options.%3C/label%3E%3C/hbox%3E%0A%09%3Chbox%3E%3Clabel%20class%3D%22modifier%22%3EM%3A%20_tab_%20%3C/label%3E%3Clabel%20class%3D%22description%22%3EManage%20search%20engines.%3C/label%3E%3C/hbox%3E%0A%09%3Chbox%3E%3Clabel%20class%3D%22modifier%22%3ER%20+%20Ctrl%3A%20_tab_%20%3C/label%3E%3Clabel%20class%3D%22description%22%3ESwitch%20Straight%20Search.%3C/label%3E%3C/hbox%3E%0A%3C/tooltip%3E%3C%21--ThisButtonTooltip--%3E%0A%3C%21--OptionsWindow--%3EPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiID8+PD94bWwtc3R5bGVzaGVldCBocmVmPSJjaHJvbWU6Ly9nbG9iYWwvc2tpbi8iID8+PD94bWwtc3R5bGVzaGVldCBocmVmPSJkYXRhOnRleHQvY3NzO2NoYXJzZXQ9dXRmLTgsIHByZWZ3aW5kb3cgKiB7IAlmb250LWZhbWlseTogJnF1b3Q7T3BlbiBTYW5zJnF1b3Q7LCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmICFpbXBvcnRhbnQ7IH0gLmJvbGRfdGV4dCwgdGFiW3NlbGVjdGVkXSB7IAlmb250LXdlaWdodDogYm9sZCAhaW1wb3J0YW50OyB9ICIgdHlwZT0idGV4dC9jc3MiID8+PHByZWZ3aW5kb3cgaWQ9Il9VX0lfRF9fUHJlZldpbmRvdyIgb25sb2FkPSJkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QnV0dG9uKCdleHRyYTInKS5zZXRBdHRyaWJ1dGUoJ3BvcHVwJywnbXVsdGlzZWFyY2gtc2V0dGluZ3MnKTsiIG9udW5sb2FkPSJmcm9tQnV0dG9uLm9uRGVzdHJveSgndXBkYXRlJyk7ZnJvbUJ1dHRvbi5pbml0KCk7IiBidXR0b25zPSJhY2NlcHQsY2FuY2VsLGV4dHJhMiIgYnV0dG9ubGFiZWxleHRyYTI9IlNldHRpbmdzIiBwZXJzaXN0PSJzY3JlZW5YIHNjcmVlblkgc2l6ZW1vZGUiIHRpdGxlPSJNdWx0aSBTZWFyY2ggc2V0dGluZ3MuIiB4bWxuczpodG1sPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiB4bWxucz0iaHR0cDovL3d3dy5tb3ppbGxhLm9yZy9rZXltYXN0ZXIvZ2F0ZWtlZXBlci90aGVyZS5pcy5vbmx5Lnh1bCI+PHNjcmlwdD48IVtDREFUQVt2YXIgZnJvbUJ1dHRvbj1fc2VsZl87ZnVuY3Rpb24gX29uZU9mZihhQ2hlY2tib3gpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihhQ2hlY2tib3guY2hlY2tlZD09PWZhbHNlKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRHJhZ0FuZERyb3BGb3JPbmVPZmZCdXR0b25zJykudmFsdWU9ZmFsc2U7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0F0dGFjaE9uZU9mZkJveFRvTWFpblBhbmVsJykudmFsdWU9ZmFsc2U7fX0sMTAwKTt9DQpmdW5jdGlvbiBfb25lT2ZmUmVxdWlyZWQoYUNoZWNrYm94KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoYUNoZWNrYm94LmNoZWNrZWQ9PT10cnVlKQ0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ09uZU9mZkJ1dHRvbnMnKS52YWx1ZT10cnVlO30sMTAwKTt9DQpmdW5jdGlvbiBfc2VhcmNoU3VnZyhhQ2hlY2tib3gpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihhQ2hlY2tib3guY2hlY2tlZD09PWZhbHNlKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQXV0b1RyaWdnZXJTdWdnZXN0aW9ucycpLnZhbHVlPWZhbHNlO319LDEwMCk7fQ0KZnVuY3Rpb24gX3NlYXJjaFN1Z2dSZXF1aXJlZChhQ2hlY2tib3gpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihhQ2hlY2tib3guY2hlY2tlZD09PXRydWUpDQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnU2VhcmNoU3VnZ2VzdGlvbnMnKS52YWx1ZT10cnVlO30sMTAwKTt9XV0+PC9zY3JpcHQ+PHByZWZwYW5lIGlkPSJTZWFyY2hTaXRlV2ViQnlJbWFnZV9QcmVmUGFuZSIgPjxwcmVmZXJlbmNlcz48cHJlZmVyZW5jZSBpZD0iQXV0b0ZpbGxXaXRoU2VsZWN0aW9uIiBuYW1lPSJfUm9PdF9BdXRvRmlsbFdpdGhTZWxlY3Rpb24iIHR5cGU9ImJvb2wiLz48cHJlZmVyZW5jZSBpZD0iQnV0dG9uSWNvbkhlaWdodCIgbmFtZT0iX1JvT3RfQnV0dG9uSWNvbkhlaWdodCIgdHlwZT0iaW50Ii8+PHByZWZlcmVuY2UgaWQ9IkRhRERvb3JIYW5nZXIiIG5hbWU9Il9Sb090X0RhRERvb3JIYW5nZXIiIHR5cGU9ImJvb2wiLz48cHJlZmVyZW5jZSBpZD0iRGFETm90aWZpY2F0aW9ucyIgbmFtZT0iX1JvT3RfRGFETm90aWZpY2F0aW9ucyIgdHlwZT0iYm9vbCIvPjxwcmVmZXJlbmNlIGlkPSJGbGlwQXR0cmlidXRlIiBuYW1lPSJfUm9PdF9GbGlwQXR0cmlidXRlIiB0eXBlPSJib29sIi8+PHByZWZlcmVuY2UgaWQ9Ikdsb2JhbERhREZlZWRiYWNrIiBuYW1lPSJfUm9PdF9HbG9iYWxEYURGZWVkYmFjayIgdHlwZT0iYm9vbCIvPjxwcmVmZXJlbmNlIGlkPSJIaWRlRGVmYXVsdFNlYXJjaGJhciIgbmFtZT0iX1JvT3RfSGlkZURlZmF1bHRTZWFyY2hiYXIiIHR5cGU9ImJvb2wiLz48cHJlZmVyZW5jZSBpZD0iSG90a2V5QWN0aW9uIiBuYW1lPSJfUm9PdF9Ib3RrZXlBY3Rpb24iIHR5cGU9ImJvb2wiLz48cHJlZmVyZW5jZSBpZD0iT3ZlcnJpZGVIb3N0cyIgbmFtZT0iX1JvT3RfT3ZlcnJpZGVIb3N0cyIgdHlwZT0ic3RyaW5nIi8+PHByZWZlcmVuY2UgaWQ9Ik92ZXJyaWRlVVJMcyIgbmFtZT0iX1JvT3RfT3ZlcnJpZGVVUkxzIiB0eXBlPSJzdHJpbmciLz48cHJlZmVyZW5jZSBpZD0iU2VhcmNoSGlzdG9yeSIgbmFtZT0iX1JvT3RfU2VhcmNoSGlzdG9yeSIgdHlwZT0iYm9vbCIvPjxwcmVmZXJlbmNlIGlkPSJTZWFyY2hJbWFnZUNvbnRleHRNZW51IiBuYW1lPSJfUm9PdF9TZWFyY2hJbWFnZUNvbnRleHRNZW51IiB0eXBlPSJib29sIi8+PHByZWZlcmVuY2UgaWQ9IlNlYXJjaE1vZGUiIG5hbWU9Il9Sb090X1NlYXJjaE1vZGUiIHR5cGU9ImJvb2wiLz48cHJlZmVyZW5jZSBpZD0iU2VhcmNoU3VnZ2VzdGlvbnMiIG5hbWU9ImJyb3dzZXIuc2VhcmNoLnN1Z2dlc3QuZW5hYmxlZCIgdHlwZT0iYm9vbCIvPjxwcmVmZXJlbmNlIGlkPSJTaG93RHJvcG1hcmtlciIgbmFtZT0iX1JvT3RfU2hvd0Ryb3BtYXJrZXIiIHR5cGU9ImJvb2wiLz48cHJlZmVyZW5jZSBpZD0iU2hvd0Z1bGxUb29sdGlwIiBuYW1lPSJfUm9PdF9TaG93RnVsbFRvb2x0aXAiIHR5cGU9ImJvb2wiLz48cHJlZmVyZW5jZSBpZD0iU3RyYWlnaHRTZWFyY2giIG5hbWU9Il9Sb090X1N0cmFpZ2h0U2VhcmNoIiB0eXBlPSJib29sIi8+PHByZWZlcmVuY2UgaWQ9IlVzZUNsaXBib2FyZCIgbmFtZT0iX1JvT3RfVXNlQ2xpcGJvYXJkIiB0eXBlPSJib29sIi8+PHByZWZlcmVuY2UgaWQ9IlVzZVF1b3RhdGlvbk1hcmtzIiBuYW1lPSJfUm9PdF9Vc2VRdW90YXRpb25NYXJrcyIgdHlwZT0iYm9vbCIvPjxwcmVmZXJlbmNlIGlkPSJVc2VTZWFyY2hBbGlhcyIgbmFtZT0iX1JvT3RfVXNlU2VhcmNoQWxpYXMiIHR5cGU9ImJvb2wiLz48cHJlZmVyZW5jZSBpZD0iVGFiT3BlbmluZyIgbmFtZT0iX1JvT3RfVGFiT3BlbmluZyIgdHlwZT0iaW50Ii8+PHByZWZlcmVuY2UgaWQ9IlRhYk9wZW5pbmdGb3JJbWciIG5hbWU9Il9Sb090X1RhYk9wZW5pbmdGb3JJbWciIHR5cGU9ImludCIvPjxwcmVmZXJlbmNlIGlkPSJUb29sdGlwRGVsYXkiIG5hbWU9Il9Sb090X1Rvb2x0aXBEZWxheSIgdHlwZT0iaW50Ii8+PHByZWZlcmVuY2UgaWQ9IlVwZGF0ZXMiIG5hbWU9Il9Sb090X1VwZGF0ZXMiIHR5cGU9ImJvb2wiIC8+PHByZWZlcmVuY2UgaWQ9IlVwZGF0ZXNFdmVyeSIgbmFtZT0iX1JvT3RfVXBkYXRlc0V2ZXJ5IiB0eXBlPSJpbnQiIC8+PHByZWZlcmVuY2UgaWQ9IlVwZGF0ZXNEZWxheSIgbmFtZT0iX1JvT3RfVXBkYXRlc0RlbGF5IiB0eXBlPSJpbnQiIC8+PHByZWZlcmVuY2UgaWQ9Ik9uZU9mZkJ1dHRvbnMiIG5hbWU9Il9Sb090X09uZU9mZkJ1dHRvbnMiIHR5cGU9ImJvb2wiIC8+PHByZWZlcmVuY2UgaWQ9IkRyYWdBbmREcm9wRm9yT25lT2ZmQnV0dG9ucyIgbmFtZT0iX1JvT3RfRHJhZ0FuZERyb3BGb3JPbmVPZmZCdXR0b25zIiB0eXBlPSJib29sIiAvPjxwcmVmZXJlbmNlIGlkPSJBdHRhY2hPbmVPZmZCb3hUb01haW5QYW5lbCIgbmFtZT0iX1JvT3RfQXR0YWNoT25lT2ZmQm94VG9NYWluUGFuZWwiIHR5cGU9ImJvb2wiIC8+PHByZWZlcmVuY2UgaWQ9IkF1dG9UcmlnZ2VyU3VnZ2VzdGlvbnMiIG5hbWU9Il9Sb090X0F1dG9UcmlnZ2VyU3VnZ2VzdGlvbnMiIHR5cGU9ImJvb2wiIC8+PHByZWZlcmVuY2UgaWQ9IkVuZ2luZXNQZXJSb3ciIG5hbWU9Il9Sb090X0VuZ2luZXNQZXJSb3ciIHR5cGU9ImludCIgLz48cHJlZmVyZW5jZSBpZD0iQWJvdXRDb25maWdFbmdpbmUiIG5hbWU9Il9Sb090X0Fib3V0Q29uZmlnRW5naW5lIiB0eXBlPSJib29sIiAvPjwvcHJlZmVyZW5jZXM+PHRhYmJveCBwZXJzaXN0PSJzZWxlY3RlZEluZGV4IiBpZD0idGFiYm94IiBmbGV4PSIxIj48dGFicyBpZD0idGFicyI+PHRhYiBpZD0iZ2VuZXJhbF9zZXRfdGFiIiBsYWJlbD0iIEdlbmVyYWwgU2V0dGluZ3MgIiAvPjx0YWIgaWQ9InNlYXJjaF9zZXRfdGFiIiBsYWJlbD0iIFNlYXJjaCBTZXR0aW5ncyAiIC8+PHRhYiBpZD0ib3RoZXJfc2V0X3RhYiIgbGFiZWw9IiBPdGhlciBTZXR0aW5ncyAiIC8+PC90YWJzPjx0YWJwYW5lbHMgaWQ9InRhYnBhbmVsczEiIGZsZXg9IjEiPjx0YWJwYW5lbCBpZD0iZ2VuZXJhbF90YWJwYW5lbCI+PHZib3ggZmxleD0iMSI+PGhib3ggZmxleD0iMSI+PHZib3ggZmxleD0iMSI+PGhib3ggYWxpZ249ImNlbnRlciI+PGxhYmVsIHRvb2x0aXA9IkJ1dHRvbkljb25TaXplX3R0IiBjb250cm9sPSJidXR0b25faW1hZ2Vfd2lkdGgiIHZhbHVlPSJCdXR0b24gaW1hZ2Ugc2l6ZToiIC8+PHRleHRib3ggdG9vbHRpcHRleHQ9IkJ1dHRvbiBpbWFnZSBoZWlnaHQiIGlkPSJidXR0b25faW1hZ2VfaGVpZ2h0IiB0eXBlPSJudW1iZXIiIG1heHdpZHRoPSI0MHB4IiBwcmVmZXJlbmNlPSJCdXR0b25JY29uSGVpZ2h0IiAvPjxsYWJlbCBjb250cm9sPSJidXR0b25faW1hZ2VfaGVpZ2h0IiB2YWx1ZT0iIHBpeGVscy4iIC8+PC9oYm94PjxjaGVja2JveCB0b29sdGlwPSJEYUREb29ySGFuZ2VyX3R0IiBsYWJlbD0iRG9vcmhhbmdlciBmb3IgRCZhbXA7RCBub3QuIiBwcmVmZXJlbmNlPSJEYUREb29ySGFuZ2VyIi8+PGNoZWNrYm94IHRvb2x0aXA9IkRhRE5vdGlmaWNhdGlvbnNfdHQiIGxhYmVsPSJEcmFnJmFtcDtEcm9wIG5vdGlmaWNhdGlvbnMiIHByZWZlcmVuY2U9IkRhRE5vdGlmaWNhdGlvbnMiLz48Y2hlY2tib3ggdG9vbHRpcD0iR2xvYmFsRGFERmVlZGJhY2tfdHQiIGxhYmVsPSJHbG9iYWwgRHJhZyZhbXA7RHJvcCBmZWVkYmFjayIgcHJlZmVyZW5jZT0iR2xvYmFsRGFERmVlZGJhY2siIGNsYXNzPSJib2xkX3RleHQiLz48Y2hlY2tib3ggdG9vbHRpcD0iSGlkZURlZmF1bHRTZWFyY2hiYXJfdHQiIGxhYmVsPSJIaWRlIGRlZmF1bHQgc2VhcmNoYmFyIiBwcmVmZXJlbmNlPSJIaWRlRGVmYXVsdFNlYXJjaGJhciIvPjxjaGVja2JveCB0b29sdGlwPSJTaG93RnVsbFRvb2x0aXBfdHQiIGxhYmVsPSJTaG93IGZ1bGwgdG9vbHRpcCIgcHJlZmVyZW5jZT0iU2hvd0Z1bGxUb29sdGlwIi8+PGNoZWNrYm94IHRvb2x0aXA9IlNob3dEcm9wbWFya2VyX3R0IiBsYWJlbD0iU2hvdyBkcm9wbWFya2VyIiBwcmVmZXJlbmNlPSJTaG93RHJvcG1hcmtlciIvPjxjaGVja2JveCB0b29sdGlwPSJTZWFyY2hJbWFnZUNvbnRleHRNZW51X3R0IiBsYWJlbD0iU2VhcmNoIEJ5IEltYWdlIGNvbnRleHQgbWVudSIgcHJlZmVyZW5jZT0iU2VhcmNoSW1hZ2VDb250ZXh0TWVudSIgY2xhc3M9ImJvbGRfdGV4dCIvPjxoYm94IHRvb2x0aXA9IlRvb2x0aXBEZWxheV90dCIgYWxpZ249ImNlbnRlciI+PGxhYmVsIGNvbnRyb2w9InRvb2x0aXAtb3Blbi1kZWxheSIgdmFsdWU9IlRvb2x0aXAgZGVsYXk6IiAvPjx0ZXh0Ym94IGlkPSJ0b29sdGlwLW9wZW4tZGVsYXkiIHR5cGU9Im51bWJlciIgbWF4d2lkdGg9IjcwcHgiIHByZWZlcmVuY2U9IlRvb2x0aXBEZWxheSIgLz48bGFiZWwgY29udHJvbD0idG9vbHRpcC1vcGVuLWRlbGF5IiB2YWx1ZT0ibXMuIiAvPjwvaGJveD48L3Zib3g+PHZib3ggZmxleD0iMSI+PGdyb3VwYm94IHRvb2x0aXA9IkhvdGtleUFjdGlvbl90dCI+PGNhcHRpb24gbGFiZWw9IkhvdGtleSBkZWZhdWx0IGFjdGlvbiIgY2xhc3M9ImJvbGRfdGV4dCIgLz48cmFkaW9ncm91cCBvcmllbnQ9InZlcnRpY2FsIiBwcmVmZXJlbmNlPSJIb3RrZXlBY3Rpb24iPjxyYWRpbyBsYWJlbD0iU3RyYWlnaHQgc2VhcmNoIiB2YWx1ZT0idHJ1ZSIgLz48cmFkaW8gbGFiZWw9Ik9wZW4gc2VhcmNoIHBhbmVsIiB2YWx1ZT0iZmFsc2UiIC8+PC9yYWRpb2dyb3VwPjwvZ3JvdXBib3g+PGdyb3VwYm94PjxjYXB0aW9uIGxhYmVsPSJQYW5lbCAmcXVvdDtmbGlwJnF1b3Q7IGF0dHJpYnV0ZSIgY2xhc3M9ImJvbGRfdGV4dCIgLz48cmFkaW9ncm91cCBvcmllbnQ9InZlcnRpY2FsIiBwcmVmZXJlbmNlPSJGbGlwQXR0cmlidXRlIj48cmFkaW8gbGFiZWw9IkZsaXAgJnF1b3Q7Ym90aCZxdW90OyIgdmFsdWU9InRydWUiIC8+PHJhZGlvIGxhYmVsPSJTbGlkZSIgdmFsdWU9ImZhbHNlIiAvPjwvcmFkaW9ncm91cD48L2dyb3VwYm94PjwvdmJveD48L2hib3g+PGdyb3VwYm94IHRvb2x0aXA9IlVSTHNPdmVycmlkZV90dCI+PGNhcHRpb24gbGFiZWw9Ikxpc3Qgb2YgVVJMcyB0byBvdmVycmlkZSIgY2xhc3M9ImJvbGRfdGV4dCIgLz48dGV4dGJveCBmbGV4PSIxIiBwcmVmZXJlbmNlPSJPdmVycmlkZVVSTHMiIC8+PC9ncm91cGJveD48Z3JvdXBib3ggdG9vbHRpcD0iSG9zdHNPdmVycmlkZV90dCI+PGNhcHRpb24gbGFiZWw9Ikxpc3Qgb2Ygc2VydmVycyB0byBvdmVycmlkZSIgY2xhc3M9ImJvbGRfdGV4dCIgLz48dGV4dGJveCBmbGV4PSIxIiBwcmVmZXJlbmNlPSJPdmVycmlkZUhvc3RzIiBwbGFjZWhvbGRlcj0iRXhhbXBsZTogJnF1b3Q7d3d3Lmdvb2dsZS5jb20mcXVvdDsiIC8+PC9ncm91cGJveD48L3Zib3g+PC90YWJwYW5lbD48dGFicGFuZWwgaWQ9InNlYXJjaF90YWJwYW5lbCI+PHZib3ggZmxleD0iMSI+PGhib3ggZmxleD0iMSI+PHZib3ggZmxleD0iMSI+PGNoZWNrYm94IHRvb2x0aXA9IkF1dG9UcmlnZ2VyX1NTX3R0IiBsYWJlbD0iQXV0by10cmlnZ2VyIHN1Z2dlc3Rpb25zIiBvbmNsaWNrPSJfc2VhcmNoU3VnZ1JlcXVpcmVkKHRoaXMpIiBwcmVmZXJlbmNlPSJBdXRvVHJpZ2dlclN1Z2dlc3Rpb25zIi8+PGNoZWNrYm94IHRvb2x0aXA9IlNlYXJjaFN1Z2dlc3Rpb25zX3R0IiBsYWJlbD0iU2VhcmNoIHN1Z2dlc3Rpb25zIChHbG9iYWwpIiBvbmNsaWNrPSJfc2VhcmNoU3VnZyh0aGlzKSIgcHJlZmVyZW5jZT0iU2VhcmNoU3VnZ2VzdGlvbnMiLz48Y2hlY2tib3ggdG9vbHRpcD0iU2VhcmNoSGlzdG9yeV90dCIgbGFiZWw9IlNlYXJjaCB0ZXJtcyBoaXN0b3J5IiBwcmVmZXJlbmNlPSJTZWFyY2hIaXN0b3J5Ii8+PC92Ym94Pjx2Ym94IGZsZXg9IjEiPjxjaGVja2JveCB0b29sdGlwPSJBYm91dENvbmZpZ0VuZ2luZV90dCIgbGFiZWw9IkFkZCAmcXVvdDthYm91dDpjb25maWcmcXVvdDsgZW5naW5lIiBwcmVmZXJlbmNlPSJBYm91dENvbmZpZ0VuZ2luZSIvPjxjaGVja2JveCB0b29sdGlwPSJTdHJhaWdodFNlYXJjaF90dCIgbGFiZWw9IlN0cmFpZ2h0IFNlYXJjaCIgcHJlZmVyZW5jZT0iU3RyYWlnaHRTZWFyY2giLz48Y2hlY2tib3ggdG9vbHRpcD0iVXNlU2VhcmNoQWxpYXNfdHQiIGxhYmVsPSJVc2Ugc2VhcmNoIGVuZ2luZSBhbGlhc2VzIiBwcmVmZXJlbmNlPSJVc2VTZWFyY2hBbGlhcyIvPjwvdmJveD48L2hib3g+PGdyb3VwYm94PjxjYXB0aW9uIGxhYmVsPSJBdXRvLWZpbGwgc2VhcmNoIHRlcm1zIHdpdGguLi4iIGNsYXNzPSJib2xkX3RleHQiIC8+PGhib3ggZmxleD0iMSI+PGNoZWNrYm94IHRvb2x0aXA9IlVzZUNsaXBib2FyZF90dCIgbGFiZWw9IkNsaXBib2FyZCBjb250ZW50IiBwcmVmZXJlbmNlPSJVc2VDbGlwYm9hcmQiLz48Y2hlY2tib3ggdG9vbHRpcD0iQXV0b0ZpbGxXaXRoU2VsZWN0aW9uX3R0IiBsYWJlbD0iQ3VycmVudCBwYWdlIHNlbGVjdGlvbiIgcHJlZmVyZW5jZT0iQXV0b0ZpbGxXaXRoU2VsZWN0aW9uIi8+PGNoZWNrYm94IHRvb2x0aXA9IlVzZVF1b3RhdGlvbk1hcmtzX3R0IiBsYWJlbD0iUXVvdGF0aW9uIG1hcmtzIiBwcmVmZXJlbmNlPSJVc2VRdW90YXRpb25NYXJrcyIvPjwvaGJveD48L2dyb3VwYm94Pjxncm91cGJveD48Y2FwdGlvbiBsYWJlbD0iT3BlbiBzZWFyY2ggcmVzdWx0cyBpbi4uLiIgY2xhc3M9ImJvbGRfdGV4dCIgLz48cmFkaW9ncm91cCBvcmllbnQ9Imhvcml6b250YWwiIHByZWZlcmVuY2U9IlRhYk9wZW5pbmciPjxyYWRpbyBsYWJlbD0iQ3VycmVudCB0YWIiIHZhbHVlPSIxIiAvPjxyYWRpbyBsYWJlbD0iTmV3IGJhY2tncm91bmQgdGFiIiB2YWx1ZT0iMiIgLz48cmFkaW8gbGFiZWw9Ik5ldyBmb3JlZ3JvdW5kIHRhYiIgdmFsdWU9IjMiIC8+PC9yYWRpb2dyb3VwPjwvZ3JvdXBib3g+PGdyb3VwYm94IHRvb2x0aXA9IlNlYXJjaE1vZGVfdHQiPjxjYXB0aW9uIGxhYmVsPSJEZWZhdWx0ICZxdW90O1NlYXJjaCBtb2RlJnF1b3Q7IiBjbGFzcz0iYm9sZF90ZXh0IiAvPjxyYWRpb2dyb3VwIG9yaWVudD0iaG9yaXpvbnRhbCIgcHJlZmVyZW5jZT0iU2VhcmNoTW9kZSI+PHJhZGlvIGxhYmVsPSJQZXJmb3JtIGEgJnF1b3Q7U2l0ZSBzZWFyY2gmcXVvdDsiIHZhbHVlPSJ0cnVlIiAvPjxyYWRpbyBsYWJlbD0iUGVyZm9ybSBhICZxdW90O1dlYiBzZWFyY2gmcXVvdDsiIHZhbHVlPSJmYWxzZSIgLz48L3JhZGlvZ3JvdXA+PC9ncm91cGJveD48Z3JvdXBib3g+PGNhcHRpb24gbGFiZWw9Ik9wZW4gU2VhcmNoIEJ5IEltYWdlIHJlc3VsdHMgaW4uLi4iIGNsYXNzPSJib2xkX3RleHQiIC8+PHJhZGlvZ3JvdXAgb3JpZW50PSJob3Jpem9udGFsIiBwcmVmZXJlbmNlPSJUYWJPcGVuaW5nRm9ySW1nIj48cmFkaW8gbGFiZWw9IkN1cnJlbnQgdGFiIiB2YWx1ZT0iMSIgLz48cmFkaW8gbGFiZWw9Ik5ldyBiYWNrZ3JvdW5kIHRhYiIgdmFsdWU9IjIiIC8+PHJhZGlvIGxhYmVsPSJOZXcgZm9yZWdyb3VuZCB0YWIiIHZhbHVlPSIzIiAvPjwvcmFkaW9ncm91cD48L2dyb3VwYm94PjxzZXBhcmF0b3IvPjwvdmJveD48L3RhYnBhbmVsPjx0YWJwYW5lbCBpZD0ib3RoZXJzZXRfdGFicGFuZWwiPjx2Ym94IGZsZXg9IjEiPjxncm91cGJveCBvcmllbnQ9Imhvcml6b250YWwiPjxjYXB0aW9uIGxhYmVsPSImcXVvdDtPbmUtb2ZmJnF1b3Q7IGJ1dHRvbnMiIGNsYXNzPSJib2xkX3RleHQiIC8+PHZib3ggZmxleD0iMSI+PGNoZWNrYm94IGlkPSJvbmVfb2ZmX2J0bnMiIHRvb2x0aXA9Ik9uZV9PZmZfdHQiIGxhYmVsPSJFbmFibGUgJnF1b3Q7T25lLW9mZiZxdW90OyBidXR0b25zIiBvbmNsaWNrPSJfb25lT2ZmKHRoaXMpOyIgcHJlZmVyZW5jZT0iT25lT2ZmQnV0dG9ucyIvPjxjaGVja2JveCBpZD0iYXR0YWNoX29uZV9vZmZfYnRucyIgdG9vbHRpcD0iQXR0YWNoX09uZV9PZmZfdHQiIGxhYmVsPSImcXVvdDtPbmUtb2ZmJnF1b3Q7IGJ1dHRvbnMgaW5zaWRlIHBhbmVsIiBvbmNsaWNrPSJfb25lT2ZmUmVxdWlyZWQodGhpcyk7IiBwcmVmZXJlbmNlPSJBdHRhY2hPbmVPZmZCb3hUb01haW5QYW5lbCIvPjwvdmJveD48dmJveCBmbGV4PSIxIj48aGJveCBhbGlnbj0iY2VudGVyIiB0b29sdGlwPSJPbmVfT2ZmX1Blcl9Sb3dfdHQiPjxsYWJlbCB2YWx1ZT0iRW5naW5lcyBwZXIgcm93IiAvPjx0ZXh0Ym94IG1pbj0iMiIgbWF4PSIxMCIgdHlwZT0ibnVtYmVyIiBtYXh3aWR0aD0iNDBweCIgcHJlZmVyZW5jZT0iRW5naW5lc1BlclJvdyIgLz48L2hib3g+PGNoZWNrYm94IGlkPSJvbmVfb2ZmX2J0bnNfZGQiIHRvb2x0aXA9Ik9uZV9PZmZfREFuZERfdHQiIGxhYmVsPSJEJmFtcDtEIGZvciAmcXVvdDtPbmUtb2ZmJnF1b3Q7IGJ1dHRvbnMiIG9uY2xpY2s9Il9vbmVPZmZSZXF1aXJlZCh0aGlzKTsiIHByZWZlcmVuY2U9IkRyYWdBbmREcm9wRm9yT25lT2ZmQnV0dG9ucyIvPjwvdmJveD48L2dyb3VwYm94Pjxncm91cGJveCB0b29sdGlwPSJVcGRhdGVzX3R0Ij48Y2FwdGlvbiBsYWJlbD0iVXBkYXRlcyBjaGVja2VyIiBjbGFzcz0iYm9sZF90ZXh0IiAvPjxoYm94IGFsaWduPSJjZW50ZXIiPjxjaGVja2JveCBsYWJlbD0iQ2hlY2sgZXZlcnkiICBwcmVmZXJlbmNlPSJVcGRhdGVzIiAvPjx0ZXh0Ym94IHR5cGU9Im51bWJlciIgbWF4d2lkdGg9IjQwcHgiIHByZWZlcmVuY2U9IlVwZGF0ZXNFdmVyeSIgLz48bGFiZWwgdmFsdWU9ImRheXMgd2l0aCIgLz48dGV4dGJveCB0eXBlPSJudW1iZXIiIG1heHdpZHRoPSI0MHB4IiBwcmVmZXJlbmNlPSJVcGRhdGVzRGVsYXkiIC8+PGxhYmVsIHZhbHVlPSJzZWNzIG9mIGRlbGF5LiIgLz48YnV0dG9uIGxhYmVsPSJDaGVjayBub3ciIG9uY29tbWFuZD0iY2xvc2UoKTtmcm9tQnV0dG9uLmJ1dHRvblVwZGF0ZUNoZWNrZXIuY2hlY2tMYXRlc3RWZXJzaW9uKCk7IiAvPjwvaGJveD48L2dyb3VwYm94PjwvdmJveD48L3RhYnBhbmVsPjwvdGFicGFuZWxzPjwvdGFiYm94PjwvcHJlZnBhbmU+PHBvcHVwc2V0Pjx0b29sdGlwIGlkPSJVUkxzT3ZlcnJpZGVfdHQiPjxkZXNjcmlwdGlvbj5MaXN0IG9mIFVSTHMgdG8gb3ZlcnJpZGUgKGNvbW1hIHNlcGFyYXRlZCBhbmQgbm8gc3BhY2VzKS4gSWYgdGhlIGN1cnJlbnRseSBsb2FkZWQgcGFnZSBpcyBvbmUgb2YgdGhlc2UgVVJMcywgdGhlIHNlYXJjaCB3aWxsIGJlIHBlcmZvcm1lZCBvbiB0aGUgY3VycmVudCB0YWIuPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9Ikhvc3RzT3ZlcnJpZGVfdHQiPjxkZXNjcmlwdGlvbj5MaXN0IG9mIHNlcnZlcnMvaG9zdCBuYW1lcyB0byBvdmVycmlkZSAoY29tbWEgc2VwYXJhdGVkIGFuZCBubyBzcGFjZXMpLiBJZiB0aGUgY3VycmVudGx5IGxvYWRlZCBwYWdlIGNvbnRhaW5zIG9uZSBvZiB0aGVzZSBzZXJ2ZXJzL2hvc3QgbmFtZXMgaW4gaXRzIFVSTCwgdGhlIHNlYXJjaCB3aWxsIGJlIHBlcmZvcm1lZCBvbiB0aGUgY3VycmVudCB0YWIuPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IkF1dG9GaWxsV2l0aFNlbGVjdGlvbl90dCI+PGRlc2NyaXB0aW9uPklmIDxodG1sOmI+ZW5hYmxlZDwvaHRtbDpiPiwgdGhlIHNlYXJjaCBib3ggd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGZpbGxlZCB3aXRoIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBvZiB0aGUgY3VycmVudCBwYWdlIGNvbnRlbnQuPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IkJ1dHRvbkljb25TaXplX3R0Ij48ZGVzY3JpcHRpb24+VGhpcyBwcmVmZXJlbmNlIHNldHMgdGhlIHNpemUgb2YgdGhpcyBidXR0b24gaW1hZ2UgdG8gYSBmaXhlZCBzaXplIChpbiBwaXhlbHMpLiBUaGlzIGlzIGEgd29ya2Fyb3VuZCBiZWNhdXNlIHRoZSBpbWFnZSBvZiB0aGlzIGJ1dHRvbiBpcyBleHRyYWN0ZWQgZGlyZWN0bHkgZnJvbSB0aGUgc2VhcmNoIHBsdWdpbnMgaW5zdGFsbGVkIGluIHRoZSBicm93c2VyLiBUaGVzZSBpbWFnZXMgY2FuIGJlIG9mIGRpZmZlcmVudCBzaXplcywgc28gdG8gYXZvaWQgZm9yIHRoaXMgYnV0dG9uIHRvIGNvbnN0YW50bHkgY2hhbmdlIGl0cyBzaXplIChhbmQgdGhlcmVieSBhbHNvIGNoYW5nZSB0aGUgc2l6ZSBvZiB0aGUgdG9vbGJhciB0aGF0IGNvbnRhaW5zIGl0KSwgSSBjcmVhdGVkIHRoaXMgcHJlZmVyZW5jZS4gV2hhdCB0aGlzIHNldHRpbmdzIGFjdHVhbGx5IHNldHMgaXMgdGhlIGJ1dHRvbiBpbWFnZSBoZWlnaHQgd2hlcmVhcyB0aGUgaW1hZ2Ugd2lkdGggaXMgc2V0IHRvIDEwMCUuPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IkRhRERvb3JIYW5nZXJfdHQiPjxkZXNjcmlwdGlvbj5XaXRoIHRoaXMgb3B0aW9uIDxodG1sOmI+ZW5hYmxlZC9jaGVja2VkPC9odG1sOmI+LCB3aGVuZXZlciBhIGRyYWcgb3BlcmF0aW9uIGlzIHBlcmZvcm1lZCBvdmVyIHRoaXMgYnV0dG9uLCBhIG5vdGlmaWNhdGlvbiBwb3B1cCB3aWxsIGFwcGVhciBpbiB0aGUgYWRkcmVzcyBiYXIgKGEgc28gY2FsbGVkIGRvb3JoYW5nZXIgcG9wdXApIGluZm9ybWluZyB3aGF0IG9wZXJhdGlvbiB3aWxsIGJlIHBlcmZvcm1lZCB3aGVuIHRoZSBkcmFnZ2VkIGNvbnRlbnQgaXMgZHJvcHBlZC4gV2hlbiB0aGlzIG9wdGlvbiBpcyA8aHRtbDpiPmRpc2FibGVkL3VuY2hlY2tlZDwvaHRtbDpiPiwgbm90aWZpY2F0aW9ucyB3aWxsIGNoYW5nZSB0byBhIG1vcmUgc3VidGxlIHN0YXR1cyBwYW5lbCBub3RpZmljYXRpb24gYXQgdGhlIGJvdHRvbSBvZiB5b3VyIGJyb3dzZXIuPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IkRhRE5vdGlmaWNhdGlvbnNfdHQiPjxkZXNjcmlwdGlvbj5JZiA8aHRtbDpiPmVuYWJsZWQvY2hlY2tlZDwvaHRtbDpiPiwgRHJhZyZhbXA7RHJvcCBvcGVyYXRpb25zIG92ZXIgdGhpcyBidXR0b24gd2lsbCBkaXNwbGF5IG5vdGlmaWNhdGlvbnMgaW4gcmVhbCB0aW1lLiBJZiA8aHRtbDpiPmRpc2FibGVkL3VuY2hlY2tlZDwvaHRtbDpiPiwgbm8gbm90aWZpY2F0aW9ucyB3aWxsIGJlIGRpc3BsYXllZC48L2Rlc2NyaXB0aW9uPjwvdG9vbHRpcD48dG9vbHRpcCBpZD0iU2hvd0Z1bGxUb29sdGlwX3R0Ij48ZGVzY3JpcHRpb24+SWYgPGh0bWw6Yj5lbmFibGVkL2NoZWNrZWQ8L2h0bWw6Yj4sIHRoZSB0b29sdGlwIG9mIHRoaXMgYnV0dG9uIHdpbGwgc2hvdyBpbmZvcm1hdGlvbiBiYXNlZCBvbiB0aGlzIGJ1dHRvbiBwcmVmZXJlbmNlcyBhbmQgdGhlIHNob3J0Y3V0cyBmb3IgcXVpY2tseSBzd2l0Y2ggc29tZSBvcHRpb25zLjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJHbG9iYWxEYURGZWVkYmFja190dCI+PGRlc2NyaXB0aW9uPkJ5IGRlZmF1bHQsIHdoZW4gYSBkcmFnIG9wZXJhdGlvbiBpcyBzdGFydGVkIGluc2lkZSB0aGUgYnJvd3NlciwgYSBsYXllciBhcHBlYXJzIHdpdGggYSBwcmV2aWV3IG9mIHRoZSBjb250ZW50IHRoYXQgaXMgYmVpbmcgZHJhZ2dlZC4gV2hlbiB0aGlzIG9wdGlvbiBpcyA8aHRtbDpiPmRpc2FibGVkL3VuY2hlY2tlZDwvaHRtbDpiPiwgdGhlcmUgd2lsbCBiZSBubyBwcmV2aWV3IG9mIHdoYXQgaXMgYmVpbmcgZHJhZ2dlZC48L2Rlc2NyaXB0aW9uPjxkZXNjcmlwdGlvbj48aHRtbDpiPigqKTwvaHRtbDpiPiBUbyByZS1lbmFibGUgdGhpcyBmZWF0dXJlLCBmaXJzdCB1bmNoZWNrIHRoaXMgb3B0aW9uIGFuZCB0aGVuIHJlc3RhcnQgeW91ciBicm93c2VyLjwvZGVzY3JpcHRpb24+PGRlc2NyaXB0aW9uPjxodG1sOmI+Tm90ZTo8L2h0bWw6Yj4gVW5kZXIgR05VL0xpbnV4IChvbmx5IHRlc3RlZCBvbiBBcmNoIExpbnV4IHdpdGggWEZDRSBhbmQgS0RFKSwgdGhlIERyYWcmYW1wO0Ryb3AgZmVlZGJhY2sgaXMgbm90IGNvbXBsZXRlbHkgZGlzYWJsZWQsIGJ1dCBhdCBsZWFzdCB0aGUgZmVlZGJhY2sgZm9yIGRyYWdnZWQgaW1hZ2VzIGlzIG5vdCBhbiBhbm5veWluZyBpbWFnZSBwcmV2aWV3LjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJIb3RrZXlBY3Rpb25fdHQiPjxkZXNjcmlwdGlvbj5Ud28gcG9zc2libGUgYWN0aW9ucywgPGh0bWw6Yj5PcGVuL0Nsb3NlPC9odG1sOmI+IHRoZSBzZWFyY2ggcGFuZWwgb3IgZG8gYSA8aHRtbDpiPiZxdW90O1N0cmFpbmdodCBzZWFyY2gmcXVvdDs8L2h0bWw6Yj4uIFRoZSBob3RrZXkgY2FuIGJlIHNldCBieSBlZGl0aW5nIHRoaXMgYnV0dG9uICg8aHRtbDpiPiZxdW90O0J1dHRvbiBzZXR0aW5ncyZxdW90OzwvaHRtbDpiPiB0YWIpLjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJTZWFyY2hIaXN0b3J5X3R0Ij48ZGVzY3JpcHRpb24+PGh0bWw6Yj5FbmFibGVzL0Rpc2FibGVzPC9odG1sOmI+IHRoZSBhYmlsaXR5IHRvIHNhdmUgYSBoaXN0b3J5IG9mIHlvdXIgc2VhcmNoIHRlcm1zLjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJTZWFyY2hJbWFnZUNvbnRleHRNZW51X3R0Ij48ZGVzY3JpcHRpb24+V2hlbiA8aHRtbDpiPmVuYWJsZWQvY2hlY2tlZDwvaHRtbDpiPiwgaXQgYWRkcyBhIGdsb2JhbCBjb250ZXh0IG1lbnUgZm9yIGltYWdlcyB0byBwZXJmb3JtIGEgPGh0bWw6Yj4mcXVvdDtTZWFjaCBieSBpbWFnZSZxdW90OzwvaHRtbDpiPiBvbiA8aHRtbDpiPkdvb2dsZSBJbWFnZXM8L2h0bWw6Yj4uPC9kZXNjcmlwdGlvbj48ZGVzY3JpcHRpb24+PGh0bWw6Yj4oKik8L2h0bWw6Yj4gVG8gZGlzYWJsZSB0aGlzIGZlYXR1cmUsIGZpcnN0IHVuY2hlY2sgdGhpcyBvcHRpb24gYW5kIHRoZW4gcmVzdGFydCB5b3VyIGJyb3dzZXIuPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IlNlYXJjaE1vZGVfdHQiPjxkZXNjcmlwdGlvbj5Ud28gJnF1b3Q7c2VhcmNoIG1vZGVzJnF1b3Q7LCA8aHRtbDpiPlNpdGUgc2VhcmNoPC9odG1sOmI+IGFuZCA8aHRtbDpiPldlYiBTZWFyY2g8L2h0bWw6Yj4uIFRoaXMgb3B0aW9uIGRlZmluZXMgdGhlIHR5cGUgb2Ygc2VhcmNoIHRoYXQgdGhpcyBidXR0b24gd2lsbCBwZXJmb3JtIGJ5IGRlZmF1bHQuPC9kZXNjcmlwdGlvbj48ZGVzY3JpcHRpb24+Q2FuIGJlIHF1aWNrbHkgc3dpdGNoZWQgd2l0aCA8aHRtbDpiPkFsdCArIFJpZ2h0IENsaWNrPC9odG1sOmI+LjwvZGVzY3JpcHRpb24+PGRlc2NyaXB0aW9uPkluIEdOVS9MaW51eC1NYWMgT1MsIHdpdGggPGh0bWw6Yj5TaGlmdCArIFJpZ2h0IENsaWNrPC9odG1sOmI+LjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJTZWFyY2hTdWdnZXN0aW9uc190dCI+PGRlc2NyaXB0aW9uPjxodG1sOmI+RW5hYmxlcy9EaXNhYmxlczwvaHRtbDpiPiB0aGUgYWJpbGl0eSB0byBzaG93IGEgcG9wdXAgd2l0aCBzZWFyY2ggdGVybXMgc3VnZ2VzdGlvbnMuIFRoaXMgcHJlZmVyZW5jZSBpcyA8aHRtbDpiPmdsb2JhbDwvaHRtbDpiPiwgd2hpY2ggbWVhbnMgdGhhdCBpZiB5b3UgZGlzYWJsZSBpdCwgc2VhcmNoIHN1Z2dlc3Rpb25zIHdpbGwgYmUgPGh0bWw6Yj5kaXNhYmxlZDwvaHRtbDpiPiBmb3IgZWFjaCBhbmQgZXZlcnkgb25lIG9mIHRoZSBicm93c2VyIGNvbXBvbmVudHMgdGhhdCBtYWtlIHVzZSBvZiBzZWFyY2ggc3VnZ2VzdGlvbnMuPC9kZXNjcmlwdGlvbj48ZGVzY3JpcHRpb24+PGh0bWw6Yj5Ob3RlIDE6PC9odG1sOmI+IEZvciBzZWFyY2ggc3VnZ2VzdGlvbnMgdG8gd29yaywgdGhlIHNlYXJjaCBwbHVnaW4gaXRzZWxmIG11c3Qgc3VwcG9ydCBzdWdnZXN0aW9ucy4gPC9kZXNjcmlwdGlvbj48ZGVzY3JpcHRpb24+PGh0bWw6Yj5Ob3RlIDI6PC9odG1sOmI+IFNlYXJjaCBzdWdnZXN0aW9ucyBjYW4gYmUgZWFzaWx5IGFkZGVkIHRvIGFueSBzZWFyY2ggcGx1Z2luLiAoSSBzdWdnZXN0IHlvdSB0byBzZWFyY2ggIHRoZSB3ZWIgdG8ga25vdyBob3cgdG8gZG8gdGhhdC4gTE9MKTwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJBdXRvVHJpZ2dlcl9TU190dCI+PGRlc2NyaXB0aW9uPklmIDxodG1sOmI+ZW5hYmxlZC9jaGVja2VkPC9odG1sOmI+IGFuZCB0aGUgc2VhcmNoIHBhbmVsIGlzIG9wZW5lZCBjb250YWluaW5nIGFueSB0ZXh0ICg8aHRtbDpiPlJlYWQgbm90ZTwvaHRtbDpiPiksIHRoZSAmcXVvdDtzZWFyY2ggc3VnZ2VzdGlvbnMmcXVvdDsgcG9wdXAgd2lsbCBhdXRvLWFwcGVhci48L2Rlc2NyaXB0aW9uPjxkZXNjcmlwdGlvbj48aHRtbDpiPk5vdGU6PC9odG1sOmI+IFRoaXMgb3B0aW9uIGlzIHVzZWZ1bGwgb25seSBpZiA8aHRtbDpiPiZxdW90O0F1dG8tZmlsbCBzZWFyY2ggdGVybXMgd2l0aC4uLiZxdW90OzwvaHRtbDpiPiA8aHRtbDpiPiZxdW90O0NsaXBib2FyZCBjb250ZW50JnF1b3Q7PC9odG1sOmI+IGFuZC9vciA8aHRtbDpiPiZxdW90O0N1cnJlbnQgcGFnZSBzZWxlY3Rpb24mcXVvdDs8L2h0bWw6Yj4gYXJlIDxodG1sOmI+ZW5hYmxlZC9jaGVja2VkPC9odG1sOmI+LjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJTaG93RHJvcG1hcmtlcl90dCI+PGRlc2NyaXB0aW9uPjxodG1sOmI+U2hvd3MvSGlkZXM8L2h0bWw6Yj4gdGhlIGRyb3BtYXJrZXIgb2YgdGhpcyBidXR0b24uPC9kZXNjcmlwdGlvbj48ZGVzY3JpcHRpb24+T25seSB3aGVuICZxdW90O1N0cmFpZ2h0IFNlYXJjaCZxdW90OyBvcHRpb24gaXMgPGh0bWw6Yj5kaXNhYmxlZDwvaHRtbDpiPi48L2Rlc2NyaXB0aW9uPjwvdG9vbHRpcD48dG9vbHRpcCBpZD0iU3RyYWlnaHRTZWFyY2hfdHQiPjxkZXNjcmlwdGlvbj5XaXRoICZxdW90O1N0cmFpZ2h0IFNlYXJjaCZxdW90OyA8aHRtbDpiPmVuYWJsZWQvY2hlY2tlZDwvaHRtbDpiPiwgdGhpcyBidXR0b24gaXMgYSAmcXVvdDttZW51LWJ1dHRvbiZxdW90OyB0eXBlIGJ1dHRvbiB0aGF0LCB3aGVuIHByZXNzZWQsIHdpbGwgZGlyZWN0bHkgcGVyZm9ybSBhIHNlYXJjaCB3aXRoIHRoZSBzZWxlY3RlZCB0ZXh0IChpZiBlbmFibGVkKSBvciBjbGlwYm9hcmQgY29udGVudCAoaWYgZW5hYmxlZCkgYXMgdGhlIHNlYXJjaCB0ZXJtcy4gV2hlcmVhcyBpZiB0aGUgZHJvcG1hcmtlciBpcyBwcmVzc2VkLCB0aGUgc2VhcmNoIHBhbmVsIHdpbGwgYXBwZWFyLiBUaGUgdHlwZSBvZiBzZWFyY2ggdG8gYmUgcGVyZm9ybWVkIGRlcGVuZHMgb24gd2hpY2ggJnF1b3Q7c2VhcmNoIG1vZGUmcXVvdDsgaXMgY29uZmlndXJlZCBhcyB0aGUgZGVmYXVsdC4gSWYgdGhlIDxodG1sOmI+Q29udHJvbDwvaHRtbDpiPiBrZXkgaXMgcHJlc3NlZCB3aGlsZSBjbGlja2luZyB0aGlzIGJ1dHRvbiwgdGhlIHR5cGUgb2Ygc2VhcmNoIHRvIGJlIHBlcmZvcm1lZCB3aWxsIGJlIHRoZSBvcHBvc2l0ZSB0byB0aGUgdHlwZSBvZiBzZWFyY2ggdGhhdCBpcyBjb25maWd1cmVkIGJ5IGRlZmF1bHQuIFdpdGggdGhpcyBvcHRpb24gPGh0bWw6Yj5kaXNhYmxlZC91bmNoZWNrZWQ8L2h0bWw6Yj4sIHRoaXMgYnV0dG9uIGJlY29tZXMgYSAibWVudSIgdHlwZSBidXR0b24gdGhhdCB3aGVuIHByZXNzZWQgd2lsbCBvbmx5IDxodG1sOmI+b3Blbi9jbG9zZTwvaHRtbDpiPiB0aGUgc2VhcmNoIHBhbmVsLjwvZGVzY3JpcHRpb24+PGRlc2NyaXB0aW9uPkNhbiBiZSBxdWlja2x5IHN3aXRjaGVkIHdpdGggPGh0bWw6Yj5Db250cm9sICsgUmlnaHQgQ2xpY2s8L2h0bWw6Yj4uPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IlVzZUNsaXBib2FyZF90dCI+PGRlc2NyaXB0aW9uPldpdGggdGhpcyBvcHRpb24gPGh0bWw6Yj5lbmFibGVkL2NoZWNrZWQ8L2h0bWw6Yj4sIGFuZCB3aXRoIG5vIHRleHQgc2VsZWN0ZWQgaW4gdGhlIGNvbnRlbnQgb2YgdGhlIGN1cnJlbnQgdGFiLCB0aGUgY2xpcGJvYXJkIGNvbnRlbnRzIHdpbGwgYmUgdXNlZCB0byBwZXJmb3JtIGEgc2VhcmNoLiBJZiB0aGlzIG9wdGlvbiA8aHRtbDpiPmRpc2FibGVkL3VuY2hlY2tlZDwvaHRtbDpiPiwgdGhlIGNsaXBib2FyZCBjb250ZW50cyB3aWxsIGJlIGlnbm9yZWQuPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IlVzZVF1b3RhdGlvbk1hcmtzX3R0Ij48ZGVzY3JpcHRpb24+SWYgPGh0bWw6Yj5lbmFibGVkL2NoZWNrZWQ8L2h0bWw6Yj4sIHF1b3RhdGlvbiBtYXJrcyB3aWxsIGJlIGF1dG8taW5zZXJ0ZWQgaW4gdGhlIHNlYXJjaCB0ZXJtcy48L2Rlc2NyaXB0aW9uPjwvdG9vbHRpcD48dG9vbHRpcCBpZD0iVXNlU2VhcmNoQWxpYXNfdHQiPjxkZXNjcmlwdGlvbj5JZiA8aHRtbDpiPmVuYWJsZWQvY2hlY2tlZDwvaHRtbDpiPiwgeW91IGNhbiB1c2UgYSBzZWFyY2ggZW5naW5lIGtleXdvcmQgdG8gcGVyZm9ybSBhIHNlYXJjaCB3aXRob3V0IGNoYW5naW5nIHlvdXIgZGVmYXVsdCBzZWFyY2ggZW5naW5lLiBUaGlzIGlzIHRoZSBzYW1lIGZlYXR1cmUgZm91bmQgaW4gdGhlIGJyb3dzZXIncyBhZGRyZXNzIGJhciBieSBkZWZhdWx0LjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJUb29sdGlwRGVsYXlfdHQiPjxkZXNjcmlwdGlvbj5UaGlzIG9wdGlvbiBzZXRzIGEgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdG9vbHRpcCB0byBhcHBlYXIuPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IlVwZGF0ZXNfdHQiPjxkZXNjcmlwdGlvbj5JZiB0aGUgb3B0aW9uIDxodG1sOmI+JnF1b3Q7Q2hlY2sgZXZlcnkgeCBkYXlzLiZxdW90OzwvaHRtbDpiPiBpcyBjaGVja2VkLCBNdWx0aSBTZWFyY2ggd2lsbCBjaGVjayBmb3IgdXBkYXRlcyBvbiBfYXBwX25hbWVfIHN0YXJ0dXAgd2l0aCBhIGRlbGF5IHNwZWNpZmllZCBpbiBzZWNvbmRzLjwvZGVzY3JpcHRpb24+PGRlc2NyaXB0aW9uPklmIGEgbmV3IHVwZGF0ZSBpcyBmb3VuZCwgYSBub3RpZmljYXRpb24gd2lsbCBhcHBlYXIgaW5mb3JtaW5nIHlvdSBpZiB0aGUgdXBkYXRlIGlzIDxodG1sOmI+JnF1b3Q7Q3JpdGljYWwmcXVvdDs8L2h0bWw6Yj4gb3IgPGh0bWw6Yj4mcXVvdDtOb3JtYWwmcXVvdDs8L2h0bWw6Yj4uIElmIG5vIG5ldyB1cGRhdGUgaXMgZm91bmQsIHRoZXJlIHdpbGwgYmUgbm8gbm90aWZpY2F0aW9uLjwvZGVzY3JpcHRpb24+PGRlc2NyaXB0aW9uPkFkZGl0aW9uYWxseSwgdXBkYXRlcyBjYW4gYmUgY2hlY2tlZCBieSBwcmVzc2luZyB0aGUgYnV0dG9uIDxodG1sOmI+JnF1b3Q7Q2hlY2sgbm93JnF1b3Q7PC9odG1sOmI+LiYjeEE7JiN4QTs8L2Rlc2NyaXB0aW9uPjxkZXNjcmlwdGlvbj48aHRtbDpiPk5vbmUgb2YgdGhlIGNoZWNrIGZvciB1cGRhdGVzIGFjdGlvbnMgd2lsbCBtb2RpZnkgaW4gYW55IHdheSB5b3VyIGluc3RhbGxlZCB2ZXJzaW9uIG9mIE11bHRpIFNlYXJjaCBidXR0b24uIFlvdSB3aWxsIGhhdmUgdG8gZ28gdG8gTXVsdGkgU2VhcmNoIGhvbWVwYWdlIGFuZCBldmFsdWF0ZSBpZiB5b3Ugd2FudCB0byB1cGRhdGUgdGhlIGJ1dHRvbiBvciBub3QuPC9odG1sOmI+PC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9Ik9uZV9PZmZfdHQiPjxkZXNjcmlwdGlvbj5JZiA8aHRtbDpiPmVuYWJsZWQvY2hlY2tlZDwvaHRtbDpiPiwgaXQgZW5hYmxlcyB0aGUgY3JlYXRpb24gb2YgYSBib3ggY29udGFpbmluZyBidXR0b25zIHRvIGFsbCBpbnN0YWxsZWQgc2VhcmNoIGVuZ2luZXMgKHRoZSBzbyBjYWxsZWQgJnF1b3Q7T25lLW9mZiZxdW90OyBidXR0b25zKS48L2Rlc2NyaXB0aW9uPjxkZXNjcmlwdGlvbj5FYWNoICZxdW90O09uZS1vZmYmcXVvdDsgYnV0dG9uIGNhbiBiZSBoaWRkZW4gYnkgbWlkZGxlLWNsaWNraW5nIG9uIGl0LiBGb3IgYSAmcXVvdDtPbmUtb2ZmJnF1b3Q7IGJ1dHRvbiB0byBiZSBzaG93biBhZ2Fpbiwgb3BlbiBNdWx0aSBTZWFyY2ggZW5naW5lcyBtZW51IChNaWRkbGUgY2xpY2sgb24gTXVsdGkgU2VhcmNoIGJ1dHRvbikgYW5kIHJpZ2h0IGNsaWNrIG9uIHRoZSBlbmdpbmUgbWVudWl0ZW0gKGVuZ2luZXMgd2l0aCBoaWRkZW4gJnF1b3Q7T25lLW9mZiZxdW90OyBidXR0b25zIHdpbGwgYmUgZGlzcGxheWVkIHdpdGggaXRhbGljIGZvbnQgYW5kIHVuZGVybGluZWQuKS48L2Rlc2NyaXB0aW9uPjxkZXNjcmlwdGlvbj48aHRtbDpiPk5vdGU6PC9odG1sOmI+IFRoaXMgb3B0aW9uIHdpbGwgPGh0bWw6Yj5ub3QgYWZmZWN0PC9odG1sOmI+IHRoZSBkZWZhdWx0ICZxdW90O09uZS1vZmYgYnV0dG9ucyZxdW90OyB0aGF0IGNvbWVzIHdpdGggRmlyZWZveCAzNCsuIFRoZSBvbmx5IGZlYXR1cmUgc2hhcmVkIGJldHdlZW4gRmlyZWZveCdzICZxdW90O09uZS1vZmZzJnF1b3Q7IGFuZCBNdWx0aSBTZWFyY2gncyAmcXVvdDtPbmUtb2ZmcyZxdW90OyBpcyB0aGUgbGlzdCBvZiBoaWRkZW4gYnV0dG9ucy4gTXVsdGkgU2VhcmNoJ3MgJnF1b3Q7T25lLW9mZnMmcXVvdDsgd2lsbCB3b3JrIGV2ZW4gaW4gYXBwbGljYXRpb25zIGluIHdoaWNoICZxdW90O09uZS1vZmYmcXVvdDsgYnV0dG9ucyBmZWF0dXJlIGRvZXMgbm90IGV4aXN0LCBsaWtlIFNlYU1vbmtleSBhbmQgUGFsZW1vb24uPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9Ik9uZV9PZmZfREFuZERfdHQiPjxkZXNjcmlwdGlvbj5JZiA8aHRtbDpiPmVuYWJsZWQvY2hlY2tlZDwvaHRtbDpiPiwgaXQgYWxsb3dzIHlvdSB0byBEcmFnJmFtcDtEcm9wIHNlYXJjaCB0ZXJtcyBpbnRvIGFueSAmcXVvdDtPbmUtT2ZmJnF1b3Q7IGJ1dHRvbiAoaWYgJnF1b3Q7T25lLU9mZiZxdW90OyBidXR0b25zIG9wdGlvbnMgaXMgZW5hYmxlZCkgd2l0aG91dCB0aGUgbmVlZCBvZiBjaGFuZ2luZyB0aGUgZGVmYXVsdCBzZWFyY2ggZW5naW5lLjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJPbmVfT2ZmX1Blcl9Sb3dfdHQiPjxkZXNjcmlwdGlvbj5Ib3cgbWFueSAmcXVvdDtPbmUtT2ZmJnF1b3Q7IGJ1dHRvbnMgcGVyIHJvdyBzaG91bGQgYmUgY3JlYXRlZC4gQSBtaW5pbXVtIG9mIDxodG1sOmI+dHdvPC9odG1sOmI+IGFuZCBhIG1heGltdW0gb2YgPGh0bWw6Yj50ZW48L2h0bWw6Yj4uPC9kZXNjcmlwdGlvbj48L3Rvb2x0aXA+PHRvb2x0aXAgaWQ9IkF0dGFjaF9PbmVfT2ZmX3R0Ij48ZGVzY3JpcHRpb24+SWYgPGh0bWw6Yj5lbmFibGVkL2NoZWNrZWQ8L2h0bWw6Yj4sIHRoZSAmcXVvdDtPbmUtb2ZmJnF1b3Q7IGJ1dHRvbnMgYm94IHdpbGwgYmUgY3JlYXRlZCBpbnNpZGUgdGhlIG1haW4gc2VhcmNoIHBhbmVsLiBJZiA8aHRtbDpiPmRpc2FibGVkL3VuY2hlY2tlZDwvaHRtbDpiPiwgdGhlICZxdW90O09uZS1vZmYmcXVvdDsgYnV0dG9ucyBib3ggd2lsbCBiZSBjcmVhdGVkIGluc2lkZSB0aGUgJnF1b3Q7YXV0b2NvbXBsZXRlIHN1Z2dlc3Rpb25zJnF1b3Q7IHBhbmVsLjwvZGVzY3JpcHRpb24+PGRlc2NyaXB0aW9uPklmIHRoZSBvcHRpb25zICZxdW90O1NlYXJjaCBzdWdnZXN0aW9ucyZxdW90OyBBTkQgJnF1b3Q7U2VhcmNoIHRlcm1zIGhpc3RvcnkmcXVvdDsgYXJlIDxodG1sOmI+ZGlzYWJsZWQvdW5jaGVja2VkPC9odG1sOmI+LCB0aGlzIG9wdGlvbiB3aWxsIGJlIGlnbm9yZWQgYW5kIHRoZSAmcXVvdDtPbmUtb2ZmJnF1b3Q7IGJ1dHRvbnMgYm94IHdpbGwgYWx3YXlzIGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSBtYWluIHNlYXJjaCBwYW5lbC48L2Rlc2NyaXB0aW9uPjxkZXNjcmlwdGlvbj48aHRtbDpiPk5vdGU6PC9odG1sOmI+IEluIFNlYU1vbmtleSB0aGlzIG9wdGlvbiBpcyBhbHNvIGlnbm9yZWQuIFRoZSByZWFzb24gZm9yIHRoaXMsIHRvIGN1dCBpdCBzaG9ydCwgaXMgdGhhdCBhZnRlciBhIG1pbGxpb24gYXR0ZW1wdHMgdG8gYXR0YWNoIHRoZSAmcXVvdDtPbmUtb2ZmJnF1b3Q7IGJ1dHRvbnMgYm94IGluc2lkZSB0aGUgJnF1b3Q7YXV0b2NvbXBsZXRlIHN1Z2dlc3Rpb25zJnF1b3Q7IHBhbmVsLCBhbmQgc2VlaW5nIHRoYXQgZXZlcnkgdHdlYWsgSSBtYWRlIHRvIHRoZSBidXR0b24gaW4gU2VhTW9ua2V5LCBicm9rZSB0aGUgYnV0dG9uIGluIEZpcmVmb3gvUGFsZW1vb24gYW5kIHZpY2UgdmVyc2EsIEkganVzdCBnYXZlIHVwLjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjx0b29sdGlwIGlkPSJBYm91dENvbmZpZ0VuZ2luZV90dCI+PGRlc2NyaXB0aW9uPklmIDxodG1sOmI+ZW5hYmxlZC9jaGVja2VkPC9odG1sOmI+LCBhIG5ldyBlbmdpbmUgY2FsbGVkIDxodG1sOmI+JnF1b3Q7YWJvdXRDb25maWcmcXVvdDs8L2h0bWw6Yj4gd2lsbCBiZSBhZGRlZCB0byB5b3VyIGxpc3Qgb2Ygc2VhcmNoIGVuZ2luZXMuIFRoaXMgaXMgYSAmcXVvdDtzcGVjaWFsJnF1b3Q7IGVuZ2luZSB0aGF0IHdpbGwgYWxsb3cgeW91IHRvIGRpcmVjdGx5IHNlYXJjaCBmb3IgZW50cmllcyBpbnNpZGUgdGhlICZxdW90O2Fib3V0OmNvbmZpZyZxdW90OyBwYWdlLiBBZnRlciA8aHRtbDpiPmRpc2FibGluZy91bmNoZWNraW5nPC9odG1sOmI+IHRoaXMgb3B0aW9uLCB0aGUgPGh0bWw6Yj4mcXVvdDthYm91dENvbmZpZyZxdW90OzwvaHRtbDpiPiBlbmdpbmUgd2lsbCBiZSBkZWxldGVkLjwvZGVzY3JpcHRpb24+PC90b29sdGlwPjxtZW51cG9wdXAgaWQ9Im11bHRpc2VhcmNoLXNldHRpbmdzIiBwb3NpdGlvbj0iYmVmb3JlX3N0YXJ0Ij48bWVudWl0ZW0gbGFiZWw9IlJlc3RvcmUgRGVmYXVsdHMiIG9uY29tbWFuZD0iZnJvbUJ1dHRvbi5wcmVmSGFuZGxpbmcucmVzZXRQKCk7Ii8+PG1lbnVpdGVtIGxhYmVsPSJJbXBvcnQgTXVsdGkgU2VhcmNoIFByZWZlcmVuY2VzIiBvbmNvbW1hbmQ9ImZyb21CdXR0b24ucHJlZkhhbmRsaW5nLmltcG9ydFAoKTsiLz48bWVudWl0ZW0gbGFiZWw9IkV4cG9ydCBNdWx0aSBTZWFyY2ggUHJlZmVyZW5jZXMiIG9uY29tbWFuZD0iZnJvbUJ1dHRvbi5wcmVmSGFuZGxpbmcuZXhwb3J0UCgpOyIvPjwvbWVudXBvcHVwPjwvcG9wdXBzZXQ+PC9wcmVmd2luZG93Pg%3D%3D%3C%21--OptionsWindow--%3E%0A%3C%21--CameraImage--%3Edata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABYUlEQVQ4jbXTzUoCURiA4dm78Gq6j67D3JQg0SYKGSWTihZaoliLFhZRYElFP1T0o5syg3EUnYVlllZTMTMa49smaIqkiejAuzqHZ3H4PkH4zwMkgOQ39dgFHsRYBWuZvArQa33kBB661PGEZDTdRNNNNo6a7GTuAV7e752C0TIJzim4ROlXBecUjJaJoOkmLlHCE5IRYxW8k0XcAYnBqRKjs2V80QojM2W8E0Xc/s+IpluAsYTCWeGZcLKKL1phN3vPcU4lk1c5PldZP2gwHC53B6yl9u9Y228wEJJxiRJD0yU2j5ospG/sAdnLJ/zxj3/pEyXCySrpw4Y94KzwzFjCAvglIotV1u0Cy9u3nF6oeCeKuESJkUiZk5xKfOXaHuAJyazu3VGtGzQfX1GudJa26vSPy98Ahok7UPj1HLgDBTTDRGi1O7n5VI2vI/tT86karXYnJwCOLgtjJ8efN/YNSw2Pd1IuPSAAAAAASUVORK5CYII%3D%3C%21--CameraImage--%3E%0A%3C%21--WebSearch--%3Edata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAJUklEQVRoge2ZX0gb6RrGvVpYFvZme7GsUEThmANRSr0olLSwtizS0hUvhN64UPTUtKsYXeqfRksdW5U0etGAoljQJIupxyBNVGJQgkpNUmqIoGJN5yIhMdEoxbL00udcZN+v30wmMe3Zhb3owAOZzDczz+/9NxOSl/dl+7L9tZvRHca4Lwnz6+NPli1wlFGfcz1e474kjO4wsppvs/ohuA6gnd7Hf/6bknY6XXSMl3Z6H13zB4pqdSQUz/kUaaf3IbgO0Gb1Z4bodSfSjMsv0upIoNWRUDz2dwKQet2JzABd8weo/T2iCED7BKBkrNWRgOA6SFOmrGWKtHx97e8R5qtr/iAzgOA6wO3ne2kicwRw+/keuuZT5vh12QCUrisXnzG6D5knnQrQaI8xtToSaJ6OsIjTxRvtMTRPRyC4Ut812mPMwMBSnIk/dpoIXl56t5/vSTzlDCA3zpvnzfImBddHALo5GVDKGH+csqVkvnk68ukAfK2TKFL8TXmjrY4ETJ49DCzFFcuDXys3T9BKIBS4nAEo+npnlEWu0R5jdUg3VSoPwXUAvTOaU9nIy47PBEHonVFWyqcCdM9G0gD0zigE14GkkZqnIzB59tDrTqDN6oeusw+6zj7oewwQ+gdhGJqAYWgCLbattCaUq3s2wgDo2rRPweAB9M5oZgC9M5oG0D0bYReiLDTaY2iz+lGrbcDkghe+zRDe7r9H5OgPvN1/D694CN9mCJMLXkwueNE8JUpMU4nSPgWKAmPypDLZPRv5NAA6gVf3bAS97gSM7jCM7jBaHQnoOvvQN/AUb/ffI3H8gRnfih1jK3aMQPgdvOIhvOIhVneTmFzwos3qxy2zyAwb3WEGQ1kY9yVh8uzB6A6j150A76d5OpWdnAB63QnYAkd4u/8e474kBpbiMLrDGFiKQ9fZB8PQBCJHfzDjZJ6Mr+4msbqbxMqbfSYeotEew7gvdZzOswWO2AD4bAD5QlvgCOO+JBzBOBzBONqsfgj9g4rGt2LH8IqHCITfsX1e9kAcfQNP4dsMYXU3ia3YMU5OTnBycsICRdH/bABaRAuphOgNtVbbwGpdDkEgFHlHMA57IKWR5TAEp4g2qx/6HgMa7TEJQOL4A1Z3kywL3bMRSc03T0dwyyzmCDAlKgK0Wf0wDE2wuqfaD4TfMcO8actaFJa1KEaWw2ixbWF0cQddMyHo2h/CHogzUDJtdIfhCKa+N3n2cMssomZsOwUwlfrcPCWi40UsC8CUmBFA19nHpg0BvN1/j5U3+8w0b5w332LbguAUYXSH2Yg1efZQM7bNxGd/3PcxG5SBStPG6QDVw5sgCDI/shyGLXCEWm0DVneT8IqH2IodY3U3yUpGbnpkOVXHZJ4A7IFUH93VtUqC0zwlonp4k4miPe5L9QplgZQRoNK0wUi7ZyOSpiKA1d0kKxXLWpSVAhmneufNd82E4Aim1rdZ/aipvYNxX5LJ5NmTGLxlFpkHgux4EcsN4MqTdRYBilLzlIhabQPsgTgzwhv2ioewrEXToi43P7IcxiN7EFevV0kARpbD7AFGIvN6ZxQdL2IMKieAK0/WUWnaQNdMCN2zEVQPb6JW2wCLZ4sZGV3cwejiDozu1OfV3WSa+RbbFlbe7MOyFoXgFBUBKAh8NozuMAtc10yIGa8Z20alaSM7wOX+12kQzVMidJ19eGQPspISnKmLk1HqAd48TabmKRGjizuwrEWh7zHg6vUqyTPGFjhifUPqno2wSuBLKyvAlSfruNz/mokgbpk/znClKFOpeMVDtk+lRVEcWQ7DshbFtaqb0LU/xOSCF45gXFI+vHnBKUrGZ/XwJvOUFUDT+0oCwEvfY0Cb1S8Zi3zD0kPL6A4jEH6HrpkQumZCGF3cwchyaoReq7qJyQUvdO0PWQkqmadzyTx5ywpwuf81NL2vmOQgFQPrEPoHWT1TVPn0r7zZh1c8ZHCWtSjsgTge2YPQlFew1wnfZgjXqm6iSKWGqkyDNqufmScAvnR4XxkBNL2vcKF7LQ2Cz0LrgAWGoQkJACkQfofE8QfWuJa1KEYXd9Bm9UNTXgFNeQVqtQ0MQlNeAcPQBO7qWlGkUqPsx59Z5HkAij55ywhwoXsNpGwQj+xBTC542VSi8UovcfZA6o2yayYEXWcfM3+uzsRUpFKjuLQMV69Xoab2DiYXvCwj1b/UM/OVpg1mnpQTgByCdOXJOqtr+sFCML7NEHt1NgxNoPqXely9XiUxTvrXhZ/w7Xffo0ilhqa8AteqbjIQTXkFilRq3LhvTjOfFeD8g1WQlCAoAzVj26xWH9mD7P1G6B+EvscAfY8Bus4+XGp6hrL7i0wldcNpIGfyC/Dtd9+juLSMgQj9g+gbeIri0jKoyjRQ/zYP3ltGgFL9Ckr1K2kQF4WXTARTM7bNatXk2YMjGIfgFGHy7MGyFkWlaQMXhZcSgHP35iTmS+qGUVI3DJWmEmfyC3Amv4CB1NTekfSHSlOJkg4PSvUrpwPwEDwIr4vCSzb/bYEjNjmM7lRzEzAzzksGUFI3jBv3zSj78WecyS9I6w/fZghXr1fhTH4BztWZcgOQQyjBVA9vsjnOP9RqxrbZmvMPVtMB7s1JzBPAjftmXGp6BlWZJq2s7upaYRiagKa8Anl5ecoQJR0eqNuXkAvI+QerqBnblrzzt9i22POCX6eYhXtzKK43M4BLTc8YxI375oz90TfwFEL/IM7kF6SDqNuXUNTiRlGLWxFEDtM1E4LgFNmPkoqB9VSfPPalwZZ0eKD+bV5RxfVmFNdz5u/NoVBrQ6HWltYf/NgtUqmlAGSel7p9iTUPr4vCS4n5i8JLCaR8fTYAHoJEAIVaGwp1rrSx+2cp5Z0KwIPw0jz2ocW2lXrQPPalHc+oTBDtS5kB/oQorjfjh8J/46uvv8FXX3+jDFDQ5MoIwatiYJ2NylzW8yrUudKk/m0+dUxrQ3G9GWe1dhRqbTirtTPl/zqHohZ35iYmAF7ZACjyfwUAqajFLTHNm+cAlLeCJhdbSJIDERTNeSXoXCS/j/ye+b/OKUIUNLkyA/Ckp92A+iKX9f+P5Bk4q7VnBlBpKtnCH+7OMv2dBvn7yO+n9J1KU5n1v2KoNJWpBtJJ65+fJPz7DS/JO9Njn0T8Mfl55+7NpU0oec+c1drJfPY/uwnkH6ov2z9u+x9/EG2XjDWAjQAAAABJRU5ErkJggg%3D%3D%3C%21--WebSearch--%3E%0A%3C%21--SiteSearch--%3Edata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGFklEQVRoge1Zv0/bWhRm5Y/Ili2jN7J68eyhElm90eF1SrISVYxRMlQKUYoEZOGHREIsVfnBr2dSQa1GcFGAYkr1YlUpKKCobqdK3xvoue/GOBDzkj6eVEufcn3vzfX5fL5zzrU9Nvb7+H0M97BtGz9+/HiSsG0b9xrPGPvPjXwIjLH+JBzH8bXQq8wskqk05uYXsLSyirn5BRiGgU6nMzICjuP0JzCo4dOJBIolHe3rbs/Y12/fcWJfgjEGvbY1MiKPJpDJ5pDJ5tC+7uLrt+998eWmi6vONQzDgGVZ/y0Bx3HgOA6KJR2ZbA5fbrqeaN90cWJfov2z3b7pon3dRblShWmafB0Rv4SAbdsoV6qYTiRw+vGiB28/tLB32MTeYRPt6y5OP15g77DJ+2lOJpsDYwy2bcOyLNi2PToCXndqMhLBm9133FgisHfYxE7jFif2JW/vNJp4s/uOt/XaFhbzec+1/cI3AcYYXs7MgLWubiVy3eU4sS/BWlc92Gk0eZvGa41jRGNxWJaFTqcDx3HQ6XR6MDICyVQaem3rjqGDYN/6jI2DM2wcnGE29xpz8wuwLAuO48C2bS4pEUMnMBmJYOfoHPvWZ7z/1L4XZPj7T23snra48RsHZ1gurCOZSv96CWmahlrjGLunLeyetjgZOqf2ztE5N7pYb3DDa41jbDcvsFxYRzQW9yWXoRD448ULLBfWUaw3sFxYR2GzjrXtfRTrDRQ261gurGPj4AyFzTofK2zWUaw3sLa9D722xQmoqsqlQllp5ASmEwksraxibXu/B2Rgsd7oAXmAsLa9j+3mBWZzr6Gq6mgl5PWHTDaHufkFbDcvOEg+Ivatz56g+dFYHKqq3slC1PaTmXwRYIwhGotj4+DsQaPFQKbY+PPkL+wcnUNRFO5NWleUExW4QTKSLwKO42Axn8dyYd3TYNFodwolkq8ys1BVlVd0t/79BrYvAnQ3kqk0Cpt1XmFrjePbSnt0zjMTa13hze67nhhYWlnFRDiMZCrN7/RkJAJZljERDvPtt5+C5ltClmWhXKkik81Br21Br23xLQIRqTWOwVpX3PDCZh1z8wuQJAmyLEPTNCRTaRiGAUVRsJjPYzqRgCRJUBQFhmEMnJl8S0j0xtLKKvcEa11h5+gcbz/8ExNvP9zWhGQqDVmW8ezZMyRTaWSyObycmYEkSQiFQlAUBZORCIolHZORCEKh0MB1whcB27bR6XT4nbFtG4ZhYGllFcWS3rN502tbmJtfgKZpmJp6jkw2h8V8nmNpZRVTU88RCAQQDAYxEQ5DURRomoZypQpZliFJEg/0oUqI3EuZwjRNFEs6FvN5/qCTyeaQTKVRLOkwDAOmaXKyyVSaz02m0giFQggEAgiFQpgIh6GqKqKxODLZHJddv+eIR0vID8SUyBjD0soq91q5UuUZiYiQ0ZORCDLZHKKxOEKhECYjkTtx8SgJEcgL4jm1abtM/aZpwjRN7jEiQCAimqYhGAxyIhQf5UoVqqpCkiRMJxL/Lo2apgnGGBhjPYbRmAhRdiQnwzBQrlS57CgmxF9ZlnviQ1VVaJqGYknn8VEs6aORkFf2IK8QyHsUGwSRfLGkYyIc5vEhyzJUVcV0IoFkKg1JkjA2NuZN4j4JMcbu7FXc0nLPEbcH5D3Ra+VKtYeESEYMdDE+iODABNzyIAOo8LiNI0NEqRFI82Q4tcXYoL5iSYdlWZiaeo5gMMhlRTIbeRZyS4nk4wZ5V4QoO/KkoigIBAKQZbl/DDwkEa9zUdvUTxd2Zyv37lOMDS+Z0RitQRL1RYAkQW43TZP3uzMRSYcxxueK0qJ+cZxefHk95Ls9RRiKBx6L+6TkDn6vMd8ERGmIC7qLltcFvdri2zm3hNzz+900XwTEbOKVt2lzJ6ZCMSBJOu7/i1Ii0H7rIS8+SkKjwGNl6VtContFqbgzhZeU3HruJx0/ZHwRECummEnEPvoOIBYnsY/WcEtLrL4jI+DX/cPKVv+LGBg6ASpSTxmmafYnQA/VTxnRWLw/gfHxcURjcTDGBtqkDeuj3SDXojeE4+Pj93/s/nngieL38eSOvwGIrKjNV48ntAAAAABJRU5ErkJggg%3D%3D%3C%21--SiteSearch--%3E%0A%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">
					Install this button</a><br><br>
				<a id="button-source" data-toggle="tooltip" data-placement="bottom" data-original-title="" class="btn btn-info btn-xs button-name" title="Button source on GitHub">
				GitHub</a><br><br>
				<a data-toggle="tooltip" data-placement="bottom" data-original-title="" href="00-OldButtonVersions.html" class="btn btn-warning btn-xs button-name" title="Old versions">
				Old versions</a>
				</div>
				<br>
			</div>
		</div>
	</div>

<p>My initial intention with this button was to add some new features and functions to the default search bar. But that turned out to be way too complicated to perform with my level of knowledge. So I decided to start from scratch and create a button that replaces the search bar, and also add certain features from a couple of addons that I used (<a href="https://addons.mozilla.org/en-US/firefox/addon/Site-Searcher/">Site Searcher</a> and <a href="https://addons.mozilla.org/en-US/firefox/addon/search-by-image-by-google/">Search By Image (by Google)</a>). Although this button does not have all the same options of its replacers above, I added the functionality that I considered most useful and a few more personal touches that the three above mentioned lack (like Drag&amp;Drop funcionality, use of keywords and search local image files, among other things).</p>
<h2>Features</h2>
<ul>
	<li>This button can perform <em>Web searches</em>, <em>Site searches</em> and <em>Image searches</em>. <a href="#search_settings_tab_default_search_mode"><em>See Default "Search mode"</em></a>.</li>
	<li>Auto-fill of the search box with the currently selected text or with the content of the clipboard if no text is currently selected when the panel is opened. <a href="#auto_fill_search_terms"><em>See Auto-fill search terms with...</em></a>.</li>
	<li>Use of &quot;One-off buttons&quot; with Drag&amp;Drop capabilities to perform a search with any of the installed engines without changing your default search engine.</li>
	<li>Automatic wrapping around of search terms with quotation marks. <a href="#auto_fill_search_terms"><em>See Auto-fill search terms with...</em></a>.</li>
	<li>Possibility to use a hotkey to open the search panel or to directly perform a search. The hotkey can be set by editing this button (&quot;Button settings&quot; tab).</li>
	<li>Possibility to add a global context menu for images to perform a &quot;Seach by image&quot; on Google Images. <a href="#search_by_image_context_menu"><em>See Search By Image context menu</em></a>.</li>
	<li>Drag&amp;Drop capabilities: Text (from inside the browser and from other applications (<a href="#technicalities">See Technicalities - Point 1)</a>), images loaded in current page and local image files can be dragged and dropped to this button to perform searches. The type of dragged object will be detected automatically. When dragging text, the type of search to be performed depends on which &quot;search mode&quot; is configured as the default. <a href="#search_settings_tab_default_search_mode"><em>See Default "Search mode"</em></a>.</li>
	<li>Ability to add new search engines from the Multi Search manage engines menu (Middle click). <a href="#technicalities">See Technicalities - Point 4.</a></li>
	<li>You can use a search engine keyword (alias) to perform a search without changing your default search engine.</li>
	<li>The image of the current search engine will be used as image for this button.</li>
</ul>

<div align="middle">
<h2>Images</h2>
<h4>Featuring &quot;One-off&quot; buttons and suggestions</h4>
<img src="lib/img/MultiSearch-00.png" alt="" border="0" width="" height="" /><br><br>
<div class="spoiler_container">
	<a class="spoiler_show btn btn-info btn-sm">More images</a><br><br>
		<div class="spoiler_js">
<h4>Featuring Drag&amp;Drop on &quot;One-off&quot; buttons</h4>
<img src="lib/img/MultiSearch-01.png" alt="" border="0" width="" height="" /><br><br>
<h4>Featuring Drag&amp;Drop on &quot;One-off&quot; buttons attached to main panel</h4>
<img src="lib/img/MultiSearch-02.png" alt="" border="0" width="" height="" /><br><br>
<h4>Featuring search history and suggestions</h4>
<img src="lib/img/MultiSearch-03.png" alt="" border="0" width="" height="" /><br><br>
<h4>Featuring &quot;Add new engine&quot; menu item</h4>
<img src="lib/img/MultiSearch-04.png" alt="" border="0" width="" height="" /><br><br>
<h4>Options window</h4>
<img src="lib/img/MultiSearch-Settings-01.png" alt="" border="0" width="" height="" />
<img src="lib/img/MultiSearch-Settings-02.png" alt="" border="0" width="" height="" /><br><br>
<img src="lib/img/MultiSearch-Settings-03.png" alt="" border="0" width="" height="" /><br><br>
		</div>
</div>
</div>
<br><br>

<h2>Options - General settings tab</h2>
<p>The options window is opened with <b><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + Right Click</b>. <a href="#technicalities">See Technicalities - Point 2.</a></p>
<ul>
	<li><b>Button image size:</b> This preference sets the size of this button image to a fixed size (in pixels). This is a workaround because the image of this button is extracted directly from the search plugins installed in the browser. These images can be of different sizes, so to avoid for this button to constantly change its size (and thereby also change the size of the toolbar that contains it), I created this preference.</li>
	<li><b>Doorhanger for Drag&amp;Drop notifications:</b> With this option <em>enabled/checked</em>, whenever a drag operation is performed over this button, a notification popup will appear in the address bar (A so called <em>doorhanger</em> popup) informing what operation will be performed when the dragged content is dropped. When this option <em>disabled/unchecked</em>, notifications will change to a more subtle status panel notification at the bottom of your browser.</li>
	<li><b>Drag&amp;Drop notifications:</b> If <em>enabled/checked</em>, Drag&amp;Drop operations over this button will display notifications in real time. If <em>disabled/unchecked</em>, no notifications will be displayed.</li>
	<li><b>Global Drag&amp;Drop feedback:</b> By default, when a drag operation is started inside the browser, a layer appears with a preview of the content that is being dragged. When this option is <em>enabled/checked</em>, there will be no preview of what is being dragged. To re-enable this feature, first <em>uncheck</em> this option and then restart your browser. <b>Note:</b> Under GNU/Linux (only tested on Arch Linux with XFCE and KDE), the Drag&amp;Drop feedback is not completely disabled, but at least the feedback for dragged images is not an annoying image preview.</li>
	<li id="hide_default_searchbar"><b>Hide default searchbar: </b>Hides/Shows the default search bar. <a href="#technicalities">See Technicalities - Point 5</a></li>
	<li><b>Hotkey default action:</b> Two possible actions, Open/Close the search panel or do a &quot;Strainght search&quot;. The hotkey can be set by editing this button (&quot;Button settings&quot; tab).</li>
	<li><b>Panel flip attribute:</b> Two options, flip &quot;both&quot; and &quot;slide&quot;. <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/panel.flip">More info about the flip attribute in panels.</a></li>
	<li><b>Show full tooltip:</b> If <em>enabled/checked</em>, the tooltip of this button will show information based on this button preferences and the shortcuts for quickly switch some options.</li>
	<li id="search_by_image_context_menu"><b>Search By Image context menu:</b> When <em>enabled/checked</em>, it adds a global context menu for images to perform a &quot;Seach by image&quot; on Google Images. It may be necessary to restart the browser for this feature to start working properly.</li>
	<li><b>Show dopmarker:</b> <em>Shows/Hides</em> the dropmarker of this button (Only when <em>Straight Search</em> option is disabled).</li>
	<li><b>Tooltip delay:</b> This option sets a delay in milliseconds for the tooltip to appear.</li>
	<li><b>List of URLs to override: </b>List of URLs to override (comma separated and no spaces). If the currently loaded page is one of these URLs, the search will be performed on the current tab.</li>
	<li><b>List of servers/host names to overrride: </b>List of servers/host names to override (comma separated and no spaces). If the currently loaded page contains one of these servers/host names in its URL, the search will be performed on the current tab.</li>
</ul>

<h2>Options - Search settings tab</h2>
<ul>
	<li><b>Auto-trigger suggestions: </b>If <em>enabled/checked</em> and the search panel is opened containing any text (<b>Read note</b>), the &quot;search suggestions&quot; popup will auto-appear. <b>Note:</b> This option is usefull only if <b>&quot;Auto-fill search terms with...&quot;</b> <b>&quot;Clipboard content&quot;</b> and/or <b>&quot;Current page selection&quot;</b> are <b>enabled/checked</b>.</li>
	<li><b>Search suggestions: </b><em>Enables/Disables</em> the ability to show a popup with search terms suggestions. This preference is global, which means that if you disable it, search suggestions will be disabled for each and every one of the browser components that make use of search suggestions.
<em><b>Note 1:</b> For search suggestions to work, the search plugin itself must support suggestions.
<b>Note 2:</b> Search suggestions can be easily added to any search plugin. (I suggest you to search the web to know how to do that. LOL)</em>
</li>
	<li><b>Add &quot;about:config&quot; engine: </b>If <b>enabled/checked</b>, a new engine called <b>&quot;aboutConfig&quot;</b> will be added to your list of search engines. This is a &quot;special&quot; engine that will allow you to directly search for entries inside the &quot;about:config&quot; page. After <b>disabling/unchecking</b> this option, the <b>&quot;aboutConfig&quot;</b> engine will be deleted. <a href="https://github.com/ardiman/userChrome.js/tree/master/searchplugin-4-aboutconfig">Based on code by <b>ardiman</b></a>.</li>
	<li><b>Search terms history: </b><em>Enables/Disables</em> the ability to save a history of your search terms.</li>
	<li id="straight_search"><b>Straight Search:</b> With <em>Straight Search</em> <em>enabled/checked</em>, this button is a "menu-button" type button that, when pressed, will directly perform a search with the selected text (or clipboard content) as the search term. Whereas if the dropmarker is pressed, the search panel will appear. The type of search to be performed depends on which &quot;search mode&quot; is configured as the default. If the <em>Control</em> key is pressed while clicking this button, the type of search to be performed will be the opposite to the type of search that is configured by default. <a href="#search_settings_tab_default_search_mode"><em>See Default "Search mode"</em></a>. With this option <em>disabled/unchecked</em>, this button becomes a "menu" type button that when pressed will only open/close the search panel. Can be quickly switched with <b><em>Control + Right Click</em></b>.</li>
	<li><b>Use search engine aliases: </b>If <em>enabled/checked</em>, you can use a search engine keyword to perform a search without changing your default search engine. This is the same feature found in the browser's address bar by default.</li>
	<li id="auto_fill_search_terms"><b>Auto-fill search terms with...:</b>
<ul>

	<li><b>Clipboard content: </b>With this option <em>enabled/checked</em>, and with no text selected in the content of the current tab, the clipboard contents will be used to perform a search. If this option <em>disabled/unchecked</em>, the clipboard contents will be ignored.</li>
	<li><b>Current page selection: </b>If <em>enabled/checked</em>, the search box will be automatically filled with the current selection of the current page content.</li>
	<li><b>Quotation marks: </b>If <em>enabled/checked</em>, quotation marks will be auto-inserted in the search terms.</li>
</ul>
	</li>
	<li><b>Open search results in:</b> Three options (Current tab, New background tab and New foreground tab). <b><em>Note:</b> When performing Search by image actions, certain images will not open the search results in a new foreground tab. Specifically, embedded images whose source is a base64 encoded image and local images dragged or loaded in the browser through local links.</em></li>
	<li id="search_settings_tab_default_search_mode"><b>Default "Search mode":</b> Two &quot;search modes&quot;, <em>Site search</em> and <em>Web Search</em>. This option defines the type of search that this button will perform by default. Can be quickly switched with <b><em>Middle Click</em></b>.  If the <em>Control</em> key is pressed while dropping text to this button, or while the <em>Enter</em> key is pressed to perform a search from the search panel, or when this button is clicked when <em>Straight search</em> is enabled, the type of search to be performed will be the opposite to the type of search that is configured by default. <a href="#technicalities">See Technicalities - Point 3</a></li>
</ul>

<h2>Options - Other settings tab</h2>
<ul>
	<li><b>Enable &quot;One-off&quot; buttons: </b>If <em>enabled/checked</em>, it enables the creation of a box containing buttons to all installed search engines (the so called &quot;One-off&quot; buttons). Each &quot;One-off&quot; button can be hidden by middle-clicking on it. For a &quot;One-off&quot; button to be shown again, open Multi Search engines menu (Middle click on Multi Search button) and right click on the engine menuitem (engines with hidden &quot;One-off&quot; buttons will be displayed with italic font and underlined.). <b>Note:</b> This option will <b>not affect</b> the default &quot;One-off buttons&quot; that comes with Firefox 34+. The only feature shared between Firefox's &quot;One-offs&quot; and Multi Search's &quot;One-offs&quot; is the list of hidden buttons. Multi Search's &quot;One-offs&quot; will work even in applications in which &quot;One-off&quot; buttons feature does not exist, like SeaMonkey and Palemoon.</li>
	<li><b>&quot;One-off&quot; buttons inside panel: </b>If <em>enabled/checked</em>, the &quot;One-off&quot; buttons box will be created inside the main search panel. If <b>disabled/unchecked</b>, the &quot;One-off&quot; buttons box will be created inside the &quot;autocomplete suggestions&quot; panel. If the options &quot;Search suggestions&quot; AND &quot;Search terms history&quot; are <em>disabled/unchecked</em>, this option will be ignored and the &quot;One-off&quot; buttons box will always be created inside the main search panel. <b>Note:</b> In SeaMonkey this option is also ignored. The reason for this, to cut it short, is that after a million attempts to attach the &quot;One-off&quot; buttons box inside the &quot;autocomplete suggestions&quot; panel, and seeing that every tweak I made to the button in SeaMonkey, broke the button in Firefox/Palemoon and vice versa, I just gave up.</li>
	<li><b>Drag&amp;Drop for &quot;One-off&quot; buttons: </b>If <em>enabled/checked</em>, it allows you to Drag&amp;Drop search terms into any &quot;One-Off&quot; button (if &quot;One-Off&quot; buttons options is enabled) without the need of changing the default search engine.</li>
	<li><b>Engines per row: </b>How many &quot;One-Off&quot; buttons per row should be created. A minimum of <b>2</b> and a maximum of <b>10</b>. This option also controls the width of the search box, even with &quot;One-off&quot; buttons disabled.</li>
	<li><b>Updates checker: </b>If the option <b>&quot;Check every x days.&quot;</b> is checked, Multi Search will check for updates on application startup with a delay specified in seconds. If a new update is found, a notification will appear informing you if the update is <b>&quot;Critical&quot;</b> or <b>&quot;Normal&quot;</b>. If no new update is found, there will be no notification. Additionally, updates can be checked by pressing the button <b>&quot;Check now&quot;</b>. <b>None of the check for updates actions will modify in any way your installed version of Multi Search button. You will have to go to Multi Search homepage and evaluate if you want to update the button or not.</b></li>
</ul>


<h3>Settings button</h3>
<p>When pressed, displays a menu with three options (&quot;Restore Default&quot;, &quot;Import Multi Search Preferences&quot; and &quot;Export Multi Search Preferences&quot;). <em><b>Note:</b> The exported file will be saved to your desktop.</em></p>

<div id="changelog" class="panel panel-success">
  <div class="panel-heading">
    <h3 class="panel-title">Changelog</h3>
  </div>
  <div class="panel-body">
<h4>Updated December 22, 2014</h4>

<ul>
<li><b>Fixed: </b>I accidentally added the same function twice. Not a critical error, but an error nonetheless.</li>
<li><b>Added: </b>Option to add a new engine called <b>&quot;aboutConfig&quot;</b> that will allow you to directly search for entries inside the &quot;about:config&quot; page. Disabled by default. <a href="https://github.com/ardiman/userChrome.js/tree/master/searchplugin-4-aboutconfig">Based on code by <b>ardiman</b></a>.</li>
</ul>
<div class="spoiler_container">
	<a class="spoiler_show btn btn-info btn-sm">Previous versions</a><br><br>
		<div class="spoiler_js">
<h4>Updated December 17, 2014</h4>
<ul>
<li><b>Added: </b>New feature called &quot;One-off buttons&quot;. This feature is similar to the feature of the same name introduced in Firefox 34.0.5, but at the same time totally different and independent from the default &quot;One-off buttons&quot;. This allows the Multi Search's &quot;One-off buttons&quot; to work even in applications in wich &quot;One-off buttons&quot; dosn't exists by default, like Palemoon or SeaMonkey. The only thing shared between both is the list of hidden &quot;One-off buttons&quot;.</li>
<li><b>Added: </b>Auto-trigger search suggestions options.</li>
<li><b>Added: </b>Some tweaks to the search panel. Added a search button and a clear search box button. Added a shortcut to clear the search box (<kbd>Ctrl</kbd> + <kbd>Del</kbd>). Added some hidden options (acceced by editing the Initialization tab of this button) to personalize the search box behavior (Between the lines 155-165).</li>
<li><b>Changed: </b>Rewrited check for updates system. Now is possible to auto-check for updates every x amount of days with a delay of seconds after application startup.</li>
</ul>
<h4>Updated July 26, 2014</h4>
<ul>
<li><b>Fixed: </b>Fixed Drag&amp;Drop functionality broken due to last Firefox updades.</li>
</ul>

<h4>Updated July 14, 2014</h4>
<ul>
<li><b>Fixed: </b>Fixed a bug that prevented the search history generated by this button to be cleaned properly.</li>
<li><b>Added: </b>Added an option to hide the default search bar. <a href="#technicalities">See Technicalities - Point 5</a></li>
</ul>
<h4>Updated July 5, 2014</h4>
<ul>
<li><b>Added:</b> New ability to add new search engines from the Multi Search manage engines menu (Middle click). Example: Go to github.com, Middle click on Multi Search. A new menu item will appear that will allow you to add Github's search engine to your list of engines.</li>
</ul>
<p><b>Note:</b> This is the same feature that can be found in the browser's default search bar. I forgot to add it to the original version of this button, so here it is.</p>
		</div>
</div>
</div>
</div>
<div class="panel panel-warning">
  <div class="panel-heading">
    <h3 class="panel-title">Compatibility</h3>
  </div>
  <div class="panel-body">

<p>This button is intended to be cross-platform (GNU/Linux-Mac OS-Windows) and to work with all Firefox-based browsers and SeaMonkey. But it has been tested only in the following environments.</p>
<b>Arch Linux (XFCE and KDE) - Firefox 34.x</b><br>
<b>Windows 7 x64 - Palemoon x64 25.x.x, Cyberfox x64 34.x, SeaMonkey 2.3x and latest versions of Firefox ESR/Stable/Beta</b><br>
</div>
</div>
<div class="panel panel-success">
  <div class="panel-heading">
    <h3 class="panel-title">Button clicks/shortcuts</h3>
  </div>
  <div class="panel-body">
<ul>
	<li><b>Left Click: </b>Open search panel. If &quot;Straight search&quot; is enabled, it will directly perform a search or will open the search panel if the dropmarker is clicked.</li>
	<li><b>Left Click + <kbd>Shift</kbd>: </b>Open &quot;Google Images&quot; in a new tab.</li>
	<li><b>Right Click + <kbd>Alt</kbd> <font style="font-size: 10px;">(or <kbd>Shift</kbd> if under GNU/Linux or Mac OS)</font>: </b>Switch &quot;Search mode&quot;.</li>
	<li><b>Right Click + <kbd>Ctrl</kbd> + <kbd>Alt</kbd> <font style="font-size: 10px;">(or <kbd>Shift</kbd> if under GNU/Linux or Mac OS)</font></font>: </b>Open this button options window.</li>
	<li><b>Right Click + <kbd>Ctrl</kbd>: </b>Switch &quot;Straight search&quot;.</li>
	<li><b>Middle Click: </b>Manage search engines (switch search engine, add/remove/rearrange search engines, assign keywords to a search engine, etc.).</li>
</ul>
</div>
</div>
<div id="technicalities" class="panel panel-warning">
  <div class="panel-heading">
    <h3 class="panel-title">Technicalities</h3>
  </div>
  <div class="panel-body">
<ol>
	<li>All links dragged to this button will be treated as text. Except links containing an inline image which will be treated as an image and will trigger a Search by image with Google Images.</li>
	<li>In GNU/Linux and Mac OS, all the button clicks using the <b><kbd>Alt</kbd></b> key as a modifier, will be &quot;swapped&quot; to use the <b><kbd>Shift</kbd></b> key. I did this because I found in GNU/Linux some problems when trying to use the <b><kbd>Alt</kbd></b> key as a modifier. The &quot;swap&quot; is automatic and the tooltip for this button will display the correct key.</li>
	<li>When doing site searches, it is not verified if the search engine can perform such a search or not. The user will have to discern if such type of search is possible with the search engine chosen.</li>
	<li>If you remove a search engine recently added through Multi Search, this engine will not be immediately available to be added again. The browser will need to be restarted to make it possible to add that engine. This happens because I did not fully implemented the function that the default search bar uses (to keep this button as simple as possible).</li>
	<li>For certain features of this button to work properly (Specifically, the ability to detect new search engines and the ability to clear the search history generated by this button), the browser needs to detect the default search bar. You can choose to leave it visible or hide it (That is why I created the option called <a href="#hide_default_searchbar">Hide default searchbar</a>). Although, I must say, to leave the default search bar visible is redundant.</li>
</ol>
</div>
</div>
<div class="panel panel-danger">
  <div class="panel-heading">
    <h3 class="panel-title">Error report</h3>
  </div>
<div class="panel-body">
<p class="text-danger"><b>WARNING!!!</b><br> If you install more than one version of this button at the same time you could end up with repeated items (Search By Image context menu) and effects that will cancel each other (global Drag&amp;Drop feedback).</p>
<b>If any errors are found, report it ASAP on this button <a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?f=4&amp;t=3371">homepage</a> with as much details as possible.</b>
<ul>
	<li>Wich plattform and its version (Linux, Mac or Windows)</li>
	<li>Wich application and its version (Any Firefox-based browser, Thunderbir or SeaMonkey)</li>
	<li>Error/Browser console output, if any.</li>
	<li>If it's easier for you to report an error with images, and if the image is too large or there are more than one, publish the links to them, do not post them using the IMG tag in the message.</li>
	<li>Be willing to follow troubleshooting instructions.</li>
</ul>
</div>
</div>
</div> <!-- .container .boxed -->
<div class="container boxed">
	<h1>Button code preview</h1>
	<div class="panel-body">
		<ul class="nav nav-tabs" style="margin-bottom: 15px;">
			<li class="active code-tab"><a href="#code-tab" rel="nofollow" data-toggle="tab">Code Tab</a></li>
			<li class="init-tab"><a href="#init-tab" rel="nofollow" data-toggle="tab">Initialization Tab</a></li>
			<li class="help-tab"><a href="#help-tab" rel="nofollow" data-toggle="tab">Help Tab</a></li>
		</ul>
		<div id="myTabContent" class="tab-content">
			<div class="tab-pane fade active in code-tab" id="code-tab"></div>
			<div class="tab-pane fade init-tab" id="init-tab"></div>
			<div class="tab-pane fade help-tab" id="help-tab"></div>
		</div>
	</div>
</div> <!-- .container .boxed -->
<div id="footer" class="navbar navbar-default">
<!-- Inserted via jQuery -->
</div>

</div> <!-- #mainarea -->


<span id="top-link-block" class="hidden">
	<a id="top-link" href="#top" rel="nofollow" class="well">
		<i class="glyphicon glyphicon-chevron-up"></i>
	</a>
</span><!-- /#top-link-block -->

	<script type="text/javascript" src="//code.jquery.com/jquery-2.1.3.min.js"></script>
	<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="lib/js/highlight.pack.js"></script>
	<script type="text/javascript" src="lib/js/myFunctions.js"></script>
	<script type="text/javascript">
		var syntax = "css"; // In case syntax highlighting for help tab is needed. Posible values: "html", "css", "js" or empty (""), 
		var isIndex = 0;
	</script>
</body>
</html>