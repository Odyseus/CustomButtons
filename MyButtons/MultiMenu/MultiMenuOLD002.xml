<?xml version="1.0" encoding="UTF-8"?>
<custombutton xmlns:cb="http://xsms.nm.ru/custombuttons/" xmlns:html="http://www.w3.org/1999/xhtml">
<html:head>
	<html:title><![CDATA[Multi Menu Master button]]></html:title>
	<html:link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABPklEQVQ4jY1TMW4CMRD0FyiQAEUKgZKKOIvXO2MLUcH1VEj5OHkBfegQKXIWF+4OYmmaHc3KO7ProtnRgKsB12h2FpEFyYEBp1LvQzQ7ulYxxq2qTp+JCzobiMgMxLXgYYNodm4WVHWdc14acAH5bISzE5FFjHFbf30NYLLZ2CuAXQCqwjURgCqSe5LekRyo6lREZjnnZS2eiMhIVaf38N7PSQ2q+p6SH7vidj3rBcBOREbR7Lvr2yBr4GrAyd2IXzIAVV8KNzHbKRS3+2LsEpcGp4arFwAfKaVhc4Q+sQEnR3KwWq3eaoPGrn4ppWExLCUFqcF7P28aSnLwJ0YAqTRQ1YCMAzM/kXHoilREFq1FApBCCC9lkR4tUzQ7t1Y5ABWp4Zm4/xbIvaq+P7uBwrv7cybpU/Lj/5yzmX39AOALYmC+1vl9AAAAAElFTkSuQmCC"/>
	<html:style type="text/css"><![CDATA[body{font-size:medium;margin:0}body,code:before,help:before,initcode:before{font-family:"Verdana",sans-serif}#wrapper{position:fixed;top:1em;right:1em;max-width:15%;text-align:center}#button{background-color:#299a0b;border:1px solid #3a7404;border-radius:.5em;padding:0;margin-bottom:1em;box-shadow:1px 2px 3px rgba(0,0,0,.25)}#button a{color:#f0f0f0;font-weight:700;text-shadow:-.5pt -.5px .5pt rgba(0,0,0,1);padding:.8em;text-decoration:none}:-moz-any-link:focus{color:grey;outline-color:transparent;text-decoration:none}#button a,code,code:before,initcode,initcode:before,help,help:before{display:block}#credits{position:fixed;bottom:1em;right:1em;font-size:small}#about{font-size:small}custombutton{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABAElEQVQ4jW2TQXLFMAhDff+b2vEHYw5AF38eVTNdZAIxCEkmw31VptU5T7mvOuepc56K2B2f85TZrEwr99VxptUwm2U2695PZVrH937KfZX76txsVsTus0yrEbEr0/4F4AyQc56eDMiI2F0IbYoj9h9ZSCV2XzXUA1BVL8BvBvSMiN20zWY38VZ5gDEkYtfAYTRToA3qiQJk2hcA7W8gpaxG0nPvp4aiQ5UCzOV2GKAgLUEfpsGCfaBR92TonapmdCoAjHTIgLa6/14gbgow8oj9uwe6SMQ0qTz9P9oDZOgCkfMNJnqWaV8P3ouDRorUXEA4H1wbtMmVjcrQ7TSb9QMtXcwa4wpbXgAAAABJRU5ErkJggg==) fixed #f6f6f1;margin:1em}date,image,mode,accelkey{display:none}name{font-weight:700;font-size:x-large}code:before,help:before,initcode:before{font-weight:700;font-size:large;margin:0 0 1em;padding:.5em}code:before{content:"Code Tab"}help:before{content:"Help Tab"}initcode:before{content:"Initialization Code Tab"}code,initcode,help{background-color:#fcfcfc;font-size:.875em;font-family:Consolas,"Bitstream Vera Sans Mono","Courier New",Courier,monospace!important;margin:1em 2em 1em 0 !important;padding:1em;text-align:left;box-shadow:2px 2px 0 rgba(170,160,130,0.5),4px 4px 0 rgba(200,190,165,0.5);max-width:80%;min-width:80%;white-space:pre-wrap;word-wrap:break-word}]]></html:style>
</html:head>
<html:body>
	<html:div id="wrapper">
		<html:div id="button">
			<html:a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EMulti%20Menu%20Master%20button%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABPklEQVQ4jY1TMW4CMRD0FyiQAEUKgZKKOIvXO2MLUcH1VEj5OHkBfegQKXIWF+4OYmmaHc3KO7ProtnRgKsB12h2FpEFyYEBp1LvQzQ7ulYxxq2qTp+JCzobiMgMxLXgYYNodm4WVHWdc14acAH5bISzE5FFjHFbf30NYLLZ2CuAXQCqwjURgCqSe5LekRyo6lREZjnnZS2eiMhIVaf38N7PSQ2q+p6SH7vidj3rBcBOREbR7Lvr2yBr4GrAyd2IXzIAVV8KNzHbKRS3+2LsEpcGp4arFwAfKaVhc4Q+sQEnR3KwWq3eaoPGrn4ppWExLCUFqcF7P28aSnLwJ0YAqTRQ1YCMAzM/kXHoilREFq1FApBCCC9lkR4tUzQ7t1Y5ABWp4Zm4/xbIvaq+P7uBwrv7cybpU/Lj/5yzmX39AOALYmC+1vl9AAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bif%20%28self.parentNode%20%26%26%20/%5Ewrapper-/.test%28self.parentNode.id%29%29%0A%09return%3B%0A%0Avar%20%24%20%3D%20this.MultiMenu%20%3D%20%7B%0A%09init%3A%20function%28%29%20%7B%0A%09%09if%20%28%21%28%22__Custom_Buttons_Multi_Menu__%22%20in%20window%29%29%20%7B%0A%09%09%09window.__Custom_Buttons_Multi_Menu__%20%3D%20%7B%0A%09%09%09%09ButtonsIDs%3A%20%5B%5D%2C%0A%09%09%09%09hotkeyPressed%3A%20function%28aAnchor%29%20%7B%0A%09%09%09%09%09%24.hotkeyPressed%28aAnchor%29%3B%0A%09%09%09%09%7D%2C%0A%09%09%09%09CreateItems%3A%20function%28aBtn%29%20%7B%0A%09%09%09%09%09%24.loadFromFile%28aBtn%29%3B%0A%09%09%09%09%7D%2C%0A%09%09%09%7D%3B%0A%09%09%7D%0A%09%09window.__Custom_Buttons_Multi_Menu__.hotkeyPressed%20%3D%20function%28aAnchor%29%20%7B%0A%09%09%09%24.hotkeyPressed%28aAnchor%29%3B%0A%09%09%7D%3B%0A%0A%09%09window.__Custom_Buttons_Multi_Menu__.CreateItems%20%3D%20function%28aBtn%29%20%7B%0A%09%09%09%24.loadFromFile%28aBtn%29%3B%0A%09%09%7D%3B%0A%0A%09%09if%20%28%21%28%22Services%22%20in%20window%29%29%0A%09%09%09Cu.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0A%0A%09%09if%20%28%21%28%22OS%22%20in%20window%29%29%0A%09%09%09Cu.import%28%22resource%3A//gre/modules/osfile.jsm%22%29%3B%0A%0A%09%09if%20%28%21%28%22AddonManager%22%20in%20window%29%29%0A%09%09%09Cu.import%28%22resource%3A//gre/modules/AddonManager.jsm%22%29%3B%0A%0A%09%09%24.initPrefs%28%29%3B%0A%0A%09%09if%20%28%21%28%24._UID%20in%20window%29%29%20%7B%0A%09%09%09window%5B%24._UID%5D%20%3D%20%7B%0A%09%09%09%09CustomizableUI%3A%20false%2C%0A%09%09%09%09StyleSheet%3A%20false%2C%0A%09%09%09%09ThereIsAPopupOpened%3A%20null%2C%0A%09%09%09%09Preferences%3A%20%7B%7D%2C%0A%09%09%09%7D%3B%0A%09%09%7D%0A%0A%09%09for%20%28let%20p%20in%20%24.DefPrefs%29%20%7B%0A%09%09%09if%20%28%24.DefPrefs.hasOwnProperty%28p%29%29%0A%09%09%09%09window%5B%24._UID%5D%5B%22Preferences%22%5D%5Bp%5D%20%3D%20%24.gPref%28p%29%3B%0A%09%09%7D%0A%0A%09%09%24._%20%3D%20window%5B%24._UID%5D%5B%22Preferences%22%5D%3B%0A%0A%09%09%24.handlePrefObserver%28%29%3B%0A%09%09%24.dealWithNavigator%28%29%3B%0A%09%09%24.createMainElements%28%29%3B%0A%09%09%24.handleCSS%28%29%3B%0A%0A%09%09if%20%28%22CustomizableUI%22%20in%20window%29%20%7B%0A%09%09%09if%20%28%21window%5B%24._UID%5D%5B%22CustomizableUI%22%5D%29%20%7B%0A%09%09%09%09window%5B%24._UID%5D%5B%22CustomizableUI%22%5D%20%3D%20true%3B%0A%09%09%09%09CustomizableUI.addListener%28%7B%0A%09%09%09%09%09onCustomizeEnd%3A%20function%28aWindow%29%20%7B%0A%09%09%09%09%09%09Array.prototype.slice.call%28window%5B%22__Custom_Buttons_Multi_Menu__%22%5D%5B%22ButtonsIDs%22%5D%29.forEach%28function%28aID%29%20%7B%0A%09%09%09%09%09%09%09let%20thisBtn%20%3D%20aWindow.document.getElementById%28%22custombuttons-button%22%20+%20aID%29%3B%0A%09%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09%09aWindow%5B%24._UID%5D%5B%22CustomizableUI%22%5D%20%26%26%20thisBtn.init%28%29%3B%0A%09%09%09%09%09%09%09%7D%2C%20%24.delay%29%3B%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%0A%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%24.loadFromFile%28self%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%0A%09%09addDestructor%28function%28aReason%29%20%7B%0A%09%09%09if%20%28aReason%20%3D%3D%3D%20%22destructor%22%20%7C%7C%20aReason%20%3D%3D%3D%20%22update%22%20%7C%7C%20aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09%09%09%24.handleCSS%28%29%3B%0A%09%09%09%7D%0A%09%09%09if%20%28aReason%20%3D%3D%3D%20%22update%22%20%7C%7C%20aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09%09%09%24.handlePrefObserver%28true%29%3B%0A%09%09%09%09let%20selfEls%20%3D%20document.getElementsByAttribute%28%22cb_id%22%2C%20%24._UID%29%3B%0A%09%09%09%09Array.prototype.slice.call%28selfEls%29.forEach%28function%28aEl%29%20%7B%20//%20Delete%20all%20elements%20created%20by%20this%20button.%0A%09%09%09%09%09aEl%20%26%26%20aEl.parentNode.removeChild%28aEl%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%0A%09%09%09if%20%28aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09%09%09%28Services.prefs.getBranch%28%24.Branch%29%29.deleteBranch%28%22%22%29%3B%0A%09%09%09%09Services.prefs.savePrefFile%28null%29%3B%0A%09%09%09%09delete%20window%5B%24._UID%5D%3B%0A%09%09%09%7D%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%0A%09dealWithNavigator%3A%20function%28%29%20%7B%0A%09%09if%20%28%22gBrowser%22%20in%20window%29%0A%09%09%09return%20true%3B%0A%09%09%24._.pURLItemLeftClickWhere%20%3C%3D%203%20%26%26%20%24.sPref%28%22pURLItemLeftClickWhere%22%2C%204%29%3B%0A%09%09%24._.pURLItemLeftCtrlClickWhere%20%3C%3D%203%20%26%26%20%24.sPref%28%22pURLItemLeftCtrlClickWhere%22%2C%206%29%3B%0A%09%09%24._.pURLItemLeftShiftClickWhere%20%3C%3D%203%20%26%26%20%24.sPref%28%22pURLItemLeftShiftClickWhere%22%2C%206%29%3B%0A%09%09%24._.pURLItemMiddleClickWhere%20%3C%3D%203%20%26%26%20%24.sPref%28%22pURLItemMiddleClickWhere%22%2C%206%29%3B%0A%09%09%24._.pURLItemRightClickWhere%20%3C%3D%203%20%26%26%20%24.sPref%28%22pURLItemRightClickWhere%22%2C%205%29%3B%0A%09%7D%2C%0A%0A%09loadFromFile%3A%20function%28aBtnOrId%2C%20aOpenForEdit%29%20%7B%0A%09%09let%20id%20%3D%20typeof%20aBtnOrId%20%3D%3D%3D%20%22string%22%20%3F%20aBtnOrId%20%3A%20aBtnOrId.id.slice%2820%29%3B%0A%09%09let%20btn%20%3D%20typeof%20aBtnOrId%20%3D%3D%3D%20%22string%22%20%3F%20%24.%24%28%22custombuttons-button%22%20+%20aBtnOrId%29%20%3A%20aBtnOrId%3B%0A%09%09let%20path%20%3D%20OS.Path.join%28%24.storagePath%2C%20%24.itemsFileName%28id%29%29%3B%0A%09%09OS.File.read%28path%29.then%28function%20onSuccess%28aReadData%29%20%7B%0A%09%09%09let%20data%20%3D%20new%20TextDecoder%28%29.decode%28aReadData%29%3B%0A%09%09%09if%20%28data%20%3D%3D%3D%20%22%22%29%20%7B%0A%09%09%09%09%24.createDummyFile%28path%2C%20btn%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09data%20%3D%20JSON.parse%28data%29%3B%0A%09%09%09if%20%28data.length%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%24.createDummyFile%28path%2C%20btn%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09aOpenForEdit%20%3F%0A%09%09%09%09%24.openEditMenuWindow%28btn%2C%20data%2C%20path%29%20%3A%0A%09%09%09%09%24.Creator.init%28btn%2C%20data%5B0%5D%2C%20data%5B1%5D%2C%20data%5B2%5D%2C%20data%5B3%5D%2C%20data%5B4%5D%29%3B%0A%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09//%20Re-declare%20here%20to%20force%20call%20to%20storagePath%20so%20it%20can%20create%20the%20folder%20if%20it%20doesn%27t%20exists.%0A%09%09%09path%20%3D%20OS.Path.join%28%24.storagePath%2C%20%24.itemsFileName%28id%29%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%24.createDummyFile%28path%2C%20btn%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%0A%09createDummyFile%3A%20function%28aPath%2C%20aBtn%29%20%7B%0A%09%09OS.File.writeAtomic%28aPath%2C%20%24.dummyItems%2C%20%7B%0A%09%09%09tmpPath%3A%20aPath%20+%20%22.tmp%22%2C%0A%09%09%09encoding%3A%20%22utf-8%22%0A%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%24.loadFromFile%28aBtn%29%3B%0A%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%24.reportError%28aRejectReason%29%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%0A%09/**%0A%09%20*%20NEVER%20CHANGE%20TO%20%22BRANCH%20OBSERVER%22%21%21%21%21%0A%09%20*%20Works%20like%20absolute%20SHEET%20on%20SeaMonkey%21%21%21%21%0A%09%20*/%0A%09handlePrefObserver%3A%20function%28aRem%29%20%7B%0A%09%09var%20prefs%20%3D%20%24.DefPrefs%3B%0A%09%09for%20%28let%20key%20in%20prefs%29%20%7B%0A%09%09%09let%20pref%20%3D%20%24.Branch%20+%20key%3B%0A%09%09%09if%20%28prefs.hasOwnProperty%28key%29%29%20%7B%0A%09%09%09%09if%20%28aRem%29%0A%09%09%09%09%09Services.prefs.removeObserver%28pref%2C%20%24.prefObserver%2C%20false%29%3B%0A%09%09%09%09else%0A%09%09%09%09%09Services.prefs.addObserver%28pref%2C%20%24.prefObserver%2C%20false%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%0A%09prefObserver%3A%20%7B%0A%09%09observe%3A%20function%28aSubject%2C%20aTopic%2C%20aPStr%29%20%7B%0A%09%09%09if%20%28aTopic%20%3D%3D%3D%20%22nsPref%3Achanged%22%29%20%7B%0A%09%09%09%09let%20prefName%20%3D%20aPStr.slice%28%24.Branch.length%29%3B%0A%09%09%09%09console.info%28prefName%29%3B%0A%09%09%09%09window%5B%24._UID%5D%5B%22Preferences%22%5D%5BprefName%5D%20%3D%20%24.gPref%28prefName%29%3B%0A%09%09%09%09switch%20%28prefName%29%20%7B%0A%09%09%09%09%09case%20%22pStyleForDialogHeaderEnabled%22%3A%0A%09%09%09%09%09case%20%22pStyleForMenuGroupEnabled%22%3A%0A%09%09%09%09%09case%20%22pStyleForMenuGroupReflectCheckedStateEnabled%22%3A%0A%09%09%09%09%09case%20%22pStylePanelConvertionType%22%3A%0A%09%09%09%09%09case%20%22pStyleSheetCustomEnabled%22%3A%0A%09%09%09%09%09case%20%22pStyleSheetCustom%22%3A%0A%09%09%09%09%09case%20%22pStyleInvertContextIcons%22%3A%0A%09%09%09%09%09case%20%22pStyleForOverflowedMenus%22%3A%0A%09%09%09%09%09case%20%22pStyleRemoveMainMenuAccelContainers%22%3A%0A%09%09%09%09%09%09%24.handleCSS%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%09%24._%20%3D%20window%5B%24._UID%5D%5B%22Preferences%22%5D%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%0A%09Creator%3A%20%7B%0A%09%09init%3A%20function%28aBtn%2C%20aBox1%2C%20aBox2%2C%20aBox3%2C%20aBox4%2C%20aBox5%29%20%7B%0A%09%09%09console.info%28%22Init%22%29%3B%0A%09%09%09var%20opt%3B%0A%09%09%09let%20btnOptsPref%20%3D%20%24.Branch%20+%20%22OptionsForButtonID%22%20+%20aBtn.id.slice%2820%29%3B%0A%09%09%09try%20%7B%0A%09%09%09%09var%20btnOpts%20%3D%20%7B%0A%09%09%09%09%09PopupPosition%3A%20%22after_start%22%2C%0A%09%09%09%09%09ShowTooltip%3A%20true%2C%0A%09%09%09%09%09ConsumeOutsideClicks%3A%20false%2C%0A%09%09%09%09%09FlipAttr%3A%20true%2C%0A%09%09%09%09%09MenuOpenOnHover%3A%20false%2C%0A%09%09%09%09%09PopupClass%3A%20%22%22%2C%0A%09%09%09%09%09ButtonClass%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09custombuttons.isPref%28btnOptsPref%2C%20JSON.stringify%28btnOpts%29%29%3B%0A%09%09%09%09opt%20%3D%20JSON.parse%28%24.gCV%28btnOptsPref%2C%20true%29%29%3B%0A%09%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09%09%24.reportError%28aErr%29%3B%0A%09%09%09%7D%20finally%20%7B%0A%09%09%09%09var%20UID%20%3D%20%22multi_menu%22%20+%20aBtn.id.slice%2813%29%3B%0A%09%09%09%09/**%0A%09%09%09%09%20*%20Sick%20of%20double%20initialization%20of%20menu%20type%20buttons.%0A%09%09%09%09%20*%20So%20I%20dropped%20the%20orient%20attribute%20and%20the%20show%20dropmarker%20options.%0A%09%09%09%09%20*/%0A%09%09%09%09aBtn.setAttribute%28%22popup%22%2C%20UID%20+%20%22_main_menupopup%22%29%3B%0A%09%09%09%09var%20mPop%20%3D%20%24.%24%28UID%20+%20%22_main_menupopup%22%29%3B%0A%09%09%09%09mPop%20%26%26%20mPop.parentNode.removeChild%28mPop%29%3B%0A%09%09%09%09mPop%20%3D%20%24.%24CNS%28%22menupopup%22%2C%20%7B%0A%09%09%09%09%09id%3A%20UID%20+%20%22_main_menupopup%22%2C%0A%09%09%09%09%09orient%3A%20%22vertical%22%2C%0A%09%09%09%09%09level%3A%20%22parent%22%2C%0A%09%09%09%09%09class%3A%20%22multi_menu_main_menupopup%22%2C%0A%09%09%09%09%09position%3A%20opt.PopupPosition%2C%0A%09%09%09%09%09consumeoutsideclicks%3A%20opt.ConsumeOutsideClicks%2C%0A%09%09%09%09%09//%20This%20is%20used%20to%20avoid%20CB%20context%20popup.%0A%09%09%09%09%09oncontextmenu%3A%20%22if%28%21event.target.hasOwnProperty%28%27_data%27%29%29return%20false%3B%22%2C%0A%09%09%09%09%09context%3A%20%24._UID%20+%20%22_multimenu_context%22%2C%0A%09%09%09%09%09onpopupshown%3A%20%22this.handleOpenState%28event%2C%20true%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09onpopuphidden%3A%20%22this.handleOpenState%28event%2C%20false%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09onpopupshowing%3A%20%22this.populateMenu%28event%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09onpopuphiding%3A%20%22this.textContent%20%3D%20%27%27%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09onmousedown%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09flip%3A%20%28opt.FlipAttr%20%3F%20%22both%22%20%3A%20%22slide%22%29%2C%0A%09%09%09%09%7D%29%3B%0A%0A%09%09%09%09%28opt.PopupClass%20%21%3D%3D%20%22%22%29%20%26%26%20mPop.classList.add%28opt.PopupClass%29%3B%0A%09%09%09%09%28opt.ButtonClass%20%21%3D%3D%20%22%22%29%20%26%26%20aBtn.classList.add%28opt.ButtonClass%29%3B%0A%0A%09%09%09%09mPop.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09if%20%28aE.target%20%3D%3D%3D%20this%20%7C%7C%20aE.target.parentNode%20%3D%3D%3D%20this%29%20%7B%0A%09%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%09window%5B%24._UID%5D%5B%22ThereIsAPopupOpened%22%5D.hidePopup%28%29%3B%0A%09%09%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%7D%3B%0A%0A%09%09%09%09mPop.handleOpenState%20%3D%20function%28aE%2C%20aState%29%20%7B%0A%09%09%09%09%09if%20%28aState%29%0A%09%09%09%09%09%09aBtn.setAttribute%28%22open%22%2C%20aState%29%3B%0A%09%09%09%09%09else%0A%09%09%09%09%09%09aBtn.removeAttribute%28%22open%22%29%3B%0A%09%09%09%09%09Array.prototype.slice.call%28this.getElementsByAttribute%28%22data-cmd%22%2C%20%22*%22%29%29.forEach%28function%28aMI%29%20%7B%0A%09%09%09%09%09%09aMI.cb_button%20%3D%20aBtn%3B%0A%09%09%09%09%09%7D%29%3B%0A%0A%09%09%09%09%09if%20%28aE.type%20%3D%3D%3D%20%22popuphidden%22%29%20%7B%0A%09%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%09window%5B%24._UID%5D%5B%22ThereIsAPopupOpened%22%5D.hidePopup%28%29%3B%0A%09%09%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%7D%0A%09%09%09%09%09%09window%5B%24._UID%5D%5B%22ThereIsAPopupOpened%22%5D%20%3D%20null%3B%0A%09%09%09%09%09%7D%0A%0A%09%09%09%09%09if%20%28aE.type%20%3D%3D%3D%20%22popupshown%22%29%20%7B%0A%09%09%09%09%09%09//%20Sometimes%20the%20dynamic%20tooltip%20is%20freaking%20annoying%21%21%21%21%0A%09%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%09%24.dynTT.hidePopup%28%29%3B%0A%09%09%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%7D%0A%09%09%09%09%09%7D%0A%0A%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09mPop.populateMenu%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09if%20%28%28%21aBox2%20%7C%7C%20%28aBox2%20%26%26%20aBox2.length%20%3C%3D%200%29%29%20%26%26%0A%09%09%09%09%09%09%28%21aBox3%20%7C%7C%20%28aBox3%20%26%26%20aBox3.length%20%3C%3D%200%29%29%20%26%26%0A%09%09%09%09%09%09%28%21aBox4%20%7C%7C%20%28aBox4%20%26%26%20aBox4.length%20%3C%3D%200%29%29%20%26%26%0A%09%09%09%09%09%09%28%21aBox5%20%7C%7C%20%28aBox5%20%26%26%20aBox5.length%20%3C%3D%200%29%29%29%20%7B%0A%09%09%09%09%09%09%24.Creator.createItems%28mPop%2C%20aBox1%29%3B%0A%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09let%20hBox%20%3D%20mPop.appendChild%28%24.%24CNS%28%22hbox%22%29%29%3B%0A%09%09%09%09%09%09let%20box1%20%3D%20hBox.appendChild%28%24.%24CNS%28%22vbox%22%2C%20%7B%0A%09%09%09%09%09%09%09class%3A%20%22multi_menu_menubox_1%22%2C%0A%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09let%20box2%20%3D%20hBox.appendChild%28%24.%24CNS%28%22vbox%22%2C%20%7B%0A%09%09%09%09%09%09%09class%3A%20%22multi_menu_menubox_2%22%2C%0A%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09let%20box3%20%3D%20hBox.appendChild%28%24.%24CNS%28%22vbox%22%2C%20%7B%0A%09%09%09%09%09%09%09class%3A%20%22multi_menu_menubox_3%22%2C%0A%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09let%20box4%20%3D%20hBox.appendChild%28%24.%24CNS%28%22vbox%22%2C%20%7B%0A%09%09%09%09%09%09%09class%3A%20%22multi_menu_menubox_4%22%2C%0A%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09let%20box5%20%3D%20hBox.appendChild%28%24.%24CNS%28%22vbox%22%2C%20%7B%0A%09%09%09%09%09%09%09class%3A%20%22multi_menu_menubox_5%22%2C%0A%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09%28aBox1%20%26%26%20aBox1.length%20%3E%200%29%20%26%26%0A%09%09%09%09%09%09%24.Creator.createItems%28box1%2C%20aBox1%29%3B%0A%09%09%09%09%09%09%28aBox2%20%26%26%20aBox2.length%20%3E%200%29%20%26%26%20%24.Creator.createItems%28box2%2C%20aBox2%29%3B%0A%09%09%09%09%09%09%28aBox3%20%26%26%20aBox3.length%20%3E%200%29%20%26%26%20%24.Creator.createItems%28box3%2C%20aBox3%29%3B%0A%09%09%09%09%09%09%28aBox4%20%26%26%20aBox4.length%20%3E%200%29%20%26%26%20%24.Creator.createItems%28box4%2C%20aBox4%29%3B%0A%09%09%09%09%09%09%28aBox5%20%26%26%20aBox5.length%20%3E%200%29%20%26%26%20%24.Creator.createItems%28box5%2C%20aBox5%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09//%20If%20appended%20to%20the%20button%2C%20consumeoutsideclicks%20works%20like%20SHEET%21%21%21%0A%09%09%09%09if%20%28opt.MenuOpenOnHover%29%0A%09%09%09%09%09aBtn.appendChild%28mPop%29%3B%0A%09%09%09%09else%20//%20If%20appended%20outside%20the%20button%2C%20%22open%20on%20hover%22%20doesn%27t%20work%21%21%21%0A%09%09%09%09%09%24.popSet.appendChild%28mPop%29%3B%0A%09%09%09%09%24.Creator.handleAllButtons%28aBtn.id%2C%20false%29%3B%0A%09%09%09%09%24.Creator.doTheMagic%28aBtn%2C%20opt%2C%20UID%20+%20%22_main_menupopup%22%2C%20btnOptsPref%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%0A%0A%09%09doTheMagic%3A%20function%28aBtn%2C%20aOpt%2C%20aMPopID%2C%20aBtnOptsPref%29%20%7B%0A%09%09%09var%20mPop%20%3D%20%24.%24%28aMPopID%29%3B%0A%0A%09%09%09aBtn.onclick%20%3D%20function%28aE%29%20%7B%20//%20DO%20NOT%20USE%20EVENT%20LISTENER%20HERE%21%21%21%21%0A%09%09%09%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%24.accel%28aE%29%20%26%26%20%21aE.altKey%20%7C%7C%0A%09%09%09%09%09aE.button%20%3D%3D%3D%201%20%26%26%20%21aE.shiftKey%20%26%26%20%21%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09let%20optPop%20%3D%20%24.optPop%3B%0A%09%09%09%09%09%24.populateOptionsPopup%28optPop%2C%20aE.target.id%29%3B%0A%09%09%09%09%09optPop.openPopup%28aE.target%2C%20mPop.position%2C%200%2C%200%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%0A%09%09%09aBtn.oncontextmenu%20%3D%20aBtn.onmousedown%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09if%20%28%24.accel%28aE%29%29%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%0A%09%09%09if%20%28%21%21mPop%20%26%26%20aOpt.MenuOpenOnHover%29%20%7B%0A%09%09%09%09aBtn.openOnHoverTimer%20%3D%200%3B%0A%09%09%09%09aBtn.onmouseover%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09clearTimeout%28aBtn.openOnHoverTimer%29%3B%0A%09%09%09%09%09aBtn.openOnHoverTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09mPop%20%26%26%20mPop.openPopup%28aBtn%2C%20mPop.position%2C%200%2C%200%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%09%09%09%7D%2C%20%24._.pMenuOpenDelay%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09aBtn.onmouseout%20%3D%20mPop.onmouseout%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09%24.hoveringOverMenu%20%3D%20false%3B%0A%09%09%09%09%09clearTimeout%28aBtn.openOnHoverTimer%29%3B%0A%09%09%09%09%09aBtn.openOnHoverTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09if%20%28%28%24.ctxPop%20%26%26%20%24.ctxPop.state%20%21%3D%3D%20%22open%22%29%20%26%26%0A%09%09%09%09%09%09%09%28mPop.state%20%3D%3D%3D%20%22open%22%20%26%26%20%21%24.hoveringOverMenu%20%26%26%20%21window%5B%24._UID%5D%5B%22ThereIsAPopupOpened%22%5D%29%29%0A%09%09%09%09%09%09%09mPop%20%26%26%20mPop.hidePopup%28%29%3B%0A%09%09%09%09%09%7D%2C%20%24._.pMenuCloseDelay%29%3B%0A%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%0A%09%09%09%09%7D%3B%0A%09%09%09%09mPop.onmouseover%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09%24.hoveringOverMenu%20%3D%20true%3B%0A%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09aBtn.onmouseover%20%3D%20mPop.onmouseover%20%3D%20null%3B%0A%09%09%09%09aBtn.onmouseout%20%3D%20mPop.onmouseout%20%3D%20null%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28aOpt.ShowTooltip%29%20%7B%0A%09%09%09%09aBtn.tooltipText%20%3D%20%22%22%3B%0A%09%09%09%09aBtn.setAttribute%28%22tooltip%22%2C%20%24._UID%20+%20%22-dynamic-tooltip%22%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09aBtn.tooltipText%20%3D%20aBtn.name%3B%0A%09%09%09%09aBtn.removeAttribute%28%22tooltip%22%29%3B%0A%09%09%09%7D%0A%0A%09%09%09if%20%28aBtn%20%21%3D%3D%20self%29%20%7B%0A%09%09%09%09//%20Custom%20destructor%20function.%0A%09%09%09%09%24.addDestructor%28function%28aReason%29%20%7B%0A%09%09%09%09%09if%20%28aReason%20%3D%3D%3D%20%22update%22%29%20%7B%0A%09%09%09%09%09%09aBtn.textContent%20%3D%20%22%22%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09if%20%28aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09%09%09%09%09custombuttons.clearPrefs%28aBtnOptsPref%29%3B%0A%09%09%09%09%09%09let%20btnIDs%20%3D%20window%5B%22__Custom_Buttons_Multi_Menu__%22%5D%5B%22ButtonsIDs%22%5D%3B%0A%09%09%09%09%09%09while%20%28btnIDs.indexOf%28aBtn.id.slice%2820%29%29%20%21%3D%3D%20-1%29%20%7B%0A%09%09%09%09%09%09%09btnIDs.splice%28btnIDs.indexOf%28aBtn.id.slice%2820%29%29%2C%201%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%2C%20aBtn%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%0A%0A%09%09/**%0A%09%09%20*%20%22Register%22%20all%20buttons%20IDs%20%28just%20the%20numbers%29%20globally%20to%20be%20handled%20by%20Multi%20Menu%20Companion%20button.%0A%09%09%20*%20Re-init%20all%20Multi%20Menu%20buttons%20%28Master%20and%20slaves%29%20at%20the%20same%20time%20when%20needed.%0A%09%09%20*/%0A%09%09handleAllButtons%3A%20function%28aBtnID%2C%20aReInit%29%20%7B%0A%09%09%09let%20ButtonsIDs%20%3D%20window%5B%22__Custom_Buttons_Multi_Menu__%22%5D%5B%22ButtonsIDs%22%5D%20%7C%7C%20%5B%5D%3B%0A%09%09%09aReInit%20%7C%7C%20ButtonsIDs.push%28aBtnID.slice%2820%29%29%3B%0A%09%09%09var%20UniqueIDs%20%3D%20ButtonsIDs.reduce%28function%28a%2C%20b%29%20%7B%20//%20Remove%20duplicated%20IDs%20if%20any.%20To%20avoid%20re-init%20more%20than%20once%20the%20same%20button.%0A%09%09%09%09if%20%28a.indexOf%28b%29%20%3C%200%29%0A%09%09%09%09%09a.push%28b%29%3B%0A%09%09%09%09return%20a%3B%0A%09%09%09%7D%2C%20%5B%5D%29%3B%0A%09%09%09window%5B%22__Custom_Buttons_Multi_Menu__%22%5D%5B%22ButtonsIDs%22%5D%20%3D%20UniqueIDs%3B%0A%09%09%09if%20%28aReInit%29%20%7B%0A%09%09%09%09//%20Auto-destroy%20%22Master%22%20button%20first.%0A%09%09%09%09self.destroy%28%22update%22%29%3B%0A%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09self.init%28%29%3B%0A%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09//%20Auto-destroy%20all%20the%20%22slaves%22%20in%20last%20place%20randomly.%0A%09%09%09%09let%20reInit%20%3D%20function%28aBtn%2C%20aNotifyme%29%20%7B%0A%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09aBtn.destroy%28%22update%22%29%3B%0A%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09aBtn.init%28%29%3B%0A%09%09%09%09%09%09%09if%20%28aNotifyme%29%20%7B%0A%09%09%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09%09%09%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09%09%09%09%09%09%09centerScreen%3A%20false%2C%0A%09%09%09%09%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%09%09%09%09%24.notifyme%28self.name%2C%20%22All%20Multi%20Menu%20buttons%20re-initialized.%22%2C%0A%09%09%09%09%09%09%09%09%09%09%24.getHelp%28%22%25AlertImg%25%22%29%2C%0A%09%09%09%09%09%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%09%09%09%09%09%7D%2C%202000%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%7D%2C%20%24.delay%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09for%20%28var%20i%20%3D%20UniqueIDs.length%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%20%7B%0A%09%09%09%09%09if%20%28UniqueIDs%5Bi%5D%20%21%3D%3D%20self.id.slice%2820%29%29%20%7B%0A%09%09%09%09%09%09let%20btn%20%3D%20%24.%24%28%22custombuttons-button%22%20+%20UniqueIDs%5Bi%5D%29%3B%0A%09%09%09%09%09%09btn%20%26%26%20reInit%28btn%2C%20i%20%3D%3D%3D%201%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%2C%0A%0A%09%09menuItem%3A%20function%28aItem%2C%20aVal%29%20%7B%0A%09%09%09var%20mI%20%3D%20%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09class%3A%20%22menuitem-iconic%22%2C%0A%09%09%09%7D%29%3B%0A%09%09%09mI.classList.add%28%22multi_menu_item_type_%22%20+%20aItem%5B%22_type_%22%5D%29%3B%0A%09%09%09switch%20%28aItem%5B%22_type_%22%5D%29%20%7B%0A%09%09%09%09case%20%22url%22%3A%0A%09%09%09%09%09mI._data%20%3D%20%7B%0A%09%09%09%09%09%09type%3A%20%22url%22%2C%0A%09%09%09%09%09%09url%3A%20aItem%5B%22_url%22%5D%2C%0A%09%09%09%09%09%09desc%3A%20%28aItem%5B%22tooltiptext%22%5D%20%7C%7C%20%22%22%29%2C%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%24.%24setAttrs%28mI%2C%20%7B%0A%09%09%09%09%09%09label%3A%20aItem%5B%22label%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09image%3A%20aItem%5B%22image%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09tooltip%3A%20%24._UID%20+%20%22-dynamic-tooltip%22%2C%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09mI.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09%09%24.Creator.handleURL%28aItem%5B%22_url%22%5D%20%7C%7C%20%22%22%2C%20aE%2C%20aItem%5B%22_force%22%5D%29%3B%0A%09%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22cb%22%3A%0A%09%09%09%09%09let%20btnID%20%3D%20/%5Ecustombuttons-button%5Cd+/.test%28aItem%5B%22_id%22%5D%29%20%3F%0A%09%09%09%09%09%09aItem%5B%22_id%22%5D%20%3A%0A%09%09%09%09%09%09%22custombuttons-button%22%20+%20aItem%5B%22_id%22%5D%3B%0A%09%09%09%09%09/**%0A%09%09%09%09%09%20*%20Do%20not%20allow%20to%20place%20Multi%20Menu%20master%20button%20inside%20a%20menu.%0A%09%09%09%09%09%20*/%0A%09%09%09%09%09if%20%28btnID%20%3D%3D%3D%20self.id%29%0A%09%09%09%09%09%09return%20false%3B%0A%09%09%09%09%09var%20btn%20%3D%20%7B%0A%09%09%09%09%09%09obj%3A%20%24.%24%28btnID%29%2C%0A%09%09%09%09%09%09lbl%3A%20function%28aBtn%29%20%7B%0A%09%09%09%09%09%09%09return%20aBtn.name%20%7C%7C%20%22Don%27t%20be%20lazy%20and%20NAME%20your%20buttons%21%21%21%22%20%7C%7C%20%22%22%3B%0A%09%09%09%09%09%09%7D%2C%0A%09%09%09%09%09%09img%3A%20function%28aBtn%29%20%7B%0A%09%09%09%09%09%09%09return%20aBtn.image%20%7C%7C%20%24.getImg%28aBtn.getAttribute%28%22cb-stdicon%22%29%29%20%7C%7C%20%22%22%3B%0A%09%09%09%09%09%09%7D%2C%0A%09%09%09%09%09%09ttt%3A%20function%28aBtn%29%20%7B%0A%09%09%09%09%09%09%09return%20aBtn.getAttribute%28%22tooltiptext%22%29%20%7C%7C%20aBtn.name%20%7C%7C%20%22%22%3B%0A%09%09%09%09%09%09%7D%2C%0A%09%09%09%09%09%09check%3A%20function%28aBtn%29%20%7B%0A%09%09%09%09%09%09%09return%20aBtn.checked%20%7C%7C%20/*aBtn.getAttribute%28%22checked%22%29%20%7C%7C*/%20%22%22%3B%0A%09%09%09%09%09%09%7D%2C%0A%09%09%09%09%09%09style%3A%20function%28aBtn%29%20%7B%0A%09%09%09%09%09%09%09return%20aBtn.getAttribute%28%22style%22%29%20%7C%7C%20%22%22%3B%0A%09%09%09%09%09%09%7D%2C%0A%09%09%09%09%09%7D%3B%0A%0A%09%09%09%09%09if%20%28%21btn.obj%29%0A%09%09%09%09%09%09return%20false%3B%0A%09%09%09%09%09mI.btn%20%3D%20btn.obj%3B%0A%09%09%09%09%09let%20setMIAttrs%20%3D%20function%28aMI%2C%20aBtn%29%20%7B%0A%09%09%09%09%09%09%24.%24setAttrs%28aMI%2C%20%7B%0A%09%09%09%09%09%09%09label%3A%20btn.lbl%28aBtn%29%2C%0A%09%09%09%09%09%09%09image%3A%20btn.img%28aBtn%29%2C%0A%09%09%09%09%09%09%09closemenu%3A%20%22none%22%2C%0A%09%09%09%09%09%09%09tooltiptext%3A%20btn.ttt%28aBtn%29%2C%0A%09%09%09%09%09%09%09style%3A%20btn.style%28aBtn%29%2C%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09if%20%28btn.check%28aBtn%29%29%0A%09%09%09%09%09%09%09aMI.setAttribute%28%22_checked%22%2C%20true%29%3B%0A%09%09%09%09%09%09else%0A%09%09%09%09%09%09%09aMI.removeAttribute%28%22_checked%22%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09setMIAttrs%28mI%2C%20btn.obj%29%3B%0A%09%09%09%09%09if%20%28btn.obj.hasAttribute%28%22popup%22%29%29%20%7B%0A%09%09%09%09%09%09mI.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09%09%09if%20%28aE.button%20%21%3D%3D%200%29%0A%09%09%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09%09%09let%20pop%20%3D%20%24.%24%28btn.obj.getAttribute%28%22popup%22%29%29%3B%0A%09%09%09%09%09%09%09if%20%28pop%29%20%7B%0A%09%09%09%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%09%09%09let%20opndPop%20%3D%20window%5B%24._UID%5D%5B%22ThereIsAPopupOpened%22%5D%3B%0A%09%09%09%09%09%09%09%09%09if%20%28opndPop%20%26%26%20opndPop%20%21%3D%3D%20pop%29%20%7B%0A%09%09%09%09%09%09%09%09%09%09opndPop.hidePopup%28%29%3B%0A%09%09%09%09%09%09%09%09%09%09window%5B%24._UID%5D%5B%22ThereIsAPopupOpened%22%5D%20%3D%20null%3B%0A%09%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%7D%20finally%20%7B%0A%09%09%09%09%09%09%09%09%09if%20%28pop.state%20%3D%3D%3D%20%22open%22%29%20%7B%0A%09%09%09%09%09%09%09%09%09%09pop.hidePopup%28%29%3B%0A%09%09%09%09%09%09%09%09%09%09window%5B%24._UID%5D%5B%22ThereIsAPopupOpened%22%5D%20%3D%20null%3B%0A%09%09%09%09%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09%09%09%09%09pop.openPopup%28this%2C%20%22after_start%22%2C%200%2C%200%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%09%09%09%09%09%09%09%09window%5B%24._UID%5D%5B%22ThereIsAPopupOpened%22%5D%20%3D%20pop%3B%0A%09%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09if%20%28aItem%5B%22_advanced%22%5D%29%20%7B%0A%09%09%09%09%09%09for%20%28let%20i%20in%20btn.obj%29%20%7B%0A%09%09%09%09%09%09%09if%20%28%21/moz/.test%28i%29%20%26%26%20%21/onDestroy/.test%28i%29%20%26%26%20%28/%5Eon/.test%28i%29%20%7C%7C%20/click%24/.test%28i%29%29%29%20%7B%0A%09%09%09%09%09%09%09%09if%20%28%21%21btn.obj%5Bi%5D%20%26%26%20%21/%5C%5Bnative%20code%5C%5D/.test%28btn.obj%5Bi%5D.toString%28%29%29%29%20%7B%0A%09%09%09%09%09%09%09%09%09if%20%28btn.obj.hasAttribute%28%22popup%22%29%20%26%26%20i%20%3D%3D%3D%20%22onclick%22%29%0A%09%09%09%09%09%09%09%09%09%09continue%3B%0A%09%09%09%09%09%09%09%09%09mI%5Bi%5D%20%3D%20btn.obj%5Bi%5D%3B%0A%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%09if%20%28%21aItem%5B%22_advanced%22%5D%20%26%26%20%21btn.obj.hasAttribute%28%22popup%22%29%29%20%7B%0A%09%09%09%09%09%09mI.onclick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09%09%09if%20%28aE.button%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09%09%09%09btn.obj.click%28%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09mI.addEventListener%28%22contextmenu%22%2C%20function%28aE%29%20%7B%0A%09%09%09%09%09%09self.MultiMenu.showCBContext%28btn.obj%2C%20this%29%3B%0A%09%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%2C%20true%29%3B%0A%09%09%09%09%09mI.addEventListener%28%22click%22%2C%20function%28aE%29%20%7B%0A%09%09%09%09%09%09let%20that%20%3D%20this%3B%0A%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09setMIAttrs%28that%2C%20that.btn%29%3B%0A%09%09%09%09%09%09%7D%2C%20500%29%3B%0A%09%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%2C%20false%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22pathFull%22%3A%0A%09%09%09%09case%20%22pathRelative%22%3A%0A%09%09%09%09%09%24.%24setAttrs%28mI%2C%20%7B%0A%09%09%09%09%09%09label%3A%20aItem%5B%22label%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09image%3A%20aItem%5B%22image%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09tooltiptext%3A%20aItem%5B%22tooltiptext%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09oncommand%3A%20%24.that%20+%20%22openDir%28this.value1%2C%20this.value2%2C%20this.value3%2C%20this.value4%29%3Bevent.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09mI.value1%20%3D%20aItem%5B%22_const%22%5D%20%7C%7C%20%22pathFull%22%3B%0A%09%09%09%09%09mI.value2%20%3D%20aItem%5B%22_path%22%5D%20%7C%7C%20%22%22%3B%0A%09%09%09%09%09mI.value3%20%3D%20aItem%5B%22_args%22%5D%20%7C%7C%20%5B%5D%3B%0A%09%09%09%09%09mI.value4%20%3D%20parseInt%28aItem%5B%22_go_up%22%5D%2C%2010%29%20%7C%7C%200%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22customMenuItem%22%3A%0A%09%09%09%09%09%24.%24setAttrs%28mI%2C%20%7B%0A%09%09%09%09%09%09label%3A%20aItem%5B%22label%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09image%3A%20aItem%5B%22image%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%22data-cmd%22%3A%20aItem%5B%22_cmd%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09tooltiptext%3A%20aItem%5B%22tooltiptext%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09onclick%3A%20%24.that%20+%20%22executeCode%28event%2C%20this.cb_button%2C%20this.getAttribute%28%27data-cmd%27%29%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22pref%22%3A%0A%09%09%09%09%09let%20pName%20%3D%20aItem%5B%22_prefname%22%5D%3B%0A%09%09%09%09%09var%20pVal%20%3D%20%24.Creator.getPrefVal%28pName%29%3B%0A%09%09%09%09%09pVal%20%3D%20pVal%20%3D%3D%3D%20null%20%3F%20%22Non%20existent%21%21%21%22%20%3A%20pVal.toString%28%29%3B%0A%09%09%09%09%09let%20shortPName%20%3D%20aItem%5B%22_prefname%22%5D%20%3F%0A%09%09%09%09%09%09aItem%5B%22_prefname%22%5D%20%3A%0A%09%09%09%09%09%09%28pName.length%20%3E%20%24._.pPrefLabelMaxLength%29%20%3F%0A%09%09%09%09%09%09pName.slice%280%2C%20%24._.pPrefLabelMaxLength%29%20+%20%22...%22%20%3A%0A%09%09%09%09%09%09pName%3B%0A%09%09%09%09%09let%20pState%20%3D%20%28pVal.length%20%3E%20%24._.pPrefValueMaxLength%29%20%3F%0A%09%09%09%09%09%09pVal.slice%280%2C%20%24._.pPrefValueMaxLength%29%20+%20%22...%22%20%3A%0A%09%09%09%09%09%09pVal%3B%0A%09%09%09%09%09mI._data%20%3D%20%7B%0A%09%09%09%09%09%09desc%3A%20aItem%5B%22tooltiptext%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09type%3A%20%22pref%22%2C%0A%09%09%09%09%09%09prefname%3A%20pName%2C%0A%09%09%09%09%09%09prefvalue%3A%20aItem%5B%22_values%22%5D%2C%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%24.%24setAttrs%28mI%2C%20%7B%0A%09%09%09%09%09%09label%3A%20%28%24._.pPrefLabelType%20%3F%0A%09%09%09%09%09%09%09aItem%5B%22label%22%5D%20%7C%7C%20shortPName%20%3A%0A%09%09%09%09%09%09%09aItem%5B%22label%22%5D%20%7C%7C%20shortPName%20+%20%22%20%20%22%20+%20%22%5B%22%20+%20pState%20+%20%22%5D%22%29%2C%0A%09%09%09%09%09%09acceltext%3A%20%28%24._.pPrefLabelType%20%3F%0A%09%09%09%09%09%09%09%22%5B%22%20+%20pState%20+%20%22%5D%22%20%3A%0A%09%09%09%09%09%09%09%22%22%29%2C%0A%09%09%09%09%09%09closemenu%3A%20%28%28%24.SP.getPrefType%28pName%29%20%3D%3D%3D%20128%20%7C%7C%20aItem%5B%22_values%22%5D.length%20%3E%200%29%20%3F%0A%09%09%09%09%09%09%09%22none%22%20%3A%0A%09%09%09%09%09%09%09%22%22%29%2C%0A%09%09%09%09%09%09%22data-cmd%22%3A%20aItem%5B%22_cmd%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09onclick%3A%20%22this.onClick%28event%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09tooltip%3A%20%24._UID%20+%20%22-dynamic-tooltip%22%2C%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09mI.contextMenuAction%20%3D%20function%28aE%2C%20aAction%29%20%7B%0A%09%09%09%09%09%09switch%20%28aAction%29%20%7B%0A%09%09%09%09%09%09%09case%20%22modifypref%22%3A%0A%09%09%09%09%09%09%09%09%24.Creator.setPref%28pName%2C%20null%2C%20true%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22copypref%22%3A%0A%09%09%09%09%09%09%09%09gClipboard.write%28pName%20+%20%27%3B%27%20+%20pVal%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22copyprefname%22%3A%0A%09%09%09%09%09%09%09%09gClipboard.write%28pName%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22copyprefvalue%22%3A%0A%09%09%09%09%09%09%09%09gClipboard.write%28pVal%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22copyprefasfunction%22%3A%0A%09%09%09%09%09%09%09%09if%20%28%24.SP.getPrefType%20%3D%3D%3D%2032%29%20//%20If%20pref%20type%20is%20string.%0A%09%09%09%09%09%09%09%09%09gClipboard.write%28%27user_pref%28%22%27%20+%20pName%20+%20%27%22%2C%20%22%27%20+%20pVal%20+%20%27%22%29%3B%27%29%3B%0A%09%09%09%09%09%09%09%09else%20//%20If%20pref%20type%20is%20boolean%20or%20integer.%0A%09%09%09%09%09%09%09%09%09gClipboard.write%28%27user_pref%28%22%27%20+%20pName%20+%20%27%22%2C%20%27%20+%20pVal%20+%20%27%29%3B%27%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22togglelockedpref%22%3A%0A%09%09%09%09%09%09%09%09if%20%28%24.SP.prefIsLocked%28pName%29%29%20%7B%0A%09%09%09%09%09%09%09%09%09%24.SP.unlockPref%28pName%29%3B%0A%09%09%09%09%09%09%09%09%09%24.SP.savePrefFile%28null%29%3B%0A%09%09%09%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09%09%09%09%24.SP.lockPref%28pName%29%3B%0A%09%09%09%09%09%09%09%09%09%24.SP.savePrefFile%28null%29%3B%0A%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%09%24.Creator.setPrefItemClass%28mI%2C%20pName%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22resetpref%22%3A%0A%09%09%09%09%09%09%09%09if%20%28%24._.pPrefResetConfirmation%29%20%7B%0A%09%09%09%09%09%09%09%09%09let%20msg%20%3D%20%22Are%20you%20sure%20you%20want%20to%20reset%20the%20preference%20%5C%22%22%20+%0A%09%09%09%09%09%09%09%09%09%09pName%20+%20%22%5C%22%20to%20its%20%22%20+%0A%09%09%09%09%09%09%09%09%09%09%22default%20value%3F%5Cn%5CnThere%20is%20no%20coming%20back%20from%20this%21%21%21%5Cn%5Cn%22%20+%0A%09%09%09%09%09%09%09%09%09%09%22Click%20%27Yes%27%20to%20proceed.%5Cn%22%20+%0A%09%09%09%09%09%09%09%09%09%09%22Click%20%27Cancel%27%20to%20abort.%5Cn%22%3B%0A%09%09%09%09%09%09%09%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09%09%09%09%09%09%09%09if%20%28cBox%29%20%7B%0A%09%09%09%09%09%09%09%09%09%09%24.SP.clearUserPref%28pName%29%3B%0A%09%09%09%09%09%09%09%09%09%09%24.SP.savePrefFile%28null%29%3B%0A%09%09%09%09%09%09%09%09%09%7D%20else%0A%09%09%09%09%09%09%09%09%09%09return%3B%0A%09%09%09%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09%09%09%09%24.SP.clearUserPref%28pName%29%3B%0A%09%09%09%09%09%09%09%09%09%24.SP.savePrefFile%28null%29%3B%0A%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09%24.Creator.updatePrefMI%28mI%2C%20pName%29%3B%0A%09%09%09%09%09%09%7D%2C%2050%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09mI.onClick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09%09if%20%28aE.button%20%3D%3D%3D%202%29%0A%09%09%09%09%09%09%09return%20false%3B%0A%09%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%0A%09%09%09%09%09%09%09%24.Creator.setPref%28pName%2C%20aItem%5B%22_values%22%5D%29%3B%0A%09%09%09%09%09%09else%20if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%0A%09%09%09%09%09%09%09%24.Creator.setPref%28pName%2C%20aItem%5B%22_values%22%5D%2C%20false%2C%20true%29%3B%0A%09%09%09%09%09%09%24.Creator.updatePrefMI%28this%2C%20pName%29%3B%0A%09%09%09%09%09%09let%20cmd%20%3D%20this.getAttribute%28%22data-cmd%22%29%3B%0A%09%09%09%09%09%09if%20%28cmd%20%21%3D%3D%20%22%22%29%20%7B%0A%09%09%09%09%09%09%09let%20btn%20%3D%20this.cb_button%3B%0A%09%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09%09%24.executeCode%28aE%2C%20btn%2C%20cmd%29%3B%0A%09%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%24.Creator.setPrefItemClass%28mI%2C%20pName%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%09return%20mI%3B%0A%09%09%7D%2C%0A%0A%09%09createItems%3A%20function%28aBox%2C%20aArr%29%20%7B%0A%09%09%09Array.prototype.slice.call%28aArr%29.forEach%28function%28aItem%29%20%7B%0A%09%09%09%09switch%20%28aItem%5B%22_type_%22%5D%29%20%7B%0A%09%09%09%09%09case%20%22menuseparator%22%3A%0A%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22menuseparator%22%29%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22spacer%22%3A%0A%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22spacer%22%2C%20%7B%0A%09%09%09%09%09%09%09flex%3A%20parseInt%28aItem%5B%22flex%22%5D%2C%2010%29%20%7C%7C%200%0A%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22dialogheader%22%3A%0A%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22dialogheader%22%2C%20%7B%0A%09%09%09%09%09%09%09title%3A%20aItem%5B%22title%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%09description%3A%20aItem%5B%22description%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22menuGroup%22%3A%0A%09%09%09%09%09%09let%20mG%20%3D%20aBox.appendChild%28%24.%24CNS%28%22menugroup%22%2C%20%7B%0A%09%09%09%09%09%09%09orient%3A%20aItem%5B%22orient%22%5D%20%7C%7C%20%22horizontal%22%0A%09%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%09%09%24.Creator.createItems%28mG%2C%20aItem%5B%22_items%22%5D%20%7C%7C%20%5B%5D%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22addon%22%3A%0A%09%09%09%09%09%09switch%20%28aItem%5B%22_type_or_id%22%5D%29%20%7B%0A%09%09%09%09%09%09%09case%20%22extension%22%3A%0A%09%09%09%09%09%09%09%09%24.Creator.createAddonMenu%28aItem%5B%22_type_or_id%22%5D%2C%0A%09%09%09%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22vbox%22%29%29%2C%0A%09%09%09%09%09%09%09%09%09aItem%5B%22_filter%22%5D%20%7C%7C%20%22%22%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22theme%22%3A%0A%09%09%09%09%09%09%09%09%24.Creator.createAddonMenu%28aItem%5B%22_type_or_id%22%5D%2C%0A%09%09%09%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22vbox%22%29%29%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22plugin%22%3A%0A%09%09%09%09%09%09%09%09%24.Creator.createAddonMenu%28aItem%5B%22_type_or_id%22%5D%2C%0A%09%09%09%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22vbox%22%29%29%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22userstyle%22%3A%20//%20Stylish%20add-on%0A%09%09%09%09%09%09%09%09%24.Creator.addonExistence%28%22%7B46551EC9-40F0-4e47-8E18-8E5CF550CFB8%7D%22%2C%0A%09%09%09%09%09%09%09%09%09aItem%5B%22_type_or_id%22%5D%2C%0A%09%09%09%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22vbox%22%29%29%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22greasemonkey-user-script%22%3A%20//%20GreaseMonkey%20add-on%0A%09%09%09%09%09%09%09%09%24.Creator.addonExistence%28%22%7Be4a8a97b-f2ed-450b-b12d-ee082ba24781%7D%22%2C%0A%09%09%09%09%09%09%09%09%09aItem%5B%22_type_or_id%22%5D%2C%0A%09%09%09%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22vbox%22%29%29%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09case%20%22userscript%22%3A%20//%20Scriptish%20add-on%0A%09%09%09%09%09%09%09%09%24.Creator.addonExistence%28%22scriptish@erikvold.com%22%2C%0A%09%09%09%09%09%09%09%09%09aItem%5B%22_type_or_id%22%5D%2C%0A%09%09%09%09%09%09%09%09%09aBox.appendChild%28%24.%24CNS%28%22vbox%22%29%29%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09default%3A%0A%09%09%09%09%09%09%09%09let%20vBox%20%3D%20aBox.appendChild%28%24.%24CNS%28%22vbox%22%29%29%3B%0A%09%09%09%09%09%09%09%09AddonManager.getAddonByID%28aItem%5B%22_type_or_id%22%5D%2C%20function%28aAddon%29%20%7B%0A%09%09%09%09%09%09%09%09%09if%20%28aAddon%29%0A%09%09%09%09%09%09%09%09%09%09vBox.appendChild%28%24.Creator.createAddonItem%28aAddon%2C%20true%29%29%3B%0A%09%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22clonedMenuItem%22%3A%0A%09%09%09%09%09%09let%20mI%20%3D%20%24.%24%28aItem%5B%22_id%22%5D%29%3B%0A%09%09%09%09%09%09if%20%28mI%20%26%26%20mI.nodeName%20%3D%3D%3D%20%22menuitem%22%29%20%7B%0A%09%09%09%09%09%09%09let%20clone%20%3D%20mI.cloneNode%28true%29%3B%0A%09%09%09%09%09%09%09%24.%24setAttrs%28clone%2C%20%7B%0A%09%09%09%09%09%09%09%09id%3A%20mI.getAttribute%28%22id%22%29%20+%20%22-cloned-by-%22%20+%20%24._UID%2C%0A%09%09%09%09%09%09%09%09image%3A%20aItem%5B%22image%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%09%09tooltiptext%3A%20aItem%5B%22tooltiptext%22%5D%20%7C%7C%20%22%22%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%09clone.classList.add%28%22menuitem-iconic%22%2C%20%22multi_menu_item_type_clonedMenuItem%22%29%3B%0A%09%09%09%09%09%09%09aBox.appendChild%28clone%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22clonedMenu%22%3A%0A%09%09%09%09%09%09let%20eM%20%3D%20%24.%24%28aItem%5B%22_id%22%5D%29%3B%0A%09%09%09%09%09%09if%20%28eM%20%26%26%20eM.nodeName%20%3D%3D%3D%20%22menu%22%29%20%7B%0A%09%09%09%09%09%09%09let%20clone%20%3D%20eM.cloneNode%28true%29%3B%0A%09%09%09%09%09%09%09%24.%24setAttrs%28clone%2C%20%7B%0A%09%09%09%09%09%09%09%09id%3A%20eM.getAttribute%28%22id%22%29%20+%20%22-cloned-by-%22%20+%20%24._UID%2C%0A%09%09%09%09%09%09%09%09image%3A%20aItem%5B%22image%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%09%09tooltiptext%3A%20aItem%5B%22tooltiptext%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%09%09%22data-cmd%22%3A%20aItem%5B%22_cmd%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%09%09onclick%3A%20%24.that%20+%20%22executeCode%28event%2C%20this.cb_button%2C%20this.getAttribute%28%27data-cmd%27%29%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%09clone.setAttribute%28%22id%22%2C%20eM.id%20+%20%22-cloned-by-%22%20+%20%24._UID%29%3B%0A%09%09%09%09%09%09%09%5B%22popupshown%22%2C%20%22popuphidden%22%2C%20%22popupshowing%22%2C%20%22popuphiding%22%2C%20%22contextmenu%22%5D.forEach%28function%28aEvt%29%20%7B%0A%09%09%09%09%09%09%09%09clone.addEventListener%28aEvt%2C%20function%28aE%29%20%7B%0A%09%09%09%09%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09%09%09%09%7D%2C%20false%29%3B%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%09let%20cChilds%20%3D%20clone.getElementsByAttribute%28%22id%22%2C%20%22*%22%29%3B%0A%09%09%09%09%09%09%09let%20iLen%20%3D%20cChilds.length%3B%0A%09%09%09%09%09%09%09for%20%28let%20i%20%3D%20iLen%20-%201%3B%20i%20%3E%3D%200%3B%20i--%29%0A%09%09%09%09%09%09%09%09cChilds%5Bi%5D.id%20%3D%20cChilds%5Bi%5D.id%20+%20%22-cloned-by-%22%20+%20%24._UID%3B%0A%09%09%09%09%09%09%09clone.classList.add%28%22menu-iconic%22%2C%20%22multi_menu_item_type_clonedMenu%22%29%3B%0A%09%09%09%09%09%09%09aBox.appendChild%28clone%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22customMenu%22%3A%0A%09%09%09%09%09%09let%20m%20%3D%20%24.%24CNS%28%22menu%22%2C%20%7B%0A%09%09%09%09%09%09%09label%3A%20aItem%5B%22label%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%09class%3A%20%22multi_menu_item_type_customMenu%20menu-iconic%22%2C%0A%09%09%09%09%09%09%09%22data-cmd%22%3A%20aItem%5B%22_cmd%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%09onclick%3A%20%24.that%20+%20%22executeCode%28event%2C%20this.cb_button%2C%20this.getAttribute%28%27data-cmd%27%29%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09%09image%3A%20aItem%5B%22image%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%09tooltiptext%3A%20aItem%5B%22tooltiptext%22%5D%20%7C%7C%20%22%22%2C%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09let%20mPop%20%3D%20%24.%24CNS%28%22menupopup%22%2C%20%7B%0A%09%09%09%09%09%09%09//%20orient%3A%20%22horizontal%22%2C%0A%09%09%09%09%09%09%09onclick%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09%09onpopupshown%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09%09onpopuphidden%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09%09onpopupshowing%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09%09onpopuphiding%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09%09oncontextmenu%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09%09%09%09consumeoutsideclicks%3A%20false%2C%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09mPop%20%3D%20%24.Creator.createItems%28mPop%2C%20aItem%5B%22_items%22%5D%20%7C%7C%20%5B%5D%29%3B%0A%09%09%09%09%09%09m.appendChild%28mPop%29%3B%0A%09%09%09%09%09%09aBox.appendChild%28m%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22pref%22%3A%0A%09%09%09%09%09case%20%22customMenuItem%22%3A%0A%09%09%09%09%09case%20%22url%22%3A%0A%09%09%09%09%09case%20%22pathRelative%22%3A%0A%09%09%09%09%09case%20%22pathFull%22%3A%0A%09%09%09%09%09case%20%22cb%22%3A%0A%09%09%09%09%09%09let%20itemCreated%20%3D%20%24.Creator.menuItem%28aItem%29%3B%0A%09%09%09%09%09%09itemCreated%20%26%26%20aBox.appendChild%28itemCreated%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%29%3B%0A%09%09%09return%20aBox%3B%0A%09%09%7D%2C%0A%0A%09%09//START//%20Add-ons%20functions%0A%09%09addonExistence%3A%20function%28aId%2C%20aType%2C%20aBox%29%20%7B%0A%09%09%09AddonManager.getAddonByID%28aId%2C%20function%28a%29%20%7B%0A%09%09%09%09if%20%28a%20%26%26%20a.isActive%29%0A%09%09%09%09%09%24.Creator.createAddonMenu%28aType%2C%20aBox%29%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%2C%0A%0A%09%09createAddonMenu%3A%20function%28aType%2C%20aBox%2C%20aFilter%29%20%7B%0A%09%09%09AddonManager.getAddonsByTypes%28%5BaType%5D%2C%20function%28aList%29%20%7B%0A%09%09%09%09var%20addonList%20%3D%20aList.filter%28function%28a%29%20%7B%0A%09%09%09%09%09let%20ops%20%3D%20a.operationsRequiringRestart%3B%0A%09%09%09%09%09if%20%28aFilter%20%3D%3D%3D%20%22restartless%22%29%0A%09%09%09%09%09%09return%20%21a.appDisabled%20%26%26%20%21%28ops%20%26%20AddonManager.OP_NEEDS_RESTART_ENABLE%20%7C%7C%0A%09%09%09%09%09%09%09ops%20%26%20AddonManager.OP_NEEDS_RESTART_DISABLE%29%3B%0A%09%09%09%09%09else%20if%20%28aFilter%20%3D%3D%3D%20%22normal%22%29%0A%09%09%09%09%09%09return%20%21a.appDisabled%20%26%26%20%28ops%20%26%20AddonManager.OP_NEEDS_RESTART_ENABLE%20%7C%7C%0A%09%09%09%09%09%09%09ops%20%26%20AddonManager.OP_NEEDS_RESTART_DISABLE%29%3B%0A%09%09%09%09%09else%0A%09%09%09%09%09%09return%20%21a.appDisabled%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%09addonList.sort%28function%28a%2C%20b%29%20%7B%0A%09%09%09%09%09var%20ka%20%3D%20%28%24._.pAddonsSortByEnabled%20%26%26%20aType%20%21%3D%3D%20%22theme%22%29%20%3F%0A%09%09%09%09%09%09a.isActive%20%3F%0A%09%09%09%09%09%090%20+%20%22%5Cn%22%20+%20a.name.toLowerCase%28%29%20%3A%0A%09%09%09%09%09%091%20+%20%22%5Cn%22%20+%20a.name.toLowerCase%28%29%20%3A%0A%09%09%09%09%09%09a.name.toLowerCase%28%29%3B%0A%09%09%09%09%09var%20kb%20%3D%20%28%24._.pAddonsSortByEnabled%20%26%26%20aType%20%21%3D%3D%20%22theme%22%29%20%3F%0A%09%09%09%09%09%09b.isActive%20%3F%0A%09%09%09%09%09%090%20+%20%22%5Cn%22%20+%20b.name.toLowerCase%28%29%20%3A%0A%09%09%09%09%09%091%20+%20%22%5Cn%22%20+%20b.name.toLowerCase%28%29%20%3A%0A%09%09%09%09%09%09b.name.toLowerCase%28%29%3B%0A%09%09%09%09%09return%20ka%20%3D%3D%3D%20kb%20%3F%200%20%3A%20ka%20%3C%20kb%20%3F%20-1%20%3A%201%3B%0A%09%09%09%09%7D%29.forEach%28function%28a%29%20%7B%0A%09%09%09%09%09var%20addon%20%3D%20%24.Creator.createAddonItem%28a%2C%20false%29%3B%0A%09%09%09%09%09addon%20%26%26%20aBox.appendChild%28addon%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%2C%0A%0A%09%09createAddonItem%3A%20function%28a%2C%20aUnique%29%20%7B%0A%09%09%09var%20lbl%3B%0A%09%09%09var%20isHidden%20%3D%20aUnique%20%3F%20false%20%3A%20%24.Creator.blackListAddon%28a.id%2C%20true%29%3B%0A%09%09%09if%20%28isHidden%20%26%26%20%21%24._.pShowBlacklistedAddons%29%0A%09%09%09%09return%20false%3B%0A%09%09%09if%20%28a.isSystem%29%20//%20Do%20not%20list%20%22system%20add-ons%22.%20%AC%AC%0A%09%09%09%09return%20false%3B%0A%0A%09%09%09switch%20%28%24._.pAddonsVersion%29%20%7B%0A%09%09%09%09case%200%3A%20//%20Do%20not%20show%20version%0A%09%09%09%09case%202%3A%20//%20Show%20as%20acceltext%0A%09%09%09%09%09lbl%20%3D%20a.name%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%201%3A%20//%20Show%20as%20part%20of%20the%20label%0A%09%09%09%09%09lbl%20%3D%20a.name%20+%20%22%20%22%20+%20a.version%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%0A%09%09%09var%20isTheme%20%3D%20%28a.type%20%3D%3D%3D%20%22theme%22%29%3B%0A%09%09%09var%20mI%20%3D%20%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20lbl%2C%0A%09%09%09%09type%3A%20%28isTheme%20%3F%20%22radio%22%20%3A%20%22%22%29%2C%0A%09%09%09%09name%3A%20%28isTheme%20%3F%20%22theme%22%20%3A%20%22%22%29%2C%0A%09%09%09%09tooltip%3A%20%24._UID%20+%20%22-dynamic-tooltip%22%2C%0A%09%09%09%09acceltext%3A%20%28%28%24._.pAddonsVersion%20%3D%3D%3D%202%29%20%3F%20a.version%20%3A%20%22%22%29%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_item_type_addon%22%2C%0A%09%09%09%09closemenu%3A%20%28%24._.pAddonsAutoCloseMenu%20%3F%20%22auto%22%20%3A%20%22none%22%29%2C%0A%09%09%09%09hidden%3A%20%28%24._.pShowBlacklistedAddons%20%3F%20%22%22%20%3A%20isHidden%29%2C%0A%09%09%09%09oncommand%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onclick%3A%20%22this.onClick%28event%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09checked%3A%20%28isTheme%20%3F%20%21a.userDisabled%20%3A%20%22%22%29%2C%0A%09%09%09%09image%3A%20%28isTheme%20%3F%20%22%22%20%3A%20%28a.iconURL%20%7C%7C%20a.icon64URL%20%7C%7C%0A%09%09%09%09%09a.type%20%3D%3D%3D%20%22extension%22%20%26%26%20%22chrome%3A//mozapps/skin/extensions/extensionGeneric-16.png%22%20%7C%7C%0A%09%09%09%09%09a.type%20%3D%3D%3D%20%22plugin%22%20%26%26%20%22chrome%3A//mozapps/skin/plugins/pluginGeneric-16.png%22%20%7C%7C%20%22%22%29%29%2C%0A%09%09%09%7D%29%3B%0A%09%09%09mI.classList.add%28%22addon_type_%22%20+%20a.type%29%3B%0A%09%09%09mI._data%20%3D%20%7B%0A%09%09%09%09creator%3A%20%28%28a.creator%20%26%26%20a.creator.name%29%20%3F%20a.creator.name%20%3A%20%22%22%29%2C%0A%09%09%09%09desc%3A%20%28a.description%20%3F%20a.description%20%3A%20%22%22%29%2C%0A%09%09%09%09type%3A%20a.type%2C%0A%09%09%09%09id%3A%20a.id%2C%0A%09%09%09%09updDate%3A%20new%20Date%28a.updateDate%29.toDateString%28%29%2C%0A%09%09%09%09unique%3A%20aUnique%2C%0A%09%09%09%09version%3A%20a.version%2C%0A%09%09%09%7D%3B%0A%09%09%09var%20toggleAddon%20%3D%20function%28%29%20%7B%0A%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22plugin%22%29%0A%09%09%09%09%09%24.Creator.setNewDisabled%28a%29%3B%0A%09%09%09%09else%0A%09%09%09%09%09a.userDisabled%20%3D%20%21a.userDisabled%3B%0A%09%09%09%09%24.Creator.setAddonItemClass%28a%2C%20mI%2C%20true%29%3B%0A%09%09%09%7D%3B%0A%0A%09%09%09mI.contextMenuAction%20%3D%20function%28aE%2C%20aAction%29%20%7B%0A%09%09%09%09switch%20%28aAction%29%20%7B%0A%09%09%09%09%09case%20%22options%22%3A%0A%09%09%09%09%09%09%24.Creator.openAddonOptions%28a%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22toggle%22%3A%0A%09%09%09%09%09%09toggleAddon%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22backlist%22%3A%0A%09%09%09%09%09%09%24.Creator.blackListAddon%28a.id%29%3B%0A%09%09%09%09%09%09%24.Creator.setAddonItemClass%28a%2C%20mI%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22homepage%22%3A%0A%09%09%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22extension%22%20%7C%7C%0A%09%09%09%09%09%09%09a.type%20%3D%3D%3D%20%22theme%22%29%20%7B%0A%09%09%09%09%09%09%09%24.Creator.getAMOPage%28a%2C%20function%28aAMOPage%29%20%7B%0A%09%09%09%09%09%09%09%09aAMOPage%20%26%26%20%24.Creator.openURL%28aAMOPage%2C%203%2C%20true%2C%20aE%29%3B%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%7D%20else%20if%20%28a.type%20%3D%3D%3D%20%22greasemonkey-user-script%22%20%7C%7C%0A%09%09%09%09%09%09%09a.type%20%3D%3D%3D%20%22userscript%22%29%20%7B%0A%09%09%09%09%09%09%09let%20installPage%20%3D%20%24.Creator.getInstallURL%28a%29%3B%0A%09%09%09%09%09%09%09installPage%20%26%26%20%24.Creator.openURL%28installPage%2C%203%2C%20true%2C%20aE%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22copyid%22%3A%0A%09%09%09%09%09%09gClipboard.write%28a.id%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22remove%22%3A%0A%09%09%09%09%09%09let%20uniState%20%3D%20%24.Creator.isPending%28a%2C%20%22uninstall%22%29%3B%0A%09%09%09%09%09%09let%20rem%20%3D%20function%28%29%20%7B%0A%09%09%09%09%09%09%09if%20%28uniState%29%0A%09%09%09%09%09%09%09%09a.cancelUninstall%28%29%3B%0A%09%09%09%09%09%09%09else%0A%09%09%09%09%09%09%09%09a.uninstall%28%29%3B%0A%09%09%09%09%09%09%09%24.Creator.setAddonItemClass%28a%2C%20mI%29%3B%0A%09%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%09if%20%28%24.accel%28aE%29%29%20%7B%0A%09%09%09%09%09%09%09rem%28%29%3B%0A%09%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20%22Are%20you%20sure%20you%20want%20to%20%22%20+%0A%09%09%09%09%09%09%09%09%28uniState%20%3F%20%22cancel%20the%20removal%20of%20%22%20%3A%20%22uninstall%20%22%29%20+%0A%09%09%09%09%09%09%09%09a.name%20+%20%22%3F%22%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09%09%09%09%09%09if%20%28cBox%29%20%7B%0A%09%09%09%09%09%09%09%09rem%28%29%3B%0A%09%09%09%09%09%09%09%7D%20else%0A%09%09%09%09%09%09%09%09return%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22edit%22%3A%0A%09%09%09%09%09%09%28a.type%20%3D%3D%3D%20%22greasemonkey-user-script%22%29%20%26%26%20GM_util.openInEditor%28a._script%29%3B%0A%09%09%09%09%09%09%28a.type%20%3D%3D%3D%20%22userscript%22%29%20%26%26%20Scriptish_openInEditor%28a%2C%20window%29%3B%0A%09%09%09%09%09%09%28a.type%20%3D%3D%3D%20%22userstyle%22%29%20%26%26%20stylishCommon.openEditForId%28a.id%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22inspect%22%3A%0A%09%09%09%09%09%09inspectObject%28a%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22browse%22%3A%0A%09%09%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22extension%22%29%20%7B%0A%09%09%09%09%09%09%09var%20dir%20%3D%20Services.dirsvc.get%28%22ProfD%22%2C%20Ci.nsIFile%29%3B%0A%09%09%09%09%09%09%09dir.append%28%22extensions%22%29%3B%0A%09%09%09%09%09%09%09dir.append%28%28a.type%20%3D%3D%3D%20%22extension%22%29%20%3F%20a.id%20%3A%20a._script.file%29%3B%0A%09%09%09%09%09%09%09%28new%20%24._nsIFile%28dir.path%20+%20%28dir.exists%28%29%20%3F%20%22%22%20%3A%20%22.xpi%22%29%29%29.reveal%28%29%3B%0A%09%09%09%09%09%09%7D%20else%20if%20%28a.type%20%3D%3D%3D%20%22greasemonkey-user-script%22%29%0A%09%09%09%09%09%09%09%28new%20%24._nsIFile%28a._script.file.parent.path%29%29.reveal%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%0A%09%09%09%09%7D%0A%09%09%09%7D%3B%0A%0A%09%09%09mI.oncontextmenu%20%3D%20mI.onmousedown%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09if%20%28%24.accel%28aE%29%29%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%09mI.onClick%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22extension%22%20%7C%7C%0A%09%09%09%09%09%09a.type%20%3D%3D%3D%20%22greasemonkey-user-script%22%20%7C%7C%0A%09%09%09%09%09%09a.type%20%3D%3D%3D%20%22userscript%22%29%0A%09%09%09%09%09%09%24.Creator.openAddonOptions%28a%29%3B%0A%09%09%09%09%09else%20if%20%28a.type%20%3D%3D%3D%20%22userstyle%22%29%0A%09%09%09%09%09%09stylishCommon.openEditForId%28a.id%29%3B%0A%09%09%09%09%09else%20if%20%28a.type%20%3D%3D%3D%20%22theme%22%29%0A%09%09%09%09%09%09toggleAddon%28%29%3B%0A%09%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%202%20%26%26%20%21aE.shiftKey%20%26%26%20%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09%24.Creator.blackListAddon%28a.id%29%3B%0A%09%09%09%09%09%24.Creator.setAddonItemClass%28a%2C%20mI%29%3B%0A%09%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%201%20%26%26%20%21aE.shiftKey%20%26%26%20%21%24.accel%28aE%29%20%26%26%20%21aE.altKey%20%7C%7C%0A%09%09%09%09%09aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09toggleAddon%28%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09%24.Creator.setAddonItemClass%28a%2C%20mI%29%3B%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%09%24.Creator.setAddonItemClass%28a%2C%20mI%29%3B%0A%09%09%09return%20mI%3B%0A%09%09%7D%2C%0A%0A%09%09setAddonItemClass%3A%20function%28a%2C%20aMI%2C%20aFromClick%29%20%7B%0A%09%09%09aMI.classList.toggle%28%22state_ask_to_activate%22%2C%20a.userDisabled%20%3D%3D%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%29%3B%0A%09%09%09aMI.classList.toggle%28%22state_active%22%2C%20a.isActive%29%3B%0A%09%09%09aMI.classList.toggle%28%22state_disabled%22%2C%20%21a.isActive%29%3B%0A%09%09%09aMI.classList.toggle%28%22hidden_addon%22%2C%20%24.Creator.blackListAddon%28a.id%2C%20true%29%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09let%20isPendingEnabled%20%3D%20%24.Creator.isPending%28a%2C%20%22enable%22%29%2C%0A%09%09%09%09%09isPendingDisabled%20%3D%20%24.Creator.isPending%28a%2C%20%22disable%22%29%2C%0A%09%09%09%09%09isPendingUninstall%20%3D%20%24.Creator.isPending%28a%2C%20%22uninstall%22%29%3B%0A%09%09%09%09aMI.classList.toggle%28%22pending_enable%22%2C%20isPendingEnabled%29%3B%0A%09%09%09%09aMI.classList.toggle%28%22pending_disable%22%2C%20isPendingDisabled%29%3B%0A%09%09%09%09aMI.classList.toggle%28%22pending_uninstall%22%2C%20isPendingUninstall%29%3B%0A%09%09%09%09if%20%28%21aFromClick%29%0A%09%09%09%09%09return%20true%3B%0A%09%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09%09centerScreen%3A%20true%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09if%20%28isPendingEnabled%29%20%7B%0A%09%09%09%09%09%24.notifyme%28%24.SA.name%20+%20%22%20needs%20to%20be%20restarted%22%2C%0A%09%09%09%09%09%09%22to%20ENABLE%20%22%20+%20a.name%20+%20%22.%22%2C%0A%09%09%09%09%09%09%24.getHelp%28%22%25WarningImg%25%22%29%2C%0A%09%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09if%20%28isPendingDisabled%29%20%7B%0A%09%09%09%09%09%24.notifyme%28%24.SA.name%20+%20%22%20needs%20to%20be%20restarted%22%2C%0A%09%09%09%09%09%09%22to%20DISABLE%20%22%20+%20a.name%20+%20%22.%22%2C%0A%09%09%09%09%09%09%24.getHelp%28%22%25WarningImg%25%22%29%2C%0A%09%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09if%20%28isPendingUninstall%29%20%7B%0A%09%09%09%09%09%24.notifyme%28%24.SA.name%20+%20%22%20needs%20to%20be%20restarted%22%2C%0A%09%09%09%09%09%09%22to%20UNINSTALL%20%22%20+%20a.name%20+%20%22.%22%2C%0A%09%09%09%09%09%09%24.getHelp%28%22%25WarningImg%25%22%29%2C%0A%09%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%2C%0A%0A%09%09setNewDisabled%3A%20function%28aAddon%29%20%7B%0A%09%09%09var%20newDis%20%3D%20%24.Creator.getNewDisabled%28aAddon%29%3B%0A%09%09%09var%20oldDis%20%3D%20aAddon.userDisabled%3B%0A%09%09%09aAddon.userDisabled%20%3D%20newDis%3B%0A%09%09%09var%20realDis%20%3D%20aAddon.userDisabled%3B%0A%09%09%09if%20%28realDis%20%21%3D%20newDis%29%20%7B%20//%20We%20can%27t%20enable%20vulnerable%20plugins%0A%09%09%09%09var%20err%20%3D%20%22Can%27t%20set%20addon.userDisabled%20to%20%22%20+%20newDis%20+%20%22%2C%20real%20value%3A%20%22%20+%20realDis%3B%0A%09%09%09%09if%20%28newDis%29%20%7B%0A%09%09%09%09%09%24.reportError%28err%20+%20%22%5CnSTATE_ASK_TO_ACTIVATE%20not%20supported%3F%22%29%3B%0A%09%09%09%09%09newDis%20%3D%20false%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%24.reportError%28err%20+%20%22%5CnVulnerable%20plugin%3F%22%29%3B%0A%09%09%09%09%09if%20%28oldDis%20%3D%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%29%0A%09%09%09%09%09%09newDis%20%3D%20true%3B%0A%09%09%09%09%09else%0A%09%09%09%09%09%09newDis%20%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%3B%0A%09%09%09%09%7D%0A%09%09%09%09aAddon.userDisabled%20%3D%20newDis%3B%0A%09%09%09%7D%0A%09%09%09return%20aAddon.userDisabled%3B%0A%09%09%7D%2C%0A%0A%09%09getNewDisabled%3A%20function%28aAddon%29%20%7B%0A%09%09%09var%20curDis%20%3D%20aAddon.userDisabled%3B%0A%09%09%09var%20newDis%3B%0A%09%09%09if%20%28%22STATE_ASK_TO_ACTIVATE%22%20in%20AddonManager%20%26%26%20curDis%20%3D%3D%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%29%0A%09%09%09%09newDis%20%3D%20false%3B%0A%09%09%09else%20if%20%28%21curDis%29%0A%09%09%09%09newDis%20%3D%20true%3B%0A%09%09%09else%20%7B%0A%09%09%09%09if%20%28%24.Creator.isAskToActivateAddon%28aAddon%29%29%0A%09%09%09%09%09newDis%20%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%3B%0A%09%09%09%09else%0A%09%09%09%09%09newDis%20%3D%20false%3B%0A%09%09%09%7D%0A%09%09%09return%20newDis%3B%0A%09%09%7D%2C%0A%0A%09%09isAskToActivateAddon%3A%20function%28aAddon%29%20%7B%0A%09%09%09return%20aAddon.type%20%3D%3D%3D%20%22plugin%22%20%26%26%0A%09%09%09%09%22STATE_ASK_TO_ACTIVATE%22%20in%20AddonManager%20%26%26%0A%09%09%09%09%24.SP.getBoolPref%28%22plugins.click_to_play%22%29%3B%0A%09%09%7D%2C%0A%0A%09%09blackListAddon%3A%20function%28aID%2C%20aCheck%29%20%7B%0A%09%09%09var%20blackList%20%3D%20%24._.pAddonsBlackList.split%28%22%2C%22%29.filter%28function%28aVal%29%20%7B%0A%09%09%09%09if%20%28aVal%20%21%3D%3D%20%22%22%29%0A%09%09%09%09%09return%20true%3B%0A%09%09%09%7D%29%3B%0A%09%09%09var%20addonID%20%3D%20aID%3B%0A%09%09%09if%20%28aCheck%29%20%7B%0A%09%09%09%09if%20%28blackList.indexOf%28addonID%29%20%21%3D%3D%20-1%29%0A%09%09%09%09%09return%20true%3B%0A%09%09%09%09else%0A%09%09%09%09%09return%20false%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09if%20%28blackList.indexOf%28addonID%29%20%21%3D%3D%20-1%29%20%7B%0A%09%09%09%09%09while%20%28blackList.indexOf%28addonID%29%20%21%3D%3D%20-1%29%20%7B%0A%09%09%09%09%09%09blackList.splice%28blackList.indexOf%28addonID%29%2C%201%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09blackList.push%28aID%29%3B%0A%09%09%09%09%24.sCV%28%22pAddonsBlackList%22%2C%20blackList.join%28%22%2C%22%29%29%3B%0A%09%09%09%7D%0A%09%09%09return%20false%3B%0A%09%09%7D%2C%0A%0A%09%09openAddonOptions%3A%20function%28aAddon%29%20%7B%0A%09%09%09var%20optURL%20%3D%20aAddon.optionsURL%3B%0A%09%09%09if%20%28%21aAddon.isActive%20%7C%7C%20%21optURL%29%0A%09%09%09%09return%20false%3B%0A%09%09%09if%20%28aAddon.optionsType%20%3D%3D%20AddonManager.OPTIONS_TYPE_INLINE%29%0A%09%09%09%09%24.Creator.openAddonPage%28aAddon%2C%20true%29%3B%0A%09%09%09else%20if%20%28aAddon.optionsType%20%3D%3D%20AddonManager.OPTIONS_TYPE_TAB%20%26%26%20%22switchToTabHavingURI%22%20in%20window%29%0A%09%09%09%09switchToTabHavingURI%28optURL%2C%20true%29%3B%0A%09%09%09else%20%7B%0A%09%09%09%09let%20windows%20%3D%20Services.wm.getEnumerator%28null%29%3B%0A%09%09%09%09while%20%28windows.hasMoreElements%28%29%29%20%7B%0A%09%09%09%09%09let%20win%20%3D%20windows.getNext%28%29%3B%0A%09%09%09%09%09if%20%28win.document.documentURI%20%3D%3D%20optURL%29%20%7B%0A%09%09%09%09%09%09win.focus%28%29%3B%0A%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09window.openDialog%28optURL%2C%20%22%22%2C%20%22resizeble%2Cchrome%2Ctitlebar%2Ctoolbar%2Ccenterscreen%2Cdialog%3Dno%22%29%3B%0A%09%09%09%7D%0A%09%09%09return%20true%3B%0A%09%09%7D%2C%0A%0A%09%09openAddonsManager%3A%20function%28aView%29%20%7B%0A%09%09%09var%20openAddonsMgr%20%3D%20window.BrowserOpenAddonsMgr%20//%20Firefox%0A%09%09%09%09%7C%7C%20window.openAddonsMgr%20//%20Thunderbird%0A%09%09%09%09%7C%7C%20window.toEM%3B%20//%20SeaMonkey%0A%09%09%09openAddonsMgr%28aView%29%3B%0A%09%09%7D%2C%0A%0A%09%09openAddonPage%3A%20function%28aAddon%2C%20aScrollToPreferences%29%20%7B%0A%09%09%09aScrollToPreferences%20%3D%20aScrollToPreferences%20%26%26%20parseFloat%28%24.SA.platformVersion%29%20%3E%3D%2012%20%3F%0A%09%09%09%09%22/preferences%22%20%3A%0A%09%09%09%09%22%22%3B%0A%09%09%09%24.Creator.openAddonsManager%28%22addons%3A//detail/%22%20+%20encodeURIComponent%28aAddon.id%29%20+%0A%09%09%09%09aScrollToPreferences%29%3B%0A%09%09%7D%2C%0A%0A%09%09getAMOPage%3A%20function%28aAddon%2C%20aCallback%29%20%7B%0A%09%09%09if%20%28aAddon%29%20%7B%0A%09%09%09%09if%20%28aAddon.type%20%3D%3D%3D%20%22extension%22%29%20%7B%0A%09%09%09%09%09let%20url%20%3D%20%22https%3A//services.addons.mozilla.org/en-US/firefox/api/1.5/search/guid%3A%22%20+%0A%09%09%09%09%09%09aAddon.id%20+%20%22%3Fsrc%3D%22%20+%20%24.SA.name.toLowerCase%28%29%20+%20%22%26appOS%3D%22%20+%0A%09%09%09%09%09%09%24.SA.OS.toLowerCase%28%29%20+%20%22%26appVersion%3D%22%3B%0A%0A%09%09%09%09%09let%20xhr%20%3D%20new%20XMLHttpRequest%28%29%3B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09xhr.open%28%22GET%22%2C%20url%2C%20true%29%3B%0A%09%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09xhr.onreadystatechange%20%3D%20function%28aE%29%20%7B%0A%09%09%09%09%09%09if%20%28xhr.readyState%20%3D%3D%3D%204%20%26%26%20xhr.status%20%3D%3D%3D%20200%29%20%7B%0A%09%09%09%09%09%09%09let%20XMLDoc%20%3D%20aE.target.responseXML.documentElement%3B%0A%09%09%09%09%09%09%09if%20%28%21XMLDoc%29%20%7B%0A%09%09%09%09%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09let%20addonDocs%20%3D%20XMLDoc.getElementsByTagName%28%22addon%22%29%3B%0A%09%09%09%09%09%09%09if%20%28%21addonDocs%20%7C%7C%20addonDocs.length%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09for%20%28let%20a%20%3D%20addonDocs.length%20-%201%3B%20a%20%3E%3D%200%3B%20a--%29%20%7B%0A%09%09%09%09%09%09%09%09let%20GUID%20%3D%20addonDocs%5Ba%5D.getElementsByTagName%28%22guid%22%29%3B%0A%09%09%09%09%09%09%09%09if%20%28%21GUID%29%0A%09%09%09%09%09%09%09%09%09continue%3B%0A%09%09%09%09%09%09%09%09for%20%28let%20b%20%3D%20GUID.length%20-%201%3B%20b%20%3E%3D%200%3B%20b--%29%20%7B%0A%09%09%09%09%09%09%09%09%09if%20%28GUID%5Bb%5D.textContent%20%3D%3D%3D%20aAddon.id%29%20%7B%0A%09%09%09%09%09%09%09%09%09%09aCallback%28%22https%3A//addons.mozilla.org/addon/%22%20+%0A%09%09%09%09%09%09%09%09%09%09%09addonDocs%5Ba%5D.getAttribute%28%22id%22%29%29%3B%0A%09%09%09%09%09%09%09%09%09%09continue%3B%0A%09%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%20else%20if%20%28xhr.readyState%20%3D%3D%3D%204%20%26%26%20xhr.status%20%21%3D%3D%20200%29%20%7B%0A%09%09%09%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09xhr.onerror%20%3D%20function%28%29%20%7B%0A%09%09%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09xhr.send%28null%29%3B%0A%09%09%09%09%7D%20else%20if%20%28aAddon.type%20%3D%3D%3D%20%22theme%22%29%20%7B%0A%09%09%09%09%09let%20AMO_ID%20%3D%20parseInt%28aAddon.id.substring%280%2C%20aAddon.id.indexOf%28%22@%22%29%29%2C%2010%29%3B%0A%09%09%09%09%09if%20%28isNaN%28AMO_ID%29%20%7C%7C%20%21AMO_ID%29%20%7B%0A%09%09%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09aCallback%28%22https%3A//addons.mozilla.org/addon/%22%20+%20AMO_ID%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%0A%0A%09%09getInstallURL%3A%20function%28aAddon%29%20%7B%0A%09%09%09if%20%28%21aAddon%29%0A%09%09%09%09return%20false%3B%0A%09%09%09var%20url%20%3D%20false%3B%0A%09%09%09switch%20%28aAddon.type%29%20%7B%0A%09%09%09%09case%20%22greasemonkey-user-script%22%3A%0A%09%09%09%09%09url%20%3D%20aAddon._script._downloadURL%20%7C%7C%20aAddon._script._updateURL%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22userscript%22%3A%0A%09%09%09%09%09url%20%3D%20aAddon._downloadURL%20%7C%7C%20aAddon._updateURL%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%09return%20url%3B%0A%09%09%7D%2C%0A%0A%09%09isPending%3A%20function%28a%2C%20aAction%29%20%7B%0A%09%09%09var%20action%20%3D%20AddonManager%5B%22PENDING_%22%20+%20aAction.toUpperCase%28%29%5D%3B%0A%09%09%09return%20%21%21%28a.pendingOperations%20%26%20action%29%3B%0A%09%09%7D%2C%0A%09%09//END//%20Add-ons%20functions%0A%0A%09%09//START//%20Preference%20items%20functions%0A%09%09setPref%3A%20function%28aPName%2C%20aPVal%2C%20aPrompt%2C%20aInverse%29%20%7B%0A%09%09%09if%20%28%24.SP.prefIsLocked%28aPName%29%29%20%7B%0A%09%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09%09footer%3A%202%2C%0A%09%09%09%09%09centerScreen%3A%20true%2C%0A%09%09%09%09%09prefName%3A%20aPName%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09%24.notifyme%28aPName%2C%0A%09%09%09%09%09%22This%20preference%20is%20%uD835%uDDF9%uD835%uDDFC%uD835%uDDF0%uD835%uDDF8%uD835%uDDF2%uD835%uDDF1.%22%2C%0A%09%09%09%09%09%24.getHelp%28%22%25WarningImg%25%22%29%2C%0A%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09var%20newValue%20%3D%20null%2C%0A%09%09%09%09curValue%2C%0A%09%09%09%09prefType%20%3D%20%24.SP.getPrefType%28aPName%29%2C%0A%09%09%09%09valueList%20%3D%20aPVal%3B%0A%09%09%09let%20i%20%3D%200%2C%0A%09%09%09%09iLen%20%3D%20valueList%20%3F%20valueList.length%20%3A%20null%3B%0A%09%09%09switch%20%28prefType%29%20%7B%0A%09%09%09%09case%200%3A%0A%09%09%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09%09%09footer%3A%201%2C%0A%09%09%09%09%09%09centerScreen%3A%20true%2C%0A%09%09%09%09%09%09prefName%3A%20aPName%2C%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%24.notifyme%28aPName%2C%0A%09%09%09%09%09%09%22This%20preference%20%uD835%uDDF1%uD835%uDDFC%uD835%uDDF2%uD835%uDE00%uD835%uDDFB%27%uD835%uDE01%20%uD835%uDDF2%uD835%uDE05%uD835%uDDF6%uD835%uDE00%uD835%uDE01%uD835%uDE00.%22%2C%0A%09%09%09%09%09%09%24.getHelp%28%22%25WarningImg%25%22%29%2C%0A%09%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%09%09return%20true%3B%0A%09%09%09%09case%2032%3A%0A%09%09%09%09case%2064%3A%0A%09%09%09%09%09let%20isNum%20%3D%20prefType%20%3D%3D%3D%2064%3B%0A%09%09%09%09%09curValue%20%3D%20isNum%20%3F%0A%09%09%09%09%09%09%24.SP.getIntPref%28aPName%29%20%3A%0A%09%09%09%09%09%09%24.SP.getComplexValue%28aPName%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09%09%09%09if%20%28iLen%20%26%26%20iLen%20%3E%201%20%26%26%20%21aPrompt%29%20%7B%0A%09%09%09%09%09%09for%20%28%3B%20i%20%3C%20iLen%3B%20i++%29%20%7B%0A%09%09%09%09%09%09%09if%20%28valueList%5Bi%5D%20%3D%3D%3D%20curValue%29%20%7B%0A%09%09%09%09%09%09%09%09newValue%20%3D%20aInverse%20%3F%20%28valueList%5Bi%20-%201%5D%20%7C%7C%20null%29%20%3A%20%28valueList%5Bi%20+%201%5D%20%7C%7C%20null%29%3B%0A%09%09%09%09%09%09%09%09continue%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09if%20%28%21newValue%29%0A%09%09%09%09%09%09%09newValue%20%3D%20aInverse%20%3F%20valueList%5BiLen%20-%201%5D%20%3A%20valueList%5B0%5D%3B%0A%09%09%09%09%09%09isNum%20%3F%0A%09%09%09%09%09%09%09%24.SP.setIntPref%28aPName%2C%20newValue%29%20%3A%0A%09%09%09%09%09%09%09%24.SP.setComplexValue%28aPName%2C%20Ci.nsISupportsString%2C%20%24._nsISS%29%3B%0A%09%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09%09newValue%20%3D%20%24.promptme%28aPName%2C%20curValue%29%3B%0A%09%09%09%09%09%09if%20%28newValue%29%20%7B%0A%09%09%09%09%09%09%09isNum%20%3F%0A%09%09%09%09%09%09%09%09%24.SP.setIntPref%28aPName%2C%20newValue%29%20%3A%0A%09%09%09%09%09%09%09%09%24.SP.setComplexValue%28aPName%2C%20Ci.nsISupportsString%2C%20%24._nsISS%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20128%3A%0A%09%09%09%09%09%24.SP.setBoolPref%28aPName%2C%20%21%24.SP.getBoolPref%28aPName%29%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%7D%2C%0A%0A%09%09updatePrefMI%3A%20function%28aMI%2C%20aPName%29%20%7B%0A%09%09%09let%20pVal%20%3D%20%24.Creator.getPrefVal%28aPName%29%3B%0A%09%09%09if%20%28pVal%20%3D%3D%3D%20null%29%20%7B%0A%09%09%09%09%24.Creator.setPrefItemClass%28aMI%2C%20aPName%29%3B%0A%09%09%09%09return%20true%3B%0A%09%09%09%7D%0A%09%09%09pVal%20%3D%20pVal.toString%28%29%3B%0A%09%09%09let%20lbl%20%3D%20aMI.label%3B%0A%09%09%09let%20pState%20%3D%20%28pVal.length%20%3E%20%24._.pPrefValueMaxLength%29%20%3F%0A%09%09%09%09pVal.slice%280%2C%20%24._.pPrefValueMaxLength%29%20+%20%22...%22%20%3A%0A%09%09%09%09pVal%3B%0A%09%09%09if%20%28%24._.pPrefLabelType%29%20%7B%0A%09%09%09%09aMI.setAttribute%28%22label%22%2C%20lbl%29%3B%0A%09%09%09%09aMI.setAttribute%28%22acceltext%22%2C%20%22%5B%22%20+%20pState%20+%20%22%5D%22%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09lbl%20%3D%20lbl.split%28%22%5B%22%29%5B0%5D%3B%0A%09%09%09%09aMI.setAttribute%28%22label%22%2C%20lbl%20+%20%22%5B%22%20+%20pState%20+%20%22%5D%22%29%3B%0A%09%09%09%7D%0A%09%09%09%24.Creator.setPrefItemClass%28aMI%2C%20aPName%29%3B%0A%09%09%7D%2C%0A%0A%09%09setPrefItemClass%3A%20function%28aMI%2C%20aPName%29%20%7B%0A%09%09%09aMI.classList.toggle%28%22is_locked%22%2C%20%24.SP.prefIsLocked%28aPName%29%29%3B%0A%09%09%09aMI.classList.toggle%28%22has_user_value%22%2C%20%24.SP.prefHasUserValue%28aPName%29%29%3B%0A%09%09%09aMI.classList.toggle%28%22non_existent%22%2C%20%24.SP.getPrefType%28aPName%29%20%3D%3D%3D%200%29%3B%0A%09%09%7D%2C%0A%0A%09%09dealWithNonExistentPref%3A%20function%28aPrefName%29%20%7B%0A%09%09%09let%20opts%20%3D%20%5B%22Boolean%22%2C%20%22Integer%22%2C%20%22String%22%5D%3B%0A%09%09%09let%20selected%20%3D%20%7B%7D%3B%0A%09%09%09let%20result%20%3D%20Services.prompt.select%28null%2C%20self.name%2C%20%22Choose%20the%20preference%20type.%22%2C%20opts.length%2C%0A%09%09%09%09opts%2C%20selected%29%3B%0A%09%09%09if%20%28result%29%20%7B%0A%09%09%09%09switch%20%28selected.value%29%20%7B%0A%09%09%09%09%09case%200%3A%0A%09%09%09%09%09%09%24.SP.setBoolPref%28aPrefName%2C%20false%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%201%3A%0A%09%09%09%09%09%09%24.SP.setIntPref%28aPrefName%2C%200%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%202%3A%0A%09%09%09%09%09%09let%20str%20%3D%20%24._nsISS%3B%0A%09%09%09%09%09%09str.data%20%3D%20%22%22%3B%0A%09%09%09%09%09%09%24.SP.setComplexValue%28aPrefName%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%0A%09%09%09%09return%3B%0A%09%09%7D%2C%0A%0A%09%09getPrefVal%3A%20function%28aPName%29%20%7B%0A%09%09%09switch%20%28%24.SP.getPrefType%28aPName%29%29%20%7B%0A%09%09%09%09case%200%3A%0A%09%09%09%09%09return%20null%3B%0A%09%09%09%09case%2032%3A%0A%09%09%09%09%09return%20%24.SP.getComplexValue%28aPName%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09%09%09case%2064%3A%0A%09%09%09%09%09return%20%24.SP.getIntPref%28aPName%29%3B%0A%09%09%09%09case%20128%3A%0A%09%09%09%09%09return%20%24.SP.getBoolPref%28aPName%29%3B%0A%09%09%09%7D%0A%09%09%09return%20false%3B%0A%09%09%7D%2C%0A%09%09//END//%20Preference%20items%20functions%0A%0A%09%09//START//%20URL%20functions%0A%09%09handleURL%3A%20function%28aUrl%2C%20aE%2C%20aForced%29%20%7B%0A%09%09%09let%20isNavigator%20%3D%20%22gBrowser%22%20in%20window%3B%0A%09%09%09if%20%28isNavigator%20%26%26%20%21aForced%29%20%7B%0A%09%09%09%09let%20tab%20%3D%20gBrowser.visibleTabs.find%28tab%20%3D%3E%20tab.linkedBrowser.currentURI.spec%20%3D%3D%3D%20aUrl%29%3B%0A%09%09%09%09if%20%28tab%29%20%7B%0A%09%09%09%09%09gBrowser.tabContainer._notifyBackgroundTab%28gBrowser.selectedTab%20%3D%20tab%29%3B%0A%09%09%09%09%09return%20true%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09switch%20%28aE.button%29%20%7B%0A%09%09%09%09%09case%200%3A%0A%09%09%09%09%09%09if%20%28%21aE.shiftKey%20%26%26%20%21%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%0A%09%09%09%09%09%09%09%24.Creator.openURL%28aUrl%2C%20%24._.pURLItemLeftClickWhere%2C%20isNavigator%2C%20aE%29%3B%0A%09%09%09%09%09%09else%20if%20%28%21aE.shiftKey%20%26%26%20%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%0A%09%09%09%09%09%09%09%24.Creator.openURL%28aUrl%2C%20%24._.pURLItemLeftCtrlClickWhere%2C%20isNavigator%2C%20aE%29%3B%0A%09%09%09%09%09%09else%20if%20%28aE.shiftKey%20%26%26%20%21%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%0A%09%09%09%09%09%09%09%24.Creator.openURL%28aUrl%2C%20%24._.pURLItemLeftShiftClickWhere%2C%20isNavigator%2C%20aE%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%201%3A%0A%09%09%09%09%09%09if%20%28%21aE.shiftKey%20%26%26%20%21%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%0A%09%09%09%09%09%09%09%24.Creator.openURL%28aUrl%2C%20%24._.pURLItemMiddleClickWhere%2C%20isNavigator%2C%20aE%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%202%3A%0A%09%09%09%09%09%09if%20%28%21aE.shiftKey%20%26%26%20%21%24.accel%28aE%29%20%26%26%20%21aE.altKey%29%0A%09%09%09%09%09%09%09%24.Creator.openURL%28aUrl%2C%20%24._.pURLItemRightClickWhere%2C%20isNavigator%2C%20aE%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%2C%2010%29%3B%0A%09%09%7D%2C%0A%0A%09%09openURL%3A%20function%28aUrl%2C%20aWhere%2C%20aNavigator%2C%20aE%29%20%7B%0A%09%09%09if%20%28aNavigator%29%20%7B%0A%09%09%09%09let%20override%20%3D%20%24.Creator.getpOverrideURLs%20%26%26%20%21gBrowser.selectedBrowser.webProgress.isLoadingDocument%3B%0A%09%09%09%09switch%20%28aWhere%29%20%7B%0A%09%09%09%09%09case%200%3A%20//%20Current%0A%09%09%09%09%09%09window.openUILinkIn%28aUrl%2C%20%22current%22%2C%20%7B%0A%09%09%09%09%09%09%09inBackground%3A%20false%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%201%3A%20//%20Next%20to%20current%0A%09%09%09%09%09%09let%20pos%20%3D%20gBrowser.selectedTab._tPos%20%7C%7C%20gBrowser.tabContainer.selectedIndex%3B%20//%20Firefox%20%7C%7C%20SeaMonkey%0A%09%09%09%09%09%09override%20%3F%0A%09%09%09%09%09%09%09%24.Creator.openURL%28aUrl%2C%200%2C%20true%2C%20aE%29%20%3A%0A%09%09%09%09%09%09%09gBrowser.moveTabTo%28gBrowser.selectedTab%20%3D%20gBrowser.addTab%28aUrl%29%2C%20pos%20+%201%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%202%3A%20//%20New%20tab%20in%20background%0A%09%09%09%09%09%09override%20%3F%0A%09%09%09%09%09%09%09%24.Creator.openURL%28aUrl%2C%200%2C%20true%2C%20aE%29%20%3A%0A%09%09%09%09%09%09%09window.openUILinkIn%28aUrl%2C%20%22tab%22%2C%20%7B%0A%09%09%09%09%09%09%09%09inBackground%3A%20true%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%203%3A%20//%20New%20tab%20in%20foreground%0A%09%09%09%09%09%09override%20%3F%0A%09%09%09%09%09%09%09%24.Creator.openURL%28aUrl%2C%200%2C%20true%2C%20aE%29%20%3A%0A%09%09%09%09%09%09%09window.openUILinkIn%28aUrl%2C%20%22tab%22%2C%20%7B%0A%09%09%09%09%09%09%09%09inBackground%3A%20false%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09switch%20%28aWhere%29%20%7B%0A%09%09%09%09%09case%204%3A%20//%20Try%20to%20open%20in%20content%20tab%0A%09%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%09openContentTab%28aUrl%29%3B%0A%09%09%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09%09%09%24.Creator.ownOpenUILink%28aUrl%2C%20aE%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%205%3A%20//%20Default%20browser%0A%09%09%09%09%09%09%24.Creator.ownOpenUILink%28aUrl%2C%20aE%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%2C%0A%0A%09%09ownOpenUILink%3A%20function%28aUrl%2C%20aE%29%20%7B%0A%09%09%09if%20%28aUrl.indexOf%28%22%3A//%22%29%20%3D%3D%3D%20-1%29%20%7B%0A%09%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09%09centerScreen%3A%20true%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09%24.notifyme%28self.name%2C%20%22The%20URL%20for%20the%20item%20needs%20to%20have%20its%20protocol%20specified.%22%2C%0A%09%09%09%09%09%24.getHelp%28%22%25WarningImg%25%22%29%2C%0A%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%09return%20true%3B%0A%09%09%09%7D%0A%09%09%09let%20m%20%3D%20%28%28%22messenger%22%20in%20window%29%20%3F%0A%09%09%09%09messenger%20%3A%0A%09%09%09%09Cc%5B%22@mozilla.org/messenger%3B1%22%5D.createInstance%28Ci.nsIMessenger%29%29%3B%0A%09%09%09m.launchExternalURL%28aUrl%29%3B%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09%7D%2C%0A%0A%09%09get%20getpOverrideURLs%28%29%20%7B%20//%20Boolean%20return%20of%20URLs/Hostsnames%20to%20override%0A%09%09%09var%20URLList%20%3D%20%24._.pOverrideURLs.split%28%22%2C%22%29%3B%0A%09%09%09var%20curURL%3B%0A%09%09%09if%20%28URLList%29%20%7B%0A%09%09%09%09for%20%28var%20url%20in%20URLList%29%20%7B%0A%09%09%09%09%09if%20%28URLList%5Burl%5D.length%20%3E%200%29%20%7B%0A%09%09%09%09%09%09curURL%20%3D%20%28gBrowser.currentURI.spec%20%3D%3D%3D%20URLList%5Burl%5D%29%3B%0A%09%09%09%09%09%09if%20%28curURL%29%0A%09%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%09else%0A%09%09%09%09%09%09%09continue%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09var%20hostList%20%3D%20%24._.pOverrideHosts.split%28%22%2C%22%29%3B%0A%09%09%09if%20%28hostList%29%20%7B%0A%09%09%09%09for%20%28var%20name%20in%20hostList%29%20%7B%0A%09%09%09%09%09if%20%28hostList%5Bname%5D.length%20%3E%200%29%20%7B%0A%09%09%09%09%09%09curURL%20%3D%20%28gBrowser.currentURI.host%20%3D%3D%3D%20hostList%5Bname%5D%29%3B%0A%09%09%09%09%09%09if%20%28curURL%29%0A%09%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%09else%0A%09%09%09%09%09%09%09continue%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09return%20false%3B%0A%09%09%7D%2C%0A%09%09//END//%20URL%20functions%0A%09%7D%2C%0A%0A%09editItemsFile%3A%20function%28aID%29%20%7B%0A%09%09%24.itemsFile%28aID%29.launch%28%29%3B%0A%09%7D%2C%0A%0A%09openMultiMenuStorage%3A%20function%28%29%20%7B%0A%09%09new%20%24._nsIFile%28%24.storagePath%29.reveal%28%29%3B%0A%09%7D%2C%0A%0A%09showCBContext%3A%20function%28aNode%2C%20aAnchor%29%20%7B%0A%09%09if%20%28/custombuttons-button/.test%28aNode.id%29%29%0A%09%09%09custombutton.setContextMenuVisibility%28aNode%29%3B%0A%09%09var%20popup%20%3D%20%24.%24%28%22custombuttons-contextpopup%22%29%3B%0A%09%09let%20x%20%3D%20aAnchor.boxObject.width%20/%204%3B%0A%09%09let%20y%20%3D%20aAnchor.boxObject.height%20/%201.25%3B%0A%09%09popup.triggerNode%20%3D%20document.popupNode%20%3D%20popup._cb_triggerNode%20%3D%20aNode%3B%0A%09%09popup.openPopup%28aAnchor%2C%20%22overlap%22%2C%20x%2C%20y%2C%20true%2C%20false%29%3B%0A%09%09popup.addEventListener%28%22popuphidden%22%2C%20function%20_%28aE%29%20%7B%0A%09%09%09popup.removeEventListener%28%22popuphidden%22%2C%20_%2C%20false%29%3B%0A%09%09%09delete%20popup._cb_triggerNode%3B%0A%09%09%7D%2C%20false%29%3B%0A%09%7D%2C%0A%0A%09setBtnPref%3A%20function%28aBtnID%2C%20aProp%2C%20aVal%29%20%7B%0A%09%09let%20btnOptsPref%20%3D%20%24.Branch%20+%20%22OptionsForButtonID%22%20+%20aBtnID.slice%2820%29%3B%0A%09%09var%20opt%20%3D%20JSON.parse%28%24.gCV%28btnOptsPref%2C%20true%29%29%3B%0A%09%09opt%5BaProp%5D%20%3D%20aVal%3B%0A%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%24.sCV%28btnOptsPref%2C%20JSON.stringify%28opt%29%2C%20true%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%24.selfDestroy%28aBtnID%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%7D%2C%0A%0A%09/**%0A%09%20*%20%5BpopulateOptionsPopup%20description%5D%0A%09%20*%20Use%20values%20from%20preferences%2C%20not%20from%20%22preference%20properties%22%20%28%24._.pPrefName%29.%0A%09%20*%20Because%20when%20opened%20from%20%22slaves%22%2C%20the%20values%20for%20global%20prefs.%20will%20be%20incorrect.%0A%09%20*/%0A%09populateOptionsPopup%3A%20function%28aN%2C%20aBtnID%29%20%7B%0A%09%09let%20switchCheck%20%3D%20%22let%20check%20%3D%20this.getAttribute%28%27checked%27%29%3Bthis.setAttribute%28%27checked%27%2C%20%21check%29%3B%22%3B%0A%09%09let%20btnOptsPref%20%3D%20%24.Branch%20+%20%22OptionsForButtonID%22%20+%20aBtnID.slice%2820%29%3B%0A%09%09var%20opt%20%3D%20JSON.parse%28%24.gCV%28btnOptsPref%2C%20true%29%29%3B%0A%09%09aN.textContent%20%3D%20%22%22%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22dialogheader%22%2C%20%7B%0A%09%09%09title%3A%20%22Button%20preferences%22%2C%0A%09%09%09description%3A%20%22%22%2C%0A%09%09%09style%3A%20%22margin%3A%200%200%207px%200%3Bpadding%3A%202px%200%202px%205px%3Bborder%3Anone%3Bfont-size%3Asmaller%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Edit%20items%20%28GUI%29%20%28Recommended%29%22%2C%0A%09%09%09tooltiptext%3A%20%22Edit%20the%20items%20file%20with%20a%20GUI%20specifically%20designed%20for%20that%20task.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22loadFromFile%28%27%22%20+%20aBtnID.slice%2820%29%20+%20%22%27%2C%20true%29%3Bevent.stopPropagation%28%29%3B%22%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Edit%20items%20%28With%20text%20editor%29%22%2C%0A%09%09%09tooltiptext%3A%20%22Manually%20edit%20the%20items%20file%20with%20a%20text%20editor.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22editItemsFile%28%22%20+%20aBtnID.slice%2820%29%20+%20%22%29%3Bevent.stopPropagation%28%29%3B%22%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Force%20update%20this%20button%22%2C%0A%09%09%09tooltiptext%3A%20%22Useful%20only%20when%20the%20items%20file%20is%20edited%20manually%20with%20a%20text%20editor.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22selfDestroy%28%27%22%20+%20aBtnID%20+%20%22%27%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22separator%22%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Consume%20outside%20clicks%22%2C%0A%09%09%09type%3A%20%22checkbox%22%2C%0A%09%09%09checked%3A%20opt%5B%22ConsumeOutsideClicks%22%5D%2C%0A%09%09%09tooltiptext%3A%20%22Controls%20whether%20or%20not%20the%20event%20that%20caused%20the%20popup%20to%20be%20%22%20+%0A%09%09%09%09%22automatically%20dismissed%20%28or%20%27rolled%20up%27%29%20should%20be%20consumed%20or%20be%20dispatched%20as%20a%20normal%20event.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22setBtnPref%28%27%22%20+%20aBtnID%20+%20%22%27%2C%20%27ConsumeOutsideClicks%27%2C%20%22%20+%20%21opt%5B%22ConsumeOutsideClicks%22%5D%20+%0A%09%09%09%09%22%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09let%20msg1%20%3D%20%22Set%20a%20custom%20class%20for%20this%20button%20to%20be%20used%20with%20the%20custom%20style%20sheet.%22%3B%0A%09%09let%20cusClass1%20%3D%20aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Custom%20class%20for%20button%22%2C%0A%09%09%09tooltiptext%3A%20msg1%2C%0A%09%09%09oncommand%3A%20%22this.onCommand%28event%29%22%2C%0A%09%09%7D%29%29%3B%0A%09%09cusClass1.onCommand%20%3D%20function%28aE%29%20%7B%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09let%20value%20%3D%20%24.promptme%28msg1%2C%20opt.ButtonClass%29%3B%0A%09%09%09if%20%28value%29%0A%09%09%09%09self.MultiMenu.setBtnPref%28aBtnID%2C%20%22ButtonClass%22%2C%20value%29%3B%0A%09%09%7D%3B%0A%09%09let%20msg2%20%3D%20%22Set%20a%20custom%20class%20for%20this%20button%20popup%20to%20be%20used%20with%20the%20custom%20style%20sheet.%22%3B%0A%09%09let%20cusClass2%20%3D%20aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Custom%20class%20for%20popup%22%2C%0A%09%09%09tooltiptext%3A%20msg2%2C%0A%09%09%09oncommand%3A%20%22this.onCommand%28event%29%22%2C%0A%09%09%7D%29%29%3B%0A%09%09cusClass2.onCommand%20%3D%20function%28aE%29%20%7B%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09let%20value%20%3D%20%24.promptme%28msg2%2C%20opt.PopupClass%29%3B%0A%09%09%09if%20%28value%29%0A%09%09%09%09self.MultiMenu.setBtnPref%28aBtnID%2C%20%22PopupClass%22%2C%20value%29%3B%0A%09%09%7D%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Open%20on%20mouse%20over%22%2C%0A%09%09%09type%3A%20%22checkbox%22%2C%0A%09%09%09checked%3A%20opt%5B%22MenuOpenOnHover%22%5D%2C%0A%09%09%09tooltiptext%3A%20%22Enable/Disable%20the%20opening%20of%20the%20main%20menu%20for%20this%20button%20on%20mouse%20over.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22setBtnPref%28%27%22%20+%20aBtnID%20+%20%22%27%2C%20%27MenuOpenOnHover%27%2C%20%22%20+%0A%09%09%09%09%21opt%5B%22MenuOpenOnHover%22%5D%20+%20%22%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Set%20flip%20attribute%22%2C%0A%09%09%09type%3A%20%22checkbox%22%2C%0A%09%09%09checked%3A%20opt%5B%22FlipAttr%22%5D%2C%0A%09%09%09tooltiptext%3A%20%22If%20enabled/checked%2C%20it%20will%20set%20the%20flip%20attribute%20for%20this%20button%20popup%20to%20%27both%27.%20If%20%22%20+%0A%09%09%09%09%22disabled/unchecked%2C%20it%20will%20set%20the%20flip%20attribute%20for%20this%20button%20popup%20to%20%27slide%27.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22setBtnPref%28%27%22%20+%20aBtnID%20+%20%22%27%2C%20%27FlipAttr%27%2C%20%22%20+%20%21opt%5B%22FlipAttr%22%5D%20+%0A%09%09%09%09%22%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Show%20Tooltip%22%2C%0A%09%09%09type%3A%20%22checkbox%22%2C%0A%09%09%09checked%3A%20opt%5B%22ShowTooltip%22%5D%2C%0A%09%09%09tooltiptext%3A%20%22Show/Hide%20the%20detailed%20tooltip%20of%20this%20button.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22setBtnPref%28%27%22%20+%20aBtnID%20+%20%22%27%2C%20%27ShowTooltip%27%2C%20%22%20+%20%21opt%5B%22ShowTooltip%22%5D%20+%0A%09%09%09%09%22%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%0A%09%09let%20posM%20%3D%20aN.appendChild%28%24.%24CNS%28%22menu%22%2C%20%7B%0A%09%09%09label%3A%20%22This%20popup%20position%22%0A%09%09%7D%29%29.appendChild%28%24.%24CNS%28%22menupopup%22%2C%20%7B%0A%09%09%09onclick%3A%20%22event.stopPropagation%28%29%3B%22%0A%09%09%7D%29%29.appendChild%28%24.%24CNS%28%22radiogroup%22%29%29%3B%0A%09%09%5B%22after_end%22%2C%0A%09%09%09%22after_start%22%2C%0A%09%09%09%22before_start%22%2C%0A%09%09%09%22before_end%22%2C%0A%09%09%09%22start_after%22%2C%0A%09%09%09%22end_after%22%2C%0A%09%09%09%22start_before%22%2C%0A%09%09%09%22end_before%22%0A%09%09%5D.forEach%28function%28aP%29%20%7B%0A%09%09%09posM.appendChild%28%24.%24CNS%28%22radio%22%2C%20%7B%0A%09%09%09%09label%3A%20aP%2C%0A%09%09%09%09%22data-tooltip%22%3A%20aP%2C%0A%09%09%09%09type%3A%20%22radio%22%2C%0A%09%09%09%09tooltip%3A%20%24._UID%20+%20%22-pos-preview-tooltip%22%2C%0A%09%09%09%09selected%3A%20aP%20%3D%3D%3D%20opt.PopupPosition%2C%0A%09%09%09%09onclick%3A%20%24.that%20+%20%22setBtnPref%28%27%22%20+%20aBtnID%20+%20%22%27%2C%20%27PopupPosition%27%2C%20%27%22%20+%20aP%20+%0A%09%09%09%09%09%22%27%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22dialogheader%22%2C%20%7B%0A%09%09%09title%3A%20%22Global%20preferences%22%2C%0A%09%09%09style%3A%20%22margin%3A%200%200%207px%200%3Bpadding%3A%202px%200%202px%205px%3Bborder%3Anone%3Bfont-size%3Asmaller%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09let%20appM%20%3D%20aN.appendChild%28%24.%24CNS%28%22menu%22%2C%20%7B%0A%09%09%09label%3A%20%22Appearance%22%0A%09%09%7D%29%29.appendChild%28%24.%24CNS%28%22menupopup%22%2C%20%7B%0A%09%09%09onclick%3A%20%22event.stopPropagation%28%29%3B%22%0A%09%09%7D%29%29%3B%0A%09%09let%20pConv%20%3D%20appM.appendChild%28%24.%24CNS%28%22menu%22%2C%20%7B%0A%09%09%09label%3A%20%22Convert%20to%20panel%22%2C%0A%09%09%09tooltiptext%3A%20%22Convert%20all%20Multi%20Menu%20button%20main%20popups%20to%20panel.%22%0A%09%09%7D%29%29.appendChild%28%24.%24CNS%28%22menupopup%22%2C%20%7B%0A%09%09%09onclick%3A%20%22event.stopPropagation%28%29%3B%22%0A%09%09%7D%29%29%3B%0A%09%09%5B%0A%09%09%09%5B0%2C%20%22Disabled%22%2C%20%22Do%20not%20convert%20to%20panel.%22%5D%2C%0A%09%09%09%5B1%2C%20%22Basic%20convertion%22%2C%20%22Basic%20panel%20convertion.%20Compatible%20with%20all%20%22%20+%0A%09%09%09%09%22Firefox%20forks%2C%20SeaMonkey%20and%20Thunderbird.%5Cn%22%20+%0A%09%09%09%09%22%uD835%uDDE3%uD835%uDDFF%uD835%uDDFC%uD835%uDE00%3A%5Cn%22%20+%0A%09%09%09%09%22*%20It%20works%20on%20all%20Gecko%20applications.%5Cn%22%20+%0A%09%09%09%09%22%uD835%uDDD6%uD835%uDDFC%uD835%uDDFB%uD835%uDE00%3A%5Cn%22%20+%0A%09%09%09%09%22*%20Menus%20can%27t%20overflow.%22%0A%09%09%09%5D%2C%0A%09%09%09%5B2%2C%20%22Animated%20panel%22%2C%20%22Convert%20to%20an%20animated%20panel.%20Not%20compatible%20with%20Palemoon%2C%22%20+%0A%09%09%09%09%22%20SeaMonkey%20nor%20Thunderbird.%5Cn%22%20+%0A%09%09%09%09%22%uD835%uDDE3%uD835%uDDFF%uD835%uDDFC%uD835%uDE00%3A%5Cn%22%20+%0A%09%09%09%09%22*%20Menus%20can%20overflow.%5Cn%22%20+%0A%09%09%09%09%22%uD835%uDDD6%uD835%uDDFC%uD835%uDDFB%uD835%uDE00%3A%5Cn%22%20+%0A%09%09%09%09%22*%20It%20works%20only%20on%20Firefox%20and%20Firefox%20forks%20based%20on%20modern%20versions%20of%20Firefox.%22%0A%09%09%09%5D%0A%09%09%5D.forEach%28function%28aP%29%20%7B%0A%09%09%09pConv.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20aP%5B1%5D%2C%0A%09%09%09%09type%3A%20%22radio%22%2C%0A%09%09%09%09value%3A%20aP%5B0%5D%2C%0A%09%09%09%09closemenu%3A%20%22none%22%2C%0A%09%09%09%09tooltiptext%3A%20aP%5B2%5D%2C%0A%09%09%09%09checked%3A%20%24.gPref%28%22pStylePanelConvertionType%22%29%20%3D%3D%3D%20aP%5B0%5D%2C%0A%09%09%09%09oncommand%3A%20%24.that%20+%20%22sPref%28%27pStylePanelConvertionType%27%2C%20%22%20+%20aP%5B0%5D%20+%20%22%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%29%3B%0A%09%09%5B%0A%09%09%09%5B%22pStyleForDialogHeaderEnabled%22%2C%0A%09%09%09%09%22Dialog%20header%20tweaks%22%2C%0A%09%09%09%09%22Shrink%20dialoheader%20elements%20to%20a%20proper%20size%20for%20menupopups.%22%0A%09%09%09%5D%2C%0A%09%09%09%5B%22pStyleRemoveMainMenuAccelContainers%22%2C%0A%09%09%09%09%22Hide%20accel.%20containers%22%2C%0A%09%09%09%09%22Show/Hide%20accelerator%20containers%20from%20the%20main%20menu.%22%0A%09%09%09%5D%2C%0A%09%09%09%5B%22pStyleInvertContextIcons%22%2C%0A%09%09%09%09%22Invert%20context%20icons%20color%22%2C%0A%09%09%09%09%22Enable%20in%20case%20your%20menupopups%20have%20a%20dark%20background.%20Otherwise%2C%20you%20%22%20+%0A%09%09%09%09%22will%20see%20dark%20icons%20over%20a%20dark%20background.%22%0A%09%09%09%5D%2C%0A%09%09%09%5B%22pStyleForMenuGroupEnabled%22%2C%0A%09%09%09%09%22Menu%20group%20tweaks%20-%20Basic%20tweaks%22%2C%0A%09%09%09%09%22This%20tweak%20is%20what%20gives%20to%20the%20menu%20groups%20their%20appearance.%20If%20you%20use%20menu%20%22%20+%0A%09%09%09%09%22group%20items%2C%20do%20not%20disable%20this%20option.%22%0A%09%09%09%5D%2C%0A%09%09%09%5B%22pStyleForMenuGroupReflectCheckedStateEnabled%22%2C%0A%09%09%09%09%22Menu%20group%20tweaks%20-%20Checked%20state%20for%20CB%20items%22%2C%0A%09%09%09%09%22This%20extra%20tweak%20will%20reflect%20the%20CB%20item%27s%20checked%20state%20on%20items%20placed%20inside%20menu%20groups.%22%0A%09%09%09%5D%2C%0A%09%09%09%5B%22pStyleForOverflowedMenus%22%2C%0A%09%09%09%09%22Scrollbars%20instead%20of%20scroll%20buttons%22%2C%0A%09%09%09%09%22Instead%20of%20displaying%20scroll%20buttons%20for%20overflowed%20menus%2C%20it%20will%20display%20scrollbars.%22%0A%09%09%09%5D%2C%0A%09%09%09%5B%22pStyleSheetCustomEnabled%22%2C%0A%09%09%09%09%22Use%20custom%20style%20sheet%22%2C%0A%09%09%09%09%22Enable/Disable%20the%20use%20of%20custom%20CSS%20tweaks.%22%0A%09%09%09%5D%0A%09%09%5D.forEach%28function%28aP%29%20%7B%0A%09%09%09appM.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20aP%5B1%5D%2C%0A%09%09%09%09type%3A%20%22checkbox%22%2C%0A%09%09%09%09closemenu%3A%20%22none%22%2C%0A%09%09%09%09tooltiptext%3A%20aP%5B2%5D%2C%0A%09%09%09%09checked%3A%20%24.gPref%28aP%5B0%5D%29%2C%0A%09%09%09%09onclick%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09oncommand%3A%20%24.that%20+%20%22sBP%28%27%22%20+%20aP%5B0%5D%20+%20%22%27%2C%20%21%22%20+%20%24.that%20+%20%22gBP%28%27%22%20+%20aP%5B0%5D%20+%20%22%27%29%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%29%3B%0A%09%09appM.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Edit%20custom%20style%20sheet%22%2C%0A%09%09%09tooltiptext%3A%20%22Edit%20the%20custom%20style%20sheet.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22editCustomStyleSheet%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09appM.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Reload%20style%20sheets%22%2C%0A%09%09%09tooltiptext%3A%20%22ALl%20the%20style%20sheets%20are%20reloaded%20automatically.%20This%20may%20be%20necessary%20just%20for%20debugging%20purposes.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22handleCSS%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Open%20Multi%20Menu%20storage%22%2C%0A%09%09%09tooltiptext%3A%20%22Open%20the%20folder%20where%20all%20the%20files%20used%20by%20all%20Multi%20Menu%20buttons%20%22%20+%0A%09%09%09%09%22%28master%20and%20slaves%29%20are%20stored.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22openMultiMenuStorage%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Force%20update%20all%20Multi%20Menu%20buttons%22%2C%0A%09%09%09tooltiptext%3A%20%22Force%20to%20update%20all%20Multi%20Menu%20buttons%20%28master%20first%2C%20then%20all%20the%20slaves%29.%5Cn%22%20+%0A%09%09%09%09%22This%20is%20needed%20for%20when%20Multi%20Menu%20master%20button%20is%20updated%2C%20so%20all%20the%20slave%20buttons%20%22%20+%0A%09%09%09%09%22will%20work%20with%20the%20new%20updated%20code.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22Creator.handleAllButtons%28null%2C%20true%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22Create%20slave%20button%22%2C%0A%09%09%09tooltiptext%3A%20%22Create%20and%20install%20a%20Multi%20Menu%20slave%20button.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22createSlave%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22separator%22%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22More%20options%22%2C%0A%09%09%09tooltiptext%3A%20%22Open%20Multi%20Menu%20global%20options%20window.%22%2C%0A%09%09%09oncommand%3A%20%24.that%20+%20%22openOptions%28%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%7D%2C%0A%0A%09createSlave%3A%20function%28%29%20%7B%0A%09%09let%20opts%20%3D%20%5B%22Directly%20intall%20slave%20button%22%2C%0A%09%09%09%22Copy%20slave%20button%20URI%20to%20clipboard%22%2C%0A%09%09%5D%3B%0A%09%09let%20selected%20%3D%20%7B%7D%3B%0A%09%09let%20result%20%3D%20Services.prompt.select%28null%2C%20self.name%2C%20%22Choose%20what%20to%20do.%22%2C%20opts.length%2C%0A%09%09%09opts%2C%20selected%29%3B%0A%09%09if%20%28result%29%20%7B%0A%09%09%09let%20URI%20%3D%20%24.getHelp%28%22%25SlaveButton%25%22%29%3B%0A%09%09%09if%20%28selected.value%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20%22You%20are%20about%20to%20install%20a%20Multi%20Menu%27s%20%22%20+%0A%09%09%09%09%09%22slave%20button.%5CnProceed%3F%22%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09%09%09if%20%28cBox%29%20%7B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%24._cbs.installWebButton%28null%2C%20URI%2C%20false%29%3B%0A%09%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09%09loadURI%28URI%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09return%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09gClipboard.write%28URI%29%3B%0A%09%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09%09centerScreen%3A%20false%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09%24.notifyme%28self.name%2C%20%22Multi%20Menu%20slave%20button%20URI%20copied%20to%20clipboard.%22%2C%0A%09%09%09%09%09%24.getHelp%28%22%25AlertImg%25%22%29%2C%0A%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%7D%0A%09%09%7D%20else%0A%09%09%09return%3B%0A%09%7D%2C%0A%0A%09selfDestroy%3A%20function%28aBtnID%29%20%7B%0A%09%09let%20btn%20%3D%20%24.%24%28aBtnID%29%3B%0A%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09btn.destroy%28%22update%22%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09btn.init%28%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%7D%2C%0A%0A%09openEditMenuWindow%3A%20function%28aBtn%2C%20aData%2C%20aPath%29%20%7B%0A%09%09var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%09%09var%20winName%20%3D%20%24._UID%20+%20%22_edit_menu_window_%22%20+%20aBtn.id.slice%2813%29%3B%0A%09%09var%20index%20%3D%201%3B%0A%09%09while%20%28em.hasMoreElements%28%29%29%20%7B%0A%09%09%09let%20win%20%3D%20em.getNext%28%29%3B%0A%09%09%09if%20%28win.name%20%3D%3D%3D%20winName%29%20%7B%0A%09%09%09%09win.focus%28%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09index++%3B%0A%09%09%7D%0A%09%09let%20xul%20%3D%20%24.getHelp%28%22%25ItemsInsertionWindow%25%22%29%3B%0A%09%09let%20storage%20%3D%20%7B%0A%09%09%09custombuttons%3A%20custombuttons%2C%0A%09%09%09img_to_b64_cback%3A%20%24.img_to_b64_cback%2C%0A%09%09%09notifyme%3A%20%24.notifyme%2C%0A%09%09%09alertCallback%3A%20%24.alertCallback%2C%0A%09%09%09accel%3A%20%24.accel%2C%0A%09%09%09dummyData%3A%20%24.dummyData%2C%0A%09%09%09button%3A%20aBtn%2C%0A%09%09%09getHelp%3A%20%24.getHelp%2C%0A%09%09%09itemsFilePath%3A%20aPath%2C%0A%09%09%09storagePath%3A%20%24.storagePath%2C%0A%09%09%09primary_menu_1%3A%20aData%5B0%5D%2C%0A%09%09%09primary_menu_2%3A%20aData%5B1%5D%2C%0A%09%09%09primary_menu_3%3A%20aData%5B2%5D%2C%0A%09%09%09primary_menu_4%3A%20aData%5B3%5D%2C%0A%09%09%09primary_menu_5%3A%20aData%5B4%5D%2C%0A%09%09%7D%3B%0A%09%09xul%20%3D%20xul.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%0A%09%09xul%20%3D%20xul.split%28%22%25U_I_D%25%22%29.join%28%24._UID%29%3B%0A%09%09xul%20%3D%20xul.split%28%22%25B_T_N_I_D%25%22%29.join%28%24._UID%29%3B%0A%09%09xul%20%3D%20xul.split%28%22%25A_C_C_E_L%25%22%29.join%28%24.accel%28%29%29%3B%0A%09%09let%20url%20%3D%20%22data%3Aapplication/vnd.mozilla.xul+xml%3Btext/plain%2C%22%20+%20encodeURIComponent%28xul%29%3B%0A%09%09let%20win%20%3D%20openDialog%28url%2C%20winName%2C%20%22chrome%2C%20resizable%2C%20dialog%3Dno%2C%20centerscreen%2C%20close%22%29%3B%0A%09%09win._storage%20%3D%20storage%3B%0A%09%7D%2C%0A%0A%09openOptions%3A%20function%28%29%20%7B%0A%09%09var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%09%09var%20winName%20%3D%20%24._UID%20+%20%22_settings_window%22%3B%0A%09%09var%20index%20%3D%201%3B%0A%09%09while%20%28em.hasMoreElements%28%29%29%20%7B%0A%09%09%09let%20win%20%3D%20em.getNext%28%29%3B%0A%09%09%09if%20%28win.name%20%3D%3D%3D%20winName%29%20%7B%0A%09%09%09%09win.focus%28%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09index++%3B%0A%09%09%7D%0A%09%09let%20storage%20%3D%20%7B%0A%09%09%09button%3A%20self%2C%0A%09%09%09isNavigator%3A%20%22gBrowser%22%20in%20window%2C%0A%09%09%7D%3B%0A%09%09let%20xul%20%3D%20%24.getHelp%28%22%25OptionsWindow%25%22%29%3B%0A%09%09xul%20%3D%20xul.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%0A%09%09xul%20%3D%20xul.split%28%22%25U_I_D%25%22%29.join%28%24._UID%29%3B%0A%09%09xul%20%3D%20xul.split%28%22%25APP_NAME%25%22%29.join%28%24.SA.name%29%3B%0A%09%09xul%20%3D%20xul.split%28%22%25B_R_A_N_C_H%25%22%29.join%28%24.Branch%29%3B%0A%09%09xul%20%3D%20xul.split%28%22%25A_C_C_E_L%25%22%29.join%28%24.accel%28%29%29%3B%0A%09%09let%20url%20%3D%20%22data%3Aapplication/vnd.mozilla.xul+xml%3Btext/plain%2C%22%20+%20encodeURIComponent%28xul%29%3B%0A%09%09let%20win%20%3D%20openDialog%28url%2C%20winName%2C%20%22chrome%2C%20dependant%2C%20dialog%2C%20centerscreen%2C%20close%2C%20alwaysRaised%22%29%3B%0A%09%09win._storage%20%3D%20storage%3B%0A%09%7D%2C%0A%0A%09populatePositioningTooltip%3A%20function%28aE%2C%20aN%29%20%7B%0A%09%09aN.textContent%20%3D%20%22%22%3B%0A%09%09let%20box%20%3D%20aN.appendChild%28%24.%24CNS%28%22hbox%22%29%29%3B%0A%09%09let%20pos%20%3D%20aE.target.triggerNode.getAttribute%28%22data-tooltip%22%29%3B%0A%09%09let%20isWide%20%3D%20/%5Eend_/.test%28pos%29%20%7C%7C%20/%5Estart_/.test%28pos%29%3B%0A%09%09box.appendChild%28%24.%24CNS%28%22spacer%22%2C%20%7B%0A%09%09%09flex%3A%201%0A%09%09%7D%29%29%3B%0A%09%09box.appendChild%28%24.%24CNS%28%22label%22%2C%20%7B%0A%09%09%09value%3A%20%22Preview%22%2C%0A%09%09%09style%3A%20%22font-weight%3Abold%3B%22%2C%0A%09%09%7D%29%29%3B%0A%09%09box.appendChild%28%24.%24CNS%28%22spacer%22%2C%20%7B%0A%09%09%09flex%3A%201%0A%09%09%7D%29%29%3B%0A%09%09aN.appendChild%28%24.%24CNS%28%22image%22%2C%20%7B%0A%09%09%09src%3A%20%24.getHelp%28%22%25%22%20+%20pos%20+%20%22%25%22%29%2C%0A%09%09%09width%3A%20isWide%20%3F%20180%20%3A%20130%2C%0A%09%09%09height%3A%20isWide%20%3F%2091%20%3A%20122%2C%0A%09%09%7D%29%29%3B%0A%09%7D%2C%0A%0A%09populateDynamicTooltip%3A%20function%28aE%2C%20aN%29%20%7B%0A%09%09aN.textContent%20%3D%20%22%22%3B%0A%09%09var%20d%2C%0A%09%09%09isBtn%20%3D%20aE.target.triggerNode.hasAttribute%28%22cb-init%22%29%3B%0A%09%09try%20%7B%0A%09%09%09d%20%3D%20aE.target.triggerNode._data%3B%0A%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09d%20%3D%20false%3B%0A%09%09%7D%0A%09%09if%20%28%21d%20%26%26%20%21isBtn%29%0A%09%09%09return%20false%3B%0A%0A%09%09var%20grid%20%3D%20aN.appendChild%28%24.%24CNS%28%22grid%22%29%29%3B%0A%09%09var%20cols%20%3D%20grid.appendChild%28%24.%24CNS%28%22columns%22%29%29%3B%0A%09%09cols.appendChild%28%24.%24CNS%28%22column%22%2C%20%7B%0A%09%09%09flex%3A%202%0A%09%09%7D%29%29%3B%0A%09%09cols.appendChild%28%24.%24CNS%28%22column%22%2C%20%7B%0A%09%09%09flex%3A%203%0A%09%09%7D%29%29%3B%0A%09%09cols.appendChild%28%24.%24CNS%28%22column%22%2C%20%7B%0A%09%09%09flex%3A%201%0A%09%09%7D%29%29%3B%0A%09%09var%20rows%20%3D%20grid.appendChild%28%24.%24CNS%28%22rows%22%29%29%3B%0A%09%09let%20AR%20%3D%20function%28aRowsNode%2C%20aLabel1%2C%20aLabel2%2C%20aLabel3%2C%20aEmpty%29%20%7B%0A%09%09%09let%20row%20%3D%20%24.%24CNS%28%22row%22%29%3B%0A%09%09%09if%20%28aEmpty%29%20%7B%0A%09%09%09%09row.appendChild%28%24.%24CNS%28%22label%22%2C%20%7B%0A%09%09%09%09%09value%3A%20%22%20%22%2C%0A%09%09%09%09%09width%3A%200%2C%0A%09%09%09%09%7D%29%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09row.appendChild%28%24.%24CNS%28%22label%22%2C%20%7B%0A%09%09%09%09%09value%3A%20aLabel1%2C%0A%09%09%09%09%09style%3A%20%22font-weight%3A%20bold%3B%22%2C%0A%09%09%09%09%7D%29%29%3B%0A%09%09%09%09row.appendChild%28%24.%24CNS%28%22label%22%2C%20%7B%0A%09%09%09%09%09value%3A%20aLabel2%2C%0A%09%09%09%09%09style%3A%20%22font-weight%3A%20bold%3B%22%2C%0A%09%09%09%09%7D%29%29%3B%0A%09%09%09%09let%20desc%20%3D%20%24.%24CNS%28%22description%22%2C%20%7B%0A%09%09%09%09%09maxwidth%3A%20250%2C%0A%09%09%09%09%7D%29%3B%0A%09%09%09%09desc.textContent%20%3D%20aLabel3%3B%20//%20Use%20of%20%22textContent%22%20to%20achieve%20word%20wrap.%20%AC%AC%0A%09%09%09%09row.appendChild%28desc%29%3B%0A%09%09%09%7D%0A%09%09%09aRowsNode.appendChild%28row%29%3B%0A%09%09%7D%3B%0A%09%09if%20%28isBtn%29%20%7B%0A%09%09%09let%20btn%20%3D%20aE.target.triggerNode%3B%0A%09%09%09AR%28rows%2C%20btn.name%2C%20%22%u2192%22%2C%20%22ID%20%3D%20%22%20+%20btn.id.slice%2820%29%29%3B%0A%09%09%09AR%28rows%2C%20null%2C%20null%2C%20null%2C%20true%29%3B%0A%09%09%09AR%28rows%2C%20%22Left%20click%22%2C%20%22%u2192%22%2C%20%22Open/Close%20main%20menu%22%29%3B%0A%09%09%09AR%28rows%2C%20%22Middle%20or%20%22%20+%20%24.accel%28%29%20+%20%22%20+%20Left%20click%22%2C%20%22%u2192%22%2C%20%22Open%20Options%20menu%22%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22separator%22%29%29%3B%20//%20Empty%20space%0A%09%09%09let%20desc2%20%3D%20%24.%24CNS%28%22description%22%2C%20%7B%0A%09%09%09%09style%3A%20%22font-weight%3Abold%3B%22%2C%0A%09%09%09%7D%29%3B%0A%09%09%09//%20Use%20of%20%22textContent%22%20to%20achieve%20word%20wrap.%20%AC%AC%0A%09%09%09desc2.textContent%20%3D%20%22Read%20this%20button%20help%20for%20very%20important%20usage%20notes.%5Cn%22%20+%0A%09%09%09%09%22Right%20click%20on%20button%2C%20%5C%22Button%20Help%5C%22%20item.%22%3B%0A%09%09%09aN.appendChild%28desc2%29%3B%0A%09%09%09return%20true%3B%0A%09%09%7D%0A%09%09let%20isAddon%20%3D%20%28d.type%20%21%3D%3D%20%22pref%22%20%26%26%20d.type%20%21%3D%3D%20%22url%22%29%3B%0A%09%09if%20%28d.desc%20%26%26%20d.desc%20%21%3D%3D%20%22%22%29%0A%09%09%09AR%28rows%2C%20%22Description%22%2C%20%22%u2192%22%2C%20d.desc%29%3B%0A%09%09if%20%28isAddon%29%20%7B%0A%09%09%09AR%28rows%2C%20%22Version%22%2C%20%22%u2192%22%2C%20d.version%29%3B%0A%09%09%09AR%28rows%2C%20%22ID%22%2C%20%22%u2192%22%2C%20d.id%29%3B%0A%09%09%09%28d.type%20%21%3D%3D%20%22userstyle%22%20%26%26%20d.type%20%21%3D%3D%20%22theme%22%29%20%26%26%20AR%28rows%2C%20%22Update%20date%22%2C%20%22%u2192%22%2C%20d.updDate%29%3B%0A%09%09%09%28d.creator%20%21%3D%3D%20%22%22%29%20%26%26%20AR%28rows%2C%20%22Creator%22%2C%20%22%u2192%22%2C%20d.creator%29%3B%0A%09%09%7D%20else%20if%20%28d.type%20%3D%3D%3D%20%22pref%22%29%20%7B%0A%09%09%09let%20pVal%20%3D%20custombuttons.getPrefs%28d.prefname%29%3B%0A%09%09%09AR%28rows%2C%20%22Pref.%20name%22%2C%20%22%u2192%22%2C%20d.prefname%29%3B%0A%09%09%09AR%28rows%2C%20%22Current%20value%22%2C%20%22%u2192%22%2C%20%28pVal%20%3D%3D%3D%20null%20%3F%20%22Non%20existent%20preference.%22%20%3A%20pVal%29%29%3B%0A%09%09%7D%20else%20if%20%28d.type%20%3D%3D%3D%20%22url%22%29%20%7B%0A%09%09%09AR%28rows%2C%20%22URL%22%2C%20%22%u2192%22%2C%20d.url%29%3B%0A%09%09%7D%0A%09%09AR%28rows%2C%20null%2C%20null%2C%20null%2C%20true%29%3B%0A%09%09if%20%28%28isAddon%20%26%26%20%21%24._.pExtraHelpOnAddonsItemsTooltips%29%20%7C%7C%0A%09%09%09%28d.type%20%3D%3D%3D%20%22pref%22%20%26%26%20%21%24._.pExtraHelpOnPrefItemsTooltips%29%20%7C%7C%0A%09%09%09%28d.type%20%3D%3D%3D%20%22url%22%20%26%26%20%21%24._.pExtraHelpOnURLItemsTooltips%29%29%0A%09%09%09return%20true%3B%0A%0A%09%09AR%28rows%2C%20%22%u25BC%20Help%20text%20%u25BC%22%2C%20%22%22%29%3B%0A%09%09AR%28rows%2C%20null%2C%20null%2C%20null%2C%20true%29%3B%0A%09%09if%20%28isAddon%29%20%7B%0A%09%09%09if%20%28d.type%20%3D%3D%3D%20%22extension%22%20%7C%7C%20d.type%20%3D%3D%3D%20%22greasemonkey-user-script%22%20%7C%7C%20d.type%20%3D%3D%3D%20%22userscript%22%29%0A%09%09%09%09AR%28rows%2C%20%22Left%20click%22%2C%20%22%u2192%22%2C%20%22Open%20options%22%29%3B%0A%09%09%09else%20if%20%28d.type%20%3D%3D%3D%20%22userstyle%22%29%0A%09%09%09%09AR%28rows%2C%20%22Left%20click%22%2C%20%22%u2192%22%2C%20%22Edit%20style%22%29%3B%0A%09%09%09else%20if%20%28d.type%20%3D%3D%3D%20%22theme%22%29%0A%09%09%09%09AR%28rows%2C%20%22Left%20click%22%2C%20%22%u2192%22%2C%20%22Set%20active%20theme%22%29%3B%0A%09%09%09if%20%28d.type%20%21%3D%3D%20%22theme%22%29%0A%09%09%09%09AR%28rows%2C%20%22Middle%20or%20%22%20+%20%24.accel%28%29%20+%20%22%20+%20Left%20click%22%2C%20%22%u2192%22%2C%20d.type%20%3D%3D%3D%20%22plugin%22%20%3F%0A%09%09%09%09%09%22Switch%20Always%20activate%20%u2194%20Never%20activate%20%u2194%20Ask%20To%20Activate%22%20%3A%0A%09%09%09%09%09%22Enable/Disable%22%29%3B%0A%09%09%09AR%28rows%2C%20%22Right%20click%22%2C%20%22%u2192%22%2C%20%22Context%20menu%22%29%3B%0A%09%09%09d.unique%20%7C%7C%20AR%28rows%2C%20%24.accel%28%29%20+%20%22%20+%20Right%20click%22%2C%20%22%u2192%22%2C%20%22Hide/Show%20this%20menuitem%22%29%3B%0A%09%09%7D%20else%20if%20%28d.type%20%3D%3D%3D%20%22pref%22%29%20%7B%0A%09%09%09AR%28rows%2C%20%22Left%20click%22%2C%20%22%u2192%22%2C%20%22Switch/Set%20preference%20value%22%29%3B%0A%09%09%09AR%28rows%2C%20%24.accel%28%29%20+%20%22%20+%20Left%20click%22%2C%20%22%u2192%22%2C%20%22Switch/Set%20preference%20value%20%28Inverse%29%22%29%3B%0A%09%09%09AR%28rows%2C%20%22Right%20click%22%2C%20%22%u2192%22%2C%20%22Context%20menu%22%29%3B%0A%09%09%7D%20else%20if%20%28d.type%20%3D%3D%3D%20%22url%22%29%20%7B%0A%09%09%09let%20getWhere%20%3D%20function%28aWhere%29%20%7B%0A%09%09%09%09switch%20%28aWhere%29%20%7B%0A%09%09%09%09%09case%200%3A%0A%09%09%09%09%09%09return%20%22%20in%20current%20tab%22%3B%0A%09%09%09%09%09case%201%3A%0A%09%09%09%09%09%09return%20%22%20next%20to%20current%20tab%22%3B%0A%09%09%09%09%09case%202%3A%0A%09%09%09%09%09%09return%20%22%20in%20new%20background%20tab%22%3B%0A%09%09%09%09%09case%203%3A%0A%09%09%09%09%09%09return%20%22%20in%20new%20foreground%20tab%22%3B%0A%09%09%09%09%09case%204%3A%0A%09%09%09%09%09%09return%20%22%20in%20content%20tab%22%3B%0A%09%09%09%09%09case%205%3A%0A%09%09%09%09%09%09return%20%22%20in%20default%20browser%22%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%3B%0A%09%09%09%24._.pURLItemLeftClickWhere%20%21%3D%3D%206%20%26%26%0A%09%09%09%09AR%28rows%2C%20%22Left%20click%22%2C%20%22%u2192%22%2C%20%22Open%22%20+%20getWhere%28%24._.pURLItemLeftClickWhere%29%29%3B%0A%09%09%09%24._.pURLItemLeftCtrlClickWhere%20%21%3D%3D%206%20%26%26%0A%09%09%09%09AR%28rows%2C%20%24.accel%28%29%20+%20%22%20+%20Left%20click%22%2C%20%22%u2192%22%2C%20%22Open%22%20+%20getWhere%28%24._.pURLItemLeftCtrlClickWhere%29%29%3B%0A%09%09%09%24._.pURLItemLeftShiftClickWhere%20%21%3D%3D%206%20%26%26%0A%09%09%09%09AR%28rows%2C%20%22Shift%20+%20Left%20click%22%2C%20%22%u2192%22%2C%20%22Open%22%20+%20getWhere%28%24._.pURLItemLeftShiftClickWhere%29%29%3B%0A%09%09%09%24._.pURLItemMiddleClickWhere%20%21%3D%3D%206%20%26%26%0A%09%09%09%09AR%28rows%2C%20%22Middle%20click%22%2C%20%22%u2192%22%2C%20%22Open%22%20+%20getWhere%28%24._.pURLItemMiddleClickWhere%29%29%3B%0A%09%09%09%24._.pURLItemRightClickWhere%20%21%3D%3D%206%20%26%26%0A%09%09%09%09AR%28rows%2C%20%22Right%20click%22%2C%20%22%u2192%22%2C%20%22Open%22%20+%20getWhere%28%24._.pURLItemRightClickWhere%29%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09populateContextMenu%3A%20function%28aE%2C%20aN%29%20%7B%0A%09%09var%20d%20%3D%20aE.target.triggerNode._data%3B%0A%09%09aN.textContent%20%3D%20%22%22%3B%0A%09%09if%20%28%21d%29%20%7B%0A%09%09%09aN.hidePopup%28%29%3B%0A%09%09%09return%20false%3B%0A%09%09%7D%0A%09%09//%20Sometimes%20the%20dynamic%20tooltip%20is%20freaking%20annoying%21%21%21%21%0A%09%09try%20%7B%0A%09%09%09%24.dynTT.hidePopup%28%29%3B%0A%09%09%7D%20catch%20%28aErr%29%20%7B%7D%0A%09%09var%20tt%3B%0A%09%09var%20t%20%3D%20d.type%3B%0A%09%09if%20%28t%20%21%3D%3D%20%22pref%22%20%26%26%20t%20%21%3D%3D%20%22url%22%29%20%7B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Add-on%20options%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_context_menu_dark_icon%22%2C%0A%09%09%09%09hidden%3A%20%28t%20%3D%3D%3D%20%22plugin%22%20%7C%7C%20t%20%3D%3D%3D%20%22userstyle%22%20%7C%7C%20t%20%3D%3D%3D%20%22theme%22%29%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABmElE%22%20+%0A%09%09%09%09%09%22QVQ4jc2ST2sTURTF31cQxEXFRRchSLCVlhQDjX+mkIKPSUyHl4Tpe8NkJqad4LQOnYgOLQykCbQQQ%22%20+%0A%09%09%09%09%09%22cSu+g1cu/LD/dwFajLQhQvP7nLvOffcwxXiv8WT9TKPSxs8Wlvn3qTS5g7bu3sIIcT27h6Ng0OevX%22%20+%0A%09%09%09%09%09%22i5qJ8+rxaL1d40KG/V2Ki95tXbNpatUH6EZSssW1Gp1qlU64sFK7Hf7iKVpnFwiFSaptu/U++3uwR%22%20+%0A%09%09%09%09%09%22xWiwwzmc4JqTV88jyKT9//WZy9RWpNI4JOf18vpr84OEapc0dLFvRdPukF5M7g9nlNU23j2Urylu1%22%20+%0A%09%09%09%09%09%225WAr1TpNt4+JEjr+cElACCEcE2KiBMeEyzlIpen4Q0yU4A5GOCbkb7I7GC36UunVp6QXE4I4RfkRU%22%20+%0A%09%09%09%09%09%22mlMlNDqeTgmJIhTTr/kxQG2eh5SaYI45egsw0QJJkrwjk84OssI4hSpdPF2x4RIpXEHI2bz73wYn5%22%20+%0A%09%09%09%09%09%22NdXvP+4yfmN7d4xydIpWn1vGIXWT7l6tsPhBDCHYwY5zM6/hAhhJjf3JLl0/u/tWNCHBPyrltg+V/%22%20+%0A%09%09%09%09%09%22hD+NI4kSZpLPiAAAAAElFTkSuQmCC%22%2C%0A%09%09%09%09_action%3A%20%22options%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Toggle%20Enabled/Disabled%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_context_menu_dark_icon%22%2C%0A%09%09%09%09closemenu%3A%20%22single%22%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAdElE%22%20+%0A%09%09%09%09%09%22QVQ4jd2SMQqDUBBE/w0inmR5j0/YU6VLnYuIh/MUH4Ja2ViIxMoMTPuYndlS7q/M7IFBbepy0g0YM%22%20+%0A%09%09%09%09%09%22rMvwKjOwKfWGpvVpzodQGZgLEAD3vtk6kP9HiUBWlGXiOj2gIjozpzzDwCgqa+fS7w84+VHur9Wk1%22%20+%0A%09%09%09%09%09%22+/sfYkj+gAAAAASUVORK5CYII%3D%22%2C%0A%09%09%09%09_action%3A%20%22toggle%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Go%20to%20%22%20+%20%28t%20%3D%3D%3D%20%22extension%22%20%3F%20%22AMO%22%20%3A%20%22install%22%29%20+%20%22%20page%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_context_menu_dark_icon%22%2C%0A%09%09%09%09hidden%3A%20%28t%20%3D%3D%3D%20%22plugin%22%20%7C%7C%20t%20%3D%3D%3D%20%22userstyle%22%29%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDElE%22%20+%0A%09%09%09%09%09%22QVQ4jbXRO0vDYByF8YcU7FLSNKHRgtZBQ7+XgxdwdhIdxA7ewEHUxdHR1ckLOAhOOujSReiepR/gc%22%20+%0A%09%09%09%09%09%22bHFe4LoH37jOfCeF/7r1Io6pU6qld+Ep2u12nEYhodqWw3KhgO1HYbhAdADelEU7asz6qw6URiOom%22%20+%0A%09%09%09%09%09%22gfeARuXz3FcbwNPKvZj+E4jveAe+DqgwfgWs0+bTIMNxqNLeAOOP9OvV7febfJMNxsNrvADXBW4CZ%22%20+%0A%09%09%09%09%09%22Jks1RidpKkmQDuAROS7pI03RdbaGmeZ4vDQaDBeCkSLVaPcrzfLHf7y+r42+f0QEOigRBsKt21LGP%22%20+%0A%09%09%09%09%09%22Q2bAbpEgCLrqzFffmAGbJaz9VLBawsp3BS11voS50Xh/cS8vb/sCW/pwGQAAAABJRU5ErkJggg%3D%3D%22%2C%0A%09%09%09%09_action%3A%20%22homepage%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Copy%20add-on%20ID%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_context_menu_dark_icon%22%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABWElE%22%20+%0A%09%09%09%09%09%22QVQ4jY2TsUoDQRRFT0SymXZT7BckrZ2dpPBHxBQW2mwRkLUwIEEQFEKadOnSpQwiqCAhFomNi521n%22%20+%0A%09%09%09%09%09%22f9wLZwNL+MUDlx4s3fm7NvlPgiWpF1JmaSWpHZELe/vhncrQJam6R3wBXxH9JWm6Z2kLHa5JqkFfA%22%20+%0A%09%09%09%09%09%22Al8B5RCXz4TmrRtoE1sCrL8kzSSaWyLM+AFbD2n7MBZM1m8xr49IAFsJC0J2nHd7Yjac94vwDT9iv%22%20+%0A%09%09%09%09%09%22w7AGPwKN9iz/31zPGPTD39byqI4BtzxgzYBbWEcC2Z4wpMA3r4B+E3hZgAkxsned5x4Yoz/OOPRcC%22%20+%0A%09%09%09%09%09%22xsBYUts5N/L7JfBmtATGzrnRJgcGMASGktpFUZwmSXJbPbNKkuS2KIrTTRIN4Aa46fV6B5IOJXVti%22%20+%0A%09%09%09%09%09%22Iy6kvY3s1DloNFoXAJXwAPwEtHTVnyDGcgGg8Gxc+4cuAhVr9fP+/3+UXSAzCzs/7tts34AH+XGMz%22%20+%0A%09%09%09%09%09%22fNicAAAAAASUVORK5CYII%3D%22%2C%0A%09%09%09%09_action%3A%20%22copyid%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Edit%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_context_menu_dark_icon%22%2C%0A%09%09%09%09hidden%3A%20%28t%20%3D%3D%3D%20%22plugin%22%20%7C%7C%20t%20%3D%3D%3D%20%22extension%22%20%7C%7C%20t%20%3D%3D%3D%20%22theme%22%29%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABfUlE%22%20+%0A%09%09%09%09%09%22QVQ4jZWTwWoTURSGf1ImpjIcJmQlpAlkMTtlCHkBLdHZNK+QoQxBCUE0BAxC24WIpRQapNQsQla6t%22%20+%0A%09%09%09%09%09%22KuSTVd1UxrcuOmqL5EX+NxMShiMjgc+7r+45+OeA1daKWAD2ALKwIb+p5Lmquu6Y9d1x0A1s2TZbG%22%20+%0A%09%09%09%09%09%22Znku4k3ZnZWWYJUDazU0m3km4Sbs3sNJMEKNfr9UNJP1L88jzv8z8lyQhPoyg6kHSZ4qfneSeZJe1%22%20+%0A%09%09%09%09%09%222e0/SRYprMzvOLInj+L2k7ymuisXiUWZJp9N5J+lbistSqfQJqKwVrEq63e5A0lTSNI7jwXA4fCtp%22%20+%0A%09%09%09%09%09%22FoZhC3iYSdLr9fqSvoRh+AbYbjQaB2b2AXj0V8GqpN/vv5Z0ns/np1EUDXK53HQ2mz253wWwCVSSP%22%20+%0A%09%09%09%09%09%22+Am5zJvAc/n83mn2Wx+LBQKXyUd12q1V0BxKag4jjNxHGcC+GtyADxbLBa7o9Hope/7e0D1XhAEwX%22%20+%0A%09%09%09%09%09%224QBPuAvyZXkrsPgMfAC6C0OkIL2EmevZPKLWDzT3v6DZ63QmlE5igPAAAAAElFTkSuQmCC%22%2C%0A%09%09%09%09_action%3A%20%22edit%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Uninstall%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%22%2C%0A%09%09%09%09closemenu%3A%20%22single%22%2C%0A%09%09%09%09hidden%3A%20%28t%20%3D%3D%3D%20%22plugin%22%29%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABpUlE%22%20+%0A%09%09%09%09%09%22QVQ4jc2SzUoCcRTFXakwKpb5QZbUkJoiEiODGrmwnWALwdX/AaQ3EF/AjRvpCYI/ggraQuhjEbiTQ%22%20+%0A%09%09%09%09%09%22YlIm8WAOxmFxEAXg7g4bRSmUFvWhbO4F865lx9Xo/l3BcAGgAXAqGbMcmb7zewohflMXqftipRySy%22%20+%0A%09%09%09%09%09%22MjUsrlddpuKcxnADg2bi5fhDM3jE6pmA0oGPWSSCknUsoVjHqpYjbghtEp5YtwZu0lAFjqdb8+71v%22%20+%0A%09%09%09%09%09%22QdFrQcOyguGuUirtGqeHYQdNpwfO+BdTrfgXArgtgFFkm7UhQaLF2tFg7nlx7eHLtYdW3I0FBkWWi%22%20+%0A%09%09%09%09%09%225vMzxKTIMunFQsKL/wBq9WKhldm0DSLTf6jx97z/XeSOoNY973/vP9T4bdsZuVHmblmr1Akdo3/u/%22%20+%0A%09%09%09%09%09%22qZO6Bi3rFWSG2VubQgAtho4fOtGTzCI+zCI+zBMx4RhOias+m70BNXA4dsmiLbpXSX3cXU2GyeC+C%22%20+%0A%09%09%09%09%09%22SXwnwyIvPJiHySS2GcCOLj6mw2vavkNj4UgNPFYz07u042MRkRACYAJkxGZHadbC4e61kApxshLkM%22%20+%0A%09%09%09%09%09%228AFJq2sugFADPVvOf1BfaRCycneXyfAAAAABJRU5ErkJggg%3D%3D%22%2C%0A%09%09%09%09_action%3A%20%22remove%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Inspect%20with%20DOM%20Inspector%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_context_menu_dark_icon%22%2C%0A%09%09%09%09hidden%3A%20%28typeof%20inspectObject%20%21%3D%3D%20%22function%22%29%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACBElE%22%20+%0A%09%09%09%09%09%22QVQ4jZXRz0uTARzH8Y/P84w9bKNosbXZytxjhR0kmFtssAkhCB2Kop/MAueC6BBBSQcvETaK8tRl1%22%20+%0A%09%09%09%09%09%22SHIzCiMKImImiytoztMxEuHiTf/AW/vLhNGPZZ94Xv68H3Bh6/UMsA2oB2IA51AFPDrXwNYQKynp6%22%20+%0A%09%09%09%09%09%22doWVZVUkPST9M0v+RyuXNNyPgbEAsEAk8lrViWVXMc53VHR8dby7LqklZCoVAJiG52vL23t/eSpCX%22%20+%0A%09%09%09%09%09%22HcZ43Go3LwEngwuLi4tVIJPJG0tLAwMAJ1zpAu8fjeeX1er/W6/VBYGdLtnd+fn5Y0jefz/cY2OUG%22%20+%0A%09%09%09%09%09%22xCV9cBznCXDIJU+Gw+FJwzCmgD1uQKff758MBAJloPO3rG19fb3Ltu2JYDBYBna7AVHHce5I+tjf3%22%20+%0A%09%09%09%09%09%2238W2AG0NTeYSCSKkmbS6fRIa71WwD89PX3aMIyXpml+ymQyF9fW1g4sLy8fTKVSRUmfJU2Vy+VjgP%22%20+%0A%09%09%09%09%09%220HsFFjbGzsmmEYLyT9kDQn6XtzJyU9i8Vit0ql0hEg5AYYQKJWqxXz+fyNeDx+v7u7+97Q0NDNhYW%22%20+%0A%09%09%09%09%09%22FK6Ojo9clvZc0l0wm867faEJhIAecAo4DaSC4urp61Ov1PpD0SNJMNps9vymyGTw7Ozvs8/lKkh5K%22%20+%0A%09%09%09%09%09%22etfX13cGCP4Psr9arRZs274t6a7H45kA9m0Z2EAqlUohEomMjI+PF1zfugWkC8gDhwHzFx1fIHPYY%22%20+%0A%09%09%09%09%09%22lnyAAAAAElFTkSuQmCC%22%2C%0A%09%09%09%09_action%3A%20%22inspect%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Browse%20install%20folder%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_context_menu_dark_icon%22%2C%0A%09%09%09%09hidden%3A%20%28t%20%3D%3D%3D%20%22plugin%22%20%7C%7C%20t%20%3D%3D%3D%20%22userstyle%22%20%7C%7C%20t%20%3D%3D%3D%20%22theme%22%29%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABRUlE%22%20+%0A%09%09%09%09%09%22QVQ4jZXSsUocQRzH8a+3C2E5brdxBZsjxXlPYOsL6Bv4HmuhFsIVSpA7jjSpLrBFynRBEDHEwj6dY%22%20+%0A%09%09%09%09%09%22JVui7zD12ZX5iZ7cBn4NPNjfszwHwDUTB2r08BH9QPbLHWcpukT8LeTpulTVBgaq1lYMAVegN+BF6%22%20+%0A%09%09%09%09%09%22DpkyTJT3XcHd5RJ+rn/zRRB6j7ZVneAK/Any29lmV5o+6jHgDPwCPwsKVH4Fk96N5/B/yINU0zD6/%22%20+%0A%09%09%09%09%09%22dNM08yO/UaVfwvY96GE3rMMrfC771abN4Wut5u/m1z4aC9bzd/NJnQ8F6rk5Go9EcWMY2FCyBZZZl%22%20+%0A%09%09%09%09%09%22824Ke6vV6mI4HF4Dn0JVVR2FX7iqqqMuWywWF90/SNRj9bYbV57nV8AMuAd+Be6BWZ7nV+qpOiBe6%22%20+%0A%09%09%09%09%09%22m5d12dFUZwDl7GiKM7ruj5T9/453BYM1JPwRpHb9sYJwBvfeYYXIT7OCAAAAABJRU5ErkJggg%3D%3D%22%2C%0A%09%09%09%09_action%3A%20%22browse%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuseparator%22%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Show/Hide%20this%20menuitem%22%2C%0A%09%09%09%09class%3A%20%22menuitem-iconic%20multi_menu_context_menu_dark_icon%22%2C%0A%09%09%09%09closemenu%3A%20%22single%22%2C%0A%09%09%09%09image%3A%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5UlE%22%20+%0A%09%09%09%09%09%22QVQ4jc3SvS7EURAF8B+JioSsCokHUFgNiWewQqvzICRew2v4WLFUnoNS/msrazUaFOYm12RlVeIkk%22%20+%0A%09%09%09%09%09%229ycM2fmztzLf8U02tiPaAc3EbM4Rh8fKfo4wdxP5nXcV4YhLnGO54p/wEY2b6akHhYqfR7dVHyriM%22%20+%0A%09%09%09%09%09%22t4qsQRWtiNaw+wFwWHaaQlcc161l4UblIyXKTcM7hL5FUk14tsgsvNumIhb2NG6ISxiXMrtJI3wEr%22%20+%0A%09%09%09%09%09%22ZwyHeK/E2DAWLuKn0F2xLOEgdRriOeK34sc9YsIpT37dd4hFHvj7bRMxElw52sIap3xj/Hp9rzGFB%22%20+%0A%09%09%09%09%09%22hiMSxAAAAABJRU5ErkJggg%3D%3D%22%2C%0A%09%09%09%09_action%3A%20%22backlist%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%20else%20if%20%28t%20%3D%3D%3D%20%22pref%22%29%20%7B%0A%09%09%09let%20isBool%20%3D%20%24.SP.getPrefType%28d.prefname%29%20%3D%3D%3D%20128%3B%0A%09%09%09let%20isLocked%20%3D%20%24.SP.prefIsLocked%28d.prefname%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%28isBool%20%3F%20%22Toggle%22%20%3A%20%22Modify%22%29%2C%0A%09%09%09%09accesskey%3A%20%28isBool%20%3F%20%22T%22%20%3A%20%22M%22%29%2C%0A%09%09%09%09closemenu%3A%20%28isBool%20%3F%20%22single%22%20%3A%20%22always%22%29%2C%0A%09%09%09%09disabled%3A%20isLocked%2C%0A%09%09%09%09_action%3A%20%22modifypref%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuseparator%22%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Copy%22%2C%0A%09%09%09%09accesskey%3A%20%22C%22%2C%0A%09%09%09%09_action%3A%20%22copypref%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Copy%20Name%22%2C%0A%09%09%09%09accesskey%3A%20%22N%22%2C%0A%09%09%09%09_action%3A%20%22copyprefname%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Copy%20Value%22%2C%0A%09%09%09%09accesskey%3A%20%22V%22%2C%0A%09%09%09%09_action%3A%20%22copyprefvalue%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Copy%20for%20user.js%22%2C%0A%09%09%09%09accesskey%3A%20%22u%22%2C%0A%09%09%09%09_action%3A%20%22copyprefasfunction%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuseparator%22%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%28isLocked%20%3F%20%22Unlock%22%20%3A%20%22Lock%22%29%2C%0A%09%09%09%09accesskey%3A%20%28isLocked%20%3F%20%22U%22%20%3A%20%22L%22%29%2C%0A%09%09%09%09closemenu%3A%20%22single%22%2C%0A%09%09%09%09_action%3A%20%22togglelockedpref%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%09aN.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09label%3A%20%22Reset%22%2C%0A%09%09%09%09accesskey%3A%20%22R%22%2C%0A%09%09%09%09closemenu%3A%20%22single%22%2C%0A%09%09%09%09disabled%3A%20isLocked%2C%0A%09%09%09%09_action%3A%20%22resetpref%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09createMainElements%3A%20function%28%29%20%7B%0A%09%09let%20popSet%20%3D%20%24.popSet%3B%0A%09%09if%20%28popSet%20%26%26%20%21%24.ctxPop%29%20%7B%0A%09%09%09popSet.appendChild%28%24.%24CNS%28%22menupopup%22%2C%20%7B%0A%09%09%09%09id%3A%20%24._UID%20+%20%22_multimenu_context%22%2C%0A%09%09%09%09cb_id%3A%20%24._UID%2C%0A%09%09%09%09onpopupshowing%3A%20%24.that%20+%20%22populateContextMenu%28event%2C%20this%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09oncontextmenu%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onpopuphiding%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onclick%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09oncommand%3A%20%22document.popupNode.contextMenuAction%28event%2C%20event.target.getAttribute%28%27_action%27%29%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09consumeoutsideclicks%3A%20false%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28popSet%20%26%26%20%21%24.dynTT%29%20%7B%0A%09%09%09popSet.appendChild%28%24.%24CNS%28%22tooltip%22%2C%20%7B%0A%09%09%09%09id%3A%20%24._UID%20+%20%22-dynamic-tooltip%22%2C%0A%09%09%09%09cb_id%3A%20%24._UID%2C%0A%09%09%09%09onpopupshowing%3A%20%24.that%20+%20%22populateDynamicTooltip%28event%2C%20this%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onpopuphiding%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09level%3A%20%22top%22%2C%0A%09%09%09%09flex%3A%201%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28popSet%20%26%26%20%21%24.prevTT%29%20%7B%0A%09%09%09popSet.appendChild%28%24.%24CNS%28%22tooltip%22%2C%20%7B%0A%09%09%09%09id%3A%20%24._UID%20+%20%22-pos-preview-tooltip%22%2C%0A%09%09%09%09cb_id%3A%20%24._UID%2C%0A%09%09%09%09orient%3A%20%22vertical%22%2C%0A%09%09%09%09onpopupshowing%3A%20%24.that%20+%20%22populatePositioningTooltip%28event%2C%20this%29%3Bevent.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onpopuphiding%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09flex%3A%201%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%0A%0A%09%09if%20%28popSet%20%26%26%20%21%24.optPop%29%20%7B%0A%09%09%09popSet.appendChild%28%24.%24CNS%28%22menupopup%22%2C%20%7B%0A%09%09%09%09id%3A%20%24._UID%20+%20%22-options-mpop%22%2C%0A%09%09%09%09cb_id%3A%20%24._UID%2C%0A%09%09%09%09consumeoutsideclicks%3A%20false%2C%0A%09%09%09%09onpopupshowing%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onpopuphiding%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%09onclick%3A%20%22event.stopPropagation%28%29%3B%22%2C%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09styleSheet%3A%20function%28aCSS%2C%20aRemFlag%29%20%7B%0A%09%09var%20sss%20%3D%20Cc%5B%22@mozilla.org/content/style-sheet-service%3B1%22%5D%0A%09%09%09.getService%28Ci.nsIStyleSheetService%29%3B%0A%09%09var%20uri%20%3D%20Services.io.newURI%28%22data%3Atext/css%2C%22%20+%20encodeURIComponent%28aCSS%29%2C%20null%2C%20null%29%3B%0A%09%09if%20%28sss.sheetRegistered%28uri%2C%20sss.USER_SHEET%29%29%0A%09%09%09sss.unregisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%09%09if%20%28aRemFlag%29%0A%09%09%09return%3B%0A%09%09sss.loadAndRegisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%09%7D%2C%0A%0A%09handleCSS%3A%20function%28%29%20%7B%0A%09%09try%20%7B%0A%09%09%09%24.styleSheet%28window%5B%24._UID%5D%5B%22StyleSheet%22%5D%2C%20true%29%3B%0A%09%09%7D%20catch%20%28aErr%29%20%7B%7D%0A%0A%09%09let%20css%20%3D%20%22@namespace%20url%28%22%20+%20xulns%20+%20%22%29%3B%22%3B%0A%0A%09%09if%20%28%24._.pStylePanelConvertionType%20%3D%3D%3D%201%29%0A%09%09%09css%20+%3D%20%24.getHelp%28%22%25StylePanelConvertionBasic%25%22%29%3B%0A%09%09else%20if%20%28%24._.pStylePanelConvertionType%20%3D%3D%3D%202%29%0A%09%09%09css%20+%3D%20%24.getHelp%28%22%25StylePanelConvertionAnimated%25%22%29%3B%0A%0A%09%09if%20%28%24._.pStyleForDialogHeaderEnabled%29%0A%09%09%09css%20+%3D%20%24.getHelp%28%22%25StyleForDialogHeader%25%22%29%3B%0A%0A%09%09if%20%28%24._.pStyleInvertContextIcons%29%0A%09%09%09css%20+%3D%20%24.getHelp%28%22%25StyleInvertContextIcons%25%22%29%3B%0A%0A%09%09if%20%28%24._.pStyleForMenuGroupEnabled%29%0A%09%09%09css%20+%3D%20%24.getHelp%28%22%25StyleForMenuGroup%25%22%29%3B%0A%0A%09%09if%20%28%24._.pStyleForMenuGroupReflectCheckedStateEnabled%29%0A%09%09%09css%20+%3D%20%24.getHelp%28%22%25StyleForMenuGroupReflectCheckedState%25%22%29%3B%0A%0A%09%09if%20%28%24._.pStyleForOverflowedMenus%29%0A%09%09%09css%20+%3D%20%24.getHelp%28%22%25StyleForOverflowedMenus%25%22%29%3B%0A%0A%09%09if%20%28%24._.pStyleRemoveMainMenuAccelContainers%29%0A%09%09%09css%20+%3D%20%24.getHelp%28%22%25StyleRemoveMainMenuAccelContainers%25%22%29%3B%0A%0A%09%09if%20%28%24._.pStyleSheetCustomEnabled%29%0A%09%09%09css%20+%3D%20decodeURIComponent%28%24._.pStyleSheetCustom%29%3B%0A%0A%09%09if%20%28%28css.trim%28%29%29.length%20%3E%2078%29%20%7B%0A%09%09%09window%5B%24._UID%5D%5B%22StyleSheet%22%5D%20%3D%20css%3B%0A%09%09%09%24.styleSheet%28css%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09hotkeyPressed%3A%20function%28aAnchor%29%20%7B%0A%09%09let%20mPop%20%3D%20%24.%24%28aAnchor.getAttribute%28%22popup%22%29%29%3B%0A%09%09if%20%28mPop%29%0A%09%09%09%28mPop.state%20%3D%3D%3D%20%22open%22%20%7C%7C%20mPop.state%20%3D%3D%3D%20%22opening%22%29%20%3F%0A%09%09%09mPop.hidePopup%28%29%20%3A%0A%09%09%09mPop.openPopup%28aAnchor%2C%20mPop.getAttribute%28%22position%22%29%2C%200%2C%200%2C%20false%2C%20null%2C%20null%29%3B%0A%09%7D%2C%0A%0A%09openDir%3A%20function%28aConstant%2C%20aPath%2C%20aArgs%2C%20aGoUp%29%20%7B%0A%09%09var%20IOFile%20%3D%20null%2C%0A%09%09%09args%2C%0A%09%09%09goUp%20%3D%20parseInt%28aGoUp%2C%2010%29%3B%0A%09%09switch%20%28aConstant%29%20%7B%0A%09%09%09case%20%22pathFull%22%3A%20//%20Full%20path%20to%20location.%0A%09%09%09%09try%20%7B%0A%09%09%09%09%09IOFile%20%3D%20new%20%24._nsIFile%28aPath%29%3B%20//%20aPath%20equals%20a%20full%20path.%0A%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09return%20false%3B%0A%09%09%09%09%7D%0A%09%09%09%09break%3B%0A%09%09%09default%3A%20//%20OS.Constants.Path%0A%09%09%09%09try%20%7B%0A%09%09%09%09%09IOFile%20%3D%20new%20%24._nsIFile%28OS.Constants.Path%5BaConstant%5D%29%3B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09if%20%28goUp%20%21%3D%3D%200%20%26%26%20IOFile.exists%28%29%29%20%7B%0A%09%09%09%09%09%09%09let%20base%3B%0A%09%09%09%09%09%09%09while%20%28goUp%20%21%3D%3D%200%29%20%7B%0A%09%09%09%09%09%09%09%09goUp--%3B%0A%09%09%09%09%09%09%09%09base%20%3D%20OS.Path.dirname%28IOFile.path%29%3B%0A%09%09%09%09%09%09%09%09IOFile%20%3D%20new%20%24._nsIFile%28base%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%20finally%20%7B%0A%09%09%09%09%09%09let%20pathPart%20%3D%20null%3B%0A%09%09%09%09%09%09if%20%28aPath.indexOf%28%22/%22%29%20%21%3D%3D%20-1%29%0A%09%09%09%09%09%09%09pathPart%20%3D%20aPath.split%28%22/%22%29.filter%28function%28aVal%29%20%7B%0A%09%09%09%09%09%09%09%09if%20%28aVal%20%21%3D%3D%20%22%22%29%0A%09%09%09%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09else%20if%20%28aPath.indexOf%28%22%5C%5C%22%29%20%21%3D%3D%20-1%29%0A%09%09%09%09%09%09%09pathPart%20%3D%20aPath.split%28%22%5C%5C%22%29.filter%28function%28aVal%29%20%7B%0A%09%09%09%09%09%09%09%09if%20%28aVal%20%21%3D%3D%20%22%22%29%0A%09%09%09%09%09%09%09%09%09return%20true%3B%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09if%20%28%21pathPart%29%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09Array.prototype.slice.call%28pathPart%29.forEach%28function%28aPart%29%20%7B%20//%20aPath%20equals%20an%20array%20of%20folder/file%20names.%0A%09%09%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%09%09IOFile.append%28aPart%29%3B%0A%09%09%09%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09%09%09%09%24.reportError%28aError%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09%24.reportError%28aError%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09break%3B%0A%09%09%7D%0A%09%09if%20%28IOFile.exists%28%29%29%20%7B%0A%09%09%09try%20%7B%0A%09%09%09%09if%20%28IOFile.isDirectory%28%29%29%0A%09%09%09%09%09IOFile.reveal%28%29%3B%0A%09%09%09%09else%20if%20%28%21IOFile.isDirectory%28%29%20%26%26%20%21IOFile.isExecutable%28%29%29%0A%09%09%09%09%09IOFile.launch%28%29%3B%0A%09%09%09%09else%20if%20%28%21IOFile.isDirectory%28%29%20%26%26%20IOFile.isExecutable%28%29%29%20%7B%0A%09%09%09%09%09let%20process%20%3D%20Cc%5B%22@mozilla.org/process/util%3B1%22%5D.createInstance%28Ci.nsIProcess%29%3B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09process.init%28IOFile%29%3B%0A%09%09%09%09%09%09let%20run%20%3D%20%22runw%22%20in%20process%20%3F%20process.runw%20%3A%20process.run%3B%0A%09%09%09%09%09%09aArgs.length%20%3E%200%20%3F%0A%09%09%09%09%09%09%09run.call%28process%2C%20false%2C%20aArgs%2C%20aArgs.length%29%20%3A%0A%09%09%09%09%09%09%09run.call%28process%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09%09%24.reportError%28aError%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%24.reportError%28aError%29%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09centerScreen%3A%20true%2C%0A%09%09%09%7D%3B%0A%09%09%09%24.notifyme%28self.name%2C%20%22Path%20doesn%27t%20exists%21%21%21%5CnCorrect%20your%20menu%20item%20and%20try%20again.%22%2C%0A%09%09%09%09%24.getHelp%28%22%25ErrorImg%25%22%29%2C%0A%09%09%09%09%24.alertCallback%29%3B%0A%09%09%7D%0A%09%09return%20false%3B%0A%09%7D%2C%0A%0A%09%24%3A%20function%28aId%29%20%7B%20//%20Return%20elements%20by%20Id%0A%09%09return%20document.getElementById%28aId%29%3B%0A%09%7D%2C%0A%0A%09notifyme%3A%20function%28aTitle%2C%20aMsg%2C%20aImg%2C%20aCallback%29%20%7B%20//%20Notification%20function%0A%09%09let%20origin%20%3D%20%28Services.prefs.getPrefType%28%22ui.alertNotificationOrigin%22%29%20%21%3D%3D%200%29%20%3F%0A%09%09%09Services.prefs.getIntPref%28%22ui.alertNotificationOrigin%22%29%20%3A%0A%09%09%09null%3B%0A%09%09let%20win%20%3D%20Services.ww.openWindow%28null%2C%20%22chrome%3A//global/content/alerts/alert.xul%22%2C%0A%09%09%09%22_blank%22%2C%20%22chrome%2Ctitlebar%3Dno%2Cpopup%3Dyes%22%2C%20null%29%3B%0A%09%09win.arguments%20%3D%20%5BaImg%2C%20aTitle%2C%20aMsg%2C%20%21%21aCallback%2C%20%22%22%2C%20origin%2C%20%22%22%2C%20%22%22%2C%20null%2C%20%28%21%21aCallback%20%3F%20aCallback%20%3A%20null%29%5D%3B%0A%09%7D%2C%0A%0A%09getNotificationFooter%3A%20function%28aType%29%20%7B%0A%09%09switch%20%28aType%29%20%7B%0A%09%09%09case%201%3A%20//%20Non%20existent%20pref.%0A%09%09%09%09return%20%22%uD835%uDDD6%uD835%uDDF9%uD835%uDDF6%uD835%uDDF0%uD835%uDDF8%20%uD835%uDDFA%uD835%uDDF2%20%uD835%uDE01%uD835%uDDFC%20%uD835%uDDF0%uD835%uDDFF%uD835%uDDF2%uD835%uDDEE%uD835%uDE01%uD835%uDDF2%22%3B%0A%09%09%09case%202%3A%20//%20Locked%20pref.%0A%09%09%09%09return%20%22%uD835%uDDD6%uD835%uDDF9%uD835%uDDF6%uD835%uDDF0%uD835%uDDF8%20%uD835%uDDFA%uD835%uDDF2%20%uD835%uDE01%uD835%uDDFC%20%uD835%uDE02%uD835%uDDFB%uD835%uDDF9%uD835%uDDFC%uD835%uDDF0%uD835%uDDF8%22%3B%0A%09%09%09case%203%3A%20//%20Open%20storage.%0A%09%09%09%09return%20%22%uD835%uDDD6%uD835%uDDF9%uD835%uDDF6%uD835%uDDF0%uD835%uDDF8%20%uD835%uDDFA%uD835%uDDF2%20%uD835%uDE01%uD835%uDDFC%20%uD835%uDDFC%uD835%uDDFD%uD835%uDDF2%uD835%uDDFB%20%uD835%uDE00%uD835%uDE01%uD835%uDDFC%uD835%uDDFF%uD835%uDDEE%uD835%uDDF4%uD835%uDDF2%22%3B%0A%09%09%09default%3A%0A%09%09%09%09return%20%22%uD835%uDDD6%uD835%uDDF9%uD835%uDDF6%uD835%uDDF0%uD835%uDDF8%20%uD835%uDDFA%uD835%uDDF2%20%uD835%uDE01%uD835%uDDFC%20%uD835%uDDF0%uD835%uDDF9%uD835%uDDFC%uD835%uDE00%uD835%uDDF2%20%uD835%uDDFA%uD835%uDDF2%22%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09alertCallback%3A%20%7B%0A%09%09opt%3A%20%7B%0A%09%09%09footer%3A%20null%2C%0A%09%09%09centerScreen%3A%20null%2C%0A%09%09%09prefName%3A%20null%2C%0A%09%09%7D%2C%0A%09%09observe%3A%20function%28aSubject%2C%20aTopic%2C%20aData%29%20%7B%0A%09%09%09let%20alt%20%3D%20Services.wm.getMostRecentWindow%28%22alert%3Aalert%22%29%3B%0A%09%09%09let%20tBox%20%3D%20alt.document.getElementById%28%22alertTextBox%22%29%3B%0A%09%09%09if%20%28aTopic%20%3D%3D%3D%20%22alertshow%22%29%20%7B%0A%09%09%09%09tBox.appendChild%28%24.%24CNS%28%22label%22%2C%20%7B%0A%09%09%09%09%09flex%3A%201%2C%0A%09%09%09%09%09value%3A%20%24.getNotificationFooter%28this.opt.footer%29%2C%0A%09%09%09%09%7D%29%29%3B%0A%09%09%09%09if%20%28this.opt.centerScreen%29%20%7B%0A%09%09%09%09%09alt.moveTo%28%28screen.availWidth%20/%202%29%20-%20%28alt.outerWidth%20/%202%29%2C%0A%09%09%09%09%09%09%28screen.availHeight%20/%202%29%20-%20%28alt.outerHeight%20/%202%29%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09alt.close%28%29%3B%0A%09%09%09%09%7D%2C%20%28this.opt.centerScreen%20%3F%2010000%20%3A%203000%29%29%3B%0A%09%09%09%7D%0A%09%09%09if%20%28aTopic%20%3D%3D%3D%20%22alertclickcallback%22%29%20%7B%0A%09%09%09%09let%20pN%20%3D%20this.opt.prefName%20%7C%7C%20null%3B%0A%09%09%09%09alt.close%28%29%3B%0A%09%09%09%09switch%20%28this.opt.footer%29%20%7B%0A%09%09%09%09%09case%201%3A%20//%20Non%20existent%20pref.%0A%09%09%09%09%09%09%24.Creator.dealWithNonExistentPref%28pN%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%202%3A%20//%20Locked%20pref.%0A%09%09%09%09%09%09%24.SP.unlockPref%28pN%29%3B%0A%09%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%09%24.notifyPrefUnlocked%28pN%29%3B%0A%09%09%09%09%09%09%7D%2C%20500%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%203%3A%20//%20Open%20storage.%0A%09%09%09%09%09%09%24.openMultiMenuStorage%28%29%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%0A%09notifyPrefUnlocked%3A%20function%28aPref%29%20%7B%0A%09%09if%20%28%24.SP.prefIsLocked%28aPref%29%29%20%7B%0A%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09centerScreen%3A%20false%2C%0A%09%09%09%09prefName%3A%20aPref%2C%0A%09%09%09%7D%3B%0A%09%09%09%24.notifyme%28aPref%2C%0A%09%09%09%09%22This%20preference%20%uD835%uDDF0%uD835%uDDFC%uD835%uDE02%uD835%uDDF9%uD835%uDDF1%20%uD835%uDDFB%uD835%uDDFC%uD835%uDE01%20be%20%uD835%uDE02%uD835%uDDFB%uD835%uDDF9%uD835%uDDFC%uD835%uDDF0%uD835%uDDF8%uD835%uDDF2%uD835%uDDF1.%22%2C%0A%09%09%09%09%24.getHelp%28%22%25ErrorImg%25%22%29%2C%0A%09%09%09%09%24.alertCallback%29%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09centerScreen%3A%20false%2C%0A%09%09%09%09prefName%3A%20aPref%2C%0A%09%09%09%7D%3B%0A%09%09%09%24.notifyme%28aPref%2C%0A%09%09%09%09%22This%20preference%20has%20been%20%uD835%uDE02%uD835%uDDFB%uD835%uDDF9%uD835%uDDFC%uD835%uDDF0%uD835%uDDF8%uD835%uDDF2%uD835%uDDF1.%22%2C%0A%09%09%09%09%24.getHelp%28%22%25AlertImg%25%22%29%2C%0A%09%09%09%09%24.alertCallback%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09img_to_b64_cback%3A%20function%28aURL%2C%20aCallback%29%20%7B%0A%09%09if%20%28%21aURL%29%0A%09%09%09aCallback%28false%29%3B%0A%09%09else%20%7B%0A%09%09%09let%20xhr%20%3D%20new%20XMLHttpRequest%28%29%2C%0A%09%09%09%09nsIMIMEService%20%3D%20Cc%5B%22@mozilla.org/mime%3B1%22%5D.getService%28Ci.nsIMIMEService%29%3B%0A%09%09%09try%20%7B%0A%09%09%09%09xhr.open%28%22GET%22%2C%20aURL%2C%20true%29%3B%0A%09%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%09return%20true%3B%0A%09%09%09%7D%0A%09%09%09xhr.responseType%20%3D%20%22arraybuffer%22%3B%0A%09%09%09xhr.onload%20%3D%20function%28%29%20%7B%0A%09%09%09%09let%20mediaType%2C%0A%09%09%09%09%09dataURI%2C%0A%09%09%09%09%09binary%2C%0A%09%09%09%09%09bytes%3B%0A%09%09%09%09bytes%20%3D%20new%20Uint8Array%28xhr.response%29%3B%0A%09%09%09%09binary%20%3D%20%5B%5D.map.call%28bytes%2C%20function%28aByte%29%20%7B%0A%09%09%09%09%09return%20String.fromCharCode%28aByte%29%3B%0A%09%09%09%09%7D%29.join%28%22%22%29%3B%0A%09%09%09%09mediaType%20%3D%20xhr.getResponseHeader%28%22Content-Type%22%29%3B%0A%09%09%09%09let%20base64%20%3D%20btoa%28binary%29%3B%0A%09%09%09%09if%20%28mediaType.indexOf%28%22image/%22%29%20%21%3D%3D%200%29%20%7B%0A%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09mediaType%20%3D%20nsIMIMEService.getTypeFromURI%28Services.io.newURI%28aURL%2C%20null%2C%20null%29%29%3B%0A%09%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09%09mediaType%20%3D%20%22image/png%22%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09dataURI%20%3D%20%22data%3A%22%20+%20mediaType%20+%20%22%3Bbase64%2C%22%20+%20base64%3B%0A%09%09%09%09aCallback%28dataURI%29%3B%0A%09%09%09%7D%3B%0A%09%09%09xhr.onerror%20%3D%20function%28%29%20%7B%0A%09%09%09%09aCallback%28false%29%3B%0A%09%09%09%7D%3B%0A%09%09%09xhr.send%28null%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09reportError%3A%20function%28aError%29%20%7B%0A%09%09try%20%7B%0A%09%09%09console.error%28aError%29%3B%0A%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09Cu.reportError%28%5B%22Multi%20Menu%22%20+%20%22%3A%20%22%20+%20self.id%2C%20aError%2C%20aError.stack%5D.join%28%22%5Cn%22%29%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09getHelp%3A%20function%28aPlaceholder%29%20%7B%20//%20Get%20specific%20data%2C%20surrounded%20by%20%22placeholders%22%2C%20from%20the%20Help%20tab.%0A%09%09return%20%24.%24%28self.id%29.getAttribute%28%22Help%22%29.split%28%22%3C%21--%22%20+%20aPlaceholder%20+%20%22--%3E%22%29%5B1%5D%3B%0A%09%7D%2C%0A%0A%09sIP%3A%20function%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//%20Set%20Integer%20Pref%0A%09%09%24.SP.setIntPref%28%28%21aBranch%29%20%3F%20%24.Branch%20+%20aKey%20%3A%20aKey%2C%20aVal%29%3B%0A%09%09%24.SP.savePrefFile%28null%29%3B%0A%09%7D%2C%0A%0A%09gIP%3A%20function%28aKey%2C%20aBranch%29%20%7B%20//%20Get%20Integer%20Pref%0A%09%09return%20%24.SP.getIntPref%28%28%21aBranch%29%20%3F%20%24.Branch%20+%20aKey%20%3A%20aKey%29%3B%0A%09%7D%2C%0A%0A%09sBP%3A%20function%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//Set%20Boolean%20Pref%0A%09%09%24.SP.setBoolPref%28%28%21aBranch%29%20%3F%20%24.Branch%20+%20aKey%20%3A%20aKey%2C%20aVal%29%3B%0A%09%09%24.SP.savePrefFile%28null%29%3B%0A%09%7D%2C%0A%0A%09gBP%3A%20function%28aKey%2C%20aBranch%29%20%7B%20//Get%20Boolean%20Pref%0A%09%09return%20%24.SP.getBoolPref%28%28%21aBranch%29%20%3F%20%24.Branch%20+%20aKey%20%3A%20aKey%29%3B%0A%09%7D%2C%0A%0A%09sCV%3A%20function%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//Set%20Complex%20Value%20%28Char%20Pref%29%0A%09%09var%20str%20%3D%20%24._nsISS%3B%0A%09%09str.data%20%3D%20aVal%3B%0A%09%09%24.SP.setComplexValue%28%28%28%21aBranch%29%20%3F%20%24.Branch%20+%20aKey%20%3A%20aKey%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%24.SP.savePrefFile%28null%29%3B%0A%09%7D%2C%0A%0A%09gCV%3A%20function%28aKey%2C%20aBranch%29%20%7B%20//Get%20Complex%20Value%20%28Char%20Pref%29%0A%09%09return%20%24.SP.getComplexValue%28%28%28%21aBranch%29%20%3F%20%24.Branch%20+%20aKey%20%3A%20aKey%29%2C%0A%09%09%09Ci.nsISupportsString%29.data%3B%0A%09%7D%2C%0A%0A%09promptme%3A%20function%28aMsg%2C%20aVal%29%20%7B%0A%09%09let%20retVal%20%3D%20%7B%0A%09%09%09value%3A%20aVal%0A%09%09%7D%3B%0A%09%09if%20%28Services.prompt.prompt%28null%2C%20%28self.label%20%7C%7C%20self.name%29%2C%20aMsg%2C%20retVal%2C%20null%2C%20%7B%7D%29%29%0A%09%09%09return%20retVal.value%3B%0A%09%09else%0A%09%09%09return%20false%3B%0A%09%09return%20false%3B%0A%09%7D%2C%0A%0A%09dummyData%3A%20function%28aType%29%20%7B%0A%09%09switch%20%28aType%29%20%7B%0A%09%09%09case%20%22customMenuItem%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_cmd%3A%20%22%22%2C%0A%09%09%09%09%09label%3A%20%22%22%2C%0A%09%09%09%09%09image%3A%20%22%22%2C%0A%09%09%09%09%09tooltiptext%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22customMenu%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_items%3A%20%5B%5D%2C%0A%09%09%09%09%09_cmd%3A%20%22%22%2C%0A%09%09%09%09%09label%3A%20%22%22%2C%0A%09%09%09%09%09image%3A%20%22%22%2C%0A%09%09%09%09%09tooltiptext%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22clonedMenuItem%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_id%3A%20%22%22%2C%0A%09%09%09%09%09image%3A%20%22%22%2C%0A%09%09%09%09%09tooltiptext%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22clonedMenu%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_id%3A%20%22%22%2C%0A%09%09%09%09%09_cmd%3A%20%22%22%2C%0A%09%09%09%09%09image%3A%20%22%22%2C%0A%09%09%09%09%09tooltiptext%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22menuGroup%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09orient%3A%20%22horizontal%22%2C%0A%09%09%09%09%09_items%3A%20%5B%5D%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22pathFull%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_path%3A%20%22%22%2C%0A%09%09%09%09%09_args%3A%20%5B%5D%2C%0A%09%09%09%09%09label%3A%20%22%22%2C%0A%09%09%09%09%09image%3A%20%22%22%2C%0A%09%09%09%09%09tooltiptext%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22pathRelative%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_const%3A%20%22%22%2C%0A%09%09%09%09%09_path%3A%20%22%22%2C%0A%09%09%09%09%09_go_up%3A%200%2C%0A%09%09%09%09%09_args%3A%20%5B%5D%2C%0A%09%09%09%09%09label%3A%20%22%22%2C%0A%09%09%09%09%09image%3A%20%22%22%2C%0A%09%09%09%09%09tooltiptext%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22menuseparator%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22spacer%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09flex%3A%201%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22dialogheader%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09title%3A%20%22%22%2C%0A%09%09%09%09%09description%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22addon%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_type_or_id%3A%20%22%22%2C%0A%09%09%09%09%09_filter%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22cb%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_id%3A%20%22%22%2C%0A%09%09%09%09%09_advanced%3A%20false%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22pref%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_prefname%3A%20%22%22%2C%0A%09%09%09%09%09_cmd%3A%20%22%22%2C%0A%09%09%09%09%09_values%3A%20%5B%5D%2C%0A%09%09%09%09%09label%3A%20%22%22%2C%0A%09%09%09%09%09tooltiptext%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%09case%20%22url%22%3A%0A%09%09%09%09return%20%7B%0A%09%09%09%09%09_type_%3A%20aType%2C%0A%09%09%09%09%09_url%3A%20%22%22%2C%0A%09%09%09%09%09image%3A%20%22%22%2C%0A%09%09%09%09%09label%3A%20%22%22%2C%0A%09%09%09%09%09_force%3A%20false%2C%0A%09%09%09%09%09tooltiptext%3A%20%22%22%2C%0A%09%09%09%09%7D%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09/**%0A%09%20*%20%5BBased%20on%20code%20found%20in%20Custom%20Buttons%20add-on.%5D%0A%09%20*%20@param%20%20%7Bobject%7D%20aBtn%20%20%20%20%20The%20button%20to%20which%20the%20menu%20item%20belongs%20used%20to%20build%20the%20execution%20code%20%28So%20it%20seems.%20LOL%29.%0A%09%20*%20@param%20%20%7Bstring%7D%20aURI%20%20%20%20%20%5Bdescription%5D%0A%09%20*%20@param%20%20%7Bobject%7D%20aExecCtx%20Execution%20context%20object.%0A%09%20*%20@return%20%7Bnull%7D%20%20%20%20%20%20%20%20%20%20%20%20Nothing%0A%09%20*/%0A%09buildExecContext%3A%20function%28aBtn%2C%20aURI%2C%20aExecCtx%29%20%7B%0A%09%09var%20utils%20%3D%20%7B%7D%3B%0A%09%09utils%5B%22oButton%22%5D%20%3D%20aBtn%3B%0A%09%09utils%5B%22buttonURI%22%5D%20%3D%20aURI%3B%0A%09%09Cc%5B%22@mozilla.org/moz/jssubscript-loader%3B1%22%5D%0A%09%09%09.getService%28Ci.mozIJSSubScriptLoader%29%0A%09%09%09.loadSubScript%28%22chrome%3A//custombuttons/content/contextBuilder.js%22%2C%20utils%29%3B%0A%09%09delete%20utils.oButton%3B%0A%09%09delete%20utils.buttonURI%3B%0A%09%09for%20%28var%20i%20in%20utils%29%20%7B%0A%09%09%09aExecCtx.argNames%20+%3D%20%22%2C%22%20+%20i%3B%0A%09%09%09aExecCtx.args.push%28utils%5Bi%5D%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09/**%0A%09%20*%20%5BBased%20on%20code%20found%20in%20Custom%20Buttons%20add-on.%5D%0A%09%20*%20@param%20%20%7Bevent%7D%20aE%20%20%20%20%20Event%20triggered%20by%20the%20menu%20item.%20It%27s%20always%20a%20click%20event.%0A%09%20*%20@param%20%20%7Bobject%7D%20aBtn%20%20The%20button%20to%20which%20the%20menu%20item%20belongs%20used%20to%20build%20the%20execution%20code%20%28So%20it%20seems.%20LOL%29.%0A%09%20*%20@param%20%20%7Bstring%7D%20aCode%20The%20code%20to%20execute.%0A%09%20*%20@return%20%7Bnull%7D%20%20%20%20%20%20%20%20%20Nothing%0A%09%20*/%0A%09executeCode%3A%20function%28aE%2C%20aBtn%2C%20aCode%29%20%7B%0A%09%09if%20%28aCode%29%20%7B%0A%09%09%09let%20cbService%20%3D%20Cc%5B%22@xsms.nm.ru/custombuttons/cbservice%3B1%22%5D%0A%09%09%09%09.getService%28Ci.cbICustomButtonsService%29%3B%0A%09%09%09var%20execURL%20%3D%20%22chrome%3A//custombuttons-context/content/button.js%3FwindowId%3D%22%3B%0A%09%09%09execURL%20+%3D%20cbService.getWindowId%28document.documentURI%29%20+%20%22%26id%3D%22%3B%0A%09%09%09execURL%20+%3D%20aBtn.id%20+%20%22@%22%3B%0A%09%09%09execURL%20+%3D%20%22pseudoCode%22%3B%0A%09%09%09//%20execURL%20+%3D%20aBtn._initPhase%20%3F%20%22init%22%20%3A%20%22code%22%3B%0A%09%09%09var%20execContext%20%3D%20%7B%7D%3B%0A%09%09%09execContext%5B%22oButton%22%5D%20%3D%20aBtn%3B%0A%09%09%09execContext%5B%22code%22%5D%20%3D%20aCode%3B%0A%09%09%09execContext%5B%22argNames%22%5D%20%3D%20%22event%22%3B%0A%09%09%09execContext%5B%22args%22%5D%20%3D%20%5BaE%5D%3B%0A%09%09%09%24.buildExecContext%28aBtn%2C%20execURL%2C%20execContext%29%3B%0A%09%09%09Cc%5B%22@mozilla.org/moz/jssubscript-loader%3B1%22%5D%0A%09%09%09%09.getService%28Ci.mozIJSSubScriptLoader%29%0A%09%09%09%09.loadSubScript%28execURL%2C%20execContext%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09getImg%3A%20function%28aSrc%29%20%7B%0A%09%09switch%20%28aSrc%29%20%7B%0A%09%09%09case%20%22custombuttons-stdicon-1%22%3A%0A%09%09%09%09return%20%22chrome%3A//custombuttons/skin/button.png%22%3B%0A%09%09%09case%20%22custombuttons-stdicon-2%22%3A%0A%09%09%09%09return%20%22chrome%3A//custombuttons/skin/stdicons/rbutton.png%22%3B%0A%09%09%09case%20%22custombuttons-stdicon-3%22%3A%0A%09%09%09%09return%20%22chrome%3A//custombuttons/skin/stdicons/gbutton.png%22%3B%0A%09%09%09case%20%22custombuttons-stdicon-4%22%3A%0A%09%09%09%09return%20%22chrome%3A//custombuttons/skin/stdicons/bbutton.png%22%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09%24CNS%3A%20function%28aElName%2C%20aAttrs%2C%20aNameSpace%29%20%7B%20//%20Creates%20elements%0A%09%09var%20el%20%3D%20aNameSpace%20%3F%0A%09%09%09document.createElementNS%28aNameSpace%2C%20aElName%29%20%3A%0A%09%09%09document.createElement%28aElName%29%3B%0A%09%09if%20%28aAttrs%29%0A%09%09%09Object.keys%28aAttrs%29.forEach%28function%28n%29%20%7B%0A%09%09%09%09if%20%28aAttrs%5Bn%5D%20%21%3D%3D%20%22%22%29%0A%09%09%09%09%09el.setAttribute%28n%2C%20aAttrs%5Bn%5D%29%3B%0A%09%09%09%7D%29%3B%0A%09%09return%20el%3B%0A%09%7D%2C%0A%0A%09%24setAttrs%3A%20function%28aItemOrId%2C%20aAttrs%29%20%7B%20//%20A%20mod%20from%20TabMix.setItem%0A%09%09let%20el%20%3D%20typeof%28aItemOrId%29%20%3D%3D%3D%20%22string%22%20%3F%20%24.%24%28aItemOrId%29%20%3A%20aItemOrId%3B%0A%09%09if%20%28el%29%20%7B%0A%09%09%09Object.keys%28aAttrs%29.forEach%28function%28aAttr%29%20%7B%0A%09%09%09%09let%20val%20%3D%20aAttrs%5BaAttr%5D%3B%0A%09%09%09%09if%20%28val%20%21%3D%3D%20%22%22%20%26%26%20val%20%21%3D%3D%20null%20%26%26%20val%20%21%3D%3D%20undefined%29%20%7B%0A%09%09%09%09%09if%20%28typeof%28val%29%20%3D%3D%3D%20%22boolean%22%29%20%7B%0A%09%09%09%09%09%09if%20%28%21val%29%20%7B%0A%09%09%09%09%09%09%09el.removeAttribute%28aAttr%29%3B%0A%09%09%09%09%09%09%09return%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%09el.setAttribute%28aAttr%2C%20val%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09prefHandling%3A%20%7B%0A%09%09_msg%3A%20%22This%20process%20is%20immediate%20and%20irreversible.%5Ct%5Cn%22%20+%0A%09%09%09%22It%20is%20advisable%20to%20make%20a%20backup%20of%20the%20preferences%20before%20proceeding.%5Ct%5Cn%5Cn%22%20+%0A%09%09%09%22Do%20you%20want%20to%20continue%3F%5Cn%22%2C%0A%0A%09%09resetP%3A%20function%28%29%20%7B%0A%09%09%09let%20msg%20%3D%20%22You%27re%20about%20to%20reset%20%22%20+%20self.name%20+%0A%09%09%09%09%22%20preferences%20to%20their%20default%20values%u200B%u200B.%5Ct%5Ct%5Cn%5Cn%22%20+%0A%09%09%09%09%22%uD835%uDDEA%uD835%uDDD4%uD835%uDDE5%uD835%uDDE1%uD835%uDDDC%uD835%uDDE1%uD835%uDDDA%21%21%21%20%uD835%uDDE7%uD835%uDDF5%uD835%uDDF2%20%uD835%uDDF6%uD835%uDDFB%uD835%uDDF1%uD835%uDDF6%uD835%uDE03%uD835%uDDF6%uD835%uDDF1%uD835%uDE02%uD835%uDDEE%uD835%uDDF9%20%uD835%uDDFD%uD835%uDDFF%uD835%uDDF2%uD835%uDDF3%uD835%uDDF2%uD835%uDDFF%uD835%uDDF2%uD835%uDDFB%uD835%uDDF0%uD835%uDDF2%uD835%uDE00%20%uD835%uDDFC%uD835%uDDF3%20%uD835%uDDD4%uD835%uDDDF%uD835%uDDDF%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%27%uD835%uDE00%20%uD835%uDE00%uD835%uDDF9%uD835%uDDEE%uD835%uDE03%uD835%uDDF2%20%22%20+%0A%09%09%09%09%22%uD835%uDDEF%uD835%uDE02%uD835%uDE01%uD835%uDE01%uD835%uDDFC%uD835%uDDFB%uD835%uDE00%20%uD835%uDE04%uD835%uDDF6%uD835%uDDF9%uD835%uDDF9%20%uD835%uDDEE%uD835%uDDF9%uD835%uDE00%uD835%uDDFC%20%uD835%uDDEF%uD835%uDDF2%20%uD835%uDDFF%uD835%uDDF2%uD835%uDE00%uD835%uDDF2%uD835%uDE01%uD835%uDDF2%uD835%uDDF1%20%uD835%uDE01%uD835%uDDFC%20%uD835%uDE01%uD835%uDDF5%uD835%uDDF6%uD835%uDDF2%uD835%uDDFF%20%uD835%uDDF1%uD835%uDDF2%uD835%uDDF3%uD835%uDDEE%uD835%uDE02%uD835%uDDF9%uD835%uDE01%20%uD835%uDE03%uD835%uDDEE%uD835%uDDF9%uD835%uDE02%uD835%uDDF2%uD835%uDE00.%5Cn%5Cn%22%20+%0A%09%09%09%09this._msg%3B%0A%09%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09%09if%20%28cBox%29%20%7B%0A%09%09%09%09%28%24.SP.getBranch%28%24.Branch%29%29.deleteBranch%28%22%22%29%3B%0A%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%24.handleAllButtons%28null%2C%20true%29%3B%0A%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%7D%20else%0A%09%09%09%09return%3B%0A%09%09%7D%2C%0A%0A%09%09exportP%3A%20function%28%29%20%7B%0A%09%09%09var%20out%20%3D%20%5B%5D%3B%0A%09%09%09var%20value%2C%0A%09%09%09%09prefList%20%3D%20%28%24.SP.getBranch%28%24.Branch%29%29.getChildList%28%22%22%2C%20%7B%7D%29%3B%0A%09%09%09for%20%28let%20pref%20in%20prefList%29%20%7B%0A%09%09%09%09if%20%28%21/%5EOptionsForButtonID/.test%28prefList%5Bpref%5D%29%29%20%7B%0A%09%09%09%09%09switch%20%28%24.SP.getPrefType%28%24.Branch%20+%20prefList%5Bpref%5D%29%29%20%7B%0A%09%09%09%09%09%09case%200%3A%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%2032%3A%0A%09%09%09%09%09%09%09value%20%3D%20%24.gPref%28prefList%5Bpref%5D%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%2064%3A%0A%09%09%09%09%09%09%09value%20%3D%20%24.gPref%28prefList%5Bpref%5D%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20128%3A%0A%09%09%09%09%09%09%09value%20%3D%20%24.gPref%28prefList%5Bpref%5D%29%20%3F%20%22true%22%20%3A%20%22false%22%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09out.push%28prefList%5Bpref%5D%20+%20%22%7C%22%20+%20value%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09var%20file%20%3D%20new%20%24._nsIFile%28%24.storagePath%29%3B%0A%09%09%09file.append%28%22MultiMenuID%22%20+%20self.id.slice%2820%29%20+%20%22-Prefs.js%22%29%3B%0A%09%09%09file.createUnique%28Ci.nsIFile.NORMAL_FILE_TYPE%2C%200x1B6%29%3B%0A%09%09%09let%20data%20%3D%20out.join%28%22%5Cn%22%29%3B%0A%09%09%09OS.File.writeAtomic%28file.path%2C%20data%2C%20%7B%0A%09%09%09%09tmpPath%3A%20file.path%20+%20%22.tmp%22%2C%0A%09%09%09%09encoding%3A%20%22utf-8%22%0A%09%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%09%24.alertCallback.opt%20%3D%20%7B%0A%09%09%09%09%09footer%3A%203%2C%0A%09%09%09%09%09centerScreen%3A%20false%2C%0A%09%09%09%09%7D%3B%0A%09%09%09%09%24.notifyme%28%22Multi%20Menu%20Preferences%22%2C%20%22Successfully%20exported%20to%20Multi%20Menu%20storage.%22%2C%0A%09%09%09%09%09%24.getHelp%28%22%25AlertImg%25%22%29%2C%0A%09%09%09%09%09%24.alertCallback%29%3B%0A%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%24.reportError%28aRejectReason%29%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%2C%0A%0A%09%09importP%3A%20function%28%29%20%7B%0A%09%09%09let%20msg%20%3D%20%22You%27re%20about%20to%20import%20new%20preferences%20to%20%22%20+%20self.name%20+%20%22.%5Ct%5Ct%5Cn%22%20+%20this._msg%3B%0A%09%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09%09if%20%28cBox%29%20%7B%0A%09%09%09%09var%20localDir%20%3D%20new%20%24._nsIFile%28%24.storagePath%29%3B%0A%09%09%09%09var%20fp%20%3D%20Cc%5B%22@mozilla.org/filepicker%3B1%22%5D.createInstance%28Ci.nsIFilePicker%29%3B%0A%09%09%09%09fp.init%28window%2C%20%22Import%20Multi%20Menu%20Preferences%22%2C%20Ci.nsIFilePicker.modeOpen%29%3B%0A%09%09%09%09fp.appendFilter%28%22%22%2C%20%22MultiMenuID%22%20+%20self.id.slice%2820%29%20+%20%22*.js%22%29%3B%0A%09%09%09%09fp.appendFilter%28%22%22%2C%20%22*.*%22%29%3B%0A%09%09%09%09fp.displayDirectory%20%3D%20localDir%3B%0A%09%09%09%09if%20%28fp.show%28%29%20%3D%3D%3D%20Ci.nsIFilePicker.returnOK%29%20%7B%0A%09%09%09%09%09if%20%28fp.file%20%26%26%20fp.file.exists%28%29%29%0A%09%09%09%09%09%09localDir%20%3D%20fp.file.parent.QueryInterface%28Ci.nsIFile%29%3B%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09return%3B%0A%09%09%09%09OS.File.read%28fp.file.path%29.then%28function%20onSuccess%28aReadData%29%20%7B%0A%09%09%09%09%09let%20prefFile%20%3D%20new%20TextDecoder%28%29.decode%28aReadData%29%3B%0A%09%09%09%09%09prefFile%20%3D%20prefFile.replace%28/%5Cr%5Cn/g%2C%20%22%5Cn%22%29.split%28%22%5Cn%22%29%3B%0A%09%09%09%09%09for%20%28let%20p%20in%20prefFile%29%20%7B%0A%09%09%09%09%09%09var%20prefName%20%3D%20%24.Branch%20+%20prefFile%5Bp%5D.split%28%22%7C%22%29%5B0%5D%2C%0A%09%09%09%09%09%09%09prefValue%20%3D%20prefFile%5Bp%5D.split%28%22%7C%22%29%5B1%5D%3B%0A%09%09%09%09%09%09if%20%28%24.SP.getPrefType%28prefName%29%29%20%7B%0A%09%09%09%09%09%09%09switch%20%28%24.SP.getPrefType%28prefName%29%29%20%7B%0A%09%09%09%09%09%09%09%09case%200%3A%0A%09%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%09case%2032%3A%0A%09%09%09%09%09%09%09%09%09let%20str%20%3D%20%24._nsISS%3B%0A%09%09%09%09%09%09%09%09%09str.data%20%3D%20prefValue%3B%0A%09%09%09%09%09%09%09%09%09%24.SP.setComplexValue%28%28prefName%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%09case%2064%3A%0A%09%09%09%09%09%09%09%09%09%24.SP.setIntPref%28prefName%2C%20prefValue%29%3B%0A%09%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%09case%20128%3A%0A%09%09%09%09%09%09%09%09%09%24.SP.setBoolPref%28prefName%2C%20%28%28prefValue%20%3D%3D%3D%20%22true%22%29%20%3F%20%22true%22%20%3A%20%22%22%29%29%3B%0A%09%09%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09%09%24.handleAllButtons%28null%2C%20true%29%3B%0A%09%09%09%09%09%7D%2C%20500%29%3B%0A%09%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%09%24.reportError%28aRejectReason%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%20else%0A%09%09%09%09return%3B%0A%09%09%7D%2C%0A%09%7D%2C%0A%0A%09itemsFileName%3A%20function%28aID%29%20%7B%0A%09%09return%20%22MultiMenu%22%20+%20aID%20+%20%22.json%22%3B%0A%09%7D%2C%0A%0A%09itemsFile%3A%20function%28aID%29%20%7B%0A%09%09return%20new%20%24._nsIFile%28OS.Path.join%28%24.storagePath%2C%20%24.itemsFileName%28aID%29%29%29%3B%0A%09%7D%2C%0A%0A%09addDestructor%3A%20function%28aFunc%2C%20aBtn%2C%20aCtx%29%20%7B%0A%09%09if%20%28%21aBtn%20%7C%7C%20typeof%20aFunc%20%21%3D%3D%20%22function%22%29%0A%09%09%09return%20true%3B%0A%09%09var%20destructor%20%3D%20%7B%7D%3B%0A%09%09destructor%5B%22destructor%22%5D%20%3D%20aFunc%3B%0A%09%09destructor%5B%22context%22%5D%20%3D%20aCtx%3B%0A%09%09aBtn._destructors.push%28destructor%29%3B%0A%09%7D%2C%0A%0A%09editCustomStyleSheet%3A%20function%28%29%20%7B%0A%09%09var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%09%09var%20winName%20%3D%20%24._UID%20+%20%22_custom_style_sheet_window%22%3B%0A%09%09var%20index%20%3D%201%3B%0A%09%09while%20%28em.hasMoreElements%28%29%29%20%7B%0A%09%09%09let%20win%20%3D%20em.getNext%28%29%3B%0A%09%09%09if%20%28win.name%20%3D%3D%3D%20winName%29%20%7B%0A%09%09%09%09win.focus%28%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09index++%3B%0A%09%09%7D%0A%09%09let%20storage%20%3D%20%7B%0A%09%09%09button%3A%20self%2C%0A%09%09%7D%3B%0A%09%09let%20xul%20%3D%20%24.getHelp%28%22%25CustomStyleSheetWindow%25%22%29%3B%0A%09%09xul%20%3D%20xul.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%0A%09%09xul%20%3D%20xul.split%28%22%25U_I_D%25%22%29.join%28%24._UID%29%3B%0A%09%09let%20url%20%3D%20%22data%3Aapplication/vnd.mozilla.xul+xml%3Btext/plain%2C%22%20+%20encodeURIComponent%28xul%29%3B%0A%09%09let%20optWin%20%3D%20openDialog%28url%2C%20winName%2C%20%22chrome%2C%20dialog%3Dyes%2C%20centerscreen%2C%20close%22%29%3B%0A%09%09optWin._storage%20%3D%20storage%3B%0A%09%7D%2C%0A%0A%09SP%3A%20Services.prefs%2C%0A%09SA%3A%20Services.appinfo%2C%0A%09_UID%3A%20%22__multi_menu_%22%20+%20self.id.slice%2814%29%2C%0A%09_nsISS%3A%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%2C%0A%09_nsIFile%3A%20Components.Constructor%28%22@mozilla.org/file/local%3B1%22%2C%20%22nsIFile%22%2C%20%22initWithPath%22%29%2C%0A%09that%3A%20%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.MultiMenu.%22%2C%0A%09_cbs%3A%20custombuttons.cbService%2C%0A%0A%09get%20popSet%28%29%20%7B%0A%09%09let%20pSet%20%3D%20%24.%24%28%22mainPopupSet%22%29%20%7C%7C%20%24.%24%28%24._UID%20+%20%22_popupset%22%29%3B%0A%09%09if%20%28%21pSet%29%20%7B%0A%09%09%09try%20%7B%0A%09%09%09%09pSet%20%3D%20%24.%24%28%22msgcomposeWindow%22%29.appendChild%28%24.%24CNS%28%22popupset%22%2C%20%7B%0A%09%09%09%09%09id%3A%20%24._UID%20+%20%22_popupset%22%2C%0A%09%09%09%09%09cb_id%3A%20%24._UID%0A%09%09%09%09%7D%29%29%3B%0A%09%09%09%7D%20catch%20%28aErr%29%20%7B%7D%0A%09%09%7D%0A%09%09return%20pSet%3B%0A%09%7D%2C%0A%09get%20ctxPop%28%29%20%7B%0A%09%09return%20%24.%24%28%24._UID%20+%20%22_multimenu_context%22%29%3B%0A%09%7D%2C%0A%09get%20dynTT%28%29%20%7B%0A%09%09return%20%24.%24%28%24._UID%20+%20%22-dynamic-tooltip%22%29%3B%0A%09%7D%2C%0A%09get%20prevTT%28%29%20%7B%0A%09%09return%20%24.%24%28%24._UID%20+%20%22-pos-preview-tooltip%22%29%3B%0A%09%7D%2C%0A%09get%20optPop%28%29%20%7B%0A%09%09return%20%24.%24%28%24._UID%20+%20%22-options-mpop%22%29%3B%0A%09%7D%2C%0A%09get%20storagePath%28%29%20%7B%0A%09%09let%20d%20%3D%20OS.Path.join%28OS.Constants.Path.profileDir%2C%20%22custombuttons%22%2C%20%22MultiMenuStorage%22%29%3B%0A%09%09if%20%28%21%24._.pStorageFolderCreated%29%20%7B%0A%09%09%09%24.sPref%28%22pStorageFolderCreated%22%2C%20true%29%3B%0A%09%09%09OS.File.makeDir%28d%2C%20%7B%0A%09%09%09%09ignoreExisting%3A%20true%0A%09%09%09%7D%29%3B%0A%09%09%7D%0A%09%09return%20d%3B%0A%09%7D%2C%0A%09get%20dummyItems%28%29%20%7B%0A%09%09return%20JSON.stringify%28%5B%0A%09%09%09%5B%5D%2C%0A%09%09%09%5B%5D%2C%0A%09%09%09%5B%5D%2C%0A%09%09%09%5B%5D%2C%0A%09%09%09%5B%5D%2C%0A%09%09%5D%2C%20null%2C%20%22%5Ct%22%29%3B%0A%09%7D%2C%0A%09/**%0A%09%20*%20Random%20delay%20to%20avoid%20%22re-initialization%22%20of%20to%20many%20buttons%20at%20the%20same%20time.%0A%09%20*%20@return%20%7B%5BInteger%5D%7D%20%5BReturns%20a%20delay%20between%20200%20milliseconds%20and%202%20seconds.%5D%0A%09%20*/%0A%09get%20delay%28%29%20%7B%0A%09%09return%20%28Math.floor%28Math.random%28%29%20*%20%281%20+%202000%20-%20200%29%29%20+%20200%29%3B%0A%09%7D%2C%0A%09isOSX%3A%20Services.appinfo.OS.toLowerCase%28%29.startsWith%28%22darwin%22%29%2C%0A%09accel%3A%20function%28aE%29%20%7B%0A%09%09if%20%28aE%29%0A%09%09%09return%20%24.isOSX%20%3F%20aE.metaKey%20%3A%20aE.ctrlKey%3B%0A%09%09return%20%24.isOSX%20%3F%20%22Command%22%20%3A%20%22Control%22%3B%0A%09%7D%2C%0A%7D%3B%0A%0Athis.MultiMenu.Branch%20%3D%20%22CB.MultiMenu.Id%22%20+%20self.id.slice%2820%29%20+%20%22.%22%3B%0A%0Athis.MultiMenu.DefPrefs%20%3D%20%7B%0A%09pAddonsBlackList%3A%20%22%22%2C%0A%09pAddonsAutoCloseMenu%3A%20false%2C%0A%09pStorageFolderCreated%3A%20false%2C%0A%09pAddonsVersion%3A%202%2C%0A%09pAddonsSortByEnabled%3A%20true%2C%0A%09pExtraHelpOnAddonsItemsTooltips%3A%20true%2C%0A%09pExtraHelpOnPrefItemsTooltips%3A%20true%2C%0A%09pExtraHelpOnURLItemsTooltips%3A%20true%2C%0A%09pMenuCloseDelay%3A%20200%2C%0A%09pMenuOpenDelay%3A%20200%2C%0A%09pPrefLabelType%3A%20true%2C%0A%09pPrefLabelMaxLength%3A%2030%2C%0A%09pPrefValueMaxLength%3A%2010%2C%0A%09pPrefResetConfirmation%3A%20true%2C%0A%09pShowBlacklistedAddons%3A%20false%2C%0A%09pStyleSheetCustomEnabled%3A%20true%2C%0A%09pStyleSheetCustom%3A%20%22%252F**%250A%2520*%2520%255BCustom%2520Style%2520Sheet%255D%250A%2520*%2520This%2520style%2520sheet%22%20+%0A%09%09%22%2520is%2520shared%2520between%2520all%2520Multi%2520Menu%2520buttons%2520%28%2522master%2522%2520and%2520%2522slave%22%20+%0A%09%09%22s%2522%29.%250A%2520*%2520It%2520is%2520loaded%2520after%2520the%2520default%2520style%2520sheets%2520used%2520by%2520%22%20+%0A%09%09%22Multi%2520Menu%252C%2520so%2520you%2520can%2520override%2520styles.%250A%2520*%2520No%2520need%2520to%2520specify%25%22%20+%0A%09%09%2220a%2520namespace%2520here%252C%2520it%27s%2520already%2520specified%2520by%2520the%2520default%2520style%2520sh%22%20+%0A%09%09%22eets.%250A%2520*%252F%250A%250A%252F**%250A%2520*%2520%255BList%2520of%2520classes%2520used%2520by%2520all%2520Multi%2520M%22%20+%0A%09%09%22enu%2520buttons%2520%28%2522master%2522%2520and%2520%2522slaves%2522%29%255D%250A%2520*%2520multi_menu_main_menupopu%22%20+%0A%09%09%22p%250A%2520*%2520multi_menu_item_type_menuseparator%250A%2520*%2520multi_menu_item_type_spacer%250A%2520%22%20+%0A%09%09%22*%2520multi_menu_item_type_dialogheader%250A%2520*%2520multi_menu_item_type_menuGroup%250A%2520*%2520m%22%20+%0A%09%09%22ulti_menu_item_type_addon%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%252%22%20+%0A%09%09%220%2520%2520%2520%2520%2520%2520%2520%2520addon_type_extension%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%22%20+%0A%09%09%22%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520addon_type_plugin%250A%2520*%2520%2520%2520%2520%2520%2520%25%22%20+%0A%09%09%2220%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520addon_type_theme%250A%2520*%2520%22%20+%0A%09%09%22%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520addon_type%22%20+%0A%09%09%22_greasemonkey-user-script%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%252%22%20+%0A%09%09%220%2520%2520%2520%2520%2520%2520%2520%2520addon_type_userscript%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%252%22%20+%0A%09%09%220%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520addon_type_userstyle%250A%2520*%2520%2520%2520%2520%2520%22%20+%0A%09%09%22%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520state_ask_to_activate%25%22%20+%0A%09%09%220A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520s%22%20+%0A%09%09%22tate_active%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%25%22%20+%0A%09%09%2220%2520%2520%2520state_disabled%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%252%22%20+%0A%09%09%220%2520%2520%2520%2520%2520%2520%2520%2520hidden_addon%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%252%22%20+%0A%09%09%220%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520pending_enable%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%22%20+%0A%09%09%22%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520pending_disable%250A%2520*%2520%2520%2520%2520%2520%22%20+%0A%09%09%22%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520pending_uninstall%250A%252%22%20+%0A%09%09%220*%2520multi_menu_item_type_clonedMenuItem%250A%2520*%2520multi_menu_item_type_customMenuItem%250A%22%20+%0A%09%09%22%2520*%2520multi_menu_item_type_clonedMenu%250A%2520*%2520multi_menu_item_type_customMenu%250A%2520*%252%22%20+%0A%09%09%220multi_menu_item_type_pref%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%25%22%20+%0A%09%09%2220%2520%2520%2520%2520%2520%2520%2520is_locked%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%25%22%20+%0A%09%09%2220%2520%2520%2520%2520%2520%2520%2520%2520%2520has_user_value%250A%2520*%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%252%22%20+%0A%09%09%220%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520%2520non_existent%250A%2520*%2520multi_menu_item_type_url%250%22%20+%0A%09%09%22A%2520*%2520multi_menu_item_type_pathRelative%250A%2520*%2520multi_menu_item_type_pathFull%250A%2520*%25%22%20+%0A%09%09%2220multi_menu_item_type_cb%250A%2520*%252F%250A%250A%252F***%2520Start%2520adding%2520you%2520CSS%2520after%2520t%22%20+%0A%09%09%22his%2520comment%2520***%252F%250A%250A%252F*%2520Preferences%2520with%2520user%2520set%2520values%2520*%252F%250A.mu%22%20+%0A%09%09%22lti_menu_item_type_pref.has_user_value%2520%257B%250A%2509font-weight%253A%2520bold%2520%21important%253B%25%22%20+%0A%09%09%220A%257D%250A%252F*%2520Locked%2520preferences%2520*%252F%250A.multi_menu_item_type_pref.is_locked%2520%257B%25%22%20+%0A%09%09%220A%2509font-style%253A%2520italic%2520%21important%253B%250A%257D%250A%252F*%2520Non%2520existent%2520preferences%25%22%20+%0A%09%09%2220*%252F%250A.multi_menu_item_type_pref.non_existent%2520%257B%250A%2509color%253A%2520red%2520%21important%25%22%20+%0A%09%09%223B%250A%257D%250A%252F*%2520Active%2520add-ons%2520*%252F%250A.multi_menu_item_type_addon.state_active%2520%25%22%20+%0A%09%09%227B%250A%2509opacity%253A%25201%2520%21important%253B%250A%257D%250A%252F*%2520Disabled%2520add-ons%2520*%252F%250A.multi%22%20+%0A%09%09%22_menu_item_type_addon.state_disabled%253Anot%28.addon_type_theme%29%2520%257B%250A%2509opacity%253A%2520.6%22%20+%0A%09%09%225%2520%21important%253B%250A%257D%250A%252F*%2520Ask-to-activate%2520add-ons%2520*%252F%250A.multi_menu_item_typ%22%20+%0A%09%09%22e_addon.state_ask_to_activate%2520%257B%250A%2509font-style%253A%2520italic%2520%21important%253B%250A%257D%250A%22%20+%0A%09%09%22%252F*%2520Ask-to-activate%2520add-ons%2520*%252F%250A.multi_menu_item_type_addon.hidden_addon%2520%257B%22%20+%0A%09%09%22%250A%2509text-decoration%253A%2520line-through%2520%21important%253B%250A%2509text-decoration-color%253A%2520%22%20+%0A%09%09%22red%2520%21important%253B%250A%2509text-decoration-style%253A%2520double%2520%21important%253B%250A%257D%250A%252F*%25%22%20+%0A%09%09%2220Add-on%2520pending%2520to%2520be%2520enabled%2520*%252F%250A.multi_menu_item_type_addon.pending_enab%22%20+%0A%09%09%22le%2520%257B%250A%2509font-weight%253A%2520bold%2520%21important%253B%250A%2509color%253A%2520green%2520%21important%253%22%20+%0A%09%09%22B%250A%257D%250A%252F*%2520Add-on%2520pending%2520to%2520be%2520disabled%2520*%252F%250A.multi_menu_item_type_ad%22%20+%0A%09%09%22don.pending_disable%2520%257B%250A%2509font-weight%253A%2520bold%2520%21important%253B%250A%2509color%253A%2520ora%22%20+%0A%09%09%22nge%2520%21important%253B%250A%257D%250A%252F*%2520Add-on%2520pending%2520to%2520be%2520uninstalled%2520*%252F%250A.mu%22%20+%0A%09%09%22lti_menu_item_type_addon.pending_uninstall%2520%257B%250A%2509font-weight%253A%2520bold%2520%21important%22%20+%0A%09%09%22%253B%250A%2509color%253A%2520red%2520%21important%253B%250A%257D%22%2C%0A%09pStyleInvertContextIcons%3A%20false%2C%0A%09pStyleForDialogHeaderEnabled%3A%20true%2C%0A%09pStyleForMenuGroupEnabled%3A%20true%2C%0A%09pStyleForMenuGroupReflectCheckedStateEnabled%3A%20true%2C%0A%09pStylePanelConvertionType%3A%200%2C%0A%09pStyleForOverflowedMenus%3A%20true%2C%0A%09pStyleRemoveMainMenuAccelContainers%3A%20true%2C%0A%09pOverrideHosts%3A%20%22%22%2C%0A%09pOverrideURLs%3A%20%22about%3Ablank%2Cabout%3Anewtab%2Cabout%3Ahome%22%2C%0A%09pURLItemLeftClickWhere%3A%203%2C%0A%09pURLItemRightClickWhere%3A%202%2C%0A%09pURLItemMiddleClickWhere%3A%201%2C%0A%09pURLItemLeftCtrlClickWhere%3A%206%2C%0A%09pURLItemLeftShiftClickWhere%3A%206%2C%0A%7D%3B%0A%0Athis.MultiMenu.initPrefs%20%3D%20function%28%29%20%7B%0A%09let%20branch%20%3D%20Services.prefs.getDefaultBranch%28self.MultiMenu.Branch%29%2C%0A%09%09defaults%20%3D%20self.MultiMenu.DefPrefs%3B%0A%09for%20%28let%20key%20in%20defaults%29%20%7B%0A%09%09if%20%28defaults.hasOwnProperty%28key%29%29%20%7B%0A%09%09%09let%20val%20%3D%20defaults%5Bkey%5D%3B%0A%09%09%09switch%20%28typeof%20val%29%20%7B%0A%09%09%09%09case%20%22boolean%22%3A%0A%09%09%09%09%09branch.setBoolPref%28key%2C%20val%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22number%22%3A%0A%09%09%09%09%09branch.setIntPref%28key%2C%20val%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22string%22%3A%0A%09%09%09%09%09let%20str%20%3D%20%24._nsISS%3B%0A%09%09%09%09%09str.data%20%3D%20val%3B%0A%09%09%09%09%09branch.setComplexValue%28%28key%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Athis.MultiMenu.gPref%20%3D%20function%28aKey%29%20%7B%0A%09let%20branch%20%3D%20Services.prefs.getBranch%28self.MultiMenu.Branch%29%3B%0A%09switch%20%28typeof%20self.MultiMenu.DefPrefs%5BaKey%5D%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09return%20branch.getBoolPref%28aKey%29%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09return%20branch.getIntPref%28aKey%29%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09return%20branch.getComplexValue%28aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%09%7D%0A%09return%20null%3B%0A%7D%3B%0A%0Athis.MultiMenu.sPref%20%3D%20function%28aKey%2C%20aVal%29%20%7B%0A%09let%20branch%20%3D%20Services.prefs.getBranch%28self.MultiMenu.Branch%29%3B%0A%09switch%20%28typeof%20aVal%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09branch.setBoolPref%28aKey%2C%20aVal%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09branch.setIntPref%28aKey%2C%20aVal%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09let%20str%20%3D%20%24._nsISS%3B%0A%09%09%09str.data%20%3D%20aVal%3B%0A%09%09%09branch.setComplexValue%28%28aKey%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09break%3B%0A%09%7D%0A%7D%3B%0A%0Athis.MultiMenu.init%28%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%28%21event.target%20%26%26%20%21this.disabled%29%0A%09this.MultiMenu.hotkeyPressed%28this%29%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%uD835%uDDDC%uD835%uDDFA%uD835%uDDFD%uD835%uDDFC%uD835%uDDFF%uD835%uDE01%uD835%uDDEE%uD835%uDDFB%uD835%uDE01%20%uD835%uDDFB%uD835%uDDFC%uD835%uDE01%uD835%uDDF2%uD835%uDE00%0A%u26AB%20%uD835%uDDD7%uD835%uDDE2%20%uD835%uDDE1%uD835%uDDE2%uD835%uDDE7%20%uD835%uDDF6%uD835%uDDFB%uD835%uDE00%uD835%uDE01%uD835%uDDEE%uD835%uDDF9%uD835%uDDF9%20%uD835%uDDFA%uD835%uDDFC%uD835%uDDFF%uD835%uDDF2%20%uD835%uDE01%uD835%uDDF5%uD835%uDDEE%uD835%uDDFB%20%uD835%uDDFC%uD835%uDDFB%uD835%uDDF2%20%uD835%uDE03%uD835%uDDF2%uD835%uDDFF%uD835%uDE00%uD835%uDDF6%uD835%uDDFC%uD835%uDDFB%20%uD835%uDDFC%uD835%uDDF3%20%uD835%uDE01%uD835%uDDF5%uD835%uDDF6%uD835%uDE00%20%uD835%uDDEF%uD835%uDE02%uD835%uDE01%uD835%uDE01%uD835%uDDFC%uD835%uDDFB%20%uD835%uDDEE%uD835%uDE01%20%uD835%uDE01%uD835%uDDF5%uD835%uDDF2%20%uD835%uDE00%uD835%uDDEE%uD835%uDDFA%uD835%uDDF2%20%uD835%uDE01%uD835%uDDF6%uD835%uDDFA%uD835%uDDF2%u2757%u2757%u2757%0A%u26AB%20%uD835%uDDD7%uD835%uDDE2%20%uD835%uDDE1%uD835%uDDE2%uD835%uDDE7%20%uD835%uDDF0%uD835%uDDF9%uD835%uDDFC%uD835%uDDFB%uD835%uDDF2%20%uD835%uDE01%uD835%uDDF5%uD835%uDDF6%uD835%uDE00%20%uD835%uDDEF%uD835%uDE02%uD835%uDE01%uD835%uDE01%uD835%uDDFC%uD835%uDDFB%u2757%u2757%u2757%0A%u26AB%20If%20you%20did%20any%20of%20the%20previous%20actions%2C%20delete%20all%20extra%20buttons%20leaving%20only%20one%20version%20of%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%20and%20restart%20your%20application.%0A%u26AB%20Deleting/Uninstalling%20a%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%20button%20%28%uD835%uDE62%uD835%uDE56%uD835%uDE68%uD835%uDE69%uD835%uDE5A%uD835%uDE67%20or%20%uD835%uDE68%uD835%uDE61%uD835%uDE56%uD835%uDE6B%uD835%uDE5A%29%20will%20NOT%20delete%20its%20items%20file%20from%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%27%uD835%uDE00%20storage%20folder.%0A%u26AB%20Deleting/Uninstalling%20the%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%20%uD835%uDE62%uD835%uDE56%uD835%uDE68%uD835%uDE69%uD835%uDE5A%uD835%uDE67%20button%20will%20NOT%20delete%20any%20of%20the%20%uD835%uDE68%uD835%uDE61%uD835%uDE56%uD835%uDE6B%uD835%uDE5A%20buttons%20but%20it%20will%20reset%20all%20individual%20preferences%20to%20their%20defaults.%0A%0A%uD835%uDDE2%uD835%uDDFB%20%uD835%uDE01%uD835%uDDF5%uD835%uDDF2%20%uD835%uDDFC%uD835%uDE01%uD835%uDDF5%uD835%uDDF2%uD835%uDDFF%20%uD835%uDDF5%uD835%uDDEE%uD835%uDDFB%uD835%uDDF1%0A%u26AB%20You%20can%20create/clone%20countless%20times%20a%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%27%uD835%uDE00%20%uD835%uDE68%uD835%uDE61%uD835%uDE56%uD835%uDE6B%uD835%uDE5A%20button.%0A%0A%uD835%uDDEA%uD835%uDDD4%uD835%uDDE5%uD835%uDDE1%uD835%uDDDC%uD835%uDDE1%uD835%uDDDA%u2757%u2757%u2757%20%uD835%uDDD5%uD835%uDDD8%20%uD835%uDDD6%uD835%uDDD4%uD835%uDDE5%uD835%uDDD8%uD835%uDDD9%uD835%uDDE8%uD835%uDDDF%20%uD835%uDDDC%uD835%uDDD9%20%uD835%uDDEC%uD835%uDDE2%uD835%uDDE8%20%uD835%uDDD8%uD835%uDDD7%uD835%uDDDC%uD835%uDDE7%20%uD835%uDDE7%uD835%uDDDB%uD835%uDDD8%20%uD835%uDDDB%uD835%uDDD8%uD835%uDDDF%uD835%uDDE3%20%uD835%uDDE7%uD835%uDDD4%uD835%uDDD5%20%uD835%uDDE2%uD835%uDDD9%20%uD835%uDDE7%uD835%uDDDB%uD835%uDDDC%uD835%uDDE6%20%uD835%uDDD5%uD835%uDDE8%uD835%uDDE7%uD835%uDDE7%uD835%uDDE2%uD835%uDDE1%u2757%u2757%u2757%0A%uD835%uDDDC%uD835%uDDE7%20%uD835%uDDD6%uD835%uDDE2%uD835%uDDE8%uD835%uDDDF%uD835%uDDD7%20%uD835%uDDD5%uD835%uDDE5%uD835%uDDD8%uD835%uDDD4%uD835%uDDDE%20%uD835%uDDDC%uD835%uDDE7%uD835%uDDE6%20%uD835%uDDD9%uD835%uDDE8%uD835%uDDE1%uD835%uDDD6%uD835%uDDDC%uD835%uDDE2%uD835%uDDE1%uD835%uDDD4%uD835%uDDDF%uD835%uDDDC%uD835%uDDE7%uD835%uDDEC%u2757%u2757%u2757%0A%0A%5B%2C%5D%0A%0A/**%0A%20*%20%uD835%uDDD9%uD835%uDDE5%uD835%uDDE2%uD835%uDDE0%20%uD835%uDDDB%uD835%uDDD8%uD835%uDDE5%uD835%uDDD8%20%uD835%uDDD7%uD835%uDDE2%uD835%uDDEA%uD835%uDDE1%20%uD835%uDDD7%uD835%uDDE2%20%uD835%uDDE1%uD835%uDDE2%uD835%uDDE7%20%uD835%uDDE7%uD835%uDDE2%uD835%uDDE8%uD835%uDDD6%uD835%uDDDB%20%uD835%uDDD4%uD835%uDDE1%uD835%uDDEC%uD835%uDDE7%uD835%uDDDB%uD835%uDDDC%uD835%uDDE1%uD835%uDDDA%0A%20*/%0A%0A%26lt%3B%21--%25OptionsWindow%25--%26gt%3B%26lt%3B%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%26gt%3B%0A%26lt%3B%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20%3F%26gt%3B%0A%26lt%3B%3Fxml-stylesheet%20href%3D%22data%3Atext/css%3Bcharset%3Dutf-8%2C%0Aprefwindow%20*%20%7B%0A%09font-family%3A%20%26amp%3Bquot%3BOpen%20Sans%26amp%3Bquot%3B%2C%20Helvetica%2C%20Arial%2C%20sans-serif%20%21important%3B%0A%7D%0Abutton%20%7B%0A%09min-width%3A%200%20%20%21important%3B%0A%7D%0Acaption%20.caption-text%2C%0A.bold_text%20%7B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0A.warning%7B%0A%09font-weight%3A%20bold%20%21important%3B%0A%09color%3A%20red%20%21important%3B%0A%7D%0A/*%20Force%20groupboxes%20on%20Linux%20to%20have%20the%20same%20appearance%20than%20in%20Windows%20*/%0A/*%20Just%20because%20it%20makes%20effing%20sence%21%21%21%21%20*/%0A/*%20Why%20have%20elements%20grouped%20inside%20a%20groupbox%20and%20not%20visually%20delimited%3F%21%3F%21%3F%21%20*/%0Agroupbox%20%7B%0A%09-moz-appearance%3A%20groupbox%20%21important%3B%0A%09border%3A%202px%20groove%20ThreeDFace%20%21important%3B%0A%09border-radius%3A%203px%20%21important%3B%0A%09margin%3A%203px%20%21important%3B%0A%09padding%3A%203px%203px%206px%20%21important%3B%0A%7D%0A.groupbox-body%20%7B%0A%09padding%3A%20inherit%20%21important%3B%0A%7D%0Acaption%20%7B%0A%09margin%3A%200%206px%20%21important%3B%0A%09background-color%3A%20-moz-Dialog%20%21important%3B%0A%7D%0Atabpanels%20caption%20%7B%0A%09-moz-appearance%3A%20tabpanel%20%21important%3B%0A%7D%0A/*%20%21important%20is%20needed%20to%20override%20label%20in%20global.css%20*/%0A.caption-text%20%7B%0A%09margin%3A%200%202px%20%21important%3B%0A%7D%0Atab%5Bselected%3D%26amp%3Bquot%3Btrue%26amp%3Bquot%3B%5D%20%7B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0Adialogheader%20%7B%0A%09font-size%3Ax-small%21important%3B%0A%09font-weight%3A600%21important%3B%0A%09margin%3A0%200%207px%200%21important%3B%0A%09padding%3A2px%200%202px%205px%21important%3B%0A%09border%3Anone%21important%3B%0A%7D%0A%22%20type%3D%22text/css%22%20%3F%26gt%3B%0A%26lt%3Bprefwindow%20id%3D%22%25U_I_D%25_settings_window%22%0A%09%09%09%20xmlns%3Ahtml%3D%22http%3A//www.w3.org/1999/xhtml%22%0A%09%09%09%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%0A%09%09%09%20onload%3D%22%24.onLoad%28%29%3B%22%0A%09%09%09%20onunload%3D%22%24.onUnload%28%29%3B%22%0A%09%09%09%20buttons%3D%22accept%2Ccancel%2Cextra1%2Cextra2%22%0A%09%09%09%20buttonlabelextra1%3D%22Apply%22%0A%09%09%09%20buttonlabeldisclosure%3D%22%22%0A%09%09%09%20ondialogextra1%3D%22%24.onApply%28%29%3B%22%0A%09%09%09%20buttonlabelextra2%3D%22Settings%22%0A%09%09%09%20title%3D%22Multi%20Menu%20settings%22%26gt%3B%0A%09%09%09%09%26lt%3Bscript%26gt%3B%0A%09%09%26lt%3B%21%5BCDATA%5B%0AComponents.utils.import%28%22resource%3A//gre/modules/osfile.jsm%22%29%3B%0AComponents.utils.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0Avar%20stg%20%3D%20window._storage%3B%0Avar%20cb_btn%20%3D%20stg.button%3B%0A%0Afunction%20%24id%28id%29%20%7B%0A%09return%20document.getElementById%28id%29%0A%7D%3B%0Avar%20%24%20%3D%20%7B%0A%09_initialized%3A%20false%2C%0A%09onLoad%3A%20function%28%29%20%7B%0A%09%09this._initialized%20%3D%20true%3B%0A%09%09var%20docElt%20%3D%20document.documentElement%3B%0A%09%09this.instantApply%20%3D%20docElt.instantApply%3B%0A%09%09window.addEventListener%28%22change%22%2C%20this%2C%20false%29%3B%0A%09%09docElt.getButton%28%22extra1%22%29.setAttribute%28%22icon%22%2C%20%22apply%22%29%3B%0A%09%09docElt.getButton%28%22extra2%22%29.setAttribute%28%22popup%22%2C%20%22multi-menu-preferences%22%29%3B%0A%09%09docElt.setAttribute%28%22cancelbuttonlabel%22%2C%20docElt.mStrBundle.GetStringFromName%28%22button-cancel%22%29%29%3B%0A%09%09this.setButtons%28true%29%3B%0A%09%09%24.dealWithNavigator%28%29%3B%0A%09%09%24.initMenulists%28%29%3B%0A%09%7D%2C%0A%09handleEvent%3A%20function%28aE%29%20%7B%0A%09%09switch%20%28aE.type%29%20%7B%0A%09%09%09case%20%22change%22%3A%0A%09%09%09%09if%20%28aE.target.localName%20%21%3D%20%22preference%22%29%0A%09%09%09%09%09return%3B%0A%09%09%09%09if%20%28%21this.instantApply%29%0A%09%09%09%09%09this.updateApplyButton%28aE%29%3B%0A%09%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%09changes%3A%20%5B%5D%2C%0A%09updateApplyButton%3A%20function%28aE%29%20%7B%0A%09%09var%20item%20%3D%20aE.target%3B%0A%09%09if%20%28item.localName%20%21%3D%20%22preference%22%29%0A%09%09%09return%3B%0A%09%09var%20valueChanged%20%3D%20item.value%20%21%3D%20item.valueFromPreferences%3B%0A%09%09var%20index%20%3D%20this.changes.indexOf%28item%29%3B%0A%09%09if%20%28valueChanged%20%26amp%3B%26amp%3B%20index%20%3D%3D%20-1%29%0A%09%09%09this.changes.push%28item%29%3B%0A%09%09else%20if%20%28%21valueChanged%20%26amp%3B%26amp%3B%20index%20%26gt%3B%20-1%29%0A%09%09%09this.changes.splice%28index%2C%201%29%3B%0A%09%09this.setButtons%28%21this.changes.length%29%3B%0A%09%7D%2C%0A%09onApply%3A%20function%28%29%20%7B%0A%09%09this.setButtons%28true%29%3B%0A%09%09while%20%28this.changes.length%29%20%7B%0A%09%09%09var%20preference%20%3D%20this.changes.shift%28%29%3B%0A%09%09%09preference.batching%20%3D%20true%3B%0A%09%09%09preference.valueFromPreferences%20%3D%20preference.value%3B%0A%09%09%09preference.batching%20%3D%20false%3B%0A%09%09%7D%0A%09%09cb_btn.init%28%29%3B%0A%09%7D%2C%0A%09setButtons%3A%20function%28aDisable%29%20%7B%0A%09%09var%20docElt%20%3D%20document.documentElement%3B%0A%09%09//%20when%20in%20instantApply%20mode%20apply%20and%20accept%20buttons%20are%20hidden%20except%20when%20user%0A%09%09//%20change%20min/max%20width%20value%0A%09%09var%20applyButton%20%3D%20docElt.getButton%28%22extra1%22%29%3B%0A%09%09applyButton.disabled%20%3D%20aDisable%3B%0A%09%09applyButton.hidden%20%3D%20this.instantApply%20%26amp%3B%26amp%3B%20aDisable%3B%0A%09%09docElt.getButton%28%22accept%22%29.hidden%20%3D%20aDisable%3B%0A%0A%09%09var%20action%20%3D%20aDisable%20%3F%20%22close%22%20%3A%20%22cancel%22%3B%0A%09%09var%20cancelButton%20%3D%20docElt.getButton%28%22cancel%22%29%3B%0A%09%09cancelButton.label%20%3D%20docElt.getAttribute%28action%20+%20%22buttonlabel%22%29%3B%0A%09%09cancelButton.setAttribute%28%22icon%22%2C%20action%29%3B%0A%09%7D%2C%0A%09setDisabled%3A%20function%28aItemOrId%2C%20aVal%29%20%7B%0A%09%09var%20item%20%3D%20typeof%28aItemOrId%29%20%3D%3D%20%22string%22%20%3F%20%24id%28aItemOrId%29%20%3A%20aItemOrId%3B%0A%09%09if%20%28%21item%29%0A%09%09%09return%3B%0A%09%09if%20%28item.hasAttribute%28%22inverseDependency%22%29%29%0A%09%09%09aVal%20%3D%20%21aVal%3B%0A%09%09//%20remove%20disabled%20when%20the%20value%20is%20false%0A%09%09this.setItem%28item%2C%20%22disabled%22%2C%20aVal%20%7C%7C%20null%29%3B%0A%09%7D%2C%0A%09setItem%3A%20function%28aItemOrId%2C%20aAttr%2C%20aVal%29%20%7B%0A%09%09var%20el%20%3D%20typeof%28aItemOrId%29%20%3D%3D%20%22string%22%20%3F%20document.getElementById%28aItemOrId%29%20%3A%20aItemOrId%3B%0A%09%09if%20%28el%29%20%7B%0A%09%09%09if%20%28aVal%20%3D%3D%3D%20null%20%7C%7C%20aVal%20%3D%3D%3D%20undefined%29%20%7B%0A%09%09%09%09el.removeAttribute%28aAttr%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09if%20%28typeof%28aVal%29%20%3D%3D%20%22boolean%22%29%0A%09%09%09%09aVal%20%3D%20aVal%20%3F%20%22true%22%20%3A%20%22false%22%3B%0A%0A%09%09%09if%20%28%21el.hasAttribute%28aAttr%29%20%7C%7C%20el.getAttribute%28aAttr%29%20%21%3D%20aVal%29%0A%09%09%09%09el.setAttribute%28aAttr%2C%20aVal%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09onUnload%3A%20function%28%29%20%7B%0A%09%09window.removeEventListener%28%22change%22%2C%20this%2C%20false%29%3B%0A%09%09window.removeEventListener%28%22beforeaccept%22%2C%20this%2C%20false%29%3B%0A%09%09cb_btn.init%28%29%3B%0A%09%7D%2C%0A%09dealWithNavigator%3A%20function%28%29%20%7B%0A%09%09Array.prototype.slice.call%28document.getElementsByAttribute%28%22data-navigator%22%2C%20%22*%22%29%29.forEach%28function%28aEl%29%20%7B%0A%09%09%09switch%20%28Number%28aEl.getAttribute%28%22data-navigator%22%29%29%29%20%7B%0A%09%09%09%09case%200%3A%0A%09%09%09%09%09aEl.disabled%20%3D%20stg.isNavigator%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%201%3A%0A%09%09%09%09%09aEl.disabled%20%3D%20%21stg.isNavigator%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%09initMenulists%3A%20function%28%29%20%7B%0A%09%09var%20urlActionMPop%20%3D%20%24id%28%22click-on-url-item-action-primary-menulist%22%29.firstChild%3B%0A%09%09var%20ulrActionSMLists%20%3D%20document.getElementsByClassName%28%22click-on-url-item-action-secondary-menulist%22%29%3B%0A%09%09for%20%28var%20a%20%3D%20ulrActionSMLists.length%20-%201%3B%20a%20%26gt%3B%3D%200%3B%20a--%29%20%7B%0A%09%09%09ulrActionSMLists%5Ba%5D.appendChild%28urlActionMPop.cloneNode%28true%29%29%3B%0A%09%09%09%24.setMenulistsCheckedState%28ulrActionSMLists%5Ba%5D%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09setMenulistsCheckedState%3A%20function%28aMList%29%20%7B%0A%09%09let%20prefID%20%3D%20aMList.getAttribute%28%22preference%22%29%3B%0A%09%09let%20val%20%3D%20%24id%28prefID%29.value%3B%0A%09%09if%20%28val%20%21%3D%3D%20-1%29%0A%09%09%09aMList.selectedIndex%20%3D%20val%3B%0A%09%7D%2C%0A%7D%3B%0A%5D%5D%26gt%3B%26lt%3B/script%26gt%3B%0A%09%26lt%3Bprefpane%20flex%3D%221%22%26gt%3B%0A%09%09%26lt%3Bpreferences%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pAddonsAutoCloseMenu%22%20name%3D%22%25B_R_A_N_C_H%25pAddonsAutoCloseMenu%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pAddonsVersion%22%20name%3D%22%25B_R_A_N_C_H%25pAddonsVersion%22%20type%3D%22int%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pAddonsSortByEnabled%22%20name%3D%22%25B_R_A_N_C_H%25pAddonsSortByEnabled%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22PopupPosition%22%20name%3D%22%25B_R_A_N_C_H%25PopupPosition%22%20type%3D%22string%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pMenuOpenDelay%22%20name%3D%22%25B_R_A_N_C_H%25pMenuOpenDelay%22%20type%3D%22int%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pMenuCloseDelay%22%20name%3D%22%25B_R_A_N_C_H%25pMenuCloseDelay%22%20type%3D%22int%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22MenuOpenOnHover%22%20name%3D%22%25B_R_A_N_C_H%25MenuOpenOnHover%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22FlipAttribute%22%20name%3D%22%25B_R_A_N_C_H%25FlipAttribute%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pPrefLabelType%22%20name%3D%22%25B_R_A_N_C_H%25pPrefLabelType%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pPrefLabelMaxLength%22%20name%3D%22%25B_R_A_N_C_H%25pPrefLabelMaxLength%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pPrefValueMaxLength%22%20name%3D%22%25B_R_A_N_C_H%25pPrefValueMaxLength%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pPrefResetConfirmation%22%20name%3D%22%25B_R_A_N_C_H%25pPrefResetConfirmation%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pExtraHelpOnAddonsItemsTooltips%22%20name%3D%22%25B_R_A_N_C_H%25pExtraHelpOnAddonsItemsTooltips%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pExtraHelpOnPrefItemsTooltips%22%20name%3D%22%25B_R_A_N_C_H%25pExtraHelpOnPrefItemsTooltips%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pExtraHelpOnURLItemsTooltips%22%20name%3D%22%25B_R_A_N_C_H%25pExtraHelpOnURLItemsTooltips%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pShowBlacklistedAddons%22%20name%3D%22%25B_R_A_N_C_H%25pShowBlacklistedAddons%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pURLItemLeftClickWhere%22%20name%3D%22%25B_R_A_N_C_H%25pURLItemLeftClickWhere%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pURLItemRightClickWhere%22%20name%3D%22%25B_R_A_N_C_H%25pURLItemRightClickWhere%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pURLItemMiddleClickWhere%22%20name%3D%22%25B_R_A_N_C_H%25pURLItemMiddleClickWhere%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pURLItemLeftCtrlClickWhere%22%20name%3D%22%25B_R_A_N_C_H%25pURLItemLeftCtrlClickWhere%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22pURLItemLeftShiftClickWhere%22%20name%3D%22%25B_R_A_N_C_H%25pURLItemLeftShiftClickWhere%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%26lt%3B/preferences%26gt%3B%0A%26lt%3Btabbox%20persist%3D%22selectedIndex%22%20id%3D%22main_tabbox%22%20flex%3D%221%22%26gt%3B%0A%09%26lt%3Btabs%26gt%3B%0A%09%09%26lt%3Btab%20label%3D%22%20General%20%22%20flex%3D%221%22/%26gt%3B%0A%09%09%26lt%3Btab%20label%3D%22%20Item%20clicks%20%22%20flex%3D%221%22/%26gt%3B%0A%09%26lt%3B/tabs%26gt%3B%0A%09%26lt%3Btabpanels%20flex%3D%221%22%26gt%3B%0A%09%09%26lt%3Btabpanel%20flex%3D%221%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22Global%20settings%22/%26gt%3B%0A%09%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%09%26lt%3Brow%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Auto-open%20delay%3A%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Btextbox%20type%3D%22number%22%20increment%3D%2210%22%20min%3D%220%22%20max%3D%22999%22%20maxwidth%3D%2270px%22%20preference%3D%22pMenuOpenDelay%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Auto-close%20delay%3A%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Btextbox%20type%3D%22number%22%20increment%3D%2210%22%20min%3D%220%22%20max%3D%22999%22%20maxwidth%3D%2270px%22%20preference%3D%22pMenuCloseDelay%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22%26amp%3Bquot%3BAddon%26amp%3Bquot%3B%20menu%20items%20settings%22/%26gt%3B%0A%09%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%09%26lt%3Brow%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22tt_1%22%20label%3D%22Auto%20close%20menu%22%20preference%3D%22pAddonsAutoCloseMenu%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22tt_6%22%20label%3D%22Show%20extra%20help%20in%20tooltips%22%20preference%3D%22pExtraHelpOnAddonsItemsTooltips%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22tt_3%22%20label%3D%22Sort%20%26amp%3Bquot%3Badd-ons%26amp%3Bquot%3B%20by%20enabled%20state%22%20preference%3D%22pAddonsSortByEnabled%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22show_hidden_addons_tt%22%20label%3D%22Show%20hidden%20add-ons%22%20preference%3D%22pShowBlacklistedAddons%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bgroupbox%20tooltip%3D%22tt_2%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Show%20add-ons%20version%3F%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bradiogroup%20orient%3D%22vertical%22%20preference%3D%22pAddonsVersion%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Don%27t%20show%20version%22%20value%3D%220%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Show%20as%20part%20of%20the%20label%22%20value%3D%221%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Show%20as%20%26amp%3Bquot%3Bacceltext%26amp%3Bquot%3B%22%20value%3D%222%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/radiogroup%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22%26amp%3Bquot%3BPreference%26amp%3Bquot%3B%20menu%20items%20settings%22%20/%26gt%3B%0A%09%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%09%26lt%3Brow%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22tt_4%22%20label%3D%22Confirm%20box%20for%20pref.%20reset%22%20preference%3D%22pPrefResetConfirmation%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22tt_6%22%20label%3D%22Show%20extra%20help%20in%20tooltips%22%20preference%3D%22pExtraHelpOnPrefItemsTooltips%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Blabel%20control%3D%22pref-label-max-length%22%20value%3D%22Pref.%20label%20max.%20length%3A%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Btextbox%20id%3D%22pref-label-max-length%22%20type%3D%22number%22%20min%3D%2210%22%20max%3D%2299%22%20maxwidth%3D%2250px%22%20preference%3D%22pPrefLabelMaxLength%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Blabel%20control%3D%22pref-value-max-length%22%20value%3D%22Pref.%20value%20max.%20length%3A%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Btextbox%20id%3D%22pref-value-max-length%22%20type%3D%22number%22%20min%3D%226%22%20max%3D%2299%22%20maxwidth%3D%2250px%22%20preference%3D%22pPrefValueMaxLength%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bgroupbox%20tooltip%3D%22tt_5%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Show%20preference%20value...%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bradiogroup%20orient%3D%22vertical%22%20preference%3D%22pPrefLabelType%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22as%20part%20of%20the%20label%22%20value%3D%22false%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22as%20%26amp%3Bquot%3Bacceltext%26amp%3Bquot%3B%22%20value%3D%22true%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/radiogroup%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22%26amp%3Bquot%3BURL%26amp%3Bquot%3B%20menu%20items%20settings%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22tt_6%22%20label%3D%22Show%20extra%20help%20in%20tooltips%22%20preference%3D%22pExtraHelpOnURLItemsTooltips%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%222%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%26lt%3Btabpanel%20flex%3D%221%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22Click%20action%20on%20URL%20items%22/%26gt%3B%0A%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%26lt%3Blabel%20value%3D%22Left%20click%3A%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bmenulist%20tooltip%3D%22tt_9%22%20id%3D%22click-on-url-item-action-primary-menulist%22%20sizetopopup%3D%22always%22%20preference%3D%22pURLItemLeftClickWhere%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenupopup%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Current%22%20data-navigator%3D%221%22%20value%3D%220%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Next%20to%20current%22%20data-navigator%3D%221%22%20value%3D%221%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22New%20tab%20in%20background%22%20data-navigator%3D%221%22%20value%3D%222%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22New%20tab%20in%20foreground%22%20data-navigator%3D%221%22%20value%3D%223%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Try%20to%20open%20in%20content%20tab%22%20data-navigator%3D%220%22%20value%3D%224%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Default%20browser%22%20data-navigator%3D%220%22%20value%3D%225%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Disabled%22%20value%3D%226%22%20tooltip%3D%22tt_10%22%20/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%09%09%09%26lt%3B/menulist%26gt%3B%0A%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%26lt%3Blabel%20value%3D%22%25A_C_C_E_L%25%20+%20Left%20click%3A%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bmenulist%20tooltip%3D%22tt_9%22%20class%3D%22click-on-url-item-action-secondary-menulist%22%20sizetopopup%3D%22always%22%20preference%3D%22pURLItemLeftCtrlClickWhere%22%20/%26gt%3B%0A%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%26lt%3Blabel%20value%3D%22Shift%20+%20Left%20click%3A%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bmenulist%20tooltip%3D%22tt_9%22%20class%3D%22click-on-url-item-action-secondary-menulist%22%20sizetopopup%3D%22always%22%20preference%3D%22pURLItemLeftShiftClickWhere%22%20/%26gt%3B%0A%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%26lt%3Blabel%20value%3D%22Right%20click%3A%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bmenulist%20tooltip%3D%22tt_9%22%20class%3D%22click-on-url-item-action-secondary-menulist%22%20sizetopopup%3D%22always%22%20preference%3D%22pURLItemRightClickWhere%22%20/%26gt%3B%0A%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%26lt%3Blabel%20value%3D%22Middle%20click%3A%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bmenulist%20tooltip%3D%22tt_9%22%20class%3D%22click-on-url-item-action-secondary-menulist%22%20sizetopopup%3D%22always%22%20preference%3D%22pURLItemMiddleClickWhere%22%20/%26gt%3B%0A%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%26lt%3Bspacer%20flex%3D%221%22%20/%26gt%3B%0A%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%26lt%3B/tabpanels%26gt%3B%0A%09%26lt%3B/tabbox%26gt%3B%0A%09%26lt%3Bspacer%20flex%3D%220%22%20/%26gt%3B%0A%09%26lt%3B/prefpane%26gt%3B%0A%09%26lt%3Bpopupset%26gt%3B%0A%09%09%26lt%3Bmenupopup%20id%3D%22multi-menu-preferences%22%20position%3D%22before_start%22%26gt%3B%0A%09%09%09%26lt%3Bdialogheader%20title%3D%22Preferences%22%20/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20class%3D%22warning%22%20tooltip%3D%22tt_0%22%20label%3D%22Restore%20Defaults%22%20oncommand%3D%22cb_btn.MultiMenu.prefHandling.resetP%28%29%3B%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20class%3D%22warning%22%20tooltip%3D%22tt_0%22%20label%3D%22Import%20Multi%20Menu%20Preferences%22%20oncommand%3D%22cb_btn.MultiMenu.prefHandling.importP%28%29%3B%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20class%3D%22warning%22%20tooltip%3D%22tt_0%22%20label%3D%22Export%20Multi%20Menu%20Preferences%22%20oncommand%3D%22cb_btn.MultiMenu.prefHandling.exportP%28%29%3B%22/%26gt%3B%0A%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_0%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22warning%22%26gt%3BWARNING%21%21%21%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22warning%22%26gt%3BMulti%20Menu%20slave%20button%27s%20preferences%20are%20somewhat%20ephemeral.%20They%20are%20not%20exported%20when%20using%20the%20%26lt%3Bhtml%3Ab%26gt%3BExport%20Multi%20Menu%20Preferences%26lt%3B/html%3Ab%26gt%3B%20item%2C%20therefore%20they%20will%20not%20be%20imported%20when%20using%20the%20%26lt%3Bhtml%3Ab%26gt%3BImport%20Multi%20Menu%20Preferences%26lt%3B/html%3Ab%26gt%3B%20item.%20On%20the%20other%20hand%2C%20they%20will%20be%20reseted%20when%20using%20the%20%26lt%3Bhtml%3Ab%26gt%3BRestore%20Defaults%26lt%3B/html%3Ab%26gt%3B%20item.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_1%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20disabled/unchecked%2C%20it%20will%20allow%20you%20to%20perform%20more%20than%20one%20action%20on%20%26amp%3Bquot%3Badd-ons%26amp%3Bquot%3B%20menu%20items%20before%20closing%20the%20menu.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_2%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIt%20will%20allow%20you%20to%20choose%20between%20show%20the%20add-ons%20version%20as%20part%20of%20the%20label%2C%20as%20%26amp%3Bquot%3Bacceltext%26amp%3Bquot%3B%20or%20do%20not%20show%20it%20at%20all.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_3%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20will%20sort%20%26amp%3Bquot%3Badd-ons%26amp%3Bquot%3B%20menu%20items%20by%20name%20grouping%20enabled%20%26amp%3Bquot%3Badd-ons%26amp%3Bquot%3B%20first%20and%20disabled%20%26amp%3Bquot%3Badd-ons%26amp%3Bquot%3B%20last.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_4%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20every%20time%20you%20try%20to%20reset%20a%20preference%20with%20middle%20click%2C%20a%20confirm%20dialog%20will%20appear%20asking%20you%20if%20you%20want%20to%20proceed.%20If%20disabled/unchecked%2C%20the%20preference%20will%20reset%20without%20confirmation.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_5%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThe%20preference%27s%20current%20value%20will%20always%20be%20visible%20on%20%26amp%3Bquot%3Bpreference%26amp%3Bquot%3B%20menu%20items.%20Here%20you%20can%20choose%20to%20display%20it%20as%20part%20of%20the%20label%20or%20as%20%26amp%3Bquot%3Bacceltext%26amp%3Bquot%3B.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_6%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20the%20tooltip%20for%20this%20type%20of%20item%20will%20display%20extra%20information%2C%20like%20what%20action%20will%20perform%20the%20Left%20click%2C%20or%20what%20it%20means%20when%20an%20item%20is%20in%20bold%20font%2C%20etc.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_7%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20URLs%20will%20open%20in%20current%20tab%20on%20Left%20click.%20If%20disabled/unchecked%2C%20URLs%20will%20open%20in%20a%20new%20foreground%20tab%20on%20Left%20click.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_8%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20URLs%20will%20open%20in%20content%20on%20Left%20click.%20If%20disabled/unchecked%2C%20URLs%20will%20open%20in%20default%20browser%20on%20Left%20click.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_9%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BWhere%20to%20open%20the%20URL.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_10%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BDisables%20this%20click%20action%20on%20URL%20items.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%26lt%3B/popupset%26gt%3B%0A%26lt%3B/prefwindow%26gt%3B%26lt%3B%21--%25OptionsWindow%25--%26gt%3B%0A%0A%26lt%3B%21--%25ItemsInsertionWindow%25--%26gt%3B%26lt%3B%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%20%3F%26gt%3B%0A%26lt%3B%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20%3F%26gt%3B%0A%26lt%3B%3Fxml-stylesheet%20href%3D%22data%3Atext/css%3Bcharset%3Dutf-8%2C%0Awindow%20*%20%7B%0A%09font-family%3A%20%26amp%3Bquot%3BOpen%20Sans%26amp%3Bquot%3B%2C%20Helvetica%2C%20Arial%2C%20sans-serif%20%21important%3B%0A%7D%0A.convert-to-panel%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09-moz-binding%3A%20url%28%26amp%3Bquot%3Bchrome%3A//global/content/bindings/popup.xml%2523arrowpanel%26amp%3Bquot%3B%29%20%21important%3B%0A%09background%3A%20transparent%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0Acaption%20.caption-text%2C%0A.bold_text%20%7B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0A.warning%7B%0A%09font-weight%3A%20bold%20%21important%3B%0A%09color%3A%20red%20%21important%3B%0A%7D%0Abutton%20.button-text%20%7B%0A%09display%3A%20inline-block%20%21important%3B%0A%09text-align%3A%20left%20%21important%3B%0A%7D%0Abutton%20%7B%0A%09min-width%3A%200%20%21important%3B%0A%7D%0A.optional%20%7B%0A%09outline%3A%202px%20solid%20green%20%21important%3B%0A%7D%0A.required%20%7B%0A%09outline%3A%202px%20solid%20orange%20%21important%3B%0A%7D%0A.experimental%20%7B%0A%09outline%3A%202px%20solid%20red%20%21important%3B%0A%7D%0A.optional%2C%0A.required%2C%0A.experimental%20%7B%0A%09margin-top%3A%205px%20%21important%3B%0A%09margin-bottom%3A%205px%20%21important%3B%0A%7D%0A.pseudo_menupopup%20%7B%0A%09-moz-appearance%3A%20menupopup%20%21important%3B%0A%09padding%3A%205px%2020px%205px%205px%20%21important%3B%0A%09overflow-x%3A%20hidden%20%20%21important%3B%0A%09overflow-y%3A%20auto%20%20%21important%3B%0A%7D%0Atab%5Bselected%3D%26amp%3Bquot%3Btrue%26amp%3Bquot%3B%5D%20%7B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0Agroupbox%20%7B%0A%09-moz-appearance%3A%20groupbox%20%21important%3B%0A%09border%3A%202px%20groove%20ThreeDFace%20%21important%3B%0A%09border-radius%3A%203px%20%21important%3B%0A%09margin%3A%203px%20%21important%3B%0A%09padding%3A%203px%203px%206px%20%21important%3B%0A%7D%0A.groupbox-body%20%7B%0A%09padding%3A%20inherit%20%21important%3B%0A%7D%0Acaption%20%7B%0A%09margin%3A%200%206px%20%21important%3B%0A%09background-color%3A%20-moz-Dialog%20%21important%3B%0A%7D%0Atabpanels%20caption%20%7B%0A%09-moz-appearance%3A%20tabpanel%20%21important%3B%0A%7D%0Atabpanel%20%7B%0A%09overflow-x%3A%20auto%20%21important%3B%0A%7D%0A/*%20%21important%20is%20needed%20to%20override%20label%20in%20global.css%20*/%0A.caption-text%20%7B%0A%09margin%3A%200%202px%20%21important%3B%0A%7D%0A.edit-pseudo-item%20%7B%0A%09list-style-image%3A%20url%28%26amp%3Bquot%3Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAABbklEQVQokX2QP0sCcRzGv+kZiC7+/PNT8w/INeh2kzl0bg4SUZESDSHkWwgMMsgGIdPBMDRvUQKXIpcgiTh0EITruPfgvY+n5YYG9YEPz/SBh4fICoDtWq0mtdvtCIAt2hQATlmWDwVB+Pb5fI1OpxNdKwGwZzKZA0EQVCL6JSKNMdYEEFgpAbCXSqU8Y+ydiKYWGmPsod/vr54HwKMoSiEWiw2I6MviJxgM3m2SXOPx+DQej78Q0YfFp9frvd80zzUcDk/C4XCHiF4dDsfA7Xa/BQKBW1VVfetO8IxGo2NRFB9FUax3u90LzvlTNpvdB2BfJ7kmk8lRKpVqcs7buVzuJplMXs7ncycBsCmKEq9Wq5Ku6/5KpSLpuu5vNBrp2Wx2Vi6Xr6LR6HMoFLqu1+sJAiDIslzknLd6vV76f+fz+XMACdM091qtVnE6ne4SAJthGJKmaYXlcrmzWCwKpmlGNE0rGIYhAbBZOAEIf/lbwByZlq46AAAAAElFTkSuQmCC%26amp%3Bquot%3B%29%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A.delete-pseudo-item%20%7B%0A%09list-style-image%3A%20url%28%26amp%3Bquot%3Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAABVklEQVQokWNgoAT8//+f+////9xofB5cigXmGemnz9LRyX97+zbf29u3+Wbp6OTPN9TP+P//vwCGyavsrdLm8HH+XCDA/X6Fo33aSif71AUC3O/n8HH+XGFnmY5i0////7n3piTVH1aVfXFAVuT/aknB96skBd8fkBX5f0RV9sXelJQGZKdCNH3+LPaot7P2vL7yi1MaUv9PaUj9P6+v/OJxT0fd/8+fxTD9cPs23/6YoPSTJipvrxsr/L9urPD/pInK2/2xgRn/b9/mw/DDDh+7/AMGcu/vWKv9f+is++Khs+6LO9Zq/w8ayL3f4W1bgOKk////89yb0F763FPv22tfkxcfF0yo+7xwYu1rX5MXzz31vj2Y0F6KEbz///+X/r16Tsn3ma21/7+8FP//+bPY95mttT9WzS79//+/NK64EPv//7/E////GaFY4v///+JYFRMLAKUewtoAYB96AAAAAElFTkSuQmCC%26amp%3Bquot%3B%29%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A.save_changes%20%7B%0A%09list-style-image%3A%20url%28%26amp%3Bquot%3Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACdElEQVQ4jWNgIBGE/mdgZvjPwEiqPgYGBgaGpCOGUhX3XFO630Zapp0xZiVJc/QSFb78aw4dXe/C3k/8lnCj73OkfcN/BiaiNEfsUpfKPGfV0fDE/33jc///PR8i/nW9iz5Rez/QnoGBgYHBYT4Dh/cGNdugHZqS6Jq9l8oJppyw6ml8FvCx6Lbz/7iThv8zL1n9r37k+6fgusdGBoYGBqbQvXpOmeecbqecsu33XKUiCtNsPJOBNXiHfm/NQ78veTcd/wcf0vofsF/9f+BBjX/RR40fxBwx8WNIOWinWHnPd3/di8B/1Q/93yYcse6yWSonqDddXCxgi/bkyge+XzOu2f332qv632238n+P3Sr//XZr3wnaoRvlOUmFnaHgivu2kocevz32qf5PvGT1r+Ke/2fvDdqz3NapL25+Efol8ZLVf8edCv9tt8n+t9sm999lu9oZv42adtqrtNkYGBgYGKy2yW212S73w2Sz5D+LrTL/k6/a/C+74/u/7I7P/9gLFv9NNknC8F+LdbIX7NcqO6IEkvpyLimdNcKLtdaK/tBaK/LfYKPE//Bzpv+DThn9198g/l9rrch/7TWif3SXS14wWSLvaTyTATP+pZYLycqvFFijuJL/p+JKgf9KqwT/K60U+K+4UuC/4gqBvyoLRS6oTRW1wZsCBRdxykks5loovoT7k/gS7v/iS7j/iy/i+S81i/eCTL+gJwMDEcmXdy6DOt88toW8C9h+8s1l+88/keOMSCuPI0MaFmfjAIwM/QwKbNMY1rJ0Mp5kKGOwIFYjDLAyCDAI8ITyaHH7cOszSDMIMzAQbzuqS4jxMwMDAwDtNu92OyP2UwAAAABJRU5ErkJggg%3D%3D%26amp%3Bquot%3B%29%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A.cancel_changes%20%7B%0A%09list-style-image%3A%20url%28%26amp%3Bquot%3Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADdklEQVQ4jXVTb0yUBRx+3n+8977vve/BcXhIBzg5CMZRCAvGSIZQMCXpRFhkagRjTkjStdr6M9bW1/rCt1tZ0vDUU1E4QMHrAMk7F4zDY4qYRBdkyzJK0eMC9+sLOGnr+fo8z2+/Pc8eYBVtgHZSH2NzqqoJ/4Muk0l1WSxZLovFuI4oAKTjVXu2Tbd++tmNhsbac9HR0f81d8CoTVZUVk01t3x+vGJ3+U5AXuOi7BbL9q79jRf/cp5duvNRa9Cfld3YqaqxawIXNOPlrOy6UPORwJ9tX0Z69tV7X0vc9CoAHarzi2u/2P3GlZm6g0sP322lB4c/WAlVVk+NbEpp+QZQHIDcn7y5aXa7/fr95vdWHh75mGbr3444il4e3ZWZ+ybeyi89PdBwKLywrYLu5hfTvXI7LVbtodmcvJ/G8l9850p2dtN0uu3H+6U76Peicrr7wlb6e2sZ9ReWRRqyCvtRkbblpQMZz53tS9z8IGTaQLfNCfSb7XlaTH2W7lVW/fpHUfH8gmkD3TEn0A8xsRSKNpInLv7RgbiN/fbEDDsACGmCkNek6DvcmmFxVBRpWBDopiDQgiWJfjbF0QTL0iDDkJ/jyC1EhQ/xUefTgWIAurWcuAIgvUXQdZxStMcXeIHOAdQHhroB6gSoh2HIyfGPDzPc+RIgBwC/rqYagHsfyOvOsA0PWJLoGMfRUYCOAvQVw5A72kiuBEvwQ6C8BuDWmdsA8YQk5Z9R9Kd6FH3YxfPUDpCTYegEy1I7QCd5ntx6/cppWd/ZLkkFn6y97wAEF8+XXFDUbo8kh3tZjnoA8jAMjcYYadwcT98yDPUC1Mdy5JHkcK+i9BwTxTIHIOD7fXU7v0uxDg6K4pKXZWkEoHGWpRuSRBMJlvlgivX2TVmmwCrnZVkaEnVLg0bTiDstw47x6tquyS05ER/H0RhA0yxLIVlevqaqtwZEsXlA0e29ZjAEQ6r6z61VjY/jacK8cdmfneuFL7egxm8yXbouSY/mFIV+0bTlSU0LDIniwUuAwQHIHp1ubzDG4JtX1chcVBRNSfLSVVX1X7Va6/E1oBvmUTKT+Ez3fGFheNJqDfgEYb8HeLKFPkAbkaRd43GxvrlUa2TGbPaOcNwr/YDyJEh3UlLpZZvtzFRm5utjTy3tqSNiID5+x1BqivNicnJFGyACwL8fh1x5BGHtQgAAAABJRU5ErkJggg%3D%3D%26amp%3Bquot%3B%29%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A%22%20type%3D%22text/css%22%20%3F%26gt%3B%0A%26lt%3Bwindow%20id%3D%22%25U_I_D%25_edit_menu_window_%25B_T_N_I_D%25%22%0A%09%20%20%20%20onload%3D%22%24.onLoad%28%29%3B%22%0A%09%20%20%20%20onunload%3D%22%24.onUnLoad%28%29%3B%22%0A%09%20%20%20%20windowtype%3D%22CB%3AMultiMenu%3AEditMenuWindow%22%0A%09%20%20%20%20xmlns%3Ahtml%3D%22http%3A//www.w3.org/1999/xhtml%22%0A%09%20%20%20%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%26gt%3B%0A%26lt%3Bscript%26gt%3B%26lt%3B%21%5BCDATA%5B%0Avar%20Cc%20%3D%20Components.classes%3B%0Avar%20Ci%20%3D%20Components.interfaces%3B%0Avar%20Cu%20%3D%20Components.utils%3B%0ACu.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0ACu.import%28%22resource%3A//gre/modules/osfile.jsm%22%29%3B%0Avar%20stg%20%3D%20window._storage%3B%0A//%20cb_btn%20is%20the%20button%20whose%20items%20are%20currently%20being%20edited%2C%20not%20Multi%20Menu%20master%20button.%0Avar%20cb_btn%20%3D%20stg.button%3B%0A%0Afunction%20%24id%28aID%2C%20aParent%29%20%7B%0A%09if%20%28%21aParent%29%0A%09%09return%20document.getElementById%28aID%29%3B%0A%09return%20aParent.getElementById%28aID%29%3B%0A%7D%0Avar%20%24%20%3D%20%7B%0A%09onLoad%3A%20function%28%29%20%7B%0A%09%09window.editPanelTarget%20%3D%20null%3B%0A%09%09window.targetWithChildren%20%3D%20%7B%7D%3B%0A%09%09let%20browser%20%3D%20%24id%28%22%25U_I_D%25-browser%22%29%3B%0A%09%09let%20source%20%3D%20stg.getHelp%28%22%25HelpPage%25%22%29.split%28%22%5C%25A_C_C_E_L%5C%25%22%29.join%28stg.accel%28%29%29%3B%0A%09%09let%20helpPage%20%3D%20%22data%3Atext/html%2C%22%20+%20encodeURIComponent%28source%29%3B%0A%09%09browser.setAttribute%28%22src%22%2C%20helpPage%29%3B%0A%09%09this.populateAllTabs%28%29%3B%0A%09%09this.populateConstantsMenu%28%29%3B%0A%09%09window.addEventListener%28%22focus%22%2C%20this%2C%20false%29%3B%0A%09%09window.addEventListener%28%22blur%22%2C%20this%2C%20false%29%3B%0A%09%09%24.highlightButton%28cb_btn%2C%201%29%3B%0A%09%7D%2C%0A%09handleEvent%3A%20function%28aE%29%20%7B%0A%09%09switch%20%28aE.type%29%20%7B%0A%09%09%09case%20%22focus%22%3A%0A%09%09%09%09%24.highlightButton%28cb_btn%2C%201%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20%22blur%22%3A%0A%09%09%09%09%24.highlightButton%28cb_btn%2C%202%29%3B%0A%09%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%09onUnLoad%3A%20function%28%29%20%7B%0A%09%09%24.highlightButton%28cb_btn%29%3B%0A%09%7D%2C%0A%09_nsIFile%3A%20Components.Constructor%28%22@mozilla.org/file/local%3B1%22%2C%20%22nsIFile%22%2C%20%22initWithPath%22%29%2C%0A%09onAccept%3A%20function%28%29%20%7B%0A%09%09let%20allBoxes%20%3D%20%5B%0A%09%09%09%5B%5D%2C%0A%09%09%09%5B%5D%2C%0A%09%09%09%5B%5D%2C%0A%09%09%09%5B%5D%2C%0A%09%09%09%5B%5D%0A%09%09%5D%3B%0A%09%09try%20%7B%0A%09%09%09Array.prototype.slice.call%28document.getElementsByClassName%28%22pseudo_menupopup%22%29%29.forEach%28function%28aBox%29%20%7B%0A%09%09%09%09let%20id%20%3D%20aBox.getAttribute%28%22id%22%29%3B%0A%09%09%09%09Array.prototype.slice.call%28aBox.getElementsByTagName%28%22menuitem%22%29%29.forEach%28function%28aMI%29%20%7B%0A%09%09%09%09%09switch%20%28id%29%20%7B%0A%09%09%09%09%09%09case%20%22primary_menu_1%22%3A%0A%09%09%09%09%09%09%09allBoxes%5B0%5D.push%28aMI._data%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22primary_menu_2%22%3A%0A%09%09%09%09%09%09%09allBoxes%5B1%5D.push%28aMI._data%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22primary_menu_3%22%3A%0A%09%09%09%09%09%09%09allBoxes%5B2%5D.push%28aMI._data%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22primary_menu_4%22%3A%0A%09%09%09%09%09%09%09allBoxes%5B3%5D.push%28aMI._data%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22primary_menu_5%22%3A%0A%09%09%09%09%09%09%09allBoxes%5B4%5D.push%28aMI._data%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%20finally%20%7B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09let%20JSONData%20%3D%20JSON.stringify%28allBoxes%2C%20null%2C%20%22%5Ct%22%29%3B%0A%09%09%09%09let%20fPath%20%3D%20stg.itemsFilePath%3B%0A%09%09%09%09let%20fName%20%3D%20new%20%24._nsIFile%28fPath%29.leafName%3B%0A%09%09%09%09OS.File.copy%28fPath%2C%20%24.getBakDir%28fName%20+%20%22.bak1%22%29%2C%20%7B%0A%09%09%09%09%09noOverwrite%3A%20true%0A%09%09%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%09%09%24.saveJSONData%28fPath%2C%20JSONData%29%3B%0A%09%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%09OS.File.copy%28fPath%2C%20%24.getBakDir%28fName%20+%20%22.bak2%22%29%2C%20%7B%0A%09%09%09%09%09%09noOverwrite%3A%20true%0A%09%09%09%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%09%09%09%24.saveJSONData%28fPath%2C%20JSONData%29%3B%0A%09%09%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%09%09OS.File.copy%28fPath%2C%20%24.getBakDir%28fName%20+%20%22.bak3%22%29%2C%20%7B%0A%09%09%09%09%09%09%09noOverwrite%3A%20true%0A%09%09%09%09%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%09%09%09%09%24.saveJSONData%28fPath%2C%20JSONData%29%3B%0A%09%09%09%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%09%09%09OS.File.move%28%24.getBakDir%28fName%20+%20%22.bak2%22%29%2C%20%24.getBakDir%28fName%20+%20%22.bak1%22%29%2C%20%7B%0A%09%09%09%09%09%09%09%09noOverwrite%3A%20false%0A%09%09%09%09%09%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%09%09%09%09%09OS.File.move%28%24.getBakDir%28fName%20+%20%22.bak3%22%29%2C%20%24.getBakDir%28fName%20+%20%22.bak2%22%29%2C%20%7B%0A%09%09%09%09%09%09%09%09%09noOverwrite%3A%20false%0A%09%09%09%09%09%09%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%09%09%09%09%09%09OS.File.copy%28fPath%2C%20%24.getBakDir%28fName%20+%20%22.bak3%22%29%2C%20%7B%0A%09%09%09%09%09%09%09%09%09%09noOverwrite%3A%20true%0A%09%09%09%09%09%09%09%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%09%09%09%09%09%09%09%24.saveJSONData%28fPath%2C%20JSONData%29%3B%0A%09%09%09%09%09%09%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%09%09%09%09%09%09%24.reportError%28aRejectReason%29%3B%0A%09%09%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%09%09%09%09%09%24.reportError%28aRejectReason%29%3B%0A%09%09%09%09%09%09%09%09%7D%29%3B%3B%0A%09%09%09%09%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%09%09%09%09%24.reportError%28aRejectReason%29%3B%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09getBakDir%3A%20function%28aAppend%29%20%7B%0A%09%09let%20d%20%3D%20OS.Path.join%28stg.storagePath%2C%20%22Backups%22%29%3B%0A%09%09OS.File.makeDir%28d%2C%20%7B%0A%09%09%09ignoreExisting%3A%20true%0A%09%09%7D%29%3B%0A%09%09return%20OS.Path.join%28d%2C%20aAppend%29%0A%09%7D%2C%0A%09selfDestroy%3A%20function%28%29%20%7B%0A%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09cb_btn.destroy%28%22update%22%29%3B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09cb_btn.init%28%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%7D%2C%0A%09saveJSONData%3A%20function%28aPath%2C%20aData%29%20%7B%0A%09%09OS.File.writeAtomic%28aPath%2C%20aData%2C%20%7B%0A%09%09%09tmpPath%3A%20aPath%20+%20%22.tmp%22%2C%0A%09%09%09encoding%3A%20%22utf-8%22%0A%09%09%7D%29.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%24.selfDestroy%28%29%3B%0A%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%24.reportError%28aRejectReason%29%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%09reportError%3A%20function%28aRejectReason%29%20%7B%0A%09%09try%20%7B%0A%09%09%09console.error%28aRejectReason%29%3B%0A%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09Cu.reportError%28%5Bcb_btn.name%20+%20%22%3A%20%22%20+%20cb_btn.id%2C%20aRejectReason%2C%20aRejectReason.stack%5D.join%28%22%5Cn%22%29%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09populateConstantsMenu%3A%20function%28%29%20%7B%0A%09%09let%20m%20%3D%20%24id%28%22constants-path-menu%22%29%3B%0A%09%09m.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20%22profileDir%22%2C%0A%09%09%09value%3A%20%22profileDir%22%2C%0A%09%09%09tooltiptext%3A%20OS.Constants.Path%5B%22profileDir%22%5D%0A%09%09%7D%29%29%3B%0A%09%09for%20%28let%20key%20in%20OS.Constants.Path%29%20%7B%0A%09%09%09if%20%28OS.Constants.Path.hasOwnProperty%28key%29%29%20%7B%0A%09%09%09%09let%20path%20%3D%20OS.Constants.Path%5Bkey%5D%3B%0A%09%09%09%09if%20%28%28path.indexOf%28%22/%22%29%20%21%3D%3D%20-1%20%26amp%3B%26amp%3B%20path.indexOf%28%22%5C%5C%22%29%20%3D%3D%3D%20-1%29%20%7C%7C%0A%09%09%09%09%09%28path.indexOf%28%22/%22%29%20%3D%3D%3D%20-1%20%26amp%3B%26amp%3B%20path.indexOf%28%22%5C%5C%22%29%20%21%3D%3D%20-1%29%29%20%7B%0A%09%09%09%09%09m.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09%09%09%09label%3A%20key%2C%0A%09%09%09%09%09%09value%3A%20key%2C%0A%09%09%09%09%09%09tooltiptext%3A%20path%0A%09%09%09%09%09%7D%29%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%09populateAllTabs%3A%20function%28%29%20%7B%0A%09%09let%20boxes%20%3D%20%5B%22primary_menu_1%22%2C%20%22primary_menu_2%22%2C%20%22primary_menu_3%22%2C%20%22primary_menu_4%22%2C%20%22primary_menu_5%22%5D%3B%0A%09%09var%20i%20%3D%200%2C%0A%09%09%09iLen%20%3D%20boxes.length%3B%0A%09%09for%20%28%3B%20i%20%26lt%3B%20iLen%3B%20i++%29%20%7B%0A%09%09%09//%20Work%20outside%20because%20I%20always%20screw%20up%20on%20loops%20inside%20other%20loops.%20LOL%0A%09%09%09this.populateTab%28%24id%28boxes%5Bi%5D%29%2C%20stg%5Bboxes%5Bi%5D%5D%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09populateTab%3A%20function%28aBox%2C%20aBoxContent%29%20%7B%0A%09%09let%20o%20%3D%200%2C%0A%09%09%09oLen%20%3D%20aBoxContent.length%3B%0A%09%09for%20%28%3B%20o%20%26lt%3B%20oLen%3B%20o++%29%20%7B%0A%09%09%09let%20obj%20%3D%20aBoxContent%5Bo%5D%3B%0A%09%09%09let%20lbl%20%3D%20obj%5B%22label%22%5D%20%7C%7C%20obj%5B%22_id%22%5D%20%7C%7C%20obj%5B%22_prefname%22%5D%20%7C%7C%20obj%5B%22title%22%5D%20%7C%7C%20%22%22%3B%0A%09%09%09switch%20%28obj%5B%22_type_%22%5D%29%20%7B%0A%09%09%09%09case%20%22customMenuItem%22%3A%0A%09%09%09%09case%20%22customMenu%22%3A%0A%09%09%09%09case%20%22pathFull%22%3A%0A%09%09%09%09case%20%22pathRelative%22%3A%0A%09%09%09%09case%20%22pref%22%3A%0A%09%09%09%09case%20%22url%22%3A%0A%09%09%09%09%09%24.createItems%28obj%5B%22_type_%22%5D%2C%20lbl%2C%20obj%2C%20aBox%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22clonedMenuItem%22%3A%0A%09%09%09%09case%20%22clonedMenu%22%3A%0A%09%09%09%09%09%24.createItems%28obj%5B%22_type_%22%5D%2C%20lbl%2C%20obj%2C%20aBox%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22menuGroup%22%3A%0A%09%09%09%09%09%24.createItems%28obj%5B%22_type_%22%5D%2C%20%22%5Bmenugroup%20element%5D%22%2C%20obj%2C%20aBox%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22menuseparator%22%3A%0A%09%09%09%09%09%24.createItems%28obj%5B%22_type_%22%5D%2C%20%22%5Bmenuseparator%20element%5D%22%2C%20obj%2C%20aBox%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22spacer%22%3A%0A%09%09%09%09%09%24.createItems%28obj%5B%22_type_%22%5D%2C%20%22%5Bspacer%20element%5D%22%2C%20obj%2C%20aBox%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22dialogheader%22%3A%0A%09%09%09%09%09%24.createItems%28obj%5B%22_type_%22%5D%2C%20lbl%2C%20obj%2C%20aBox%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22addon%22%3A%0A%09%09%09%09%09%24.createItems%28obj%5B%22_type_%22%5D%2C%20%22%5BList%20of%20add-ons%20or%20add-on%20ID%5D%22%2C%20obj%2C%20aBox%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22cb%22%3A%0A%09%09%09%09%09%24.createItems%28obj%5B%22_type_%22%5D%2C%20%22Custom%20Button%20ID%23%3A%20%22%20+%20obj%5B%22_id%22%5D%2C%20obj%2C%20aBox%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%09createItems%3A%20function%28aType%2C%20aLabel%2C%20aData%2C%20aBox%29%20%7B%0A%09%09let%20tBox%20%3D%20%24id%28%22main_tabbox%22%29%3B%0A%09%09let%20getImg%20%3D%20function%28%29%20%7B%0A%09%09%09if%20%28aData.hasOwnProperty%28%22image%22%29%29%0A%09%09%09%09return%20aData%5B%22image%22%5D%3B%0A%09%09%09return%20%22%22%3B%0A%09%09%7D%3B%0A%09%09let%20pseudoPop%20%3D%20%28aBox%20%3F%0A%09%09%09aBox%20%3A%0A%09%09%09%24id%28%22primary_menu_%22%20+%20%28tBox.selectedIndex%20+%201%29%29%29%3B%0A%09%09if%20%28%21pseudoPop%29%0A%09%09%09return%3B%0A%09%09let%20data%20%3D%20%28aData%20%3F%0A%09%09%09aData%20%3A%0A%09%09%09stg.dummyData%28aType%29%29%3B%0A%09%09let%20hbox%20%3D%20pseudoPop.appendChild%28%24.%24CNS%28%22hbox%22%2C%20%7B%0A%09%09%09align%3A%20%22center%22%0A%09%09%7D%29%29%3B%0A%09%09let%20mI%20%3D%20hbox.appendChild%28%24.%24CNS%28%22menuitem%22%2C%20%7B%0A%09%09%09label%3A%20aLabel%2C%0A%09%09%09flex%3A%20%221%22%2C%0A%09%09%09image%3A%20getImg%28%29%2C%0A%09%09%09class%3A%20%22menuitem-iconic%22%2C%0A%09%09%09_type_%3A%20aType%2C%0A%09%09%7D%29%29%3B%0A%09%09mI._data%20%3D%20data%3B%0A%09%09hbox.appendChild%28%24.%24CNS%28%22button%22%2C%20%7B%0A%09%09%09tooltiptext%3A%20%22Delete%20item%22%2C%0A%09%09%09mousethrough%3A%20%22never%22%2C%0A%09%09%09class%3A%20%22delete-pseudo-item%22%2C%0A%09%09%09oncommand%3A%20%22%24.removePseudoItem%28event%2C%20this%29%3B%22%0A%09%09%7D%29%29%3B%0A%09%09if%20%28aType%20%21%3D%3D%20%22menuseparator%22%29%20%7B%0A%09%09%09hbox.appendChild%28%24.%24CNS%28%22button%22%2C%20%7B%0A%09%09%09%09tooltiptext%3A%20%22Edit%20item%22%2C%0A%09%09%09%09mousethrough%3A%20%22never%22%2C%0A%09%09%09%09class%3A%20%22edit-pseudo-item%22%2C%0A%09%09%09%09oncommand%3A%20%22%24.editPseudoItem%28event%2C%20this.parentNode.firstChild.getAttribute%28%27_type_%27%29%29%3B%22%0A%09%09%09%7D%29%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09removePseudoItem%3A%20function%28aE%2C%20aNode%29%20%7B%0A%09%09if%20%28stg.accel%28aE%29%29%20%7B%0A%09%09%09aNode.parentNode.parentNode.removeChild%28aNode.parentNode%29%3B%0A%09%09%09return%20true%3B%0A%09%09%7D%0A%09%09let%20cBox%20%3D%20stg.custombuttons.confirmBox%28%22Multi%20Menu%22%2C%20%22Delete%20item%3F%5Cn%5Cn%22%20+%0A%09%09%09%22%uD835%uDDEA%uD835%uDDD4%uD835%uDDE5%uD835%uDDE1%uD835%uDDDC%uD835%uDDE1%uD835%uDDDA%21%21%21%5Cn%uD835%uDDD7%uD835%uDDF2%uD835%uDDF9%uD835%uDDF2%uD835%uDE01%uD835%uDDF2%uD835%uDDF6%uD835%uDDFB%uD835%uDDF4%20%uD835%uDDEE%20%uD835%uDDFA%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%20%uD835%uDDF4%uD835%uDDFF%uD835%uDDFC%uD835%uDE02%uD835%uDDFD%20%uD835%uDDFC%uD835%uDDFF%20%uD835%uDDF0%uD835%uDE02%uD835%uDE00%uD835%uDE01%uD835%uDDFC%uD835%uDDFA%20%uD835%uDDFA%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%20%uD835%uDE04%uD835%uDDF6%uD835%uDDF9%uD835%uDDF9%20%uD835%uDDEE%uD835%uDDF9%uD835%uDE00%uD835%uDDFC%20%uD835%uDDF1%uD835%uDDF2%uD835%uDDF9%uD835%uDDF2%uD835%uDE01%uD835%uDDF2%20%uD835%uDDEE%uD835%uDDF9%uD835%uDDF9%20%uD835%uDDF6%uD835%uDE01%uD835%uDE00%20%uD835%uDDF0%uD835%uDDF5%uD835%uDDF6%uD835%uDDF9%uD835%uDDF1%uD835%uDDFF%uD835%uDDF2%uD835%uDDFB%21%21%21%5Cn%5Cn%22%20+%0A%09%09%09%22Keep%20the%20%22%20+%20stg.accel%28%29%20+%20%22%20key%20pressed%20to%20delete%20items%20without%20confirmation.%22%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09if%20%28cBox%29%20%7B%0A%09%09%09aNode.parentNode.parentNode.removeChild%28aNode.parentNode%29%3B%0A%09%09%7D%20else%0A%09%09%09return%20false%3B%0A%09%7D%2C%0A%09populateEditPanel%3A%20function%28aFakeMI%2C%20aNode%2C%20aTarget%29%20%7B%0A%09%09window.editPanelTarget%20%3D%20aTarget.parentNode%3B%0A%09%09%24.highlightElement%28window.editPanelTarget%29%3B%0A%09%09let%20type%20%3D%20aFakeMI.getAttribute%28%22_type_%22%29%3B%0A%09%09let%20dataObj%20%3D%20aFakeMI._data%3B%0A%09%09let%20vbox%20%3D%20%24id%28type%20+%20%22_box%22%29%3B%0A%09%09let%20tempBox%3B%0A%09%09try%20%7B%0A%09%09%09try%20%7B%0A%09%09%09%09let%20id%20%3D%20vbox.getAttribute%28%22id%22%29%3B%0A%09%09%09%09tempBox%20%3D%20vbox.cloneNode%28true%29%3B%0A%09%09%09%09tempBox.setAttribute%28%22id%22%2C%20id%20+%20%22-cloned%22%29%3B%0A%09%09%09%7D%20finally%20%7B%0A%09%09%09%09aNode.appendChild%28tempBox%29%3B%0A%09%09%09%7D%0A%09%09%7D%20finally%20%7B%0A%09%09%09Array.prototype.slice.call%28tempBox.getElementsByAttribute%28%22data-attr%22%2C%20%22*%22%29%29.forEach%28function%28aEl%29%20%7B%0A%09%09%09%09let%20attrName%20%3D%20aEl.getAttribute%28%22data-attr%22%29%3B%0A%09%09%09%09let%20attrVal%20%3D%20dataObj%5BattrName%5D%3B%0A%09%09%09%09if%20%28type%20%3D%3D%3D%20%22cb%22%20%26amp%3B%26amp%3B%20attrName%20%3D%3D%3D%20%22_advanced%22%20%7C%7C%0A%09%09%09%09%09type%20%3D%3D%3D%20%22url%22%20%26amp%3B%26amp%3B%20attrName%20%3D%3D%3D%20%22_force%22%29%0A%09%09%09%09%09aEl%20%26amp%3B%26amp%3B%20aEl.setAttribute%28%22checked%22%2C%20attrVal%29%3B%0A%09%09%09%09else%20if%20%28attrName%20%3D%3D%3D%20%22_values%22%20%7C%7C%20attrName%20%3D%3D%3D%20%22_args%22%29%0A%09%09%09%09%09aEl%20%26amp%3B%26amp%3B%20aEl.setAttribute%28%22value%22%2C%20JSON.stringify%28attrVal%29%29%3B%0A%09%09%09%09else%20%7B%0A%09%09%09%09%09//%20This%20crap%20doesn%27t%20work%20on%20normal%20textboxes%2C%20but%20it%20does%20on%20number%20textboxes.%0A%09%09%09%09%09aEl%20%26amp%3B%26amp%3B%20%28aEl.value%20%3D%20attrVal%29%3B%0A%09%09%09%09%09//%20And%20this%20crap%20doesn%27t%20work%20on%20number%20textboxes%2C%20but%20it%20does%20on%20normal%20textboxes.%20WTF%21%3F%21%3F%21%3F%21%0A%09%09%09%09%09aEl%20%26amp%3B%26amp%3B%20aEl.setAttribute%28%22value%22%2C%20attrVal%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09populateChildrenBox%3A%20function%28aFakeMI%2C%20aTarget%2C%20aPos%29%20%7B%0A%09%09if%20%28window.targetWithChildren%5BaPos%5D%29%0A%09%09%09return%20true%3B%0A%09%09window.targetWithChildren%5BaPos%5D%20%3D%20aTarget.parentNode%3B%0A%09%09%24.highlightElement%28window.targetWithChildren%5BaPos%5D%29%3B%0A%09%09let%20type%20%3D%20aFakeMI.getAttribute%28%22_type_%22%29%3B%0A%09%09let%20dataObj%20%3D%20aFakeMI._data%3B%0A%09%09let%20vbox%20%3D%20%24id%28type%20+%20%22_box%22%29%3B%0A%09%09var%20tempBox%3B%0A%09%09try%20%7B%0A%09%09%09try%20%7B%0A%09%09%09%09tempBox%20%3D%20vbox.cloneNode%28true%29%3B%0A%09%09%09%09tempBox.setAttribute%28%22data-ordinal%22%2C%20aPos%29%3B%0A%09%09%09%09tempBox.removeAttribute%28%22id%22%29%3B%0A%09%09%09%7D%20finally%20%7B%0A%09%09%09%09let%20container%20%3D%20%24id%28%22primary_menu_%22%20+%20%28%24id%28%22main_tabbox%22%29.selectedIndex%20+%201%29%29.parentNode%3B%0A%09%09%09%09container.appendChild%28tempBox%29%3B%0A%09%09%09%7D%0A%09%09%7D%20finally%20%7B%0A%09%09%09Array.prototype.slice.call%28tempBox.getElementsByAttribute%28%22data-attr%22%2C%20%22*%22%29%29.forEach%28function%28aEl%29%20%7B%0A%09%09%09%09let%20attrName%20%3D%20aEl.getAttribute%28%22data-attr%22%29%3B%0A%09%09%09%09let%20attrVal%20%3D%20dataObj%5BattrName%5D%3B%0A%09%09%09%09if%20%28attrName%20%21%3D%3D%20%22_items%22%29%20%7B%0A%09%09%09%09%09if%20%28attrName%20%3D%3D%3D%20%22orient%22%29%0A%09%09%09%09%09%09aEl%20%26amp%3B%26amp%3B%20%28aEl.selectedIndex%20%3D%20attrVal%20%3D%3D%3D%20%22horizontal%22%20%3F%200%20%3A%201%29%3B%0A%09%09%09%09%09else%0A%09%09%09%09%09%09aEl%20%26amp%3B%26amp%3B%20aEl.setAttribute%28%22value%22%2C%20attrVal%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%29%3B%0A%09%09%09if%20%28dataObj%5B%22_items%22%5D.length%20%26gt%3B%200%29%20%7B%0A%09%09%09%09let%20el%20%3D%20tempBox.getElementsByAttribute%28%22data-attr%22%2C%20%22_items%22%29%5B0%5D%3B%0A%09%09%09%09el.textContent%20%3D%20%22%22%3B%0A%09%09%09%09let%20itemsList%20%3D%20dataObj%5B%22_items%22%5D%3B%0A%09%09%09%09let%20i%20%3D%200%2C%0A%09%09%09%09%09iLen%20%3D%20itemsList.length%3B%0A%09%09%09%09for%20%28%3B%20i%20%26lt%3B%20iLen%3B%20i++%29%20%7B%0A%09%09%09%09%09let%20lbl%20%3D%20itemsList%5Bi%5D%5B%22label%22%5D%20%7C%7C%20itemsList%5Bi%5D%5B%22_id%22%5D%20%7C%7C%20itemsList%5Bi%5D%5B%22_prefname%22%5D%20%7C%7C%20itemsList%5Bi%5D%5B%22title%22%5D%3B%0A%09%09%09%09%09switch%20%28itemsList%5Bi%5D%5B%22_type_%22%5D%29%20%7B%0A%09%09%09%09%09%09case%20%22customMenuItem%22%3A%0A%09%09%09%09%09%09case%20%22pathFull%22%3A%0A%09%09%09%09%09%09case%20%22pathRelative%22%3A%0A%09%09%09%09%09%09case%20%22pref%22%3A%0A%09%09%09%09%09%09case%20%22clonedMenuItem%22%3A%0A%09%09%09%09%09%09case%20%22url%22%3A%0A%09%09%09%09%09%09%09el%20%26amp%3B%26amp%3B%20%24.createItems%28itemsList%5Bi%5D%5B%22_type_%22%5D%2C%20lbl%2C%20itemsList%5Bi%5D%2C%20el%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22cb%22%3A%0A%09%09%09%09%09%09%09el%20%26amp%3B%26amp%3B%20%24.createItems%28itemsList%5Bi%5D%5B%22_type_%22%5D%2C%20%22Custom%20Button%20ID%23%3A%20%22%20+%20itemsList%5Bi%5D%5B%22_id%22%5D%2C%20itemsList%5Bi%5D%2C%20el%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22customMenu%22%3A%0A%09%09%09%09%09%09case%20%22clonedMenu%22%3A%0A%09%09%09%09%09%09%09%28el%20%26amp%3B%26amp%3B%20type%20%21%3D%3D%20%22menuGroup%22%29%20%26amp%3B%26amp%3B%20%24.createItems%28itemsList%5Bi%5D%5B%22_type_%22%5D%2C%20lbl%2C%20itemsList%5Bi%5D%2C%20el%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22menuseparator%22%3A%0A%09%09%09%09%09%09%09%28el%20%26amp%3B%26amp%3B%20type%20%21%3D%3D%20%22menuGroup%22%29%20%26amp%3B%26amp%3B%20%24.createItems%28itemsList%5Bi%5D%5B%22_type_%22%5D%2C%20%22%5Bmenuseparator%20element%5D%22%2C%20itemsList%5Bi%5D%2C%20el%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22menuGroup%22%3A%0A%09%09%09%09%09%09%09%28el%20%26amp%3B%26amp%3B%20type%20%21%3D%3D%20%22menuGroup%22%29%20%26amp%3B%26amp%3B%20%24.createItems%28itemsList%5Bi%5D%5B%22_type_%22%5D%2C%20%22%5Bmenugroup%20element%5D%22%2C%20itemsList%5Bi%5D%2C%20el%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22spacer%22%3A%0A%09%09%09%09%09%09%09%28el%20%26amp%3B%26amp%3B%20type%20%21%3D%3D%20%22menuGroup%22%29%20%26amp%3B%26amp%3B%20%24.createItems%28itemsList%5Bi%5D%5B%22_type_%22%5D%2C%20%22%5Bspacer%20element%5D%22%2C%20itemsList%5Bi%5D%2C%20el%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22dialogheader%22%3A%0A%09%09%09%09%09%09%09%28el%20%26amp%3B%26amp%3B%20type%20%21%3D%3D%20%22menuGroup%22%29%20%26amp%3B%26amp%3B%20%24.createItems%28itemsList%5Bi%5D%5B%22_type_%22%5D%2C%20%22%5Bdialogheader%20element%5D%22%2C%20itemsList%5Bi%5D%2C%20el%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20%22addon%22%3A%0A%09%09%09%09%09%09%09%28el%20%26amp%3B%26amp%3B%20type%20%21%3D%3D%20%22menuGroup%22%29%20%26amp%3B%26amp%3B%20%24.createItems%28itemsList%5Bi%5D%5B%22_type_%22%5D%2C%20%22%5BList%20of%20add-ons%20or%20add-on%20ID%5D%22%2C%20itemsList%5Bi%5D%2C%20el%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09default%3A%0A%09%09%09%09%09%09%09continue%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%09editPseudoItem%3A%20function%28aE%2C%20aType%29%20%7B%0A%09%09let%20panel%20%3D%20%24.panel%3B%0A%09%09if%20%28panel%20%26amp%3B%26amp%3B%20%28panel.state%20%3D%3D%3D%20%22open%22%20%7C%7C%20panel.state%20%3D%3D%3D%20%22opening%22%29%29%0A%09%09%09return%20false%3B%0A%09%09let%20fakeMI%20%3D%20aE.target.parentNode.firstChild%3B%0A%09%09if%20%28aType%20%21%3D%3D%20%22menuGroup%22%20%26amp%3B%26amp%3B%20aType%20%21%3D%3D%20%22customMenu%22%29%20%7B%0A%09%09%09if%20%28panel%29%20%7B%0A%09%09%09%09%24.populateEditPanel%28fakeMI%2C%20panel.firstChild%2C%20aE.target%29%3B%0A%09%09%09%09panel.openPopup%28aE.target%2C%20%22%22%2C%200%2C%200%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09let%20el%20%3D%20aE.target%3B%0A%09%09%09while%20%28%21el.hasAttribute%28%22data-ordinal%22%29%29%20%7B%0A%09%09%09%09el%20%3D%20el.parentNode%3B%0A%09%09%09%7D%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09let%20pos%20%3D%20parseInt%28el.getAttribute%28%22data-ordinal%22%29%2C%2010%29%3B%0A%09%09%09%09%24.populateChildrenBox%28fakeMI%2C%20aE.target%2C%20%28pos%20+%201%29%29%3B%0A%09%09%09%7D%2C%20200%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09updatePseudoItem%3A%20function%28aItem%29%20%7B%0A%09%09let%20getImg%20%3D%20function%28%29%20%7B%0A%09%09%09if%20%28aItem._data.hasOwnProperty%28%22image%22%29%29%0A%09%09%09%09return%20aItem._data%5B%22image%22%5D%3B%0A%09%09%09return%20%22%22%3B%0A%09%09%7D%3B%0A%09%09aItem.setAttribute%28%22image%22%2C%20getImg%28%29%29%3B%0A%09%09let%20lbl%20%3D%20aItem._data%5B%22label%22%5D%20%7C%7C%20aItem._data%5B%22_id%22%5D%20%7C%7C%20aItem._data%5B%22_prefname%22%5D%20%7C%7C%20aItem._data%5B%22title%22%5D%20%7C%7C%20%22%22%3B%0A%09%09switch%20%28aItem._data%5B%22_type_%22%5D%29%20%7B%0A%09%09%09case%20%22customMenuItem%22%3A%0A%09%09%09case%20%22customMenu%22%3A%0A%09%09%09case%20%22pathFull%22%3A%0A%09%09%09case%20%22pathRelative%22%3A%0A%09%09%09case%20%22pref%22%3A%0A%09%09%09case%20%22url%22%3A%0A%09%09%09case%20%22clonedMenuItem%22%3A%0A%09%09%09case%20%22clonedMenu%22%3A%0A%09%09%09case%20%22dialogheader%22%3A%0A%09%09%09%09aItem.setAttribute%28%22label%22%2C%20lbl%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20%22cb%22%3A%0A%09%09%09%09aItem.setAttribute%28%22label%22%2C%20%22Custom%20Button%20ID%23%3A%20%22%20+%20aItem._data%5B%22_id%22%5D%29%3B%0A%09%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%09getAlertMessage%3A%20function%28aAttrName%29%20%7B%0A%09%09let%20msg%3B%0A%09%09switch%20%28aAttrName%29%20%7B%0A%09%09%09case%20%22_values%22%3A%0A%09%09%09%09msg%20%3D%20%22Wrong%20format%20for%20the%20%uD835%uDDE9%uD835%uDDEE%uD835%uDDF9%uD835%uDE02%uD835%uDDF2%uD835%uDE00%20field%21%21%21%5Cn%22%20+%0A%09%09%09%09%09%22It%20has%20to%20be%20an%20array%20of%20strings%20%28for%20string%20type%20preferences%29%20or%20an%20array%20of%20%22%20+%0A%09%09%09%09%09%22integers%20%28for%20integer%20type%20preferences%29.%5Cn%5Cn%22%20+%0A%09%09%09%09%09%22Array%20of%20strings%20example%20%28double%20or%20single%20quotes%20allowed%29%3A%5Cn%22%20+%0A%09%09%09%09%09%22%5B%27String%201%27%2C%20%27String%202%27%2C%20%27String%203%27%5D%5Cn%5Cn%22%20+%0A%09%09%09%09%09%22Array%20of%20integers%20example%3A%5Cn%22%20+%0A%09%09%09%09%09%22%5B1%2C%202%2C%203%5D%5Cn%22%3B%0A%09%09%09case%20%22_args%22%3A%0A%09%09%09%09msg%20%3D%20%22Wrong%20format%20for%20the%20%uD835%uDDD4%uD835%uDDFF%uD835%uDDF4%uD835%uDE02%uD835%uDDFA%uD835%uDDF2%uD835%uDDFB%uD835%uDE01%uD835%uDE00%20field%21%21%21%5Cn%22%20+%0A%09%09%09%09%09%22It%20has%20to%20be%20an%20array%20of%20arguments.%5Cn%5Cn%22%20+%0A%09%09%09%09%09%22Example%20%28double%20or%20single%20quotes%20allowed%29%3A%5Cn%22%20+%0A%09%09%09%09%09%22%5B%27Arg.%201%27%2C%20%27Arg.%202%27%2C%20%27Arg.%203%27%5D%5Cn%22%3B%0A%09%09%7D%0A%09%09return%20msg%20+%20%22%5Cn%5Cn%uD835%uDDD6%uD835%uDDF9%uD835%uDDF6%uD835%uDDF0%uD835%uDDF8%20%uD835%uDDFA%uD835%uDDF2%20%uD835%uDE01%uD835%uDDFC%20%uD835%uDDF0%uD835%uDDF9%uD835%uDDFC%uD835%uDE00%uD835%uDDF2%20%uD835%uDDFA%uD835%uDDF2%22%3B%0A%09%7D%2C%0A%09onEditPanelAccept%3A%20function%28%29%20%7B%0A%09%09let%20panel%20%3D%20%24.panel%3B%0A%09%09let%20item%20%3D%20window.editPanelTarget.firstChild%3B%0A%09%09try%20%7B%0A%09%09%09Array.prototype.slice.call%28panel.getElementsByAttribute%28%22data-attr%22%2C%20%22*%22%29%29.forEach%28function%28aEl%29%20%7B%0A%09%09%09%09let%20attrName%20%3D%20aEl.getAttribute%28%22data-attr%22%29%3B%0A%09%09%09%09switch%20%28aEl.nodeName.toLowerCase%28%29%29%20%7B%0A%09%09%09%09%09case%20%22textbox%22%3A%0A%09%09%09%09%09%09if%20%28attrName%20%3D%3D%3D%20%22_values%22%20%7C%7C%20attrName%20%3D%3D%3D%20%22_args%22%29%20%7B%0A%09%09%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%09%09item._data%5BattrName%5D%20%3D%20JSON.parse%28aEl.value%29%20%7C%7C%20%5B%5D%3B%0A%09%09%09%09%09%09%09%7D%20catch%20%28aErr%29%20%7B%0A%09%09%09%09%09%09%09%09stg.alertCallback.options%20%3D%20%7B%0A%09%09%09%09%09%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09%09%09%09%09%09centerScreen%3A%20true%2C%0A%09%09%09%09%09%09%09%09%7D%3B%0A%09%09%09%09%09%09%09%09stg.notifyme%28%22Multi%20Menu%22%2C%0A%09%09%09%09%09%09%09%09%09%24.getAlertMessage%28attrName%29%2C%0A%09%09%09%09%09%09%09%09%09stg.getHelp%28%22%25ErrorImg%25%22%29%2C%0A%09%09%09%09%09%09%09%09%09stg.alertCallback%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%20else%0A%09%09%09%09%09%09%09item._data%5BattrName%5D%20%3D%20aEl.value%20%7C%7C%20%22%22%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22checkbox%22%3A%0A%09%09%09%09%09%09item._data%5BattrName%5D%20%3D%20aEl.checked%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%29%3B%0A%09%09%7D%20finally%20%7B%0A%09%09%09%24.updatePseudoItem%28item%29%3B%0A%09%09%09%24.onEditPanelCancel%28%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09onEditPanelCancel%3A%20function%28%29%20%7B%0A%09%09let%20panel%20%3D%20%24.panel%3B%0A%09%09panel%20%26amp%3B%26amp%3B%20panel.hidePopup%28%29%3B%0A%09%09if%20%28window.editPanelTarget%29%20%7B%0A%09%09%09%24.highlightElement%28window.editPanelTarget%2C%20true%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09onEditPanelHidden%3A%20function%28aE%2C%20aN%29%20%7B%0A%09%09if%20%28aE.target%20%21%3D%3D%20aN%29%0A%09%09%09return%20false%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%2C%0A%09onEditPanelHiding%3A%20function%28aE%2C%20aN%29%20%7B%0A%09%09if%20%28aE.target%20%21%3D%3D%20aN%29%0A%09%09%09return%20false%3B%0A%09%09aN.firstChild.textContent%20%3D%20%22%22%3B%0A%09%09aN.height%20%3D%20aN.width%20%3D%20%22%22%3B%0A%09%09%24.highlightElement%28window.editPanelTarget%2C%20true%29%0A%09%09window.editPanelTarget%20%3D%20null%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%2C%0A%09onEditChildrenAccept%3A%20function%28aEl%29%20%7B%0A%09%09let%20el%20%3D%20aEl%3B%0A%09%09let%20pos%3B%0A%09%09while%20%28%21el.hasAttribute%28%22data-ordinal%22%29%29%20%7B%0A%09%09%09el%20%3D%20el.parentNode%3B%0A%09%09%7D%0A%09%09pos%20%3D%20parseInt%28el.getAttribute%28%22data-ordinal%22%29%2C%2010%29%3B%0A%09%09if%20%28window.targetWithChildren%5B%28pos%20+%201%29%5D%29%0A%09%09%09return%20true%3B%0A%09%09let%20fakeItem%20%3D%20window.targetWithChildren%5Bpos%5D.firstChild%3B%0A%09%09try%20%7B%0A%09%09%09Array.prototype.slice.call%28el.getElementsByAttribute%28%22data-attr%22%2C%20%22*%22%29%29.forEach%28function%28aEl1%29%20%7B%0A%09%09%09%09let%20attrName%20%3D%20aEl1.getAttribute%28%22data-attr%22%29%3B%0A%09%09%09%09switch%20%28aEl1.nodeName.toLowerCase%28%29%29%20%7B%0A%09%09%09%09%09case%20%22textbox%22%3A%0A%09%09%09%09%09%09fakeItem._data%5BattrName%5D%20%3D%20aEl1.value%20%7C%7C%20%22%22%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22radiogroup%22%3A%0A%09%09%09%09%09%09fakeItem._data%5BattrName%5D%20%3D%20aEl1.getItemAtIndex%28aEl1.selectedIndex%29.value%20%7C%7C%20%22%22%3B%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%09case%20%22vbox%22%3A%0A%09%09%09%09%09%09let%20itemsList%20%3D%20%5B%5D%3B%0A%09%09%09%09%09%09try%20%7B%0A%09%09%09%09%09%09%09Array.prototype.slice.call%28aEl1.getElementsByTagName%28%22menuitem%22%29%29.forEach%28function%28aEl2%29%20%7B%0A%09%09%09%09%09%09%09%09let%20data%20%3D%20JSON.stringify%28aEl2._data%29%3B%0A%09%09%09%09%09%09%09%09itemsList.push%28JSON.parse%28data%29%29%3B%0A%09%09%09%09%09%09%09%7D%29%3B%0A%09%09%09%09%09%09%7D%20finally%20%7B%0A%09%09%09%09%09%09%09fakeItem._data%5B%22_items%22%5D%20%3D%20itemsList%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%29%3B%0A%09%09%7D%20finally%20%7B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%24.updatePseudoItem%28fakeItem%29%3B%0A%09%09%09%09%24.onEditChildrenCancel%28el%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09onEditChildrenCancel%3A%20function%28aEl%29%20%7B%0A%09%09let%20el%20%3D%20aEl%3B%0A%09%09let%20pos%3B%0A%09%09try%20%7B%0A%09%09%09while%20%28%21el.hasAttribute%28%22data-ordinal%22%29%29%20%7B%0A%09%09%09%09el%20%3D%20el.parentNode%3B%0A%09%09%09%7D%0A%09%09%09pos%20%3D%20parseInt%28el.getAttribute%28%22data-ordinal%22%29%2C%2010%29%3B%0A%09%09%7D%20finally%20%7B%0A%0A%09%09%09if%20%28window.targetWithChildren%5B%28pos%20+%201%29%5D%29%0A%09%09%09%09return%20true%3B%0A%09%09%09%24.highlightElement%28window.targetWithChildren%5Bpos%5D%2C%20true%29%3B%0A%09%09%09el.parentNode.removeChild%28el%29%3B%0A%09%09%09window.targetWithChildren%5Bpos%5D%20%3D%20null%3B%0A%09%09%7D%0A%09%7D%2C%0A%09%24CNS%3A%20function%28aElName%2C%20aAttrs%29%20%7B%20//%20Creates%20elements%0A%09%09var%20el%20%3D%20document.createElement%28aElName%29%3B%0A%09%09if%20%28aAttrs%29%0A%09%09%09Object.keys%28aAttrs%29.forEach%28function%28n%29%20%7B%0A%09%09%09%09if%20%28aAttrs%5Bn%5D%20%21%3D%3D%20%22%22%29%0A%09%09%09%09%09el.setAttribute%28n%2C%20aAttrs%5Bn%5D%29%0A%09%09%09%7D%29%3B%0A%09%09return%20el%3B%0A%09%7D%2C%0A%09img_to_b64%3A%20function%28aNode%29%20%7B%0A%09%09let%20imgURL%20%3D%20aNode.parentNode.firstChild.value%3B%0A%09%09if%20%28imgURL.search%28/%5Edata%3Aimage/%29%20%3D%3D%3D%200%20%7C%7C%20imgURL%20%3D%3D%3D%20%22%22%29%0A%09%09%09return%20true%3B%0A%09%09stg.img_to_b64_cback%28imgURL%2C%20function%28aImgData%29%20%7B%0A%09%09%09aImgData%20%26amp%3B%26amp%3B%20%28aNode.parentNode.firstChild.value%20%3D%20aImgData%29%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%09selectLocalImage%3A%20function%28aNode%29%20%7B%0A%09%09var%20fp%20%3D%20Cc%5B%22@mozilla.org/filepicker%3B1%22%5D.createInstance%28Ci.nsIFilePicker%29%3B%0A%09%09fp.init%28window%2C%20%22Select%20an%20image%20file%22%2C%200%29%3B%0A%09%09fp.appendFilters%28fp.filterImages%29%3B%0A%09%09var%20res%20%3D%20fp.show%28%29%3B%0A%09%09if%20%28res%20%3D%3D%20fp.returnOK%29%20%7B%0A%09%09%09aNode.parentNode.firstChild.value%20%3D%20fp.fileURL.spec%3B%0A%09%09%7D%0A%09%7D%2C%0A%09draggedElement%3A%20null%2C%0A%09DragAndDropHandler%3A%20%7B%0A%09%09handleEvent%3A%20function%28aE%29%20%7B%0A%09%09%09switch%20%28aE.type%29%20%7B%0A%09%09%09%09case%20%22dragstart%22%3A%0A%09%09%09%09%09if%20%28%21stg.accel%28aE%29%20%7C%7C%20%21%21window.editPanelTarget%29%0A%09%09%09%09%09%09return%20false%3B%0A%09%09%09%09%09let%20target%20%3D%20aE.target%3B%0A%09%09%09%09%09if%20%28target.nodeName%20%21%3D%3D%20%22hbox%22%29%0A%09%09%09%09%09%09%24.draggedElement%20%3D%20target.parentNode%3B%0A%09%09%09%09%09if%20%28%24.draggedElement.nodeName%20%21%3D%3D%20%22hbox%22%29%0A%09%09%09%09%09%09%24.draggedElement%20%3D%20null%3B%0A%09%09%09%09%09if%20%28getComputedStyle%28%24.draggedElement%29.outlineStyle%20%21%3D%3D%20%22none%22%29%20%7B%0A%09%09%09%09%09%09%24.draggedElement%20%3D%20null%3B%0A%09%09%09%09%09%09return%20false%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09aE.dataTransfer.setData%28%22text/plain%22%2C%20%22dummy%22%29%3B%20//%20Stupid%20piece%20of%20SHEET%21%21%21%21%21%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22dragover%22%3A%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%20%22drop%22%3A%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09let%20insPoint%20%3D%20aE.target.parentNode%3B%0A%09%09%09%09%09if%20%28insPoint%20%26amp%3B%26amp%3B%20insPoint.nodeName%20%3D%3D%3D%20%22hbox%22%20%26amp%3B%26amp%3B%0A%09%09%09%09%09%09insPoint.parentNode.classList.contains%28%22pseudo_menupopup%22%29%29%20%7B%0A%09%09%09%09%09%09insPoint.parentNode.insertBefore%28%24.draggedElement%2C%20insPoint%29%3B%0A%09%09%09%09%09%7D%20else%20if%20%28aE.target.nodeName%20%3D%3D%3D%20%22vbox%22%20%26amp%3B%26amp%3B%0A%09%09%09%09%09%09aE.target.classList.contains%28%22pseudo_menupopup%22%29%29%20%7B%0A%09%09%09%09%09%09aE.target.appendChild%28%24.draggedElement%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09highlightButtonTimer%3A%20null%2C%0A%09highlightButton%3A%20function%28aEl%2C%20aStyle%29%20%7B%0A%09%09aEl.style.removeProperty%28%22background%22%29%3B%0A%09%09aEl.style.removeProperty%28%22border-color%22%29%3B%0A%09%09aEl.style.removeProperty%28%22box-shadow%22%29%3B%0A%09%09aEl.style.removeProperty%28%22outline%22%29%3B%0A%09%09aEl.style.removeProperty%28%22outline-offset%22%29%3B%0A%09%09aEl.style.removeProperty%28%22transition-duration%22%29%3B%0A%09%09if%20%28%21aStyle%29%0A%09%09%09return%20true%3B%0A%09%09clearTimeout%28%24.highlightButtonTimer%29%3B%0A%09%09%24.highlightButtonTimer%20%3D%20setTimeout%28function%28%29%20%7B%0A%09%09%09switch%20%28aStyle%29%20%7B%0A%09%09%09%09case%201%3A%0A%09%09%09%09%09aEl.style.setProperty%28%22background%22%2C%20%22rgba%280%2C255%2C0%2C1%29%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22border-color%22%2C%20%22rgba%280%2C200%2C0%2C1%29%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22box-shadow%22%2C%20%220%200%201px%201px%20rgba%280%2C200%2C0%2C1%29%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22outline%22%2C%20%222px%20solid%20rgba%280%2C200%2C0%2C1%29%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22outline-offset%22%2C%20%22-2px%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22transition-duration%22%2C%20%2210ms%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%202%3A%0A%09%09%09%09%09aEl.style.setProperty%28%22background%22%2C%20%22rgba%280%2C255%2C0%2C.2%29%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22border-color%22%2C%20%22rgba%280%2C200%2C0%2C.2%29%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22box-shadow%22%2C%20%220%200%201px%201px%20rgba%280%2C200%2C0%2C.2%29%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22outline%22%2C%20%222px%20dotted%20rgba%280%2C200%2C0%2C.2%29%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22outline-offset%22%2C%20%22-2px%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09aEl.style.setProperty%28%22transition-duration%22%2C%20%2210ms%22%2C%20%22important%22%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%7D%2C%2010%29%3B%0A%09%7D%2C%0A%09highlightElement%3A%20function%28aEl%2C%20aRem%29%20%7B%0A%09%09aEl.style.removeProperty%28%22background%22%29%3B%0A%09%09aEl.style.removeProperty%28%22border-color%22%29%3B%0A%09%09aEl.style.removeProperty%28%22box-shadow%22%29%3B%0A%09%09aEl.style.removeProperty%28%22outline%22%29%3B%0A%09%09aEl.style.removeProperty%28%22outline-offset%22%29%3B%0A%09%09if%20%28aRem%29%0A%09%09%09return%20true%3B%0A%09%09aEl.style.setProperty%28%22background%22%2C%20%22rgba%280%2C255%2C0%2C.25%29%22%2C%20%22important%22%29%3B%0A%09%09aEl.style.setProperty%28%22border-color%22%2C%20%22rgba%280%2C200%2C0%2C1%29%22%2C%20%22important%22%29%3B%0A%09%09aEl.style.setProperty%28%22box-shadow%22%2C%20%220%200%201px%201px%20rgba%280%2C200%2C0%2C.5%29%22%2C%20%22important%22%29%3B%0A%09%09aEl.style.setProperty%28%22outline%22%2C%20%222px%20solid%20rgba%280%2C200%2C0%2C1%29%22%2C%20%22important%22%29%3B%0A%09%09aEl.style.setProperty%28%22outline-offset%22%2C%20%22-2px%22%2C%20%22important%22%29%3B%0A%09%7D%2C%0A%09moveToPopupOnPopShowing%3A%20function%28aE%29%20%7B%0A%09%09if%20%28document.popupNode.nodeName%20%21%3D%3D%20%22menuitem%22%20%7C%7C%0A%09%09%09getComputedStyle%28document.popupNode.parentNode%29.outlineStyle%20%21%3D%3D%20%22none%22%29%0A%09%09%09aE.preventDefault%28%29%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%2C%0A%09moveToPopup%3A%20function%28aInt%29%20%7B%0A%09%09let%20el%20%3D%20document.popupNode.parentNode%3B%0A%09%09let%20box%20%3D%20%24id%28%22primary_menu_%22%20+%20aInt%29%3B%0A%09%09if%20%28el%20%26amp%3B%26amp%3B%20el.nodeName%20%3D%3D%3D%20%22hbox%22%20%26amp%3B%26amp%3B%20box%29%0A%09%09%09box.appendChild%28el%29%3B%0A%09%7D%2C%0A%09setTextboxValue%3A%20function%28aE%2C%20aDataAttr%29%20%7B%0A%09%09let%20el%20%3D%20%24.panel.getElementsByAttribute%28%22data-attr%22%2C%20aDataAttr%29%5B0%5D%3B%0A%09%09el%20%26amp%3B%26amp%3B%20%28el.value%20%3D%20aE.target.value%29%3B%0A%09%7D%2C%0A%09onTabboxClick%3A%20function%28aE%2C%20aN%29%20%7B%0A%09%09let%20tBox%20%3D%20%24id%28%22main_tabbox%22%29%3B%0A%09%09let%20currentSelectedIndex%20%3D%20tBox.selectedIndex%3B%0A%09%09let%20el%20%3D%20%24id%28%22primary_container_%22%20+%20%28currentSelectedIndex%20+%201%29%29%3B%0A%09%09if%20%28%21el%29%0A%09%09%09return%20true%3B%0A%09%09if%20%28el.children.length%20%26gt%3B%202%20%7C%7C%20%24.panel.state%20%3D%3D%3D%20%22open%22%29%20%7B%0A%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09tBox.selectedIndex%20%3D%20currentSelectedIndex%3B%0A%09%09%09%09setTimeout%28function%28%29%20%7B%0A%09%09%09%09%09stg.alertCallback.options%20%3D%20%7B%0A%09%09%09%09%09%09footer%3A%20null%2C%0A%09%09%09%09%09%09centerScreen%3A%20true%2C%0A%09%09%09%09%09%7D%3B%0A%09%09%09%09%09stg.notifyme%28%22Multi%20Menu%22%2C%20%22You%20will%20not%20be%20able%20to%20switch%20to%20another%20tab%20%22%20+%0A%09%09%09%09%09%09%22until%20you%20close%20all%20edit%20dialogs%20from%20the%20current%20selected%20tab.%22%20+%0A%09%09%09%09%09%09%22%5Cn%5Cn%uD835%uDDD6%uD835%uDDF9%uD835%uDDF6%uD835%uDDF0%uD835%uDDF8%20%uD835%uDDFA%uD835%uDDF2%20%uD835%uDE01%uD835%uDDFC%20%uD835%uDDF0%uD835%uDDF9%uD835%uDDFC%uD835%uDE00%uD835%uDDF2%20%uD835%uDDFA%uD835%uDDF2%22%2C%0A%09%09%09%09%09%09stg.getHelp%28%22%25ErrorImg%25%22%29%2C%0A%09%09%09%09%09%09stg.alertCallback%29%3B%0A%09%09%09%09%7D%2C%2050%29%3B%0A%09%09%09%7D%2C%2050%29%3B%0A%09%09%7D%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%2C%0A%09get%20panel%28%29%20%7B%0A%09%09return%20%24id%28%22edit_item_panel%22%29%3B%0A%09%7D%2C%0A%7D%3B%0A%5D%5D%26gt%3B%26lt%3B/script%26gt%3B%0A%09%26lt%3Bkeyset%26gt%3B%0A%09%09%26lt%3Bkey%20keycode%3D%22VK_ESCAPE%22%20oncommand%3D%22return%20false%3B%22/%26gt%3B%0A%09%26lt%3B/keyset%26gt%3B%0A%09%09%26lt%3Bvbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%26lt%3Btabbox%20id%3D%22main_tabbox%22%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%26lt%3Btabs%26gt%3B%0A%09%09%09%09%09%26lt%3Btab%20label%3D%22%20Menu%201%20%22%20%20onmousedown%3D%22%24.onTabboxClick%28event%29%3B%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Btab%20label%3D%22%20Menu%202%20%22%20%20onmousedown%3D%22%24.onTabboxClick%28event%29%3B%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Btab%20label%3D%22%20Menu%203%20%22%20%20onmousedown%3D%22%24.onTabboxClick%28event%29%3B%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Btab%20label%3D%22%20Menu%204%20%22%20%20onmousedown%3D%22%24.onTabboxClick%28event%29%3B%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Btab%20label%3D%22%20Menu%205%20%22%20%20onmousedown%3D%22%24.onTabboxClick%28event%29%3B%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Btab%20class%3D%22warning%22%20label%3D%22%20Readme%20%22/%26gt%3B%0A%09%09%09%09%26lt%3B/tabs%26gt%3B%0A%09%09%09%09%26lt%3Btabpanels%20ondragstart%3D%22%24.DragAndDropHandler.handleEvent%28event%29%3B%22%0A%09%09%09%09%09%09%20%20%20ondragover%3D%22%24.DragAndDropHandler.handleEvent%28event%29%3B%22%0A%09%09%09%09%09%09%20%20%20ondrop%3D%22%24.DragAndDropHandler.handleEvent%28event%29%3B%22%0A%09%09%09%09%09%09%20%20%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%26lt%3Btabpanel%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%20id%3D%22primary_container_1%22%20orient%3D%22horizontal%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Main%20menu%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%20id%3D%22primary_menu_1%22%20minheight%3D%2250%22%20data-ordinal%3D%220%22%20class%3D%22pseudo_menupopup%22%20context%3D%22pseudo-item-context%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%09%09%26lt%3Btabpanel%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%20id%3D%22primary_container_2%22%20orient%3D%22horizontal%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Main%20menu%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%20id%3D%22primary_menu_2%22%20minheight%3D%2250%22%20data-ordinal%3D%220%22%20class%3D%22pseudo_menupopup%22%20context%3D%22pseudo-item-context%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%09%09%26lt%3Btabpanel%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%20id%3D%22primary_container_3%22%20orient%3D%22horizontal%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Main%20menu%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%20id%3D%22primary_menu_3%22%20minheight%3D%2250%22%20data-ordinal%3D%220%22%20class%3D%22pseudo_menupopup%22%20context%3D%22pseudo-item-context%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%09%09%26lt%3Btabpanel%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%20id%3D%22primary_container_4%22%20orient%3D%22horizontal%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Main%20menu%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%20id%3D%22primary_menu_4%22%20minheight%3D%2250%22%20data-ordinal%3D%220%22%20class%3D%22pseudo_menupopup%22%20context%3D%22pseudo-item-context%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%09%09%26lt%3Btabpanel%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%20id%3D%22primary_container_5%22%20orient%3D%22horizontal%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Main%20menu%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%20id%3D%22primary_menu_5%22%20minheight%3D%2250%22%20data-ordinal%3D%220%22%20class%3D%22pseudo_menupopup%22%20context%3D%22pseudo-item-context%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%09%09%26lt%3Btabpanel%20flex%3D%221%22%20orient%3D%22horizontal%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bbrowser%20id%3D%22%25U_I_D%25-browser%22%0A%09%09%09%09%09%09%09%09%20type%3D%22content%22%0A%09%09%09%09%09%09%09%09%20disablehistory%3D%22true%22%0A%09%09%09%09%09%09%09%09%20autocompleteenabled%3D%22false%22%0A%09%09%09%09%09%09%09%09%20autoscroll%3D%22false%22%0A%09%09%09%09%09%09%09%09%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%09%26lt%3B/tabpanels%26gt%3B%0A%09%09%09%26lt%3B/tabbox%26gt%3B%0A%09%09%09%26lt%3Bseparator/%26gt%3B%0A%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3Bbutton%20label%3D%22Insert%20a%20new%20item%22%20type%3D%22menu%22%26gt%3B%0A%09%09%09%09%09%26lt%3Bmenupopup%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BCustom%20menu%20item%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22customMenuItem%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z1%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27customMenuItem%27%2C%20this.label%2C%20stg.dummyData%28%27customMenuItem%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BCustom%20menu%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22customMenu%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z2%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27customMenu%27%2C%20this.label%2C%20stg.dummyData%28%27customMenu%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BCloned%20menu%20item%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22clonedMenuItem%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z3%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27clonedMenuItem%27%2C%20this.label%2C%20stg.dummyData%28%27clonedMenuItem%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BCloned%20menu%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22clonedMenu%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z4%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27clonedMenu%27%2C%20this.label%2C%20stg.dummyData%28%27clonedMenu%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BPath%20menu%20item%20%28full%20path%29%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22pathFull%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z5%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27pathFull%27%2C%20this.label%2C%20stg.dummyData%28%27pathFull%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BPath%20menu%20item%20%28relative%20path%29%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22pathRelative%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z5%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27pathRelative%27%2C%20this.label%2C%20stg.dummyData%28%27pathRelative%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuseparator/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5Bmenugroup%20element%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22menuGroup%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z7%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27menuGroup%27%2C%20this.label%2C%20stg.dummyData%28%27menuGroup%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5Bmenuseparator%20element%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22menuseparator%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z8%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27menuseparator%27%2C%20this.label%2C%20stg.dummyData%28%27menuseparator%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5Bspacer%20element%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22spacer%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z9%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27spacer%27%2C%20this.label%2C%20stg.dummyData%28%27spacer%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5Bdialogheader%20element%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22dialogheader%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z10%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27dialogheader%27%2C%20this.label%2C%20stg.dummyData%28%27dialogheader%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuseparator/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BCustom%20Buttons%20item%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22cb%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z11%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27cb%27%2C%20this.label%2C%20stg.dummyData%28%27cb%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BList%20of%20add-ons%20or%20add-on%20ID%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22addon%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z12%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27addon%27%2C%20this.label%2C%20stg.dummyData%28%27addon%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BPreference%20item%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22pref%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z13%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27pref%27%2C%20this.label%2C%20stg.dummyData%28%27pref%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%5BURL%20item%5D%22%0A%09%09%09%09%09%09%09%09%20%20_type_%3D%22url%22%0A%09%09%09%09%09%09%09%09%20%20tooltip%3D%22tt_z14%22%0A%09%09%09%09%09%09%09%09%20%20oncommand%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%20%20onclick%3D%22%24.createItems%28%27url%27%2C%20this.label%2C%20stg.dummyData%28%27url%27%29%29%3B%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%09%09%26lt%3B/button%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%26lt%3B/vbox%26gt%3B%0A%09%26lt%3Bseparator/%26gt%3B%0A%09%26lt%3Bhbox%20id%3D%22buttons-box%22%26gt%3B%0A%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%26lt%3Bbutton%20id%3D%22accept_button%22%20label%3D%22Save%20changes%22%20class%3D%22save_changes%22%20oncommand%3D%22%24.onAccept%28%29%3B%22/%26gt%3B%0A%09%09%26lt%3Bbutton%20label%3D%22Cancel%22%20class%3D%22cancel_changes%22%20oncommand%3D%22close%28%29%3B%22/%26gt%3B%0A%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%26lt%3B/hbox%26gt%3B%0A%09%26lt%3Bvbox%20collapsed%3D%22true%22%26gt%3B%0A%09%09%26lt%3Bgroupbox%20id%3D%22customMenuItem_box%22%20orient%3D%22vertical%22%20flex%3D%221%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20custom%20menu%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Label%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22label%22%20tooltip%3D%22tt_4%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Image%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22image%22%20tooltip%3D%22tt_3%22%20flex%3D%221%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_1%22%20label%3D%22...%22%20oncommand%3D%22%24.selectLocalImage%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_2%22%20label%3D%22B64%22%20oncommand%3D%22%24.img_to_b64%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Tooltip%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22tooltiptext%22%20tooltip%3D%22tt_5%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22Command%22/%26gt%3B%0A%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22_cmd%22%20tooltip%3D%22tt_6%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20id%3D%22customMenu_box%22%20orient%3D%22vertical%22%20flex%3D%221%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20custom%20menu%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Label%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22label%22%20tooltip%3D%22tt_4%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Image%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22image%22%20tooltip%3D%22tt_3%22%20flex%3D%221%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_1%22%20label%3D%22...%22%20oncommand%3D%22%24.selectLocalImage%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_2%22%20label%3D%22B64%22%20oncommand%3D%22%24.img_to_b64%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Tooltip%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22tooltiptext%22%20tooltip%3D%22tt_5%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22Command%22/%26gt%3B%0A%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22_cmd%22%20tooltip%3D%22tt_6%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22Menu%20children%22/%26gt%3B%0A%09%09%09%09%26lt%3Bvbox%20flex%3D%221%22%20minheight%3D%2250%22%20data-attr%3D%22_items%22%20tooltip%3D%22tt_15%22%20class%3D%22pseudo_menupopup%22/%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3Bbutton%20label%3D%22Save%22%20class%3D%22save_changes%22%20oncommand%3D%22%24.onEditChildrenAccept%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%26lt%3Bbutton%20label%3D%22Cancel%22%20class%3D%22cancel_changes%22%20oncommand%3D%22%24.onEditChildrenCancel%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22clonedMenuItem_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20cloned%20menu%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Menuitem%20ID%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_id%22%20tooltip%3D%22tt_7%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Image%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22image%22%20tooltip%3D%22tt_3%22%20flex%3D%221%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_1%22%20label%3D%22...%22%20oncommand%3D%22%24.selectLocalImage%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_2%22%20label%3D%22B64%22%20oncommand%3D%22%24.img_to_b64%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Tooltip%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22tooltiptext%22%20tooltip%3D%22tt_5%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22clonedMenu_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20cloned%20menu%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Menui%20ID%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_id%22%20tooltip%3D%22tt_8%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Image%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22image%22%20tooltip%3D%22tt_3%22%20flex%3D%221%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_1%22%20label%3D%22...%22%20oncommand%3D%22%24.selectLocalImage%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_2%22%20label%3D%22B64%22%20oncommand%3D%22%24.img_to_b64%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Tooltip%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22tooltiptext%22%20tooltip%3D%22tt_5%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22Command%22/%26gt%3B%0A%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22_cmd%22%20tooltip%3D%22tt_6%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22menuGroup_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20menugroup%20element%22/%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22Menugroup%20orientation%22/%26gt%3B%0A%09%09%09%09%26lt%3Bradiogroup%20data-attr%3D%22orient%22%20tooltip%3D%22tt_23%22%20orient%3D%22horizontal%22%26gt%3B%0A%09%09%09%09%09%26lt%3Bradio%20label%3D%22Horizontal%22%20value%3D%22horizontal%22/%26gt%3B%0A%09%09%09%09%09%26lt%3Bradio%20label%3D%22Vertical%22%20value%3D%22vertical%22/%26gt%3B%0A%09%09%09%09%26lt%3B/radiogroup%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%26lt%3Bcaption%20label%3D%22Menugroup%20children%22/%26gt%3B%0A%09%09%09%09%26lt%3Bvbox%20minheight%3D%2250%22%20data-attr%3D%22_items%22%20tooltip%3D%22tt_14%22%20class%3D%22pseudo_menupopup%22/%26gt%3B%0A%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3Bbutton%20label%3D%22Save%22%20class%3D%22save_changes%22%20oncommand%3D%22%24.onEditChildrenAccept%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%26lt%3Bbutton%20label%3D%22Cancel%22%20class%3D%22cancel_changes%22%20oncommand%3D%22%24.onEditChildrenCancel%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22pathFull_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20full%20path%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Label%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22label%22%20tooltip%3D%22tt_4%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Full%20path%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_path%22%20tooltip%3D%22tt_22%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Arguments%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_args%22%20tooltip%3D%22tt_21%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Image%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22image%22%20tooltip%3D%22tt_3%22%20flex%3D%221%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_1%22%20label%3D%22...%22%20oncommand%3D%22%24.selectLocalImage%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_2%22%20label%3D%22B64%22%20oncommand%3D%22%24.img_to_b64%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Tooltip%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22tooltiptext%22%20tooltip%3D%22tt_5%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22pathRelative_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20relative%20path%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Label%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22label%22%20tooltip%3D%22tt_4%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Constant%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_const%22%20tooltip%3D%22tt_24%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20label%3D%22Set%20const.%22%20type%3D%22menu%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bmenupopup%20id%3D%22constants-path-menu%22%0A%09%09%09%09%09%09%09%09%09%09%20%20%20onpopuphiding%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%09%09%20%20%20oncommand%3D%22%24.setTextboxValue%28event%2C%20%27_const%27%29%3Bevent.stopPropagation%28%29%3B%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/button%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Go%20up%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_go_up%22%20tooltip%3D%22tt_25%22%20min%3D%220%22%20max%3D%2299%22%20increment%3D%221%22%20type%3D%22number%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Path%20relative%20to%20constant%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_path%22%20tooltip%3D%22tt_26%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Arguments%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_args%22%20tooltip%3D%22tt_21%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Image%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22image%22%20tooltip%3D%22tt_3%22%20flex%3D%221%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_1%22%20label%3D%22...%22%20oncommand%3D%22%24.selectLocalImage%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_2%22%20label%3D%22B64%22%20oncommand%3D%22%24.img_to_b64%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Tooltip%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22tooltiptext%22%20tooltip%3D%22tt_5%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22spacer_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20%26amp%3Bquot%3Bspacer%26amp%3Bquot%3B%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%26lt%3Blabel%20value%3D%22Flex%20attribute%22/%26gt%3B%0A%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22flex%22%20tooltip%3D%22tt_16%22%20min%3D%220%22%20max%3D%2299999%22%20increment%3D%221%22%20type%3D%22number%22%20class%3D%22optional%22%20/%26gt%3B%0A%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22dialogheader_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20%26amp%3Bquot%3Bdialogheader%26amp%3Bquot%3B%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Title%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22title%22%20tooltip%3D%22tt_17%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Description%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22description%22%20tooltip%3D%22tt_18%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22addon_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20%26amp%3Bquot%3Badd-on%26amp%3Bquot%3B%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Addon%20type%20or%20ID%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_type_or_id%22%20tooltip%3D%22tt_19%22%20class%3D%22required%22%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20label%3D%22Set%20type%22%20type%3D%22menu%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bmenupopup%20onpopuphiding%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%09%09%20%20%20oncommand%3D%22%24.setTextboxValue%28event%2C%20%27_type_or_id%27%29%3Bevent.stopPropagation%28%29%3B%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Extensions%22%20value%3D%22extension%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Themes%22%20value%3D%22theme%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Plugins%22%20value%3D%22plugin%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Userstyle%20%28Stylish%29%22%20value%3D%22userstyle%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Usersript%20%28Greasemonkey%29%22%20value%3D%22greasemonkey-user-script%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Usersript%20%28Scriptish%29%22%20value%3D%22userscript%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/button%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Filter%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_filter%22%20tooltip%3D%22tt_20%22%20class%3D%22optional%22%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20label%3D%22Set%20filter%22%20type%3D%22menu%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bmenupopup%20onpopuphiding%3D%22event.stopPropagation%28%29%3B%22%0A%09%09%09%09%09%09%09%09%09%09%20%20%20oncommand%3D%22%24.setTextboxValue%28event%2C%20%27_filter%27%29%3Bevent.stopPropagation%28%29%3B%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22All%20extensions%22%20value%3D%22%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Only%20XUL%20based%22%20value%3D%22normal%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22Only%20restartless%22%20value%3D%22restartless%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/button%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22cb_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20%26amp%3Bquot%3BCustom%20Buttons%26amp%3Bquot%3B%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%26lt%3Blabel%20value%3D%22Custom%20Button%20ID%23%22/%26gt%3B%0A%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22_id%22%20tooltip%3D%22tt_9%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%26lt%3Bcheckbox%20data-attr%3D%22_advanced%22%20tooltip%3D%22tt_10%22%20label%3D%22Advanced%20integration%22%20class%3D%22experimental%22%20/%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22pref_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20%26amp%3Bquot%3BPreference%26amp%3Bquot%3B%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Label%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22label%22%20tooltip%3D%22tt_4%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Preference%20name%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_prefname%22%20tooltip%3D%22tt_11%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Bgroupbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Command%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22_cmd%22%20tooltip%3D%22tt_6%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Values%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_values%22%20tooltip%3D%22tt_12%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%222%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Tooltip%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22tooltiptext%22%20tooltip%3D%22tt_5%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%26lt%3Bgroupbox%20flex%3D%221%22%20id%3D%22url_box%22%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bcaption%20label%3D%22Edit%20%26amp%3Bquot%3BURL%26amp%3Bquot%3B%20item%22/%26gt%3B%0A%09%09%09%26lt%3Bgrid%26gt%3B%0A%09%09%09%09%26lt%3Bcolumns%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20/%26gt%3B%0A%09%09%09%09%09%26lt%3Bcolumn%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3B/columns%26gt%3B%0A%09%09%09%09%26lt%3Brows%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Label%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22label%22%20tooltip%3D%22tt_4%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22URL%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22_url%22%20tooltip%3D%22tt_13%22%20class%3D%22required%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Image%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Btextbox%20data-attr%3D%22image%22%20tooltip%3D%22tt_3%22%20flex%3D%221%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_1%22%20label%3D%22...%22%20oncommand%3D%22%24.selectLocalImage%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20tooltip%3D%22tt_2%22%20label%3D%22B64%22%20oncommand%3D%22%24.img_to_b64%28this%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Brow%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22Tooltip%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20flex%3D%221%22%20data-attr%3D%22tooltiptext%22%20tooltip%3D%22tt_5%22%20multiline%3D%22true%22%20newlines%3D%22pasteintact%22%20rows%3D%223%22%20class%3D%22optional%22/%26gt%3B%0A%09%09%09%09%09%26lt%3B/row%26gt%3B%0A%09%09%09%09%09%26lt%3Bcheckbox%20data-attr%3D%22_force%22%20tooltip%3D%22tt_27%22%20label%3D%22Force%20open%20tab%22%20class%3D%22optional%22%20/%26gt%3B%0A%09%09%09%09%26lt%3B/rows%26gt%3B%0A%09%09%09%26lt%3B/grid%26gt%3B%0A%09%09%26lt%3B/groupbox%26gt%3B%0A%09%26lt%3B/vbox%26gt%3B%0A%09%26lt%3Bseparator/%26gt%3B%0A%09%26lt%3Bpopupset%26gt%3B%0A%09%09%26lt%3Bpanel%20id%3D%22edit_item_panel%22%0A%09%09%09%20%20%20consumeoutsideclicks%3D%22false%22%0A%09%09%09%20%20%20noautohide%3D%22true%22%0A%09%09%09%20%20%20backdrag%3D%22true%22%0A%09%09%09%20%20%20minwidth%3D%22400%22%0A%09%09%09%20%20%20flip%3D%22slide%22%0A%09%09%09%20%20%20flex%3D%221%22%0A%09%09%09%20%20%20class%3D%22convert-to-panel%22%0A%09%09%09%20%20%20position%3D%22end_before%22%0A%09%09%09%20%20%20onpopuphidden%3D%22%24.onEditPanelHidden%28event%2C%20this%29%3B%22%0A%09%09%09%20%20%20onpopuphiding%3D%22%24.onEditPanelHiding%28event%2C%20this%29%3B%22%0A%09%09%09%20%20%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%26lt%3Bvbox%20flex%3D%221%22%20/%26gt%3B%0A%09%09%09%26lt%3Bspacer%20flex%3D%220%22/%26gt%3B%0A%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3Bbutton%20label%3D%22Save%22%20class%3D%22save_changes%22%20oncommand%3D%22%24.onEditPanelAccept%28%29%3Bevent.stopPropagation%28%29%3B%22/%26gt%3B%0A%09%09%09%09%26lt%3Bbutton%20label%3D%22Cancel%22%20class%3D%22cancel_changes%22%20oncommand%3D%22%24.onEditPanelCancel%28%29%3Bevent.stopPropagation%28%29%3B%22/%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%26lt%3Bresizer%20element%3D%22edit_item_panel%22%20type%3D%22window%22%20dir%3D%22bottomleft%22%20left%3D%220%22%20bottom%3D%220%22%20width%3D%2210%22%20height%3D%2210%22/%26gt%3B%0A%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%26lt%3Bresizer%20element%3D%22edit_item_panel%22%20type%3D%22window%22%20dir%3D%22bottomright%22%20right%3D%220%22%20bottom%3D%220%22%20width%3D%2210%22%20height%3D%2210%22/%26gt%3B%0A%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%26lt%3B/panel%26gt%3B%0A%09%09%26lt%3Bmenupopup%20id%3D%22pseudo-item-context%22%0A%09%09%09%09%20%20%20onpopupshowing%3D%22%24.moveToPopupOnPopShowing%28event%29%3Bevent.stopPropagation%28%29%3B%22%0A%09%09%09%09%20%20%20oncommand%3D%22%24.moveToPopup%28event.target.value%29%3Bevent.stopPropagation%28%29%3B%22%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20label%3D%22Move%20to%20popup%201%22%20value%3D%221%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20label%3D%22Move%20to%20popup%202%22%20value%3D%222%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20label%3D%22Move%20to%20popup%203%22%20value%3D%223%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20label%3D%22Move%20to%20popup%204%22%20value%3D%224%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20label%3D%22Move%20to%20popup%205%22%20value%3D%225%22/%26gt%3B%0A%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_1%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BLoad%20a%20local%20image.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_2%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BConvert%20to%20Base64.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_3%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BImage%20for%20the%20item.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BAn%20image%20can%20be%3A%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bhtml%3Aul%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BAn%20URL%20containing%20an%20on-line%20image%2C%20e.g.%2C%20%26amp%3Bquot%3Bhttps%3A//duckduckgo.com/favicon.ico%26amp%3Bquot%3B.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BA%20%26amp%3Bquot%3Bchrome%26amp%3Bquot%3B%20URL%2C%20e.g.%2C%20%26amp%3Bquot%3Bchrome%3A//branding/content/icon32.png%26amp%3Bquot%3B.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BA%20%26amp%3Bquot%3Bfile%3A///%26amp%3Bquot%3B%20URI%2C%20e.g.%2C%20%26amp%3Bquot%3Bfile%3A///C%3A/Users/UserName/Desktop/Image.png%26amp%3Bquot%3B%2C%20%26amp%3Bquot%3Bfile%3A///home/UserName/%20Pictures/%20Image.png%26amp%3Bquot%3B.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BA%20data%20URI%2C%20e.g.%2C%20%26amp%3Bquot%3Bdata%3Aimage/png%3Bbase64%2C...base64%20code...%26amp%3Bquot%3B.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BA%20%26amp%3Bquot%3Bmoz-icon%26amp%3Bquot%3B%2C%20e.g.%2C%20%26amp%3Bquot%3Bmoz-icon%3A//.png%3Fsize%3D16%26amp%3Bquot%3B.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%26lt%3B/html%3Aul%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_4%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BLabel%20for%20the%20item.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_5%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BTooltip%20for%20the%20item.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_6%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BCode%20that%20will%20be%20executed%20when%20the%20item%20is%20clicked.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22bold_text%22%26gt%3BNotes%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BYou%20can%20consider%20this%20field%20like%20the%20%26lt%3Bhtml%3Ab%26gt%3BCode%20tab%26lt%3B/html%3Ab%26gt%3B%20of%20a%20Custom%20Button.%20The%20only%20difference%20is%20that%20the%20code%20in%20this%20field%20is%20triggered%20by%20a%20%26amp%3Bquot%3Bclick%26amp%3Bquot%3B%20%26lt%3Bhtml%3Ab%26gt%3Bevent%26lt%3B/html%3Ab%26gt%3B%2C%20while%20the%20code%20in%20a%20%26lt%3Bhtml%3Ab%26gt%3BCode%20tab%26lt%3B/html%3Ab%26gt%3B%20of%20a%20Custom%20Button%20is%20triggered%20by%20a%20%26amp%3Bquot%3Bcommand%26amp%3Bquot%3B%20%26lt%3Bhtml%3Ab%26gt%3Bevent%26lt%3B/html%3Ab%26gt%3B.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BAdditionally%2C%20all%20variables/objects%20that%20are%20available%20on%20the%20execution%20context%20of%20any%20button%2C%20like%20%26lt%3Bhtml%3Ab%26gt%3Bself%26lt%3B/html%3Ab%26gt%3B%2C%20%26lt%3Bhtml%3Ab%26gt%3BCc%26lt%3B/html%3Ab%26gt%3B%2C%20%26lt%3Bhtml%3Ab%26gt%3BCi%26lt%3B/html%3Ab%26gt%3B%2C%20etc%2C%20are%20also%20available%20on%20the%20execution%20context%20of%20the%20code%20defined%20on%20this%20field.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22warning%22%26gt%3BWARNING%21%21%21%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThe%20global%20object%20%28%26lt%3Bhtml%3Ab%26gt%3Bthis%26lt%3B/html%3Ab%26gt%3B%29%20is%20the%20button%20to%20which%20the%20menu/menu%20item%20belongs.%20So%20be%20very%20careful%20NOT%20to%20override%20properties%20of%20the%20global%20object.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_7%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BID%20of%20the%20menuitem%20to%20be%20cloned.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_8%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BID%20of%20the%20menu%20to%20be%20cloned.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_9%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BNumber%20ID%20of%20the%20Custom%20Button.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BMulti%20Menu%20will%20not%20modify%20in%20any%20way%20the%20original%20Custom%20Button%20nor%20will%20hide/move%20it.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22bold_text%22%26gt%3BWhat%20king%20of%20buttons%20are%20compatible%3A%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bhtml%3Aul%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BCB%20buttons%20whose%20main%20code%20is%20defined%20inside%20the%20CODE%20tab.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BCB%20buttons%20with%20a%20menu.%20The%20menu%20will%20have%20to%20be%20defined%20through%20the%20%26lt%3Bhtml%3Aem%26gt%3Bpopup%26lt%3B/html%3Aem%26gt%3B%20attribute.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BThe%20%26lt%3Bhtml%3Ab%26gt%3BAdvanced%20integration%26lt%3B/html%3Ab%26gt%3B%20option%20could%20be%20enabled%20to%20allow%20a%20more%20deep%20integration%20%28recognition%20of%20different%20mouse%20clicks%20and%20modifiers%29.%20But%20it%27s%20an%20experimental%20feature%20and%20it%27s%20not%20recommended%20its%20use.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%26lt%3B/html%3Aul%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_10%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20this%20option%20is%20%26lt%3Bhtml%3Ab%26gt%3Benabled/checked%26lt%3B/html%3Ab%26gt%3B%2C%20Multi%20Menu%20will%20try%20to%20%26amp%3Bquot%3Bcapture%26amp%3Bquot%3B%20all%20possible%20functionality%20from%20the%20original%20Custom%20Button.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20%26lt%3Bhtml%3Ab%26gt%3Bdisabled/unchecked%26lt%3B/html%3Ab%26gt%3B%2C%20Multi%20Menu%20will%20perform%20a%20very%20basic%20integration%20or%20it%20will%20detect%20if%20the%20original%20Custom%20Button%20has%20a%20menu%20and%20try%20to%20integrate%20that%20menu%20into%20the%20item.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22warning%22%26gt%3BWARNING%21%21%21%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThis%20option%20is%20experimental%20and%20kind%20of%20%26amp%3Bquot%3Bhacky%26amp%3Bquot%3B.%20So%20do%20not%20expect%20much%20of%20it.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_11%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThe%20complete%20preference%20name%2C%20exactly%20how%20it%20appears%20in%20%26lt%3Bhtml%3Ab%26gt%3Babout%3Aconfig%26lt%3B/html%3Ab%26gt%3B.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_12%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20this%20field%20is%20filled%20in%2C%20every%20time%20a%20preference%20item%20is%20clicked%2C%20it%20will%20switch%20the%20preference%20value%20between%20the%20values%20specified%20here.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThis%20field%20%26lt%3Bhtml%3Ab%26gt%3BMUST%26lt%3B/html%3Ab%26gt%3B%20contain%20an%20array%20of%20strings%20%28for%20%26lt%3Bhtml%3Ab%26gt%3Bstring%26lt%3B/html%3Ab%26gt%3B%20type%20preferences%29%20or%20an%20array%20of%20integers%20%28for%20%26lt%3Bhtml%3Ab%26gt%3Binteger%26lt%3B/html%3Ab%26gt%3B%20type%20preferences%29.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThis%20field%20is%20completely%20ignored%20on%20%26lt%3Bhtml%3Ab%26gt%3Bboolean%26lt%3B/html%3Ab%26gt%3B%20type%20preferences.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3Bhtml%3Ab%26gt%3BArray%20of%20strings%20example%20%28double%20or%20single%20quotes%20allowed%29%3A%26lt%3B/html%3Ab%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%5B%26amp%3B%23039%3BString%201%26amp%3B%23039%3B%2C%20%26amp%3B%23039%3BString%202%26amp%3B%23039%3B%2C%20%26amp%3B%23039%3BString%203%26amp%3B%23039%3B%5D%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3Bhtml%3Ab%26gt%3BArray%20of%20integers%20example%3A%26lt%3B/html%3Ab%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%5B1%2C%202%2C%203%5D%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_13%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThe%20URL%20for%20the%20item.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_14%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BList%20of%20the%20menugroup%27s%20children.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22warning%22%26gt%3BWARNING%21%21%21%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22warning%22%26gt%3BMenugroup%20elements%20and%20custom%20menu%20elements%20%26lt%3Bhtml%3Ab%26gt%3BMUST%20NOT%26lt%3B/html%3Ab%26gt%3B%20be%20placed%20inside%20another%20menugroup%20elements.%20If%20you%20do%2C%20and%20then%20save%20the%20changes%2C%20you%20will%20loose%20all%20menugroup/menu%20children%20if%20any.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_15%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BList%20of%20the%20custom%20menu%27s%20children.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BCustom%20menus%20can%20contain%20any%20king%20of%20items%2C%20even%20other%20custom%20menus%20and%20or%20menugroups.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_16%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BValue%20for%20the%20%26lt%3Bhtml%3Aem%26gt%3Bflex%26lt%3B/html%3Aem%26gt%3B%20attribute%20for%20the%20%26lt%3Bhtml%3Ab%26gt%3Bspacer%26lt%3B/html%3Ab%26gt%3B%20element.%20Any%20integer%20greater%20than%200%20%28zero%29.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_17%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThe%20%26lt%3Bhtml%3Aem%26gt%3Btitle%26lt%3B/html%3Aem%26gt%3B%20for%20the%20%26lt%3Bhtml%3Ab%26gt%3Bdialogheader%26lt%3B/html%3Ab%26gt%3B%20element.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_18%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThe%20%26lt%3Bhtml%3Aem%26gt%3Bdescription%26lt%3B/html%3Aem%26gt%3B%20for%20the%20%26lt%3Bhtml%3Ab%26gt%3Bdialogheader%26lt%3B/html%3Ab%26gt%3B%20element.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_19%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BInsert%20an%20add-on%20type%20%28using%20the%20button%20next%20to%20this%20textbox%29%20to%20create%20a%20list%20of%20add-ons.%20Or%20type%20in%20the%20ID%20of%20an%20existent%20extension%20to%20create%20a%20single%20menu%20item.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_20%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BInsert%20a%20filter%20%28using%20the%20button%20next%20to%20this%20textbox%29%20to%20display%20a%20list%20of%20only%20one%20type%20of%20extension.%20This%20is%20used%20only%20by%20the%20%26lt%3Bhtml%3Aem%26gt%3Bextension%26lt%3B/html%3Aem%26gt%3B%20type%20of%20add-on.%20Any%20other%20type%20of%20add-on%20will%20ignore%20this%20option.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_21%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BArray%20of%20arguments%20to%20be%20passed%20to%20the%20path%20to%20an%20executable.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3Bhtml%3Ab%26gt%3BNote%3A%26lt%3B/html%3Ab%26gt%3B%20If%20one%20or%20more%20arguments%20contain%20quotes%2C%20remember%20to%20escape%20them%20%28with%20backslashes%29.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22bold_text%22%26gt%3BPractical%20example%20passed%20to%20the%20Firefox%20executable%3A%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%5B%26amp%3Bquot%3B-no-remote%26amp%3Bquot%3B%2C%20%26amp%3Bquot%3B-P%26amp%3Bquot%3B%2C%20%26amp%3Bquot%3Bdefault%26amp%3Bquot%3B%5D%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_22%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BFull%20path%20to%20a%20folder/file/executable.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bhtml%3Aul%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BAn%20item%20with%20a%20path%20to%20a%20folder%20will%20open%20that%20path%20with%20the%20system%27s%20default%20file%20explorer.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BAn%20item%20with%20a%20path%20to%20any%20file%20of%20any%20type%20will%20open%20that%20file%20with%20default%20program%20that%20handles%20its%20file%20type.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BAn%20item%20with%20a%20path%20to%20an%20executable%20will%20execute%20the%20file%20and%20will%20accept%20any%20arguments%20passed%20to%20it%2C%20if%20any.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%26lt%3B/html%3Aul%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_23%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BMenugroup%20elements%20can%20be%20grouped%20horizontally%20or%20vertically.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_24%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThis%20are%20%26amp%3Bquot%3Bspecial%20locations%26amp%3Bquot%3B%20defined%20by%20the%20application%27s%20%26lt%3Bhtml%3Ab%26gt%3BOS.Constants.Path%26lt%3B/html%3Ab%26gt%3B%20module.%20This%20are%20somewhat%20equivalent%20to%20the%20system%27s%20environment%20variables.%20Instead%20of%20using%20a%20full%20path%20to%20a%20location%2C%20you%20can%20use%20one%20of%20this%20%26lt%3Bem%26gt%3Bconstants%26lt%3B/em%26gt%3B.%20The%20menu%20to%20the%20right%20is%20auto-generated%20and%20pre-filled%20with%20all%20the%20%26lt%3Bem%26gt%3Bconstants%26lt%3B/em%26gt%3B%20that%20your%20application%20supports.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_25%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThis%20field%20allows%20you%20to%20modify%20the%20path%20generated%20by%20the%20%26lt%3Bhtml%3Ab%26gt%3BConstant%26lt%3B/html%3Ab%26gt%3B%20field.%20A%20value%20in%20this%20field%20of%201%2C%20for%20example%2C%20will%20remove%20from%20the%20%26lt%3Bhtml%3Ab%26gt%3BConstant%26lt%3B/html%3Ab%26gt%3B%20path%20one%20director%20%28goes%20up%20one%20directory%29.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_26%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BFinal%20part%20of%20a%20path%20in%20relation%20to%20the%20path%20generated%20by%20the%20%26lt%3Bhtml%3Ab%26gt%3BConstant%26lt%3B/html%3Ab%26gt%3B%20field%20%28after%20being%20modified%20by%20the%20%26lt%3Bhtml%3Ab%26gt%3BGo%20up%26lt%3B/html%3Ab%26gt%3B%20field%29.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%20class%3D%22bold_text%22%26gt%3BNotes%3A%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bhtml%3Aul%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BForward%20slashes%20or%20backslashes%20can%20be%20used%20for%20defining%20a%20path%20in%20this%20field.%20It%20doesn%27t%20matter%20the%20platform%2C%20this%20field%20is%20platform%20agnostic.%20You%20could%20use%20backslashes%20for%20Linux%20paths%20and/or%20forward%20slashes%20for%20Windows%20paths.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BThis%20field%20has%20to%20have%20at%20least%20one%20slash.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BDo%20not%20mix%20forward%20slashes%20with%20backslashes%20in%20the%20same%20path.%20Choose%20one%20or%20the%20other.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ali%26gt%3BBackslashes%20doesn%27t%20need%20to%20be%20escaped.%20Multi%20Menu%20takes%20care%20of%20that.%26lt%3B/html%3Ali%26gt%3B%0A%09%09%09%26lt%3B/html%3Aul%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_27%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20%26lt%3Bhtml%3Ab%26gt%3Benabled/checked%26lt%3B/html%3Ab%26gt%3B%2C%20the%20URL%20for%20this%20item%20will%20be%20opened%20regardless%20if%20that%20exact%20URL%20is%20already%20opened%20in%20another%20tab.%20If%20%26lt%3Bhtml%3Ab%26gt%3Bdisabled/unchecked%26lt%3B/html%3Ab%26gt%3B%2C%20and%20the%20URL%20for%20this%20item%20is%20already%20opened%20in%20another%20tab%2C%20instead%20of%20opening%20a%20new%20tab%2C%20it%20will%20switch%20to%20the%20first%20tab%20found%20containing%20that%20exact%20URL.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z1%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BCustom%20menu%20item%26lt%3B/html%3Ab%26gt%3B%20can%20execute%20any%20code%20defined%20by%20the%20user.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z2%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BCustom%20menu%26lt%3B/html%3Ab%26gt%3B%20can%20contain%20any%20type%20of%20item.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z3%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BCloned%20menu%20item%26lt%3B/html%3Ab%26gt%3B%20is%20a%20cloned%20version%20of%20an%20existent%20menu%20item.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3Bhtml%3Ab%26gt%3BNote%3A%26lt%3B/html%3Ab%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BOnly%20items%20with%20defined%20IDs%20can%20be%20cloned.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z4%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BCloned%20menu%26lt%3B/html%3Ab%26gt%3B%20is%20a%20cloned%20version%20of%20an%20existent%20menu.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%26lt%3Bhtml%3Ab%26gt%3BNote%3A%26lt%3B/html%3Ab%26gt%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BOnly%20items%20with%20defined%20IDs%20can%20be%20cloned.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z5%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BPath%20menu%20item%26lt%3B/html%3Ab%26gt%3B%20%28full%20or%20relative%29%20can%20open/launch/execute%20any%20path%20to%20a%20folder/file/executable%20defined%20by%20the%20user.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z7%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BMenugroup%20item%26lt%3B/html%3Ab%26gt%3B%20is%20like%20a%20custom%20menu%2C%20but%20it%20can%27t%20contain%20other%20%26lt%3Bhtml%3Ab%26gt%3BMenugroup%20items%26lt%3B/html%3Ab%26gt%3B%20nor%20a%20menu%20elements%20%28neither%20cloned%20nor%20custom%29.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z8%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BMenuseparator%20item%26lt%3B/html%3Ab%26gt%3B%20creates%20menuseparator%20elements.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z9%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BSpacer%20item%26lt%3B/html%3Ab%26gt%3B%20creates%20spacer%20elements.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z10%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BDialogheader%20item%26lt%3B/html%3Ab%26gt%3B%20creates%20dialogheader%20elements.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z11%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BCustom%20Buttons%20item%26lt%3B/html%3Ab%26gt%3B%20creates%20items%20that%20allows%20to%20manipulate%20other%20Custom%20Buttons%20currently%20placed%20in%20any%20part%20of%20the%20UI.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z12%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BAn%20%26lt%3Bhtml%3Ab%26gt%3BAdd-on%20item%26lt%3B/html%3Ab%26gt%3B%20can%20create%20a%20list%20of%20several%20types%20of%20add-ons%20or%20a%20single%20item%20to%20a%20currently%20installed%20extension.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z13%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BA%20%26lt%3Bhtml%3Ab%26gt%3BPreference%20item%26lt%3B/html%3Ab%26gt%3B%20creates%20items%20that%20allows%20to%20manipulate%20any%20existent%20preference.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt_z14%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BAn%20%26lt%3Bhtml%3Ab%26gt%3BURL%20item%26lt%3B/html%3Ab%26gt%3B%20creates%20items%20that%20allows%20to%20open%20web%20pages.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%26lt%3B/popupset%26gt%3B%0A%26lt%3B/window%26gt%3B%26lt%3B%21--%25ItemsInsertionWindow%25--%26gt%3B%0A%0A%26lt%3B%21--%25AlertImg%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%26lt%3B%21--%25AlertImg%25--%26gt%3B%0A%26lt%3B%21--%25WarningImg%25--%26gt%3Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAHFUlEQVRoge2ZX0xT9wLHfVoWX+6D+GeSXReK5Iq9SFLN/lDMEu0evJ0xHdzELDy4ZZjcrUs26UzxT7bh7RXGv7UbG6Urqz3UuVJu+FuuEyRQ5sSWpS3WxfTUS2k7CsUrcpSYPnzvQz3H1nLOaY8yffAknwdOfn8+n3N62qasWfPseHY83sPdewKLnu8Qv2F9qlj0fAd37wlwyo9YqnDPU4fl8cOgLpSBGjrIcHfkjyV5b+pCGZbHD+Oepw4jlir2iN/HaxPibKxi0MPCbPw+XssesOw8nnHAqsLhsOw8zh5w97LqsQXc/E8qjyvg7mWVwAAe2UhvOSK95SCtClwl5CtCWhXMON4oIQF3fv4IS4P7MwqgpUmrAp4zB+DuPQHS1YtYxA/q9gIoikI8Hkc8HgdFUaBuLyAW8YN09cLdewKeMweYoBVjVnBYGtyPOz9/xB5Ajb6PpcH9vBG0uJOowA3PedxbvpMqywE97t7yHdzwnIeTqGBC+OSXBveDGn2fO2Cx/28MDy8y31eO6U4FXMYDmL46krE0X8z01ZHEmp0KzPeVp+2b4pRNQHLEfF85/BY5nLajoG4vpInTMkKhbi/AaTsKv0WeEpHmwxWwdPHdtAmLAwrEuhMPoau/7pFF+XD11+EqIUesW47FAUWaz9LFd7kDbvXIUibQ8r8ONq26PM2vg00PIpJcbvXIuAOooYO41SNjImLdcpCEDGPth7KWCHhHQWjKQGjKEPCOZj1/rP0QSELGRNBe1NBB7oD/dcsYZs69gUs6KW5Gg1kLnK19C0PNr2Oo+XWcrX0r6/k3o0Fc0kkxc+6NFCfegAXbHgafQYpJu1bQy6Dj2E74LXL4LXJ0HNspaI1JuxY+gzTFiTNgcUCBmLUUC7Y9CBNSXNJJEQ5MCQ4gCRlIQiY4IByYSjgQiYiYtRSLAwr+gJi1FKRpN+xN+wQ/iI8jIB6Pw960D6RpN+PFGRDrljMDfQYpRixVTzzgorkKPoOU8Yp1y/kDwoQUkzoJxqynnnjAmPUUJnUShAkpf8CCbQ9iP7yMiHkXJnUSOLoaBH9N6FDvAGnaDdK0Gx3qHYLXcXQ1YFInQcS8C7EfXsaCbQ93wJw5MXiiqRj9eqXgjc1Hd+C6sRTXjaUwHxUe0GdQYaKpGBHzLsyZJZkHTOok+FHzpuCNf9JXMgE/6SsFr2NrfJu5A7wB85YSJsD7VfEjXblo8BpcZz+A6+wHiAavCVojFouh49hOeL96cAfmLSX8AXNmCfytxehUF8Az3vPIX5e5BLlwO7rQqS6Av7WY8eIMmDNLEDUVIWoqQsggwXjtdpg/3ce7ERue8R54xnsEz7c1vo1RzTb4W4sZrzmzhDtg1ihG1FSEcFshprTb0XFEJEhiwKhGmzIfbcp8DBjVguLblPmY0m5HuK0QUVMRZo1i7oBZoxg0UVMRAq1FGNVsg15VgnBgKisBc/UrcDWK4WoUw1z9SlZzQ8EA2j6WYFSzDYGWQiR7zRrF7AHhtkLQzBrFzF3oqS5A+3EZQsFAxhJO+7dMgNP+bebyoRAITRk61QXM1addaFgDIq1bQUPX0hHWT/JBaMoQCoV4BUKhUOIhjfgTv1JQFHOek2AAhKYMHUdEcDWKGflZoxjJbhkFRFq3plS7GsWwfpIPvaoE7kuDGQk9HMWFd2IIelUJIx9oebD3w16CAug7cf6kCLpKEfoMqsyuKg+BAAn79yehqxShp7ogTT6rgJmWPNBwRThqRLBqDjyS+G/eK+gzqKCrFMH4jz/DUSNiXvMrySe7sQdoczGjzU2LSA4JtBTCUSOC29GVJkVevwZHvxEuRx+8zjGQ168hECDhc1+Gy9EHR78R//5aCb2qBE2HNuPMhy/i/EkRJuu3gtTmsV51Rv6+H38AS8hMSx689Xmw//M15vbT+NyXoVeVoLVyM3TvvADdOy+gvmIT6is2oelQ4lxrZUK6v3oLHDUieOvzQGrTLxabePYBSSGkNiF/4dRfEQ5MpQRc+LERukoRbEdyMaF5CROal+CoEWHssy0M9HlvfV6KOCcsPlkHeGtzMfbZFlzp0uBmNJh413COwW7+HHpVCfTvrcegejO8tbmMGKlNhVeWRzrjgOmGdZhuWIdg80bMaHPhb9iEYXUO2j6W4Nzpv6P9uAxfHv4LGivWQf/eenQf2YRfPk/I3/jyxYwEsiXYvJHx4gxIHkjj/2IDrtRswEBVDsOwOgeOk4nz3tpE5GpKJxNs3sgesNIEOsL3rxz4Tq+H7/R6+L/YwMA2ZzVhDRhW5zwRoWwYVuewByj3rmUG/rfuTyuy2oJ8+yr3rmUPeP65NVDuXYthdc6KnwcM3xRi5psHHzohgySFcPurCYjEr2r032nj7s+n1+N6RxpW50C5dy2ef24N9z+77x94Snl2PHXH/wHCZc8qFC4ctgAAAABJRU5ErkJggg%3D%3D%26lt%3B%21--%25WarningImg%25--%26gt%3B%0A%26lt%3B%21--%25ErrorImg%25--%26gt%3Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAIJElEQVRoge2ZW0wbVxrH+5yoynIxyJdgY+MQBtu0tjFgBASEW2FzCQ7LRiTaSo62jdrsA1uqNkuUBwrZTRU36npRKiVhN02lpgXSEuwQLolAUECGpAEcqUZ2kJG3BdlNKDJSJR7+++DMiW8zNpBd8ZCR/g+e8835fr9zZka2/MorL4+Xx4s9ppqPY/VCCzYutTHn84//N2HpuXqhBVPNx8EKP2Ay4tczJjx5qwy++jz4GlS7I/V5ePJWGX49Y8KAycgssXT6RBA8NLsAPjRLp08wCzxpbsRKrXz3SERwrNTK8aS5kVnA/95hrNTKw7LVpt4jGtZsdb5IHv97h5kFfCdr4TXIw8I08WpjIVYbCwnYYn0+Fuvz4ajOx4xBhRmDCpP6PEzq88hnR3U+qaOvo+dhXJBInpO1zAKr71RHXRC5gv/5fREJDTxRkw/7Ryfh7PsGPvci1v0+BAIBbG5uYnNzE4FAAOt+H3zuRTj7voH9o5OYqMknQqFzRu1aBM/qO9XMAj+f0IcVL9coY8K7jFrMGFQYa9LBNdSP3zY2wmDZQtf9trEB11A/xpp0mDGo4DJqY0os1yjDmH4+oWcX8LyZGyZAS9Dg9Io/Hh1KGDqezOPRIbIjtAgNHyrgeTOXXWD5eCWjgFOvxoxBhfGWt7Hu90WB0zDbzbrfh/GWtzFjUMGpVzMKLB+vZBdwVVJwVVJYqsqDU6/Gco2SPJiT58/uGDReJs+fJQ/8co0STr0aS1V5hCthgVCJKV0eps1tcZuvrfwEn3uRcdznXsTayk9x55k2t2FKlxcFH1dgqfFQWLGrkoK9QoEBkzEh+Mv1OlzSFcWU8LkXcUlXhMv1OnILsmXAZIS9QhHFs9R4iFnAZdTCeSibFM+Xy2EtzcUvnqW49+/leh2spbkYLFegs7IgTMLnXkRnZQEGyxWwluYmJPGLZwnW0lzMl8sJj/NQNlxGLbvAj6XZBH5CS2Hys08ShndUB98koRKh8PR4ohKTn32CCS1FJH4sjSOwWFMER7EUjmIpZktksKrF8M79EH+ljhrw4I3gA+fUqwlkZ2UBOisLiBw9/uANJaxHDXF31jv3A6xqMWZLZIRrsaaIWcCpV5PC77UHcKOqOKE3RyAQwNixGizonkss6JQYKpFhqEQWdX7sWE3Cr94bVcX4XnuAcDn1amYBR3U+KRwpyILtg1MJv/421p7iXlM1FnRK1txrqsbG2tOE57V9cAojBVmEy1GdzyywoFNiTiPB/UIJrGoxhtrPJNyIfh7YJO41VSf0BgrNUPsZWNVi3C+UYE4jwYJOySwwXy7HnEYCu0oMq1qM4QvntvTVwOt24VqdDvYKRRS8vUKBa3U6eN2uLc05fOEcrGox7Cox5jQSzJfLmQUelilgVwWL++VC3Dj1p4QbeRwLMBcr8a3mIGZLZJgvl4dltkSGbzUHYS5WwuNYSHje7uZ30S8XEq6HZQpmgdkSGSm0ykS4bKjYFvzDMgUelikwWyKL+rxViX/9oQ5WmYhwzZbIEhMYoTLxqUycMHyvOpsA0xluqMJwQ1XU+V51NszFSrgfOVjn9vv9uPh6dtgOsArYVWJMPyu+SwlhkfIx+10va5NVjwc20zFMaCkCOKGlMNxQhXW/D+t+H4YbqqLGbaZjWPV44Pf7GWO/2QOLlI+7lBBTr4kIW1yBabkQ43IRvqb2w1JVztrE7/cjEAhg0NSE8QIKE1oKt+t05FcZ/Wvsdp0OE1oK4wUUBk1NZIXZ0vXHo/gyZz9GqEzCxSowLhdhnNofjFyEfrkQZgkP9ps9CUvQ8JHjtMSgqQkba0/jzme39eNvYi765cLnTM+4mAVCC6mg+Zc5+8lDF68pfctsd5yO1+1Ch0pBVj+Si1Vg9AA/ahcsUj7MujJ43a64zXcar9eLzkYjLFJ+cPVD7gqajVFg9AAfdGiBESoTVpkIFikfnY1GeL3euADbjtuFfxw2wCzhoTcn2JsWCGVjFBjJ4oNOpERvjghmCQ8dWg1m79zeGWiMPLg7jL+XFjLCh7IxC4jSwwpHsoKvsBEqk+zEFQkfrUIuvvrw/RcC/tjtRvfZVvw1kweLlI8eiQBWWVDgLiWM4hkRpccRiCNhEwtwPZOPz+v0OwJ3zNjx1Yfvo1UqRrsgHVckfNjEAtKHCZ5VYDAjDXSiLs7ihwnYb/ZEQbkfOTDcdQVTt77D3MQE3I8ceOx2Y2F6CnZbP4a7ruDff34XHVoNWripBLxHIsCtLAmBj9U7lI1RwMrjwMrjMErYxAL0SAS4rFWT7afjmLGjQ6tBK4+DVh4HLdzUsNDn2wXpsAi5uJ4ZBLeJg4m5YBHwNF9cgdDcEXJJkx6JAFflOXA/coQJ3PrUjFapGGYeB9cz+SRdGTx0ZfBwTcgj53okgoTB7wi5UTxbFrDyOOjmpaErg4fhc+1Y9Xjg9Xpxf2wU3W1t+LioEK2cZPyTl45eAY+AbTsZXBImHlaBvrQU9KWlhMFbUpPRoVKgs9GI85UVOH1Qir+k/A6tnGSYeRx8wU0Lwoc030liQYdyMQrQRaHpTUnC1bQUXOQk4SInCZbUZFhSk3E1LQVfcNPQzQuGabV2klg8fWkp7AK9SfuCSUlKKExNXlRIr2dcrAKW1OTnAqFJUOaFJwaLJTWZWeDI3j3kwp59r6Jn36uxhf6PCeNIScKRvXtY/yvGkb17YElNRq+ARx7MW1mSsNjksrAMKJUYUCoxqNFgUKPBULE2Zuhxuj5ynqg+GVzCYUlNpuHZ/+ymRXZpXh677vgvaoS9zgT35T4AAAAASUVORK5CYII%3D%26lt%3B%21--%25ErrorImg%25--%26gt%3B%0A%0A%26lt%3B%21--%25StylePanelConvertionBasic%25--%26gt%3B%0A/*.multi_menu_main_menupopup%20%26gt%3B%20hbox%20%26gt%3B%20vbox%20%26gt%3B%20menuseparator%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09min-height%3A%200%20%21important%3B%0A%09border-top%3A%201px%20solid%20hsla%28210%2C%204%25%2C%2010%25%2C%20.15%29%20%21important%3B%0A%09margin%3A%206px%200%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%7D%0A*/%0A.multi_menu_main_menupopup%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09-moz-binding%3A%20url%28%22chrome%3A//global/content/bindings/popup.xml%23arrowpanel%22%29%20%21important%3B%0A%09background%3A%20transparent%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A%26lt%3B%21--%25StylePanelConvertionBasic%25--%26gt%3B%0A%0A%26lt%3B%21--%25StylePanelConvertionAnimated%25--%26gt%3B%0A/*%20Panel%20appearance%20for%20the%20main%20menu%20NOT%20SeaMoney/Thunderbird%20*/%0A/*.multi_menu_main_menupopup%20%26gt%3B%20hbox%20%26gt%3B%20vbox%20%26gt%3B%20menuseparator%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09min-height%3A%200%20%21important%3B%0A%09border-top%3A%201px%20solid%20hsla%28210%2C%204%25%2C%2010%25%2C%20.15%29%20%21important%3B%0A%09margin%3A%206px%200%20%21important%3B%0A%09padding%3A%200%20%21important%3B%0A%7D*/%0A%0A.multi_menu_main_menupopup%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09-moz-binding%3A%20url%28%22chrome%3A//browser/content/places/menu.xml%23places-popup-arrow%22%29%20%21important%3B%0A%09background%3A%20transparent%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%20%7B%0A%09transform%3A%20scale%28.4%29%20%21important%3B%0A%09opacity%3A%201%20%21important%3B%0A%09transition-property%3A%20transform%2C%20opacity%20%21important%3B%0A%09transition-duration%3A%200.15s%20%21important%3B%0A%09transition-timing-function%3A%20ease-out%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Barrowposition%3D%22after_start%22%5D%3A-moz-locale-dir%28ltr%29%2C%0A.multi_menu_main_menupopup%5Barrowposition%3D%22after_end%22%5D%3A-moz-locale-dir%28rtl%29%20%7B%0A%09transform-origin%3A%2020px%20top%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Barrowposition%3D%22after_end%22%5D%3A-moz-locale-dir%28ltr%29%2C%0A.multi_menu_main_menupopup%5Barrowposition%3D%22after_start%22%5D%3A-moz-locale-dir%28rtl%29%20%7B%0A%09transform-origin%3A%20calc%28100%25%20-%2020px%29%20top%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Barrowposition%3D%22before_start%22%5D%3A-moz-locale-dir%28ltr%29%2C%0A.multi_menu_main_menupopup%5Barrowposition%3D%22before_end%22%5D%3A-moz-locale-dir%28rtl%29%20%7B%0A%09transform-origin%3A%2020px%20bottom%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Barrowposition%3D%22before_end%22%5D%3A-moz-locale-dir%28ltr%29%2C%0A.multi_menu_main_menupopup%5Barrowposition%3D%22before_start%22%5D%3A-moz-locale-dir%28rtl%29%20%7B%0A%09transform-origin%3A%20calc%28100%25%20-%2020px%29%20bottom%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Barrowposition%3D%22start_after%22%5D%3A-moz-locale-dir%28ltr%29%2C%0A.multi_menu_main_menupopup%5Barrowposition%3D%22end_after%22%5D%3A-moz-locale-dir%28rtl%29%20%7B%0A%09transform-origin%3A%20calc%28100%25%20-%2020px%29%20bottom%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Barrowposition%3D%22end_after%22%5D%3A-moz-locale-dir%28ltr%29%2C%0A.multi_menu_main_menupopup%5Barrowposition%3D%22start_after%22%5D%3A-moz-locale-dir%28rtl%29%20%7B%0A%09transform-origin%3A%2020px%20bottom%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Barrowposition%3D%22start_before%22%5D%3A-moz-locale-dir%28ltr%29%2C%0A.multi_menu_main_menupopup%5Barrowposition%3D%22end_before%22%5D%3A-moz-locale-dir%28rtl%29%20%7B%0A%09transform-origin%3A%20calc%28100%25%20-%2020px%29%20top%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Barrowposition%3D%22end_before%22%5D%3A-moz-locale-dir%28ltr%29%2C%0A.multi_menu_main_menupopup%5Barrowposition%3D%22start_before%22%5D%3A-moz-locale-dir%28rtl%29%20%7B%0A%09transform-origin%3A%2020px%20top%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Banimate%3D%22open%22%5D%20%7B%0A%09transform%3A%20none%20%21important%3B%0A%09opacity%3A%201.0%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%5Banimate%3D%22cancel%22%5D%20%7B%0A%09transform%3A%20none%20%21important%3B%0A%7D%0A%26lt%3B%21--%25StylePanelConvertionAnimated%25--%26gt%3B%0A%0A%26lt%3B%21--%25StyleForDialogHeader%25--%26gt%3B%0A.multi_menu_main_menupopup%20dialogheader%20%7B%0A%09font-size%3A%20x-small%20%21important%3B%0A%09font-weight%3A%20600%20%21important%3B%0A%09margin%3A%200%200%207px%200%20%21important%3B%0A%09padding%3A%202px%200%202px%205px%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%7D%0A%26lt%3B%21--%25StyleForDialogHeader%25--%26gt%3B%0A%26lt%3B%21--%25StyleInvertContextIcons%25--%26gt%3B%0A.multi_menu_context_menu_dark_icon%20%26gt%3B%20.menu-iconic-left%20%26gt%3B%20.menu-iconic-icon%20%7B%0A%09filter%3A%20url%28%22data%3Aimage/svg+xml%3Butf8%2C%26lt%3Bsvg%20height%3D%270%27%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%26gt%3B%26lt%3Bfilter%20id%3D%27white%27%20x%3D%270%25%27%20y%3D%270%25%27%20width%3D%27100%25%27%20height%3D%27100%25%27%20%26gt%3B%26lt%3BfeComponentTransfer%26gt%3B%26lt%3BfeFuncR%20type%3D%27table%27%20tableValues%3D%27.6%200%27/%26gt%3B%26lt%3BfeFuncG%20type%3D%27table%27%20tableValues%3D%27.6%200%27/%26gt%3B%26lt%3BfeFuncB%20type%3D%27table%27%20tableValues%3D%27.6%200%27/%26gt%3B%26lt%3B/feComponentTransfer%26gt%3B%26lt%3B/filter%26gt%3B%26lt%3B/svg%26gt%3B%23white%22%29%20%21important%3B%0A%7D%0A%26lt%3B%21--%25StyleInvertContextIcons%25--%26gt%3B%0A%26lt%3B%21--%25StyleForMenuGroup%25--%26gt%3B%0A.multi_menu_main_menupopup%20menugroup%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%09background%3A%20transparent%20%21important%3B%0A%09border%3A%20none%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A.multi_menu_main_menupopup%20menugroup%20%26gt%3B%20.menuitem-iconic%20%7B%0A%09-moz-box-flex%3A%201%20%21important%3B%0A%09-moz-box-pack%3A%20center%20%21important%3B%0A%09-moz-box-align%3A%20center%20%21important%3B%0A%7D%0A.multi_menu_main_menupopup%20menugroup%20%26gt%3B%20.menuitem-iconic%20%26gt%3B%20.menu-iconic-left%20%7B%0A%09-moz-appearance%3A%20none%20%21important%3B%0A%7D%0A.multi_menu_main_menupopup%20menugroup%20%26gt%3B%20.menuitem-iconic%20%26gt%3B%20.menu-iconic-left%20%26gt%3B%20.menu-iconic-icon%20%7B%0A%09width%3A%2016px%20%21important%3B%0A%09height%3A%2016px%20%21important%3B%0A%09margin%3A%207px%20%21important%3B%0A%7D%0A.multi_menu_main_menupopup%20menugroup%20%26gt%3B%20.menuitem-iconic%20%26gt%3B%20.menu-iconic-left%20%7B%0A%09visibility%3A%20visible%20%21important%3B%0A%09/*%20override%20toolkit/themes/linux/global/menu.css%20*/%0A%09-moz-padding-end%3A%200%20%21important%3B%0A%09-moz-margin-end%3A%200%20%21important%3B%0A%7D%0A.multi_menu_main_menupopup%20menugroup%20%26gt%3B%20.menu-iconic%20%26gt%3B%20.menu-iconic-text%2C%0A.multi_menu_main_menupopup%20menugroup%20%26gt%3B%20.menuitem-iconic%20%26gt%3B%20.menu-iconic-text%2C%0A.multi_menu_main_menupopup%20menugroup%20%26gt%3B%20.menuitem-iconic%20%26gt%3B%20.menu-accel-container%20%7B%0A%09display%3A%20none%20%21important%3B%0A%7D%0A.multi_menu_main_menupopup%20menugroup%20%26gt%3B%20.menu-iconic%20%7B%0A%09display%3A%20none%20%21important%3B%0A%7D%0A%26lt%3B%21--%25StyleForMenuGroup%25--%26gt%3B%0A%0A%26lt%3B%21--%25StyleForMenuGroupReflectCheckedState%25--%26gt%3B%0A.multi_menu_main_menupopup%20menugroup%20menuitem%5B_open%3D%22true%22%5D.menuitem-iconic%2C%0A.multi_menu_main_menupopup%20menugroup%20menuitem%5B_checked%3D%22true%22%5D.menuitem-iconic%20%7B%0A%09position%3A%20relative%20%20%21important%3B%0A%09background%3A%20none%20%21important%3B%0A%09border-radius%3A%203px%20%20%21important%3B%0A%7D%0A%0A.multi_menu_main_menupopup%20menugroup%20menuitem%5B_open%3D%22true%22%5D.menuitem-iconic%20%26gt%3B%20.menu-iconic-left%2C%0A.multi_menu_main_menupopup%20menugroup%20menuitem%5B_checked%3D%22true%22%5D.menuitem-iconic%20%26gt%3B%20.menu-iconic-left%20%7B%0A%09border%3A%200%20solid%20%23111%20%21important%3B%0A%09background%3A%20none%20%21important%3B%0A%09border-radius%3A%203px%20%21important%3B%0A%09position%3A%20relative%20%21important%3B%0A%09box-shadow%3A%20inset%200%200%202px%200%20%23111%20%21important%3B%0A%7D%0A%26lt%3B%21--%25StyleForMenuGroupReflectCheckedState%25--%26gt%3B%0A%0A%26lt%3B%21--%25StyleForOverflowedMenus%25--%26gt%3B%0A.multi_menu_main_menupopup%20scrollbox%20%7B%0A%09overflow-y%3A%20auto%20%21important%0A%7D%0A.multi_menu_main_menupopup%20.autorepeatbutton-up%2C%0A.multi_menu_main_menupopup%20.autorepeatbutton-down%20%7B%0A%09display%3A%20none%20%21important%3B%0A%7D%0A%26lt%3B%21--%25StyleForOverflowedMenus%25--%26gt%3B%0A%0A%26lt%3B%21--%25StyleRemoveMainMenuAccelContainers%25--%26gt%3B%0A.multi_menu_main_menupopup%20%26gt%3B%20hbox%20%26gt%3B%20vbox%20%26gt%3B%20.menuitem-iconic%20%26gt%3B%20.menu-accel-container%20%7B%0A%09display%3A%20none%20%21important%3B%0A%7D%0A%26lt%3B%21--%25StyleRemoveMainMenuAccelContainers%25--%26gt%3B%0A%0A%0A%26lt%3B%21--%25after_end%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%26lt%3B%21--%25after_end%25--%26gt%3B%0A%26lt%3B%21--%25after_start%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%26lt%3B%21--%25after_start%25--%26gt%3B%0A%26lt%3B%21--%25before_end%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%26lt%3B%21--%25before_end%25--%26gt%3B%0A%26lt%3B%21--%25before_start%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%3D%26lt%3B%21--%25before_start%25--%26gt%3B%0A%26lt%3B%21--%25end_after%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%3D%26lt%3B%21--%25end_after%25--%26gt%3B%0A%26lt%3B%21--%25end_before%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%3D%3D%26lt%3B%21--%25end_before%25--%26gt%3B%0A%26lt%3B%21--%25start_after%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%3D%26lt%3B%21--%25start_after%25--%26gt%3B%0A%26lt%3B%21--%25start_before%25--%26gt%3Bdata%3Aimage/png%3Bbase64%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%3D%26lt%3B%21--%25start_before%25--%26gt%3B%0A%0A%26lt%3B%21--%25HelpPage%25--%26gt%3B%26lt%3B%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%26gt%3B%0A%26lt%3B%21DOCTYPE%20HTML%26gt%3B%0A%26lt%3Bhtml%26gt%3B%0A%09%26lt%3Bhead%26gt%3B%0A%09%09%26lt%3Bmeta%20http-equiv%3D%22content-type%22%20content%3D%22text/html%3Bcharset%3Dutf-8%22%20/%26gt%3B%0A%09%09%26lt%3Blink%20rel%3D%22stylesheet%22%20href%3D%22chrome%3A//global/skin/xul.css%22%20type%3D%22text/css%22/%26gt%3B%0A%09%09%26lt%3Bstyle%26gt%3B%0A%09%09html%20%7B%0A%09%09%09background%3A%20-moz-dialog%20%21important%3B%0A%09%09%09font%3A%20message-box%20%21important%3B%0A%09%09%7D%0A%09%09body%20*%20%7B%0A%09%09%09font-family%3A%20%22Open%20Sans%22%2C%20Helvetica%2C%20Arial%2C%20sans-serif%20%21important%3B%0A%09%09%7D%0A%09%09body%20%7B%0A%09%09%09color%3A%20-moz-FieldText%3B%0A%09%09%09position%3A%20relative%3B%0A%09%09%09border%3A%201px%20solid%3B%0A%09%09%09border-radius%3A%203px%3B%0A%09%09%09padding%3A%201em%3B%0A%09%09%09background%3A%20-moz-Field%3B%0A%09%09%7D%0A%0A%09%09ul%20%7B%0A%09%09%09margin%3A%200%3B%0A%09%09%09-moz-margin-start%3A%201.5em%3B%0A%09%09%09padding%3A%200%3B%0A%09%09%09list-style%3A%20square%3B%0A%09%09%7D%0A%09%09ul%20%26gt%3B%20li%20%7B%0A%09%09%09margin-top%3A%20.5em%3B%0A%09%09%7D%0A%09%09.bold_text%20%7B%0A%09%09%09font-weight%3A%20bold%20%21important%3B%0A%09%09%7D%0A%09%09.optional%20%7B%0A%09%09%09color%3A%20white%20%21important%3B%0A%09%09%09background-color%3A%20green%20%21important%3B%0A%09%09%7D%0A%09%09.required%20%7B%0A%09%09%09background-color%3A%20orange%20%21important%3B%0A%09%09%7D%0A%09%09.experimental%20%7B%0A%09%09%09background-color%3A%20red%20%21important%3B%0A%09%09%7D%0A%09%09.optional%2C%0A%09%09.required%2C%0A%09%09.experimental%20%7B%0A%09%09%09padding%3A%200%205px%200%205px%20%21important%3B%0A%09%09%7D%0A%09%09.important-notes%20%7B%0A%09%09%09border%3A%201px%20solid%20darkred%3B%0A%09%09%09border-radius%3A%203px%3B%0A%09%09%09background-color%3A%20rgba%28255%2C%200%2C%200%2C%200.25%29%20%21important%3B%0A%09%09%09padding%3A%20.5em%3B%0A%09%09%7D%0A%09%09%26lt%3B/style%26gt%3B%0A%09%26lt%3B/head%26gt%3B%0A%26lt%3Bbody%26gt%3B%0A%09%26lt%3Bh2%26gt%3BAbout%20this%20GUI%20%28Graphical%20User%20Interface%29%26lt%3B/h2%26gt%3B%0A%09%26lt%3Bh3%26gt%3BGeneral%20usage%26lt%3B/h3%26gt%3B%0A%09%26lt%3Bul%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BAll%20items%20inserted%20from%20the%20%26lt%3Bb%26gt%3BInsert%20a%20new%20item%26lt%3B/b%26gt%3B%20menu%20are%20appended%20at%20the%20end%20of%20the%20main%20menu%20from%20the%20current%20selected%20tab.%26lt%3B/li%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BItems%20can%20be%20re-ordered%20and/or%20moved%20into%20any%20%26lt%3Bem%26gt%3Bmenugroup%26lt%3B/em%26gt%3B%20element%20or%20%26lt%3Bem%26gt%3Bcustom%20menu%26lt%3B/em%26gt%3B%20at%20any%20level%20by%20just%20dragging%20them%20while%20pressing%20the%20%26lt%3Bb%26gt%3B%25A_C_C_E_L%25%26lt%3B/b%26gt%3B%20key.%26lt%3B/li%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BItems%20can%20be%20moved%20into%20any%20other%20main%20popup%20%28tab%29%20from%20the%20context%20menu.%26lt%3B/li%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BWhile%20having%20opened%20any%20edit%20dialog%20on%20the%20currently%20selected%20main%20menu/tab%2C%20it%20isn%27t%20possible%20to%20switch%20to%20other%20main%20menus/tabs.%20Changes%20on%20the%20currently%20selected%20main%20menu/tab%20will%20have%20to%20be%20saved%20or%20canceled%20to%20be%20able%20to%20work%20on%20other%20main%20menus/tabs.%26lt%3B/li%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BEvery%20time%20the%20%26lt%3Bb%26gt%3BSave%20changes%26lt%3B/b%26gt%3B%20button%20is%20pressed%2C%20and%20before%20the%20main%20items%20file%20is%20modified%20with%20the%20new%20changes%2C%20a%20backup%20of%20the%20current%20items%20file%20is%20created.%20So%2C%20returning%20to%20a%20previous%20functional%20items%20file%20is%20as%20easy%20as%20to%20renaming%20the%20last%20backup%20file.%26lt%3B/li%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BA%20maximum%20of%20three%20backup%20files%20are%20created%20and%20available%20at%20all%20times.%26lt%3B/li%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BOrange%20colored%20fields%20are%20%26lt%3Bspan%20class%3D%22bold_text%20required%22%20%26gt%3BREQUIRED%26lt%3B/span%26gt%3B%26lt%3B/li%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BGreen%20colored%20fields%20are%20%26lt%3Bspan%20class%3D%22bold_text%20optional%22%26gt%3BOPTIONAL%26lt%3B/span%26gt%3B%26lt%3B/li%26gt%3B%0A%09%09%26lt%3Bli%26gt%3BRed%20colored%20fields%20are%20%26lt%3Bspan%20class%3D%22bold_text%20experimental%22%26gt%3BEXPERIMENTAL%26lt%3B/span%26gt%3B%26lt%3B/li%26gt%3B%0A%09%26lt%3B/ul%26gt%3B%0A%09%26lt%3Bp%26gt%3B%0A%09%26lt%3Bdiv%20class%3D%22important-notes%22%26gt%3B%0A%09%09%26lt%3Bh3%26gt%3BImportant%20notes%26lt%3B/h3%26gt%3B%0A%09%09%26lt%3Bul%26gt%3B%0A%09%09%09%26lt%3Bli%26gt%3BMenugroup%20elements%20and%20custom%20menu%20elements%20%26lt%3Bb%26gt%3BMUST%20NOT%26lt%3B/b%26gt%3B%20be%20placed%20inside%20another%20menugroup%20%09elements.%20If%20you%20do%2C%20and%20then%20save%20the%20changes%2C%20you%20will%20loose%20all%20menugroup/menu%20children%20if%20any.%26lt%3B/li%26gt%3B%0A%09%09%09%26lt%3Bli%26gt%3BIn%20all%20elements%20with%20custom%20command%20fields%2C%20the%20global%20object%20%28%26lt%3Bb%26gt%3Bthis%26lt%3B/b%26gt%3B%29%20is%20the%20button%20to%20which%20the%20menu/menu%20item%20belongs.%20So%20be%20very%20careful%20NOT%20to%20override%20properties%20of%20the%20global%20object.%20Additionally%2C%20all%20variables/objects%20that%20are%20available%20on%20the%20execution%20context%20of%20any%20button%2C%20like%20%26lt%3Bb%26gt%3Bself%26lt%3B/b%26gt%3B%2C%20%26lt%3Bb%26gt%3BCc%26lt%3B/b%26gt%3B%2C%20%26lt%3Bb%26gt%3BCi%26lt%3B/b%26gt%3B%2C%20etc.%2C%20are%20also%20available%20on%20the%20execution%20context%20of%20the%20code%20defined%20on%20these%20fields.%26lt%3B/li%26gt%3B%0A%09%09%09%26lt%3Bli%26gt%3BIf%20you%20edit%20the%20items%20file%20manually%20%28with%20any%20text%20editor%29%2C%20know%20that%20its%20content%20is%20in%20JSON%20format.%20Which%20means%20that%20its%20syntax%20is%20very%20strict.%20A%20single%20misplaced%20comma%20could%20completely%20break%20the%20menu.%20So%2C%20you%20must%20use%20a%20proper%20text%20editor%20with%20a%20JSON%20linter%20to%20edit%20this%20file.%20Otherwise%2C%20stick%20to%20edit%20the%20items%20with%20this%20GUI.%26lt%3B/li%26gt%3B%0A%09%09%26lt%3B/ul%26gt%3B%0A%09%26lt%3B/div%26gt%3B%0A%26lt%3B/body%26gt%3B%0A%26lt%3B/html%26gt%3B%26lt%3B%21--%25HelpPage%25--%26gt%3B%0A%0A%26lt%3B%21--%25SlaveButton%25--%26gt%3Bcustombutton%3A//%253C%253Fxml%2520version%253D%25221.0%2522%2520encoding%253D%2522UTF-8%2522%253F%253E%250A%253Ccustombutton%2520xmlns%253Acb%253D%2522http%253A//xsms.nm.ru/custombuttons/%2522%253E%250A%2520%2520%253Cname%253EMulti%2520Menu%2520slave%2520button%253C/name%253E%250A%2520%2520%253Cimage%253E%253C%2521%255BCDATA%255Bcustombuttons-stdicon-1%255D%255D%253E%253C/image%253E%250A%2520%2520%253Cmode%253E2%253C/mode%253E%250A%2520%2520%253Cinitcode%253E%253C%2521%255BCDATA%255Bif%2520%2528self.parentNode%2520%2526%2526%2520/%255Ewrapper-/.test%2528self.parentNode.id%2529%2529%250A%2509return%253B%250Alet%2520timer%2520%253D%2520%2522__Custom_Buttons_Multi_Menu_Timer__%2522%2520+%2520self.id%253B%250AclearTimeout%2528window%255Btimer%255D%2529%253B%250Awindow%255Btimer%255D%2520%253D%2520setTimeout%2528function%2528%2529%2520%257B%250A%2509window.__Custom_Buttons_Multi_Menu__.CreateItems%2528self%2529%253B%250A%257D%252C%2520200%2529%253B%255D%255D%253E%253C/initcode%253E%250A%2520%2520%253Ccode%253E%253C%2521%255BCDATA%255Bif%2528%2521event.target%2520%2526%2526%2520%2521this.disabled%2529%250A%2509window.__CB_Multi_Menu.hotkeyPressed%2528this%2529%253B%255D%255D%253E%253C/code%253E%250A%2520%2520%253Caccelkey%253E%253C%2521%255BCDATA%255BAlt+Ctrl+Shift+D%255D%255D%253E%253C/accelkey%253E%250A%2520%2520%253Chelp%253E%253C%2521%255BCDATA%255B%25uD835%25uDDDC%25uD835%25uDDFA%25uD835%25uDDFD%25uD835%25uDDFC%25uD835%25uDDFF%25uD835%25uDE01%25uD835%25uDDEE%25uD835%25uDDFB%25uD835%25uDE01%2520%25uD835%25uDDFB%25uD835%25uDDFC%25uD835%25uDE01%25uD835%25uDDF2%25uD835%25uDE00%250A%25u26AB%2520A%2520%25uD835%25uDDE0%25uD835%25uDE02%25uD835%25uDDF9%25uD835%25uDE01%25uD835%25uDDF6%2520%25uD835%25uDDE0%25uD835%25uDDF2%25uD835%25uDDFB%25uD835%25uDE02%2520%25uD835%25uDE68%25uD835%25uDE61%25uD835%25uDE56%25uD835%25uDE6B%25uD835%25uDE5A%2520button%2520can%2520be%2520cloned/installed%2520as%2520much%2520as%2520you%2520need/want.%250A%25u26AB%2520Deleting/Uninstalling%2520a%2520%25uD835%25uDDE0%25uD835%25uDE02%25uD835%25uDDF9%25uD835%25uDE01%25uD835%25uDDF6%2520%25uD835%25uDDE0%25uD835%25uDDF2%25uD835%25uDDFB%25uD835%25uDE02%2520button%2520%2528%25uD835%25uDE62%25uD835%25uDE56%25uD835%25uDE68%25uD835%25uDE69%25uD835%25uDE5A%25uD835%25uDE67%2520or%2520%25uD835%25uDE68%25uD835%25uDE61%25uD835%25uDE56%25uD835%25uDE6B%25uD835%25uDE5A%2529%2520will%2520NOT%2520delete%2520its%2520items%2520file%2520from%2520%25uD835%25uDDE0%25uD835%25uDE02%25uD835%25uDDF9%25uD835%25uDE01%25uD835%25uDDF6%2520%25uD835%25uDDE0%25uD835%25uDDF2%25uD835%25uDDFB%25uD835%25uDE02%2527%25uD835%25uDE00%2520storage%2520folder.%250A%255D%255D%253E%253C/help%253E%250A%2520%2520%253Cattributes/%253E%250A%253C/custombutton%253E%26lt%3B%21--%25SlaveButton%25--%26gt%3B%0A%0A%26lt%3B%21--%25CustomStyleSheetWindow%25--%26gt%3B%26lt%3B%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%26gt%3B%0A%26lt%3B%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin%22%20type%3D%22text/css%22%3F%26gt%3B%0A%26lt%3B%3Fxml-stylesheet%20href%3D%22data%3Atext/css%3Bcharset%3Dutf-8%2C%0Acaption%20.caption-text%2C%0A.bold_text%20%7B%0A%09font-weight%3A%20bold%20%21important%3B%0A%7D%0A/*%20Force%20groupboxes%20on%20Linux%20to%20have%20the%20same%20appearance%20than%20in%20Windows%20*/%0A/*%20Just%20because%20it%20makes%20effing%20sence%21%21%21%21%20*/%0A/*%20Why%20have%20elements%20grouped%20inside%20a%20groupbox%20and%20not%20visually%20delimited%3F%21%3F%21%3F%21%20*/%0Agroupbox%20%7B%0A%09-moz-appearance%3A%20groupbox%20%21important%3B%0A%09border%3A%202px%20groove%20ThreeDFace%20%21important%3B%0A%09border-radius%3A%203px%20%21important%3B%0A%09margin%3A%203px%20%21important%3B%0A%09padding%3A%203px%203px%206px%20%21important%3B%0A%7D%0A.groupbox-body%20%7B%0A%09padding%3A%20inherit%20%21important%3B%0A%7D%0Acaption%20%7B%0A%09margin%3A%200%206px%20%21important%3B%0A%09background-color%3A%20-moz-Dialog%20%21important%3B%0A%7D%0A.save_changes%20%7B%0A%09list-style-image%3A%20url%28%26amp%3Bquot%3Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACdElEQVQ4jWNgIBGE/mdgZvjPwEiqPgYGBgaGpCOGUhX3XFO630Zapp0xZiVJc/QSFb78aw4dXe/C3k/8lnCj73OkfcN/BiaiNEfsUpfKPGfV0fDE/33jc///PR8i/nW9iz5Rez/QnoGBgYHBYT4Dh/cGNdugHZqS6Jq9l8oJppyw6ml8FvCx6Lbz/7iThv8zL1n9r37k+6fgusdGBoYGBqbQvXpOmeecbqecsu33XKUiCtNsPJOBNXiHfm/NQ78veTcd/wcf0vofsF/9f+BBjX/RR40fxBwx8WNIOWinWHnPd3/di8B/1Q/93yYcse6yWSonqDddXCxgi/bkyge+XzOu2f332qv632238n+P3Sr//XZr3wnaoRvlOUmFnaHgivu2kocevz32qf5PvGT1r+Ke/2fvDdqz3NapL25+Efol8ZLVf8edCv9tt8n+t9sm999lu9oZv42adtqrtNkYGBgYGKy2yW212S73w2Sz5D+LrTL/k6/a/C+74/u/7I7P/9gLFv9NNknC8F+LdbIX7NcqO6IEkvpyLimdNcKLtdaK/tBaK/LfYKPE//Bzpv+DThn9198g/l9rrch/7TWif3SXS14wWSLvaTyTATP+pZYLycqvFFijuJL/p+JKgf9KqwT/K60U+K+4UuC/4gqBvyoLRS6oTRW1wZsCBRdxykks5loovoT7k/gS7v/iS7j/iy/i+S81i/eCTL+gJwMDEcmXdy6DOt88toW8C9h+8s1l+88/keOMSCuPI0MaFmfjAIwM/QwKbNMY1rJ0Mp5kKGOwIFYjDLAyCDAI8ITyaHH7cOszSDMIMzAQbzuqS4jxMwMDAwDtNu92OyP2UwAAAABJRU5ErkJggg%3D%3D%26amp%3Bquot%3B%29%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A.cancel_changes%20%7B%0A%09list-style-image%3A%20url%28%26amp%3Bquot%3Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADdklEQVQ4jXVTb0yUBRx+3n+8977vve/BcXhIBzg5CMZRCAvGSIZQMCXpRFhkagRjTkjStdr6M9bW1/rCt1tZ0vDUU1E4QMHrAMk7F4zDY4qYRBdkyzJK0eMC9+sLOGnr+fo8z2+/Pc8eYBVtgHZSH2NzqqoJ/4Muk0l1WSxZLovFuI4oAKTjVXu2Tbd++tmNhsbac9HR0f81d8CoTVZUVk01t3x+vGJ3+U5AXuOi7BbL9q79jRf/cp5duvNRa9Cfld3YqaqxawIXNOPlrOy6UPORwJ9tX0Z69tV7X0vc9CoAHarzi2u/2P3GlZm6g0sP322lB4c/WAlVVk+NbEpp+QZQHIDcn7y5aXa7/fr95vdWHh75mGbr3444il4e3ZWZ+ybeyi89PdBwKLywrYLu5hfTvXI7LVbtodmcvJ/G8l9850p2dtN0uu3H+6U76Peicrr7wlb6e2sZ9ReWRRqyCvtRkbblpQMZz53tS9z8IGTaQLfNCfSb7XlaTH2W7lVW/fpHUfH8gmkD3TEn0A8xsRSKNpInLv7RgbiN/fbEDDsACGmCkNek6DvcmmFxVBRpWBDopiDQgiWJfjbF0QTL0iDDkJ/jyC1EhQ/xUefTgWIAurWcuAIgvUXQdZxStMcXeIHOAdQHhroB6gSoh2HIyfGPDzPc+RIgBwC/rqYagHsfyOvOsA0PWJLoGMfRUYCOAvQVw5A72kiuBEvwQ6C8BuDWmdsA8YQk5Z9R9Kd6FH3YxfPUDpCTYegEy1I7QCd5ntx6/cppWd/ZLkkFn6y97wAEF8+XXFDUbo8kh3tZjnoA8jAMjcYYadwcT98yDPUC1Mdy5JHkcK+i9BwTxTIHIOD7fXU7v0uxDg6K4pKXZWkEoHGWpRuSRBMJlvlgivX2TVmmwCrnZVkaEnVLg0bTiDstw47x6tquyS05ER/H0RhA0yxLIVlevqaqtwZEsXlA0e29ZjAEQ6r6z61VjY/jacK8cdmfneuFL7egxm8yXbouSY/mFIV+0bTlSU0LDIniwUuAwQHIHp1ubzDG4JtX1chcVBRNSfLSVVX1X7Va6/E1oBvmUTKT+Ez3fGFheNJqDfgEYb8HeLKFPkAbkaRd43GxvrlUa2TGbPaOcNwr/YDyJEh3UlLpZZvtzFRm5utjTy3tqSNiID5+x1BqivNicnJFGyACwL8fh1x5BGHtQgAAAABJRU5ErkJggg%3D%3D%26amp%3Bquot%3B%29%20%21important%3B%0A%09-moz-image-region%3A%20auto%20%21important%3B%0A%7D%0A%22%20type%3D%22text/css%22%20%3F%26gt%3B%0A%26lt%3Bwindow%20id%3D%22%25U_I_D%25_custom_style_sheet_window%22%0A%09%20%20%20%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%0A%09%20%20%20%20orient%3D%22vertical%22%0A%09%20%20%20%20height%3D%22400%22%0A%09%20%20%20%20width%3D%22600%22%0A%09%20%20%20%20onload%3D%22%24.onLoad%28%29%3B%22%26gt%3B%0A%26lt%3Bscript%26gt%3B%26lt%3B%21%5BCDATA%5B%0Avar%20stg%20%3D%20window._storage%3B%0Avar%20cb_btn%20%3D%20stg.button%3B%0A%0Afunction%20%24id%28id%29%20%7B%0A%09return%20document.getElementById%28id%29%3B%0A%7D%0A%0Avar%20%24%20%3D%20%7B%0A%09onLoad%3A%20function%28%29%20%7B%0A%09%09%24.dealWithStyleSheets%28false%29%3B%0A%09%7D%2C%0A%09dealWithStyleSheets%3A%20function%28aSave%29%20%7B%0A%09%09if%20%28aSave%29%0A%09%09%09cb_btn.MultiMenu.sPref%28%22pStyleSheetCustom%22%2C%20encodeURIComponent%28%24id%28%22pStyleSheetCustom%22%29.value%29%29%3B%0A%09%09else%0A%09%09%09%24id%28%22pStyleSheetCustom%22%29.setAttribute%28%22value%22%2C%20decodeURIComponent%28cb_btn.MultiMenu.gPref%28%22pStyleSheetCustom%22%29%29%29%3B%0A%09%7D%2C%0A%7D%3B%0A%5D%5D%26gt%3B%26lt%3B/script%26gt%3B%0A%09%26lt%3Bgroupbox%20flex%3D%221000%22%26gt%3B%0A%09%09%26lt%3Bcaption%20label%3D%22Custom%20style%20sheet%22/%26gt%3B%0A%09%09%26lt%3Btextbox%20multiline%3D%22true%22%0A%09%09%09%09%20wrap%3D%22off%22%0A%09%09%09%09%20tooltip%3D%22tt%22%0A%09%09%09%09%20newlines%3D%22pasteintact%22%0A%09%09%09%09%20flex%3D%221000%22%0A%09%09%09%09%20id%3D%22pStyleSheetCustom%22%20/%26gt%3B%0A%09%26lt%3B/groupbox%26gt%3B%0A%09%26lt%3Bhbox%26gt%3B%0A%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%26lt%3Bbutton%20label%3D%22Save%20changes%22%20class%3D%22save_changes%22%20oncommand%3D%22%24.dealWithStyleSheets%28true%29%3B%22/%26gt%3B%0A%09%09%26lt%3Bbutton%20label%3D%22Cancel%22%20class%3D%22cancel_changes%22%20oncommand%3D%22close%28%29%3B%22/%26gt%3B%0A%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%26lt%3B/hbox%26gt%3B%0A%09%26lt%3Bpopupset%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThis%20field%20is%20saved%20into%20a%20preference%2C%20so%20try%20not%20to%20use%20to%20much%20data%20here%20%28like%20big%20images%20in%20Base64%20format%29.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20you%20need%20to%20affect%20an%20specific%20Multi%20Menu%20button/popup%2C%20set%20a%20custom%20class%20to%20be%20used%20in%20this%20style%20sheet.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%26lt%3B/popupset%26gt%3B%0A%26lt%3B/window%26gt%3B%26lt%3B%21--%25CustomStyleSheetWindow%25--%26gt%3B%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E" rel="nofollow" title="Install Multi Menu Master button">
				<![CDATA[Install this button]]>
			</html:a>
		</html:div>
		<html:a id="about" href="https://addons.mozilla.org/addon/custom-buttons/">
			<![CDATA[About CustomButtons]]>
		</html:a>
		<html:div id="credits">
			<html:a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?t=3599">
				<![CDATA[XML created with]]>
				<html:br/>
				<![CDATA[CB Context Menu Extended]]>
			</html:a>
		</html:div>
	</html:div>
</html:body>
  <name>Multi Menu Master button</name>
  <image><![CDATA[data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABPklEQVQ4jY1TMW4CMRD0FyiQAEUKgZKKOIvXO2MLUcH1VEj5OHkBfegQKXIWF+4OYmmaHc3KO7ProtnRgKsB12h2FpEFyYEBp1LvQzQ7ulYxxq2qTp+JCzobiMgMxLXgYYNodm4WVHWdc14acAH5bISzE5FFjHFbf30NYLLZ2CuAXQCqwjURgCqSe5LekRyo6lREZjnnZS2eiMhIVaf38N7PSQ2q+p6SH7vidj3rBcBOREbR7Lvr2yBr4GrAyd2IXzIAVV8KNzHbKRS3+2LsEpcGp4arFwAfKaVhc4Q+sQEnR3KwWq3eaoPGrn4ppWExLCUFqcF7P28aSnLwJ0YAqTRQ1YCMAzM/kXHoilREFq1FApBCCC9lkR4tUzQ7t1Y5ABWp4Zm4/xbIvaq+P7uBwrv7cybpU/Lj/5yzmX39AOALYmC+1vl9AAAAAElFTkSuQmCC]]></image>
  <mode>0</mode>
  <initcode><![CDATA[if (self.parentNode && /^wrapper-/.test(self.parentNode.id))
	return;

var $ = this.MultiMenu = {
	init: function() {
		if (!("__Custom_Buttons_Multi_Menu__" in window)) {
			window.__Custom_Buttons_Multi_Menu__ = {
				ButtonsIDs: [],
				hotkeyPressed: function(aAnchor) {
					$.hotkeyPressed(aAnchor);
				},
				CreateItems: function(aBtn) {
					$.loadFromFile(aBtn);
				},
			};
		}
		window.__Custom_Buttons_Multi_Menu__.hotkeyPressed = function(aAnchor) {
			$.hotkeyPressed(aAnchor);
		};

		window.__Custom_Buttons_Multi_Menu__.CreateItems = function(aBtn) {
			$.loadFromFile(aBtn);
		};

		if (!("Services" in window))
			Cu.import("resource://gre/modules/Services.jsm");

		if (!("OS" in window))
			Cu.import("resource://gre/modules/osfile.jsm");

		if (!("AddonManager" in window))
			Cu.import("resource://gre/modules/AddonManager.jsm");

		$.initPrefs();

		if (!($._UID in window)) {
			window[$._UID] = {
				CustomizableUI: false,
				StyleSheet: false,
				ThereIsAPopupOpened: null,
				Preferences: {},
			};
		}

		for (let p in $.DefPrefs) {
			if ($.DefPrefs.hasOwnProperty(p))
				window[$._UID]["Preferences"][p] = $.gPref(p);
		}

		$._ = window[$._UID]["Preferences"];

		$.handlePrefObserver();
		$.dealWithNavigator();
		$.createMainElements();
		$.handleCSS();

		if ("CustomizableUI" in window) {
			if (!window[$._UID]["CustomizableUI"]) {
				window[$._UID]["CustomizableUI"] = true;
				CustomizableUI.addListener({
					onCustomizeEnd: function(aWindow) {
						Array.prototype.slice.call(window["__Custom_Buttons_Multi_Menu__"]["ButtonsIDs"]).forEach(function(aID) {
							let thisBtn = aWindow.document.getElementById("custombuttons-button" + aID);
							setTimeout(function() {
								aWindow[$._UID]["CustomizableUI"] && thisBtn.init();
							}, $.delay);
						});
					}
				});
			}
		}

		setTimeout(function() {
			$.loadFromFile(self);
		}, 100);

		addDestructor(function(aReason) {
			if (aReason === "destructor" || aReason === "update" || aReason === "delete") {
				$.handleCSS();
			}
			if (aReason === "update" || aReason === "delete") {
				$.handlePrefObserver(true);
				let selfEls = document.getElementsByAttribute("cb_id", $._UID);
				Array.prototype.slice.call(selfEls).forEach(function(aEl) { // Delete all elements created by this button.
					aEl && aEl.parentNode.removeChild(aEl);
				});
			}
			if (aReason === "delete") {
				(Services.prefs.getBranch($.Branch)).deleteBranch("");
				Services.prefs.savePrefFile(null);
				delete window[$._UID];
			}
		});
	},

	dealWithNavigator: function() {
		if ("gBrowser" in window)
			return true;
		$._.pURLItemLeftClickWhere <= 3 && $.sPref("pURLItemLeftClickWhere", 4);
		$._.pURLItemLeftCtrlClickWhere <= 3 && $.sPref("pURLItemLeftCtrlClickWhere", 6);
		$._.pURLItemLeftShiftClickWhere <= 3 && $.sPref("pURLItemLeftShiftClickWhere", 6);
		$._.pURLItemMiddleClickWhere <= 3 && $.sPref("pURLItemMiddleClickWhere", 6);
		$._.pURLItemRightClickWhere <= 3 && $.sPref("pURLItemRightClickWhere", 5);
	},

	loadFromFile: function(aBtnOrId, aOpenForEdit) {
		let id = typeof aBtnOrId === "string" ? aBtnOrId : aBtnOrId.id.slice(20);
		let btn = typeof aBtnOrId === "string" ? $.$("custombuttons-button" + aBtnOrId) : aBtnOrId;
		let path = OS.Path.join($.storagePath, $.itemsFileName(id));
		OS.File.read(path).then(function onSuccess(aReadData) {
			let data = new TextDecoder().decode(aReadData);
			if (data === "") {
				$.createDummyFile(path, btn);
				return;
			}
			data = JSON.parse(data);
			if (data.length === 0) {
				$.createDummyFile(path, btn);
				return;
			}
			aOpenForEdit ?
				$.openEditMenuWindow(btn, data, path) :
				$.Creator.init(btn, data[0], data[1], data[2], data[3], data[4]);
		}, function onFailure(aRejectReason) {
			// Re-declare here to force call to storagePath so it can create the folder if it doesn't exists.
			path = OS.Path.join($.storagePath, $.itemsFileName(id));
			setTimeout(function() {
				$.createDummyFile(path, btn);
			}, 100);
		});
	},

	createDummyFile: function(aPath, aBtn) {
		OS.File.writeAtomic(aPath, $.dummyItems, {
			tmpPath: aPath + ".tmp",
			encoding: "utf-8"
		}).then(function onSuccess() {
			$.loadFromFile(aBtn);
		}, function onFailure(aRejectReason) {
			$.reportError(aRejectReason);
		});
	},

	/**
	 * NEVER CHANGE TO "BRANCH OBSERVER"!!!!
	 * Works like absolute SHEET on SeaMonkey!!!!
	 */
	handlePrefObserver: function(aRem) {
		var prefs = $.DefPrefs;
		for (let key in prefs) {
			let pref = $.Branch + key;
			if (prefs.hasOwnProperty(key)) {
				if (aRem)
					Services.prefs.removeObserver(pref, $.prefObserver, false);
				else
					Services.prefs.addObserver(pref, $.prefObserver, false);
			}
		}
	},

	prefObserver: {
		observe: function(aSubject, aTopic, aPStr) {
			if (aTopic === "nsPref:changed") {
				let prefName = aPStr.slice($.Branch.length);
				console.info(prefName);
				window[$._UID]["Preferences"][prefName] = $.gPref(prefName);
				switch (prefName) {
					case "pStyleForDialogHeaderEnabled":
					case "pStyleForMenuGroupEnabled":
					case "pStyleForMenuGroupReflectCheckedStateEnabled":
					case "pStylePanelConvertionType":
					case "pStyleSheetCustomEnabled":
					case "pStyleSheetCustom":
					case "pStyleInvertContextIcons":
					case "pStyleForOverflowedMenus":
					case "pStyleRemoveMainMenuAccelContainers":
						$.handleCSS();
						break;
				}
				$._ = window[$._UID]["Preferences"];
			}
		}
	},

	Creator: {
		init: function(aBtn, aBox1, aBox2, aBox3, aBox4, aBox5) {
			console.info("Init");
			var opt;
			let btnOptsPref = $.Branch + "OptionsForButtonID" + aBtn.id.slice(20);
			try {
				var btnOpts = {
					PopupPosition: "after_start",
					ShowTooltip: true,
					ConsumeOutsideClicks: false,
					FlipAttr: true,
					MenuOpenOnHover: false,
					PopupClass: "",
					ButtonClass: "",
				};
				custombuttons.isPref(btnOptsPref, JSON.stringify(btnOpts));
				opt = JSON.parse($.gCV(btnOptsPref, true));
			} catch (aErr) {
				$.reportError(aErr);
			} finally {
				var UID = "multi_menu" + aBtn.id.slice(13);
				/**
				 * Sick of double initialization of menu type buttons.
				 * So I dropped the orient attribute and the show dropmarker options.
				 */
				aBtn.setAttribute("popup", UID + "_main_menupopup");
				var mPop = $.$(UID + "_main_menupopup");
				mPop && mPop.parentNode.removeChild(mPop);
				mPop = $.$CNS("menupopup", {
					id: UID + "_main_menupopup",
					orient: "vertical",
					level: "parent",
					class: "multi_menu_main_menupopup",
					position: opt.PopupPosition,
					consumeoutsideclicks: opt.ConsumeOutsideClicks,
					// This is used to avoid CB context popup.
					oncontextmenu: "if(!event.target.hasOwnProperty('_data'))return false;",
					context: $._UID + "_multimenu_context",
					onpopupshown: "this.handleOpenState(event, true);event.stopPropagation();",
					onpopuphidden: "this.handleOpenState(event, false);event.stopPropagation();",
					onpopupshowing: "this.populateMenu(event);event.stopPropagation();",
					onpopuphiding: "this.textContent = '';event.stopPropagation();",
					oncommand: "event.stopPropagation();",
					onmousedown: "event.stopPropagation();",
					flip: (opt.FlipAttr ? "both" : "slide"),
				});

				(opt.PopupClass !== "") && mPop.classList.add(opt.PopupClass);
				(opt.ButtonClass !== "") && aBtn.classList.add(opt.ButtonClass);

				mPop.onclick = function(aE) {
					if (aE.target === this || aE.target.parentNode === this) {
						try {
							window[$._UID]["ThereIsAPopupOpened"].hidePopup();
						} catch (aErr) {}
					}
					aE.stopPropagation();
				};

				mPop.handleOpenState = function(aE, aState) {
					if (aState)
						aBtn.setAttribute("open", aState);
					else
						aBtn.removeAttribute("open");
					Array.prototype.slice.call(this.getElementsByAttribute("data-cmd", "*")).forEach(function(aMI) {
						aMI.cb_button = aBtn;
					});

					if (aE.type === "popuphidden") {
						try {
							window[$._UID]["ThereIsAPopupOpened"].hidePopup();
						} catch (aErr) {}
						window[$._UID]["ThereIsAPopupOpened"] = null;
					}

					if (aE.type === "popupshown") {
						// Sometimes the dynamic tooltip is freaking annoying!!!!
						try {
							$.dynTT.hidePopup();
						} catch (aErr) {}
					}

					aE.stopPropagation();
				};
				mPop.populateMenu = function(aE) {
					if ((!aBox2 || (aBox2 && aBox2.length <= 0)) &&
						(!aBox3 || (aBox3 && aBox3.length <= 0)) &&
						(!aBox4 || (aBox4 && aBox4.length <= 0)) &&
						(!aBox5 || (aBox5 && aBox5.length <= 0))) {
						$.Creator.createItems(mPop, aBox1);
					} else {
						let hBox = mPop.appendChild($.$CNS("hbox"));
						let box1 = hBox.appendChild($.$CNS("vbox", {
							class: "multi_menu_menubox_1",
						}));
						let box2 = hBox.appendChild($.$CNS("vbox", {
							class: "multi_menu_menubox_2",
						}));
						let box3 = hBox.appendChild($.$CNS("vbox", {
							class: "multi_menu_menubox_3",
						}));
						let box4 = hBox.appendChild($.$CNS("vbox", {
							class: "multi_menu_menubox_4",
						}));
						let box5 = hBox.appendChild($.$CNS("vbox", {
							class: "multi_menu_menubox_5",
						}));
						(aBox1 && aBox1.length > 0) &&
						$.Creator.createItems(box1, aBox1);
						(aBox2 && aBox2.length > 0) && $.Creator.createItems(box2, aBox2);
						(aBox3 && aBox3.length > 0) && $.Creator.createItems(box3, aBox3);
						(aBox4 && aBox4.length > 0) && $.Creator.createItems(box4, aBox4);
						(aBox5 && aBox5.length > 0) && $.Creator.createItems(box5, aBox5);
					}
					aE.stopPropagation();
				};
				// If appended to the button, consumeoutsideclicks works like SHEET!!!
				if (opt.MenuOpenOnHover)
					aBtn.appendChild(mPop);
				else // If appended outside the button, "open on hover" doesn't work!!!
					$.popSet.appendChild(mPop);
				$.Creator.handleAllButtons(aBtn.id, false);
				$.Creator.doTheMagic(aBtn, opt, UID + "_main_menupopup", btnOptsPref);
			}
		},

		doTheMagic: function(aBtn, aOpt, aMPopID, aBtnOptsPref) {
			var mPop = $.$(aMPopID);

			aBtn.onclick = function(aE) { // DO NOT USE EVENT LISTENER HERE!!!!
				if (aE.button === 0 && !aE.shiftKey && $.accel(aE) && !aE.altKey ||
					aE.button === 1 && !aE.shiftKey && !$.accel(aE) && !aE.altKey) {
					aE.preventDefault();
					let optPop = $.optPop;
					$.populateOptionsPopup(optPop, aE.target.id);
					optPop.openPopup(aE.target, mPop.position, 0, 0, false, null, null);
				}
				aE.stopPropagation();
			};

			aBtn.oncontextmenu = aBtn.onmousedown = function(aE) {
				if ($.accel(aE))
					aE.preventDefault();
				aE.stopPropagation();
			};

			if (!!mPop && aOpt.MenuOpenOnHover) {
				aBtn.openOnHoverTimer = 0;
				aBtn.onmouseover = function(aE) {
					aE.stopPropagation();
					clearTimeout(aBtn.openOnHoverTimer);
					aBtn.openOnHoverTimer = setTimeout(function() {
						mPop && mPop.openPopup(aBtn, mPop.position, 0, 0, false, null, null);
					}, $._.pMenuOpenDelay);
				};
				aBtn.onmouseout = mPop.onmouseout = function(aE) {
					$.hoveringOverMenu = false;
					clearTimeout(aBtn.openOnHoverTimer);
					aBtn.openOnHoverTimer = setTimeout(function() {
						if (($.ctxPop && $.ctxPop.state !== "open") &&
							(mPop.state === "open" && !$.hoveringOverMenu && !window[$._UID]["ThereIsAPopupOpened"]))
							mPop && mPop.hidePopup();
					}, $._.pMenuCloseDelay);
					aE.stopPropagation();

				};
				mPop.onmouseover = function(aE) {
					$.hoveringOverMenu = true;
					aE.stopPropagation();
				};
			} else {
				aBtn.onmouseover = mPop.onmouseover = null;
				aBtn.onmouseout = mPop.onmouseout = null;
			}

			if (aOpt.ShowTooltip) {
				aBtn.tooltipText = "";
				aBtn.setAttribute("tooltip", $._UID + "-dynamic-tooltip");
			} else {
				aBtn.tooltipText = aBtn.name;
				aBtn.removeAttribute("tooltip");
			}

			if (aBtn !== self) {
				// Custom destructor function.
				$.addDestructor(function(aReason) {
					if (aReason === "update") {
						aBtn.textContent = "";
					}
					if (aReason === "delete") {
						custombuttons.clearPrefs(aBtnOptsPref);
						let btnIDs = window["__Custom_Buttons_Multi_Menu__"]["ButtonsIDs"];
						while (btnIDs.indexOf(aBtn.id.slice(20)) !== -1) {
							btnIDs.splice(btnIDs.indexOf(aBtn.id.slice(20)), 1);
						}
					}
				}, aBtn);
			}
		},

		/**
		 * "Register" all buttons IDs (just the numbers) globally to be handled by Multi Menu Companion button.
		 * Re-init all Multi Menu buttons (Master and slaves) at the same time when needed.
		 */
		handleAllButtons: function(aBtnID, aReInit) {
			let ButtonsIDs = window["__Custom_Buttons_Multi_Menu__"]["ButtonsIDs"] || [];
			aReInit || ButtonsIDs.push(aBtnID.slice(20));
			var UniqueIDs = ButtonsIDs.reduce(function(a, b) { // Remove duplicated IDs if any. To avoid re-init more than once the same button.
				if (a.indexOf(b) < 0)
					a.push(b);
				return a;
			}, []);
			window["__Custom_Buttons_Multi_Menu__"]["ButtonsIDs"] = UniqueIDs;
			if (aReInit) {
				// Auto-destroy "Master" button first.
				self.destroy("update");
				setTimeout(function() {
					self.init();
				}, 100);
				// Auto-destroy all the "slaves" in last place randomly.
				let reInit = function(aBtn, aNotifyme) {
					setTimeout(function() {
						aBtn.destroy("update");
						setTimeout(function() {
							aBtn.init();
							if (aNotifyme) {
								setTimeout(function() {
									$.alertCallback.opt = {
										footer: null,
										centerScreen: false,
									};
									$.notifyme(self.name, "All Multi Menu buttons re-initialized.",
										$.getHelp("%AlertImg%"),
										$.alertCallback);
								}, 2000);
							}
						}, 100);
					}, $.delay);
				};
				for (var i = UniqueIDs.length - 1; i >= 0; i--) {
					if (UniqueIDs[i] !== self.id.slice(20)) {
						let btn = $.$("custombuttons-button" + UniqueIDs[i]);
						btn && reInit(btn, i === 1);
					}
				}
			}
		},

		menuItem: function(aItem, aVal) {
			var mI = $.$CNS("menuitem", {
				class: "menuitem-iconic",
			});
			mI.classList.add("multi_menu_item_type_" + aItem["_type_"]);
			switch (aItem["_type_"]) {
				case "url":
					mI._data = {
						type: "url",
						url: aItem["_url"],
						desc: (aItem["tooltiptext"] || ""),
					};
					$.$setAttrs(mI, {
						label: aItem["label"] || "",
						image: aItem["image"] || "",
						tooltip: $._UID + "-dynamic-tooltip",
					});
					mI.onclick = function(aE) {
						aE.preventDefault();
						$.Creator.handleURL(aItem["_url"] || "", aE, aItem["_force"]);
						aE.stopPropagation();
					};
					break;
				case "cb":
					let btnID = /^custombuttons-button\d+/.test(aItem["_id"]) ?
						aItem["_id"] :
						"custombuttons-button" + aItem["_id"];
					/**
					 * Do not allow to place Multi Menu master button inside a menu.
					 */
					if (btnID === self.id)
						return false;
					var btn = {
						obj: $.$(btnID),
						lbl: function(aBtn) {
							return aBtn.name || "Don't be lazy and NAME your buttons!!!" || "";
						},
						img: function(aBtn) {
							return aBtn.image || $.getImg(aBtn.getAttribute("cb-stdicon")) || "";
						},
						ttt: function(aBtn) {
							return aBtn.getAttribute("tooltiptext") || aBtn.name || "";
						},
						check: function(aBtn) {
							return aBtn.checked || /*aBtn.getAttribute("checked") ||*/ "";
						},
						style: function(aBtn) {
							return aBtn.getAttribute("style") || "";
						},
					};

					if (!btn.obj)
						return false;
					mI.btn = btn.obj;
					let setMIAttrs = function(aMI, aBtn) {
						$.$setAttrs(aMI, {
							label: btn.lbl(aBtn),
							image: btn.img(aBtn),
							closemenu: "none",
							tooltiptext: btn.ttt(aBtn),
							style: btn.style(aBtn),
						});
						if (btn.check(aBtn))
							aMI.setAttribute("_checked", true);
						else
							aMI.removeAttribute("_checked");
					};
					setMIAttrs(mI, btn.obj);
					if (btn.obj.hasAttribute("popup")) {
						mI.onclick = function(aE) {
							if (aE.button !== 0)
								return true;
							aE.preventDefault();
							let pop = $.$(btn.obj.getAttribute("popup"));
							if (pop) {
								try {
									let opndPop = window[$._UID]["ThereIsAPopupOpened"];
									if (opndPop && opndPop !== pop) {
										opndPop.hidePopup();
										window[$._UID]["ThereIsAPopupOpened"] = null;
									}
								} catch (aErr) {} finally {
									if (pop.state === "open") {
										pop.hidePopup();
										window[$._UID]["ThereIsAPopupOpened"] = null;
									} else {
										pop.openPopup(this, "after_start", 0, 0, false, null, null);
										window[$._UID]["ThereIsAPopupOpened"] = pop;
									}
								}
							}
							aE.stopPropagation();
						};
					}
					if (aItem["_advanced"]) {
						for (let i in btn.obj) {
							if (!/moz/.test(i) && !/onDestroy/.test(i) && (/^on/.test(i) || /click$/.test(i))) {
								if (!!btn.obj[i] && !/\[native code\]/.test(btn.obj[i].toString())) {
									if (btn.obj.hasAttribute("popup") && i === "onclick")
										continue;
									mI[i] = btn.obj[i];
								}
							}
						}
					}
					if (!aItem["_advanced"] && !btn.obj.hasAttribute("popup")) {
						mI.onclick = function(aE) {
							if (aE.button === 0) {
								aE.preventDefault();
								btn.obj.click();
							}
							aE.stopPropagation();
						};
					}
					mI.addEventListener("contextmenu", function(aE) {
						self.MultiMenu.showCBContext(btn.obj, this);
						aE.stopPropagation();
					}, true);
					mI.addEventListener("click", function(aE) {
						let that = this;
						setTimeout(function() {
							setMIAttrs(that, that.btn);
						}, 500);
						aE.stopPropagation();
					}, false);
					break;
				case "pathFull":
				case "pathRelative":
					$.$setAttrs(mI, {
						label: aItem["label"] || "",
						image: aItem["image"] || "",
						tooltiptext: aItem["tooltiptext"] || "",
						oncommand: $.that + "openDir(this.value1, this.value2, this.value3, this.value4);event.stopPropagation();"
					});
					mI.value1 = aItem["_const"] || "pathFull";
					mI.value2 = aItem["_path"] || "";
					mI.value3 = aItem["_args"] || [];
					mI.value4 = parseInt(aItem["_go_up"], 10) || 0;
					break;
				case "customMenuItem":
					$.$setAttrs(mI, {
						label: aItem["label"] || "",
						image: aItem["image"] || "",
						"data-cmd": aItem["_cmd"] || "",
						tooltiptext: aItem["tooltiptext"] || "",
						oncommand: "event.stopPropagation();",
						onclick: $.that + "executeCode(event, this.cb_button, this.getAttribute('data-cmd'));event.stopPropagation();",
					});
					break;
				case "pref":
					let pName = aItem["_prefname"];
					var pVal = $.Creator.getPrefVal(pName);
					pVal = pVal === null ? "Non existent!!!" : pVal.toString();
					let shortPName = aItem["_prefname"] ?
						aItem["_prefname"] :
						(pName.length > $._.pPrefLabelMaxLength) ?
						pName.slice(0, $._.pPrefLabelMaxLength) + "..." :
						pName;
					let pState = (pVal.length > $._.pPrefValueMaxLength) ?
						pVal.slice(0, $._.pPrefValueMaxLength) + "..." :
						pVal;
					mI._data = {
						desc: aItem["tooltiptext"] || "",
						type: "pref",
						prefname: pName,
						prefvalue: aItem["_values"],
					};
					$.$setAttrs(mI, {
						label: ($._.pPrefLabelType ?
							aItem["label"] || shortPName :
							aItem["label"] || shortPName + "  " + "[" + pState + "]"),
						acceltext: ($._.pPrefLabelType ?
							"[" + pState + "]" :
							""),
						closemenu: (($.SP.getPrefType(pName) === 128 || aItem["_values"].length > 0) ?
							"none" :
							""),
						"data-cmd": aItem["_cmd"] || "",
						oncommand: "event.stopPropagation();",
						onclick: "this.onClick(event);event.stopPropagation();",
						tooltip: $._UID + "-dynamic-tooltip",
					});
					mI.contextMenuAction = function(aE, aAction) {
						switch (aAction) {
							case "modifypref":
								$.Creator.setPref(pName, null, true);
								break;
							case "copypref":
								gClipboard.write(pName + ';' + pVal);
								break;
							case "copyprefname":
								gClipboard.write(pName);
								break;
							case "copyprefvalue":
								gClipboard.write(pVal);
								break;
							case "copyprefasfunction":
								if ($.SP.getPrefType === 32) // If pref type is string.
									gClipboard.write('user_pref("' + pName + '", "' + pVal + '");');
								else // If pref type is boolean or integer.
									gClipboard.write('user_pref("' + pName + '", ' + pVal + ');');
								break;
							case "togglelockedpref":
								if ($.SP.prefIsLocked(pName)) {
									$.SP.unlockPref(pName);
									$.SP.savePrefFile(null);
								} else {
									$.SP.lockPref(pName);
									$.SP.savePrefFile(null);
								}
								$.Creator.setPrefItemClass(mI, pName);
								break;
							case "resetpref":
								if ($._.pPrefResetConfirmation) {
									let msg = "Are you sure you want to reset the preference \"" +
										pName + "\" to its " +
										"default value?\n\nThere is no coming back from this!!!\n\n" +
										"Click 'Yes' to proceed.\n" +
										"Click 'Cancel' to abort.\n";
									let cBox = custombuttons.confirmBox(self.name, msg, "Yes", "Cancel");
									if (cBox) {
										$.SP.clearUserPref(pName);
										$.SP.savePrefFile(null);
									} else
										return;
								} else {
									$.SP.clearUserPref(pName);
									$.SP.savePrefFile(null);
								}
								break;
						}
						setTimeout(function() {
							$.Creator.updatePrefMI(mI, pName);
						}, 50);
					};
					mI.onClick = function(aE) {
						if (aE.button === 2)
							return false;
						aE.preventDefault();
						if (aE.button === 0 && !aE.shiftKey && !$.accel(aE) && !aE.altKey)
							$.Creator.setPref(pName, aItem["_values"]);
						else if (aE.button === 0 && !aE.shiftKey && $.accel(aE) && !aE.altKey)
							$.Creator.setPref(pName, aItem["_values"], false, true);
						$.Creator.updatePrefMI(this, pName);
						let cmd = this.getAttribute("data-cmd");
						if (cmd !== "") {
							let btn = this.cb_button;
							setTimeout(function() {
								$.executeCode(aE, btn, cmd);
							}, 100);
						}
						aE.stopPropagation();
					};
					$.Creator.setPrefItemClass(mI, pName);
					break;
			}
			return mI;
		},

		createItems: function(aBox, aArr) {
			Array.prototype.slice.call(aArr).forEach(function(aItem) {
				switch (aItem["_type_"]) {
					case "menuseparator":
						aBox.appendChild($.$CNS("menuseparator"));
						break;
					case "spacer":
						aBox.appendChild($.$CNS("spacer", {
							flex: parseInt(aItem["flex"], 10) || 0
						}));
						break;
					case "dialogheader":
						aBox.appendChild($.$CNS("dialogheader", {
							title: aItem["title"] || "",
							description: aItem["description"] || "",
						}));
						break;
					case "menuGroup":
						let mG = aBox.appendChild($.$CNS("menugroup", {
							orient: aItem["orient"] || "horizontal"
						}));
						$.Creator.createItems(mG, aItem["_items"] || []);
						break;
					case "addon":
						switch (aItem["_type_or_id"]) {
							case "extension":
								$.Creator.createAddonMenu(aItem["_type_or_id"],
									aBox.appendChild($.$CNS("vbox")),
									aItem["_filter"] || "");
								break;
							case "theme":
								$.Creator.createAddonMenu(aItem["_type_or_id"],
									aBox.appendChild($.$CNS("vbox")));
								break;
							case "plugin":
								$.Creator.createAddonMenu(aItem["_type_or_id"],
									aBox.appendChild($.$CNS("vbox")));
								break;
							case "userstyle": // Stylish add-on
								$.Creator.addonExistence("{46551EC9-40F0-4e47-8E18-8E5CF550CFB8}",
									aItem["_type_or_id"],
									aBox.appendChild($.$CNS("vbox")));
								break;
							case "greasemonkey-user-script": // GreaseMonkey add-on
								$.Creator.addonExistence("{e4a8a97b-f2ed-450b-b12d-ee082ba24781}",
									aItem["_type_or_id"],
									aBox.appendChild($.$CNS("vbox")));
								break;
							case "userscript": // Scriptish add-on
								$.Creator.addonExistence("scriptish@erikvold.com",
									aItem["_type_or_id"],
									aBox.appendChild($.$CNS("vbox")));
								break;
							default:
								let vBox = aBox.appendChild($.$CNS("vbox"));
								AddonManager.getAddonByID(aItem["_type_or_id"], function(aAddon) {
									if (aAddon)
										vBox.appendChild($.Creator.createAddonItem(aAddon, true));
								});
								break;
						}
						break;
					case "clonedMenuItem":
						let mI = $.$(aItem["_id"]);
						if (mI && mI.nodeName === "menuitem") {
							let clone = mI.cloneNode(true);
							$.$setAttrs(clone, {
								id: mI.getAttribute("id") + "-cloned-by-" + $._UID,
								image: aItem["image"] || "",
								tooltiptext: aItem["tooltiptext"] || ""
							});
							clone.classList.add("menuitem-iconic", "multi_menu_item_type_clonedMenuItem");
							aBox.appendChild(clone);
						}
						break;
					case "clonedMenu":
						let eM = $.$(aItem["_id"]);
						if (eM && eM.nodeName === "menu") {
							let clone = eM.cloneNode(true);
							$.$setAttrs(clone, {
								id: eM.getAttribute("id") + "-cloned-by-" + $._UID,
								image: aItem["image"] || "",
								tooltiptext: aItem["tooltiptext"] || "",
								"data-cmd": aItem["_cmd"] || "",
								onclick: $.that + "executeCode(event, this.cb_button, this.getAttribute('data-cmd'));event.stopPropagation();",
							});
							clone.setAttribute("id", eM.id + "-cloned-by-" + $._UID);
							["popupshown", "popuphidden", "popupshowing", "popuphiding", "contextmenu"].forEach(function(aEvt) {
								clone.addEventListener(aEvt, function(aE) {
									aE.stopPropagation();
								}, false);
							});
							let cChilds = clone.getElementsByAttribute("id", "*");
							let iLen = cChilds.length;
							for (let i = iLen - 1; i >= 0; i--)
								cChilds[i].id = cChilds[i].id + "-cloned-by-" + $._UID;
							clone.classList.add("menu-iconic", "multi_menu_item_type_clonedMenu");
							aBox.appendChild(clone);
						}
						break;
					case "customMenu":
						let m = $.$CNS("menu", {
							label: aItem["label"] || "",
							class: "multi_menu_item_type_customMenu menu-iconic",
							"data-cmd": aItem["_cmd"] || "",
							onclick: $.that + "executeCode(event, this.cb_button, this.getAttribute('data-cmd'));event.stopPropagation();",
							image: aItem["image"] || "",
							tooltiptext: aItem["tooltiptext"] || "",
						});
						let mPop = $.$CNS("menupopup", {
							// orient: "horizontal",
							onclick: "event.stopPropagation();",
							onpopupshown: "event.stopPropagation();",
							onpopuphidden: "event.stopPropagation();",
							onpopupshowing: "event.stopPropagation();",
							onpopuphiding: "event.stopPropagation();",
							oncontextmenu: "event.stopPropagation();",
							consumeoutsideclicks: false,
						});
						mPop = $.Creator.createItems(mPop, aItem["_items"] || []);
						m.appendChild(mPop);
						aBox.appendChild(m);
						break;
					case "pref":
					case "customMenuItem":
					case "url":
					case "pathRelative":
					case "pathFull":
					case "cb":
						let itemCreated = $.Creator.menuItem(aItem);
						itemCreated && aBox.appendChild(itemCreated);
						break;
				}
			});
			return aBox;
		},

		//START// Add-ons functions
		addonExistence: function(aId, aType, aBox) {
			AddonManager.getAddonByID(aId, function(a) {
				if (a && a.isActive)
					$.Creator.createAddonMenu(aType, aBox);
			});
		},

		createAddonMenu: function(aType, aBox, aFilter) {
			AddonManager.getAddonsByTypes([aType], function(aList) {
				var addonList = aList.filter(function(a) {
					let ops = a.operationsRequiringRestart;
					if (aFilter === "restartless")
						return !a.appDisabled && !(ops & AddonManager.OP_NEEDS_RESTART_ENABLE ||
							ops & AddonManager.OP_NEEDS_RESTART_DISABLE);
					else if (aFilter === "normal")
						return !a.appDisabled && (ops & AddonManager.OP_NEEDS_RESTART_ENABLE ||
							ops & AddonManager.OP_NEEDS_RESTART_DISABLE);
					else
						return !a.appDisabled;
				});
				addonList.sort(function(a, b) {
					var ka = ($._.pAddonsSortByEnabled && aType !== "theme") ?
						a.isActive ?
						0 + "\n" + a.name.toLowerCase() :
						1 + "\n" + a.name.toLowerCase() :
						a.name.toLowerCase();
					var kb = ($._.pAddonsSortByEnabled && aType !== "theme") ?
						b.isActive ?
						0 + "\n" + b.name.toLowerCase() :
						1 + "\n" + b.name.toLowerCase() :
						b.name.toLowerCase();
					return ka === kb ? 0 : ka < kb ? -1 : 1;
				}).forEach(function(a) {
					var addon = $.Creator.createAddonItem(a, false);
					addon && aBox.appendChild(addon);
				});
			});
		},

		createAddonItem: function(a, aUnique) {
			var lbl;
			var isHidden = aUnique ? false : $.Creator.blackListAddon(a.id, true);
			if (isHidden && !$._.pShowBlacklistedAddons)
				return false;
			if (a.isSystem) // Do not list "system add-ons". ¬¬
				return false;

			switch ($._.pAddonsVersion) {
				case 0: // Do not show version
				case 2: // Show as acceltext
					lbl = a.name;
					break;
				case 1: // Show as part of the label
					lbl = a.name + " " + a.version;
					break;
			}

			var isTheme = (a.type === "theme");
			var mI = $.$CNS("menuitem", {
				label: lbl,
				type: (isTheme ? "radio" : ""),
				name: (isTheme ? "theme" : ""),
				tooltip: $._UID + "-dynamic-tooltip",
				acceltext: (($._.pAddonsVersion === 2) ? a.version : ""),
				class: "menuitem-iconic multi_menu_item_type_addon",
				closemenu: ($._.pAddonsAutoCloseMenu ? "auto" : "none"),
				hidden: ($._.pShowBlacklistedAddons ? "" : isHidden),
				oncommand: "event.stopPropagation();",
				onclick: "this.onClick(event);event.stopPropagation();",
				checked: (isTheme ? !a.userDisabled : ""),
				image: (isTheme ? "" : (a.iconURL || a.icon64URL ||
					a.type === "extension" && "chrome://mozapps/skin/extensions/extensionGeneric-16.png" ||
					a.type === "plugin" && "chrome://mozapps/skin/plugins/pluginGeneric-16.png" || "")),
			});
			mI.classList.add("addon_type_" + a.type);
			mI._data = {
				creator: ((a.creator && a.creator.name) ? a.creator.name : ""),
				desc: (a.description ? a.description : ""),
				type: a.type,
				id: a.id,
				updDate: new Date(a.updateDate).toDateString(),
				unique: aUnique,
				version: a.version,
			};
			var toggleAddon = function() {
				if (a.type === "plugin")
					$.Creator.setNewDisabled(a);
				else
					a.userDisabled = !a.userDisabled;
				$.Creator.setAddonItemClass(a, mI, true);
			};

			mI.contextMenuAction = function(aE, aAction) {
				switch (aAction) {
					case "options":
						$.Creator.openAddonOptions(a);
						break;
					case "toggle":
						toggleAddon();
						break;
					case "backlist":
						$.Creator.blackListAddon(a.id);
						$.Creator.setAddonItemClass(a, mI);
						break;
					case "homepage":
						if (a.type === "extension" ||
							a.type === "theme") {
							$.Creator.getAMOPage(a, function(aAMOPage) {
								aAMOPage && $.Creator.openURL(aAMOPage, 3, true, aE);
							});
						} else if (a.type === "greasemonkey-user-script" ||
							a.type === "userscript") {
							let installPage = $.Creator.getInstallURL(a);
							installPage && $.Creator.openURL(installPage, 3, true, aE);
						}
						break;
					case "copyid":
						gClipboard.write(a.id);
						break;
					case "remove":
						let uniState = $.Creator.isPending(a, "uninstall");
						let rem = function() {
							if (uniState)
								a.cancelUninstall();
							else
								a.uninstall();
							$.Creator.setAddonItemClass(a, mI);
						};
						if ($.accel(aE)) {
							rem();
						} else {
							let cBox = custombuttons.confirmBox(self.name, "Are you sure you want to " +
								(uniState ? "cancel the removal of " : "uninstall ") +
								a.name + "?", "Yes", "Cancel");
							if (cBox) {
								rem();
							} else
								return;
						}
						break;
					case "edit":
						(a.type === "greasemonkey-user-script") && GM_util.openInEditor(a._script);
						(a.type === "userscript") && Scriptish_openInEditor(a, window);
						(a.type === "userstyle") && stylishCommon.openEditForId(a.id);
						break;
					case "inspect":
						inspectObject(a);
						break;
					case "browse":
						if (a.type === "extension") {
							var dir = Services.dirsvc.get("ProfD", Ci.nsIFile);
							dir.append("extensions");
							dir.append((a.type === "extension") ? a.id : a._script.file);
							(new $._nsIFile(dir.path + (dir.exists() ? "" : ".xpi"))).reveal();
						} else if (a.type === "greasemonkey-user-script")
							(new $._nsIFile(a._script.file.parent.path)).reveal();
						break;

				}
			};

			mI.oncontextmenu = mI.onmousedown = function(aE) {
				if ($.accel(aE))
					aE.preventDefault();
				aE.stopPropagation();
			};
			mI.onClick = function(aE) {
				if (aE.button === 0 && !aE.shiftKey && !$.accel(aE) && !aE.altKey) {
					aE.preventDefault();
					if (a.type === "extension" ||
						a.type === "greasemonkey-user-script" ||
						a.type === "userscript")
						$.Creator.openAddonOptions(a);
					else if (a.type === "userstyle")
						stylishCommon.openEditForId(a.id);
					else if (a.type === "theme")
						toggleAddon();
				} else if (aE.button === 2 && !aE.shiftKey && $.accel(aE) && !aE.altKey) {
					aE.preventDefault();
					$.Creator.blackListAddon(a.id);
					$.Creator.setAddonItemClass(a, mI);
				} else if (aE.button === 1 && !aE.shiftKey && !$.accel(aE) && !aE.altKey ||
					aE.button === 0 && !aE.shiftKey && $.accel(aE) && !aE.altKey) {
					aE.preventDefault();
					toggleAddon();
				}
				$.Creator.setAddonItemClass(a, mI);
				aE.stopPropagation();
			};
			$.Creator.setAddonItemClass(a, mI);
			return mI;
		},

		setAddonItemClass: function(a, aMI, aFromClick) {
			aMI.classList.toggle("state_ask_to_activate", a.userDisabled === AddonManager.STATE_ASK_TO_ACTIVATE);
			aMI.classList.toggle("state_active", a.isActive);
			aMI.classList.toggle("state_disabled", !a.isActive);
			aMI.classList.toggle("hidden_addon", $.Creator.blackListAddon(a.id, true));
			setTimeout(function() {
				let isPendingEnabled = $.Creator.isPending(a, "enable"),
					isPendingDisabled = $.Creator.isPending(a, "disable"),
					isPendingUninstall = $.Creator.isPending(a, "uninstall");
				aMI.classList.toggle("pending_enable", isPendingEnabled);
				aMI.classList.toggle("pending_disable", isPendingDisabled);
				aMI.classList.toggle("pending_uninstall", isPendingUninstall);
				if (!aFromClick)
					return true;
				$.alertCallback.opt = {
					footer: null,
					centerScreen: true,
				};
				if (isPendingEnabled) {
					$.notifyme($.SA.name + " needs to be restarted",
						"to ENABLE " + a.name + ".",
						$.getHelp("%WarningImg%"),
						$.alertCallback);
				}
				if (isPendingDisabled) {
					$.notifyme($.SA.name + " needs to be restarted",
						"to DISABLE " + a.name + ".",
						$.getHelp("%WarningImg%"),
						$.alertCallback);
				}
				if (isPendingUninstall) {
					$.notifyme($.SA.name + " needs to be restarted",
						"to UNINSTALL " + a.name + ".",
						$.getHelp("%WarningImg%"),
						$.alertCallback);
				}
			}, 100);
		},

		setNewDisabled: function(aAddon) {
			var newDis = $.Creator.getNewDisabled(aAddon);
			var oldDis = aAddon.userDisabled;
			aAddon.userDisabled = newDis;
			var realDis = aAddon.userDisabled;
			if (realDis != newDis) { // We can't enable vulnerable plugins
				var err = "Can't set addon.userDisabled to " + newDis + ", real value: " + realDis;
				if (newDis) {
					$.reportError(err + "\nSTATE_ASK_TO_ACTIVATE not supported?");
					newDis = false;
				} else {
					$.reportError(err + "\nVulnerable plugin?");
					if (oldDis == AddonManager.STATE_ASK_TO_ACTIVATE)
						newDis = true;
					else
						newDis = AddonManager.STATE_ASK_TO_ACTIVATE;
				}
				aAddon.userDisabled = newDis;
			}
			return aAddon.userDisabled;
		},

		getNewDisabled: function(aAddon) {
			var curDis = aAddon.userDisabled;
			var newDis;
			if ("STATE_ASK_TO_ACTIVATE" in AddonManager && curDis === AddonManager.STATE_ASK_TO_ACTIVATE)
				newDis = false;
			else if (!curDis)
				newDis = true;
			else {
				if ($.Creator.isAskToActivateAddon(aAddon))
					newDis = AddonManager.STATE_ASK_TO_ACTIVATE;
				else
					newDis = false;
			}
			return newDis;
		},

		isAskToActivateAddon: function(aAddon) {
			return aAddon.type === "plugin" &&
				"STATE_ASK_TO_ACTIVATE" in AddonManager &&
				$.SP.getBoolPref("plugins.click_to_play");
		},

		blackListAddon: function(aID, aCheck) {
			var blackList = $._.pAddonsBlackList.split(",").filter(function(aVal) {
				if (aVal !== "")
					return true;
			});
			var addonID = aID;
			if (aCheck) {
				if (blackList.indexOf(addonID) !== -1)
					return true;
				else
					return false;
			} else {
				if (blackList.indexOf(addonID) !== -1) {
					while (blackList.indexOf(addonID) !== -1) {
						blackList.splice(blackList.indexOf(addonID), 1);
					}
				} else
					blackList.push(aID);
				$.sCV("pAddonsBlackList", blackList.join(","));
			}
			return false;
		},

		openAddonOptions: function(aAddon) {
			var optURL = aAddon.optionsURL;
			if (!aAddon.isActive || !optURL)
				return false;
			if (aAddon.optionsType == AddonManager.OPTIONS_TYPE_INLINE)
				$.Creator.openAddonPage(aAddon, true);
			else if (aAddon.optionsType == AddonManager.OPTIONS_TYPE_TAB && "switchToTabHavingURI" in window)
				switchToTabHavingURI(optURL, true);
			else {
				let windows = Services.wm.getEnumerator(null);
				while (windows.hasMoreElements()) {
					let win = windows.getNext();
					if (win.document.documentURI == optURL) {
						win.focus();
						return true;
					}
				}
				window.openDialog(optURL, "", "resizeble,chrome,titlebar,toolbar,centerscreen,dialog=no");
			}
			return true;
		},

		openAddonsManager: function(aView) {
			var openAddonsMgr = window.BrowserOpenAddonsMgr // Firefox
				|| window.openAddonsMgr // Thunderbird
				|| window.toEM; // SeaMonkey
			openAddonsMgr(aView);
		},

		openAddonPage: function(aAddon, aScrollToPreferences) {
			aScrollToPreferences = aScrollToPreferences && parseFloat($.SA.platformVersion) >= 12 ?
				"/preferences" :
				"";
			$.Creator.openAddonsManager("addons://detail/" + encodeURIComponent(aAddon.id) +
				aScrollToPreferences);
		},

		getAMOPage: function(aAddon, aCallback) {
			if (aAddon) {
				if (aAddon.type === "extension") {
					let url = "https://services.addons.mozilla.org/en-US/firefox/api/1.5/search/guid:" +
						aAddon.id + "?src=" + $.SA.name.toLowerCase() + "&appOS=" +
						$.SA.OS.toLowerCase() + "&appVersion=";

					let xhr = new XMLHttpRequest();
					try {
						xhr.open("GET", url, true);
					} catch (aErr) {
						aCallback(false);
						return true;
					}
					xhr.onreadystatechange = function(aE) {
						if (xhr.readyState === 4 && xhr.status === 200) {
							let XMLDoc = aE.target.responseXML.documentElement;
							if (!XMLDoc) {
								aCallback(false);
								return true;
							}
							let addonDocs = XMLDoc.getElementsByTagName("addon");
							if (!addonDocs || addonDocs.length === 0) {
								aCallback(false);
								return true;
							}
							for (let a = addonDocs.length - 1; a >= 0; a--) {
								let GUID = addonDocs[a].getElementsByTagName("guid");
								if (!GUID)
									continue;
								for (let b = GUID.length - 1; b >= 0; b--) {
									if (GUID[b].textContent === aAddon.id) {
										aCallback("https://addons.mozilla.org/addon/" +
											addonDocs[a].getAttribute("id"));
										continue;
									}
								}
							}
						} else if (xhr.readyState === 4 && xhr.status !== 200) {
							aCallback(false);
						}
					};
					xhr.onerror = function() {
						aCallback(false);
					};
					xhr.send(null);
				} else if (aAddon.type === "theme") {
					let AMO_ID = parseInt(aAddon.id.substring(0, aAddon.id.indexOf("@")), 10);
					if (isNaN(AMO_ID) || !AMO_ID) {
						aCallback(false);
						return true;
					}
					aCallback("https://addons.mozilla.org/addon/" + AMO_ID);
				}
			} else {
				aCallback(false);
			}
		},

		getInstallURL: function(aAddon) {
			if (!aAddon)
				return false;
			var url = false;
			switch (aAddon.type) {
				case "greasemonkey-user-script":
					url = aAddon._script._downloadURL || aAddon._script._updateURL;
					break;
				case "userscript":
					url = aAddon._downloadURL || aAddon._updateURL;
					break;
			}
			return url;
		},

		isPending: function(a, aAction) {
			var action = AddonManager["PENDING_" + aAction.toUpperCase()];
			return !!(a.pendingOperations & action);
		},
		//END// Add-ons functions

		//START// Preference items functions
		setPref: function(aPName, aPVal, aPrompt, aInverse) {
			if ($.SP.prefIsLocked(aPName)) {
				$.alertCallback.opt = {
					footer: 2,
					centerScreen: true,
					prefName: aPName,
				};
				$.notifyme(aPName,
					"This preference is 𝗹𝗼𝗰𝗸𝗲𝗱.",
					$.getHelp("%WarningImg%"),
					$.alertCallback);
				return;
			}
			var newValue = null,
				curValue,
				prefType = $.SP.getPrefType(aPName),
				valueList = aPVal;
			let i = 0,
				iLen = valueList ? valueList.length : null;
			switch (prefType) {
				case 0:
					$.alertCallback.opt = {
						footer: 1,
						centerScreen: true,
						prefName: aPName,
					};
					$.notifyme(aPName,
						"This preference 𝗱𝗼𝗲𝘀𝗻'𝘁 𝗲𝘅𝗶𝘀𝘁𝘀.",
						$.getHelp("%WarningImg%"),
						$.alertCallback);
					return true;
				case 32:
				case 64:
					let isNum = prefType === 64;
					curValue = isNum ?
						$.SP.getIntPref(aPName) :
						$.SP.getComplexValue(aPName, Ci.nsISupportsString).data;
					if (iLen && iLen > 1 && !aPrompt) {
						for (; i < iLen; i++) {
							if (valueList[i] === curValue) {
								newValue = aInverse ? (valueList[i - 1] || null) : (valueList[i + 1] || null);
								continue;
							}
						}
						if (!newValue)
							newValue = aInverse ? valueList[iLen - 1] : valueList[0];
						isNum ?
							$.SP.setIntPref(aPName, newValue) :
							$.SP.setComplexValue(aPName, Ci.nsISupportsString, $._nsISS);
					} else {
						newValue = $.promptme(aPName, curValue);
						if (newValue) {
							isNum ?
								$.SP.setIntPref(aPName, newValue) :
								$.SP.setComplexValue(aPName, Ci.nsISupportsString, $._nsISS);
						}
					}
					break;
				case 128:
					$.SP.setBoolPref(aPName, !$.SP.getBoolPref(aPName));
					break;
			}
		},

		updatePrefMI: function(aMI, aPName) {
			let pVal = $.Creator.getPrefVal(aPName);
			if (pVal === null) {
				$.Creator.setPrefItemClass(aMI, aPName);
				return true;
			}
			pVal = pVal.toString();
			let lbl = aMI.label;
			let pState = (pVal.length > $._.pPrefValueMaxLength) ?
				pVal.slice(0, $._.pPrefValueMaxLength) + "..." :
				pVal;
			if ($._.pPrefLabelType) {
				aMI.setAttribute("label", lbl);
				aMI.setAttribute("acceltext", "[" + pState + "]");
			} else {
				lbl = lbl.split("[")[0];
				aMI.setAttribute("label", lbl + "[" + pState + "]");
			}
			$.Creator.setPrefItemClass(aMI, aPName);
		},

		setPrefItemClass: function(aMI, aPName) {
			aMI.classList.toggle("is_locked", $.SP.prefIsLocked(aPName));
			aMI.classList.toggle("has_user_value", $.SP.prefHasUserValue(aPName));
			aMI.classList.toggle("non_existent", $.SP.getPrefType(aPName) === 0);
		},

		dealWithNonExistentPref: function(aPrefName) {
			let opts = ["Boolean", "Integer", "String"];
			let selected = {};
			let result = Services.prompt.select(null, self.name, "Choose the preference type.", opts.length,
				opts, selected);
			if (result) {
				switch (selected.value) {
					case 0:
						$.SP.setBoolPref(aPrefName, false);
						break;
					case 1:
						$.SP.setIntPref(aPrefName, 0);
						break;
					case 2:
						let str = $._nsISS;
						str.data = "";
						$.SP.setComplexValue(aPrefName, Ci.nsISupportsString, str);
						break;
				}
			} else
				return;
		},

		getPrefVal: function(aPName) {
			switch ($.SP.getPrefType(aPName)) {
				case 0:
					return null;
				case 32:
					return $.SP.getComplexValue(aPName, Ci.nsISupportsString).data;
				case 64:
					return $.SP.getIntPref(aPName);
				case 128:
					return $.SP.getBoolPref(aPName);
			}
			return false;
		},
		//END// Preference items functions

		//START// URL functions
		handleURL: function(aUrl, aE, aForced) {
			let isNavigator = "gBrowser" in window;
			if (isNavigator && !aForced) {
				let tab = gBrowser.visibleTabs.find(tab => tab.linkedBrowser.currentURI.spec === aUrl);
				if (tab) {
					gBrowser.tabContainer._notifyBackgroundTab(gBrowser.selectedTab = tab);
					return true;
				}
			}
			setTimeout(function() {
				switch (aE.button) {
					case 0:
						if (!aE.shiftKey && !$.accel(aE) && !aE.altKey)
							$.Creator.openURL(aUrl, $._.pURLItemLeftClickWhere, isNavigator, aE);
						else if (!aE.shiftKey && $.accel(aE) && !aE.altKey)
							$.Creator.openURL(aUrl, $._.pURLItemLeftCtrlClickWhere, isNavigator, aE);
						else if (aE.shiftKey && !$.accel(aE) && !aE.altKey)
							$.Creator.openURL(aUrl, $._.pURLItemLeftShiftClickWhere, isNavigator, aE);
						break;
					case 1:
						if (!aE.shiftKey && !$.accel(aE) && !aE.altKey)
							$.Creator.openURL(aUrl, $._.pURLItemMiddleClickWhere, isNavigator, aE);
						break;
					case 2:
						if (!aE.shiftKey && !$.accel(aE) && !aE.altKey)
							$.Creator.openURL(aUrl, $._.pURLItemRightClickWhere, isNavigator, aE);
						break;
				}
			}, 10);
		},

		openURL: function(aUrl, aWhere, aNavigator, aE) {
			if (aNavigator) {
				let override = $.Creator.getpOverrideURLs && !gBrowser.selectedBrowser.webProgress.isLoadingDocument;
				switch (aWhere) {
					case 0: // Current
						window.openUILinkIn(aUrl, "current", {
							inBackground: false
						});
						break;
					case 1: // Next to current
						let pos = gBrowser.selectedTab._tPos || gBrowser.tabContainer.selectedIndex; // Firefox || SeaMonkey
						override ?
							$.Creator.openURL(aUrl, 0, true, aE) :
							gBrowser.moveTabTo(gBrowser.selectedTab = gBrowser.addTab(aUrl), pos + 1);
						break;
					case 2: // New tab in background
						override ?
							$.Creator.openURL(aUrl, 0, true, aE) :
							window.openUILinkIn(aUrl, "tab", {
								inBackground: true
							});
						break;
					case 3: // New tab in foreground
						override ?
							$.Creator.openURL(aUrl, 0, true, aE) :
							window.openUILinkIn(aUrl, "tab", {
								inBackground: false
							});
						break;
				}
			} else {
				switch (aWhere) {
					case 4: // Try to open in content tab
						try {
							openContentTab(aUrl);
						} catch (aError) {
							$.Creator.ownOpenUILink(aUrl, aE);
						}
						break;
					case 5: // Default browser
						$.Creator.ownOpenUILink(aUrl, aE);
						break;
				}
			}
		},

		ownOpenUILink: function(aUrl, aE) {
			if (aUrl.indexOf("://") === -1) {
				$.alertCallback.opt = {
					footer: null,
					centerScreen: true,
				};
				$.notifyme(self.name, "The URL for the item needs to have its protocol specified.",
					$.getHelp("%WarningImg%"),
					$.alertCallback);
				return true;
			}
			let m = (("messenger" in window) ?
				messenger :
				Cc["@mozilla.org/messenger;1"].createInstance(Ci.nsIMessenger));
			m.launchExternalURL(aUrl);
			aE.preventDefault();
		},

		get getpOverrideURLs() { // Boolean return of URLs/Hostsnames to override
			var URLList = $._.pOverrideURLs.split(",");
			var curURL;
			if (URLList) {
				for (var url in URLList) {
					if (URLList[url].length > 0) {
						curURL = (gBrowser.currentURI.spec === URLList[url]);
						if (curURL)
							return true;
						else
							continue;
					}
				}
			}
			var hostList = $._.pOverrideHosts.split(",");
			if (hostList) {
				for (var name in hostList) {
					if (hostList[name].length > 0) {
						curURL = (gBrowser.currentURI.host === hostList[name]);
						if (curURL)
							return true;
						else
							continue;
					}
				}
			}
			return false;
		},
		//END// URL functions
	},

	editItemsFile: function(aID) {
		$.itemsFile(aID).launch();
	},

	openMultiMenuStorage: function() {
		new $._nsIFile($.storagePath).reveal();
	},

	showCBContext: function(aNode, aAnchor) {
		if (/custombuttons-button/.test(aNode.id))
			custombutton.setContextMenuVisibility(aNode);
		var popup = $.$("custombuttons-contextpopup");
		let x = aAnchor.boxObject.width / 4;
		let y = aAnchor.boxObject.height / 1.25;
		popup.triggerNode = document.popupNode = popup._cb_triggerNode = aNode;
		popup.openPopup(aAnchor, "overlap", x, y, true, false);
		popup.addEventListener("popuphidden", function _(aE) {
			popup.removeEventListener("popuphidden", _, false);
			delete popup._cb_triggerNode;
		}, false);
	},

	setBtnPref: function(aBtnID, aProp, aVal) {
		let btnOptsPref = $.Branch + "OptionsForButtonID" + aBtnID.slice(20);
		var opt = JSON.parse($.gCV(btnOptsPref, true));
		opt[aProp] = aVal;
		setTimeout(function() {
			$.sCV(btnOptsPref, JSON.stringify(opt), true);
			setTimeout(function() {
				$.selfDestroy(aBtnID);
			}, 100);
		}, 100);
	},

	/**
	 * [populateOptionsPopup description]
	 * Use values from preferences, not from "preference properties" ($._.pPrefName).
	 * Because when opened from "slaves", the values for global prefs. will be incorrect.
	 */
	populateOptionsPopup: function(aN, aBtnID) {
		let switchCheck = "let check = this.getAttribute('checked');this.setAttribute('checked', !check);";
		let btnOptsPref = $.Branch + "OptionsForButtonID" + aBtnID.slice(20);
		var opt = JSON.parse($.gCV(btnOptsPref, true));
		aN.textContent = "";
		aN.appendChild($.$CNS("dialogheader", {
			title: "Button preferences",
			description: "",
			style: "margin: 0 0 7px 0;padding: 2px 0 2px 5px;border:none;font-size:smaller;",
		}));
		aN.appendChild($.$CNS("menuitem", {
			label: "Edit items (GUI) (Recommended)",
			tooltiptext: "Edit the items file with a GUI specifically designed for that task.",
			oncommand: $.that + "loadFromFile('" + aBtnID.slice(20) + "', true);event.stopPropagation();"
		}));
		aN.appendChild($.$CNS("menuitem", {
			label: "Edit items (With text editor)",
			tooltiptext: "Manually edit the items file with a text editor.",
			oncommand: $.that + "editItemsFile(" + aBtnID.slice(20) + ");event.stopPropagation();"
		}));
		aN.appendChild($.$CNS("menuitem", {
			label: "Force update this button",
			tooltiptext: "Useful only when the items file is edited manually with a text editor.",
			oncommand: $.that + "selfDestroy('" + aBtnID + "');event.stopPropagation();",
		}));
		aN.appendChild($.$CNS("separator"));
		aN.appendChild($.$CNS("menuitem", {
			label: "Consume outside clicks",
			type: "checkbox",
			checked: opt["ConsumeOutsideClicks"],
			tooltiptext: "Controls whether or not the event that caused the popup to be " +
				"automatically dismissed (or 'rolled up') should be consumed or be dispatched as a normal event.",
			oncommand: $.that + "setBtnPref('" + aBtnID + "', 'ConsumeOutsideClicks', " + !opt["ConsumeOutsideClicks"] +
				");event.stopPropagation();",
		}));
		let msg1 = "Set a custom class for this button to be used with the custom style sheet.";
		let cusClass1 = aN.appendChild($.$CNS("menuitem", {
			label: "Custom class for button",
			tooltiptext: msg1,
			oncommand: "this.onCommand(event)",
		}));
		cusClass1.onCommand = function(aE) {
			aE.preventDefault();
			aE.stopPropagation();
			let value = $.promptme(msg1, opt.ButtonClass);
			if (value)
				self.MultiMenu.setBtnPref(aBtnID, "ButtonClass", value);
		};
		let msg2 = "Set a custom class for this button popup to be used with the custom style sheet.";
		let cusClass2 = aN.appendChild($.$CNS("menuitem", {
			label: "Custom class for popup",
			tooltiptext: msg2,
			oncommand: "this.onCommand(event)",
		}));
		cusClass2.onCommand = function(aE) {
			aE.preventDefault();
			aE.stopPropagation();
			let value = $.promptme(msg2, opt.PopupClass);
			if (value)
				self.MultiMenu.setBtnPref(aBtnID, "PopupClass", value);
		};
		aN.appendChild($.$CNS("menuitem", {
			label: "Open on mouse over",
			type: "checkbox",
			checked: opt["MenuOpenOnHover"],
			tooltiptext: "Enable/Disable the opening of the main menu for this button on mouse over.",
			oncommand: $.that + "setBtnPref('" + aBtnID + "', 'MenuOpenOnHover', " +
				!opt["MenuOpenOnHover"] + ");event.stopPropagation();",
		}));
		aN.appendChild($.$CNS("menuitem", {
			label: "Set flip attribute",
			type: "checkbox",
			checked: opt["FlipAttr"],
			tooltiptext: "If enabled/checked, it will set the flip attribute for this button popup to 'both'. If " +
				"disabled/unchecked, it will set the flip attribute for this button popup to 'slide'.",
			oncommand: $.that + "setBtnPref('" + aBtnID + "', 'FlipAttr', " + !opt["FlipAttr"] +
				");event.stopPropagation();",
		}));
		aN.appendChild($.$CNS("menuitem", {
			label: "Show Tooltip",
			type: "checkbox",
			checked: opt["ShowTooltip"],
			tooltiptext: "Show/Hide the detailed tooltip of this button.",
			oncommand: $.that + "setBtnPref('" + aBtnID + "', 'ShowTooltip', " + !opt["ShowTooltip"] +
				");event.stopPropagation();",
		}));

		let posM = aN.appendChild($.$CNS("menu", {
			label: "This popup position"
		})).appendChild($.$CNS("menupopup", {
			onclick: "event.stopPropagation();"
		})).appendChild($.$CNS("radiogroup"));
		["after_end",
			"after_start",
			"before_start",
			"before_end",
			"start_after",
			"end_after",
			"start_before",
			"end_before"
		].forEach(function(aP) {
			posM.appendChild($.$CNS("radio", {
				label: aP,
				"data-tooltip": aP,
				type: "radio",
				tooltip: $._UID + "-pos-preview-tooltip",
				selected: aP === opt.PopupPosition,
				onclick: $.that + "setBtnPref('" + aBtnID + "', 'PopupPosition', '" + aP +
					"');event.stopPropagation();",
			}));
		});
		aN.appendChild($.$CNS("dialogheader", {
			title: "Global preferences",
			style: "margin: 0 0 7px 0;padding: 2px 0 2px 5px;border:none;font-size:smaller;",
		}));
		let appM = aN.appendChild($.$CNS("menu", {
			label: "Appearance"
		})).appendChild($.$CNS("menupopup", {
			onclick: "event.stopPropagation();"
		}));
		let pConv = appM.appendChild($.$CNS("menu", {
			label: "Convert to panel",
			tooltiptext: "Convert all Multi Menu button main popups to panel."
		})).appendChild($.$CNS("menupopup", {
			onclick: "event.stopPropagation();"
		}));
		[
			[0, "Disabled", "Do not convert to panel."],
			[1, "Basic convertion", "Basic panel convertion. Compatible with all " +
				"Firefox forks, SeaMonkey and Thunderbird.\n" +
				"𝗣𝗿𝗼𝘀:\n" +
				"* It works on all Gecko applications.\n" +
				"𝗖𝗼𝗻𝘀:\n" +
				"* Menus can't overflow."
			],
			[2, "Animated panel", "Convert to an animated panel. Not compatible with Palemoon," +
				" SeaMonkey nor Thunderbird.\n" +
				"𝗣𝗿𝗼𝘀:\n" +
				"* Menus can overflow.\n" +
				"𝗖𝗼𝗻𝘀:\n" +
				"* It works only on Firefox and Firefox forks based on modern versions of Firefox."
			]
		].forEach(function(aP) {
			pConv.appendChild($.$CNS("menuitem", {
				label: aP[1],
				type: "radio",
				value: aP[0],
				closemenu: "none",
				tooltiptext: aP[2],
				checked: $.gPref("pStylePanelConvertionType") === aP[0],
				oncommand: $.that + "sPref('pStylePanelConvertionType', " + aP[0] + ");event.stopPropagation();",
			}));
		});
		[
			["pStyleForDialogHeaderEnabled",
				"Dialog header tweaks",
				"Shrink dialoheader elements to a proper size for menupopups."
			],
			["pStyleRemoveMainMenuAccelContainers",
				"Hide accel. containers",
				"Show/Hide accelerator containers from the main menu."
			],
			["pStyleInvertContextIcons",
				"Invert context icons color",
				"Enable in case your menupopups have a dark background. Otherwise, you " +
				"will see dark icons over a dark background."
			],
			["pStyleForMenuGroupEnabled",
				"Menu group tweaks - Basic tweaks",
				"This tweak is what gives to the menu groups their appearance. If you use menu " +
				"group items, do not disable this option."
			],
			["pStyleForMenuGroupReflectCheckedStateEnabled",
				"Menu group tweaks - Checked state for CB items",
				"This extra tweak will reflect the CB item's checked state on items placed inside menu groups."
			],
			["pStyleForOverflowedMenus",
				"Scrollbars instead of scroll buttons",
				"Instead of displaying scroll buttons for overflowed menus, it will display scrollbars."
			],
			["pStyleSheetCustomEnabled",
				"Use custom style sheet",
				"Enable/Disable the use of custom CSS tweaks."
			]
		].forEach(function(aP) {
			appM.appendChild($.$CNS("menuitem", {
				label: aP[1],
				type: "checkbox",
				closemenu: "none",
				tooltiptext: aP[2],
				checked: $.gPref(aP[0]),
				onclick: "event.stopPropagation();",
				oncommand: $.that + "sBP('" + aP[0] + "', !" + $.that + "gBP('" + aP[0] + "'));event.stopPropagation();",
			}));
		});
		appM.appendChild($.$CNS("menuitem", {
			label: "Edit custom style sheet",
			tooltiptext: "Edit the custom style sheet.",
			oncommand: $.that + "editCustomStyleSheet();event.stopPropagation();",
		}));
		appM.appendChild($.$CNS("menuitem", {
			label: "Reload style sheets",
			tooltiptext: "ALl the style sheets are reloaded automatically. This may be necessary just for debugging purposes.",
			oncommand: $.that + "handleCSS();event.stopPropagation();",
		}));
		aN.appendChild($.$CNS("menuitem", {
			label: "Open Multi Menu storage",
			tooltiptext: "Open the folder where all the files used by all Multi Menu buttons " +
				"(master and slaves) are stored.",
			oncommand: $.that + "openMultiMenuStorage();event.stopPropagation();",
		}));
		aN.appendChild($.$CNS("menuitem", {
			label: "Force update all Multi Menu buttons",
			tooltiptext: "Force to update all Multi Menu buttons (master first, then all the slaves).\n" +
				"This is needed for when Multi Menu master button is updated, so all the slave buttons " +
				"will work with the new updated code.",
			oncommand: $.that + "Creator.handleAllButtons(null, true);event.stopPropagation();",
		}));
		aN.appendChild($.$CNS("menuitem", {
			label: "Create slave button",
			tooltiptext: "Create and install a Multi Menu slave button.",
			oncommand: $.that + "createSlave();event.stopPropagation();",
		}));
		aN.appendChild($.$CNS("separator"));
		aN.appendChild($.$CNS("menuitem", {
			label: "More options",
			tooltiptext: "Open Multi Menu global options window.",
			oncommand: $.that + "openOptions();event.stopPropagation();",
		}));
	},

	createSlave: function() {
		let opts = ["Directly intall slave button",
			"Copy slave button URI to clipboard",
		];
		let selected = {};
		let result = Services.prompt.select(null, self.name, "Choose what to do.", opts.length,
			opts, selected);
		if (result) {
			let URI = $.getHelp("%SlaveButton%");
			if (selected.value === 0) {
				let cBox = custombuttons.confirmBox(self.name, "You are about to install a Multi Menu's " +
					"slave button.\nProceed?", "Yes", "Cancel");
				if (cBox) {
					try {
						$._cbs.installWebButton(null, URI, false);
					} catch (aError) {
						loadURI(URI);
					}
				} else
					return;
			} else {
				gClipboard.write(URI);
				$.alertCallback.opt = {
					footer: null,
					centerScreen: false,
				};
				$.notifyme(self.name, "Multi Menu slave button URI copied to clipboard.",
					$.getHelp("%AlertImg%"),
					$.alertCallback);
			}
		} else
			return;
	},

	selfDestroy: function(aBtnID) {
		let btn = $.$(aBtnID);
		setTimeout(function() {
			btn.destroy("update");
			setTimeout(function() {
				btn.init();
			}, 100);
		}, 100);
	},

	openEditMenuWindow: function(aBtn, aData, aPath) {
		var em = Services.ww.getWindowEnumerator();
		var winName = $._UID + "_edit_menu_window_" + aBtn.id.slice(13);
		var index = 1;
		while (em.hasMoreElements()) {
			let win = em.getNext();
			if (win.name === winName) {
				win.focus();
				return;
			}
			index++;
		}
		let xul = $.getHelp("%ItemsInsertionWindow%");
		let storage = {
			custombuttons: custombuttons,
			img_to_b64_cback: $.img_to_b64_cback,
			notifyme: $.notifyme,
			alertCallback: $.alertCallback,
			accel: $.accel,
			dummyData: $.dummyData,
			button: aBtn,
			getHelp: $.getHelp,
			itemsFilePath: aPath,
			storagePath: $.storagePath,
			primary_menu_1: aData[0],
			primary_menu_2: aData[1],
			primary_menu_3: aData[2],
			primary_menu_4: aData[3],
			primary_menu_5: aData[4],
		};
		xul = xul.replace(/>\s+</g, "><");
		xul = xul.split("%U_I_D%").join($._UID);
		xul = xul.split("%B_T_N_I_D%").join($._UID);
		xul = xul.split("%A_C_C_E_L%").join($.accel());
		let url = "data:application/vnd.mozilla.xul+xml;text/plain," + encodeURIComponent(xul);
		let win = openDialog(url, winName, "chrome, resizable, dialog=no, centerscreen, close");
		win._storage = storage;
	},

	openOptions: function() {
		var em = Services.ww.getWindowEnumerator();
		var winName = $._UID + "_settings_window";
		var index = 1;
		while (em.hasMoreElements()) {
			let win = em.getNext();
			if (win.name === winName) {
				win.focus();
				return;
			}
			index++;
		}
		let storage = {
			button: self,
			isNavigator: "gBrowser" in window,
		};
		let xul = $.getHelp("%OptionsWindow%");
		xul = xul.replace(/>\s+</g, "><");
		xul = xul.split("%U_I_D%").join($._UID);
		xul = xul.split("%APP_NAME%").join($.SA.name);
		xul = xul.split("%B_R_A_N_C_H%").join($.Branch);
		xul = xul.split("%A_C_C_E_L%").join($.accel());
		let url = "data:application/vnd.mozilla.xul+xml;text/plain," + encodeURIComponent(xul);
		let win = openDialog(url, winName, "chrome, dependant, dialog, centerscreen, close, alwaysRaised");
		win._storage = storage;
	},

	populatePositioningTooltip: function(aE, aN) {
		aN.textContent = "";
		let box = aN.appendChild($.$CNS("hbox"));
		let pos = aE.target.triggerNode.getAttribute("data-tooltip");
		let isWide = /^end_/.test(pos) || /^start_/.test(pos);
		box.appendChild($.$CNS("spacer", {
			flex: 1
		}));
		box.appendChild($.$CNS("label", {
			value: "Preview",
			style: "font-weight:bold;",
		}));
		box.appendChild($.$CNS("spacer", {
			flex: 1
		}));
		aN.appendChild($.$CNS("image", {
			src: $.getHelp("%" + pos + "%"),
			width: isWide ? 180 : 130,
			height: isWide ? 91 : 122,
		}));
	},

	populateDynamicTooltip: function(aE, aN) {
		aN.textContent = "";
		var d,
			isBtn = aE.target.triggerNode.hasAttribute("cb-init");
		try {
			d = aE.target.triggerNode._data;
		} catch (aErr) {
			d = false;
		}
		if (!d && !isBtn)
			return false;

		var grid = aN.appendChild($.$CNS("grid"));
		var cols = grid.appendChild($.$CNS("columns"));
		cols.appendChild($.$CNS("column", {
			flex: 2
		}));
		cols.appendChild($.$CNS("column", {
			flex: 3
		}));
		cols.appendChild($.$CNS("column", {
			flex: 1
		}));
		var rows = grid.appendChild($.$CNS("rows"));
		let AR = function(aRowsNode, aLabel1, aLabel2, aLabel3, aEmpty) {
			let row = $.$CNS("row");
			if (aEmpty) {
				row.appendChild($.$CNS("label", {
					value: " ",
					width: 0,
				}));
			} else {
				row.appendChild($.$CNS("label", {
					value: aLabel1,
					style: "font-weight: bold;",
				}));
				row.appendChild($.$CNS("label", {
					value: aLabel2,
					style: "font-weight: bold;",
				}));
				let desc = $.$CNS("description", {
					maxwidth: 250,
				});
				desc.textContent = aLabel3; // Use of "textContent" to achieve word wrap. ¬¬
				row.appendChild(desc);
			}
			aRowsNode.appendChild(row);
		};
		if (isBtn) {
			let btn = aE.target.triggerNode;
			AR(rows, btn.name, "→", "ID = " + btn.id.slice(20));
			AR(rows, null, null, null, true);
			AR(rows, "Left click", "→", "Open/Close main menu");
			AR(rows, "Middle or " + $.accel() + " + Left click", "→", "Open Options menu");
			aN.appendChild($.$CNS("separator")); // Empty space
			let desc2 = $.$CNS("description", {
				style: "font-weight:bold;",
			});
			// Use of "textContent" to achieve word wrap. ¬¬
			desc2.textContent = "Read this button help for very important usage notes.\n" +
				"Right click on button, \"Button Help\" item.";
			aN.appendChild(desc2);
			return true;
		}
		let isAddon = (d.type !== "pref" && d.type !== "url");
		if (d.desc && d.desc !== "")
			AR(rows, "Description", "→", d.desc);
		if (isAddon) {
			AR(rows, "Version", "→", d.version);
			AR(rows, "ID", "→", d.id);
			(d.type !== "userstyle" && d.type !== "theme") && AR(rows, "Update date", "→", d.updDate);
			(d.creator !== "") && AR(rows, "Creator", "→", d.creator);
		} else if (d.type === "pref") {
			let pVal = custombuttons.getPrefs(d.prefname);
			AR(rows, "Pref. name", "→", d.prefname);
			AR(rows, "Current value", "→", (pVal === null ? "Non existent preference." : pVal));
		} else if (d.type === "url") {
			AR(rows, "URL", "→", d.url);
		}
		AR(rows, null, null, null, true);
		if ((isAddon && !$._.pExtraHelpOnAddonsItemsTooltips) ||
			(d.type === "pref" && !$._.pExtraHelpOnPrefItemsTooltips) ||
			(d.type === "url" && !$._.pExtraHelpOnURLItemsTooltips))
			return true;

		AR(rows, "▼ Help text ▼", "");
		AR(rows, null, null, null, true);
		if (isAddon) {
			if (d.type === "extension" || d.type === "greasemonkey-user-script" || d.type === "userscript")
				AR(rows, "Left click", "→", "Open options");
			else if (d.type === "userstyle")
				AR(rows, "Left click", "→", "Edit style");
			else if (d.type === "theme")
				AR(rows, "Left click", "→", "Set active theme");
			if (d.type !== "theme")
				AR(rows, "Middle or " + $.accel() + " + Left click", "→", d.type === "plugin" ?
					"Switch Always activate ↔ Never activate ↔ Ask To Activate" :
					"Enable/Disable");
			AR(rows, "Right click", "→", "Context menu");
			d.unique || AR(rows, $.accel() + " + Right click", "→", "Hide/Show this menuitem");
		} else if (d.type === "pref") {
			AR(rows, "Left click", "→", "Switch/Set preference value");
			AR(rows, $.accel() + " + Left click", "→", "Switch/Set preference value (Inverse)");
			AR(rows, "Right click", "→", "Context menu");
		} else if (d.type === "url") {
			let getWhere = function(aWhere) {
				switch (aWhere) {
					case 0:
						return " in current tab";
					case 1:
						return " next to current tab";
					case 2:
						return " in new background tab";
					case 3:
						return " in new foreground tab";
					case 4:
						return " in content tab";
					case 5:
						return " in default browser";
				}
			};
			$._.pURLItemLeftClickWhere !== 6 &&
				AR(rows, "Left click", "→", "Open" + getWhere($._.pURLItemLeftClickWhere));
			$._.pURLItemLeftCtrlClickWhere !== 6 &&
				AR(rows, $.accel() + " + Left click", "→", "Open" + getWhere($._.pURLItemLeftCtrlClickWhere));
			$._.pURLItemLeftShiftClickWhere !== 6 &&
				AR(rows, "Shift + Left click", "→", "Open" + getWhere($._.pURLItemLeftShiftClickWhere));
			$._.pURLItemMiddleClickWhere !== 6 &&
				AR(rows, "Middle click", "→", "Open" + getWhere($._.pURLItemMiddleClickWhere));
			$._.pURLItemRightClickWhere !== 6 &&
				AR(rows, "Right click", "→", "Open" + getWhere($._.pURLItemRightClickWhere));
		}
	},

	populateContextMenu: function(aE, aN) {
		var d = aE.target.triggerNode._data;
		aN.textContent = "";
		if (!d) {
			aN.hidePopup();
			return false;
		}
		// Sometimes the dynamic tooltip is freaking annoying!!!!
		try {
			$.dynTT.hidePopup();
		} catch (aErr) {}
		var tt;
		var t = d.type;
		if (t !== "pref" && t !== "url") {
			aN.appendChild($.$CNS("menuitem", {
				label: "Add-on options",
				class: "menuitem-iconic multi_menu_context_menu_dark_icon",
				hidden: (t === "plugin" || t === "userstyle" || t === "theme"),
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABmElE" +
					"QVQ4jc2ST2sTURTF31cQxEXFRRchSLCVlhQDjX+mkIKPSUyHl4Tpe8NkJqad4LQOnYgOLQykCbQQQ" +
					"cSu+g1cu/LD/dwFajLQhQvP7nLvOffcwxXiv8WT9TKPSxs8Wlvn3qTS5g7bu3sIIcT27h6Ng0OevX" +
					"i5qJ8+rxaL1d40KG/V2Ki95tXbNpatUH6EZSssW1Gp1qlU64sFK7Hf7iKVpnFwiFSaptu/U++3uwR" +
					"xWiwwzmc4JqTV88jyKT9//WZy9RWpNI4JOf18vpr84OEapc0dLFvRdPukF5M7g9nlNU23j2Urylu1" +
					"5WAr1TpNt4+JEjr+cElACCEcE2KiBMeEyzlIpen4Q0yU4A5GOCbkb7I7GC36UunVp6QXE4I4RfkRU" +
					"mlMlNDqeTgmJIhTTr/kxQG2eh5SaYI45egsw0QJJkrwjk84OssI4hSpdPF2x4RIpXEHI2bz73wYn5" +
					"NdXvP+4yfmN7d4xydIpWn1vGIXWT7l6tsPhBDCHYwY5zM6/hAhhJjf3JLl0/u/tWNCHBPyrltg+V/" +
					"hD+NI4kSZpLPiAAAAAElFTkSuQmCC",
				_action: "options",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Toggle Enabled/Disabled",
				class: "menuitem-iconic multi_menu_context_menu_dark_icon",
				closemenu: "single",
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAdElE" +
					"QVQ4jd2SMQqDUBBE/w0inmR5j0/YU6VLnYuIh/MUH4Ja2ViIxMoMTPuYndlS7q/M7IFBbepy0g0YM" +
					"rMvwKjOwKfWGpvVpzodQGZgLEAD3vtk6kP9HiUBWlGXiOj2gIjozpzzDwCgqa+fS7w84+VHur9Wk1" +
					"+/sfYkj+gAAAAASUVORK5CYII=",
				_action: "toggle",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Go to " + (t === "extension" ? "AMO" : "install") + " page",
				class: "menuitem-iconic multi_menu_context_menu_dark_icon",
				hidden: (t === "plugin" || t === "userstyle"),
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDElE" +
					"QVQ4jbXRO0vDYByF8YcU7FLSNKHRgtZBQ7+XgxdwdhIdxA7ewEHUxdHR1ckLOAhOOujSReiepR/gc" +
					"bHFe4LoH37jOfCeF/7r1Io6pU6qld+Ep2u12nEYhodqWw3KhgO1HYbhAdADelEU7asz6qw6URiOom" +
					"gfeARuXz3FcbwNPKvZj+E4jveAe+DqgwfgWs0+bTIMNxqNLeAOOP9OvV7febfJMNxsNrvADXBW4CZ" +
					"Jks1RidpKkmQDuAROS7pI03RdbaGmeZ4vDQaDBeCkSLVaPcrzfLHf7y+r42+f0QEOigRBsKt21LGP" +
					"Q2bAbpEgCLrqzFffmAGbJaz9VLBawsp3BS11voS50Xh/cS8vb/sCW/pwGQAAAABJRU5ErkJggg==",
				_action: "homepage",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Copy add-on ID",
				class: "menuitem-iconic multi_menu_context_menu_dark_icon",
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABWElE" +
					"QVQ4jY2TsUoDQRRFT0SymXZT7BckrZ2dpPBHxBQW2mwRkLUwIEEQFEKadOnSpQwiqCAhFomNi521n" +
					"f9wLZwNL+MUDlx4s3fm7NvlPgiWpF1JmaSWpHZELe/vhncrQJam6R3wBXxH9JWm6Z2kLHa5JqkFfA" +
					"Al8B5RCXz4TmrRtoE1sCrL8kzSSaWyLM+AFbD2n7MBZM1m8xr49IAFsJC0J2nHd7Yjac94vwDT9iv" +
					"w7AGPwKN9iz/31zPGPTD39byqI4BtzxgzYBbWEcC2Z4wpMA3r4B+E3hZgAkxsned5x4Yoz/OOPRcC" +
					"xsBYUts5N/L7JfBmtATGzrnRJgcGMASGktpFUZwmSXJbPbNKkuS2KIrTTRIN4Aa46fV6B5IOJXVti" +
					"Iy6kvY3s1DloNFoXAJXwAPwEtHTVnyDGcgGg8Gxc+4cuAhVr9fP+/3+UXSAzCzs/7tts34AH+XGMz" +
					"fNicAAAAAASUVORK5CYII=",
				_action: "copyid",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Edit",
				class: "menuitem-iconic multi_menu_context_menu_dark_icon",
				hidden: (t === "plugin" || t === "extension" || t === "theme"),
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABfUlE" +
					"QVQ4jZWTwWoTURSGf1ImpjIcJmQlpAlkMTtlCHkBLdHZNK+QoQxBCUE0BAxC24WIpRQapNQsQla6t" +
					"KuSTVd1UxrcuOmqL5EX+NxMShiMjgc+7r+45+OeA1daKWAD2ALKwIb+p5Lmquu6Y9d1x0A1s2TZbG" +
					"Znku4k3ZnZWWYJUDazU0m3km4Sbs3sNJMEKNfr9UNJP1L88jzv8z8lyQhPoyg6kHSZ4qfneSeZJe1" +
					"2e0/SRYprMzvOLInj+L2k7ymuisXiUWZJp9N5J+lbistSqfQJqKwVrEq63e5A0lTSNI7jwXA4fCtp" +
					"FoZhC3iYSdLr9fqSvoRh+AbYbjQaB2b2AXj0V8GqpN/vv5Z0ns/np1EUDXK53HQ2mz253wWwCVSSP" +
					"+Am5zJvAc/n83mn2Wx+LBQKXyUd12q1V0BxKag4jjNxHGcC+GtyADxbLBa7o9Hope/7e0D1XhAEwX" +
					"4QBPuAvyZXkrsPgMfAC6C0OkIL2EmevZPKLWDzT3v6DZ63QmlE5igPAAAAAElFTkSuQmCC",
				_action: "edit",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Uninstall",
				class: "menuitem-iconic",
				closemenu: "single",
				hidden: (t === "plugin"),
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABpUlE" +
					"QVQ4jc2SzUoCcRTFXakwKpb5QZbUkJoiEiODGrmwnWALwdX/AaQ3EF/AjRvpCYI/ggraQuhjEbiTQ" +
					"YlIm8WAOxmFxEAXg7g4bRSmUFvWhbO4F865lx9Xo/l3BcAGgAXAqGbMcmb7zewohflMXqftipRySy" +
					"MjUsrlddpuKcxnADg2bi5fhDM3jE6pmA0oGPWSSCknUsoVjHqpYjbghtEp5YtwZu0lAFjqdb8+71v" +
					"QdFrQcOyguGuUirtGqeHYQdNpwfO+BdTrfgXArgtgFFkm7UhQaLF2tFg7nlx7eHLtYdW3I0FBkWWi" +
					"5vMzxKTIMunFQsKL/wBq9WKhldm0DSLTf6jx97z/XeSOoNY973/vP9T4bdsZuVHmblmr1Akdo3/u/" +
					"qZO6Bi3rFWSG2VubQgAtho4fOtGTzCI+zCI+zBMx4RhOias+m70BNXA4dsmiLbpXSX3cXU2GyeC+C" +
					"SXwnwyIvPJiHySS2GcCOLj6mw2vavkNj4UgNPFYz07u042MRkRACYAJkxGZHadbC4e61kApxshLkM" +
					"8AFJq2sugFADPVvOf1BfaRCycneXyfAAAAABJRU5ErkJggg==",
				_action: "remove",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Inspect with DOM Inspector",
				class: "menuitem-iconic multi_menu_context_menu_dark_icon",
				hidden: (typeof inspectObject !== "function"),
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACBElE" +
					"QVQ4jZXRz0uTARzH8Y/P84w9bKNosbXZytxjhR0kmFtssAkhCB2Kop/MAueC6BBBSQcvETaK8tRl1" +
					"SHIzCiMKImImiytoztMxEuHiTf/AW/vLhNGPZZ94Xv68H3Bh6/UMsA2oB2IA51AFPDrXwNYQKynp6" +
					"doWVZVUkPST9M0v+RyuXNNyPgbEAsEAk8lrViWVXMc53VHR8dby7LqklZCoVAJiG52vL23t/eSpCX" +
					"HcZ43Go3LwEngwuLi4tVIJPJG0tLAwMAJ1zpAu8fjeeX1er/W6/VBYGdLtnd+fn5Y0jefz/cY2OUG" +
					"xCV9cBznCXDIJU+Gw+FJwzCmgD1uQKff758MBAJloPO3rG19fb3Ltu2JYDBYBna7AVHHce5I+tjf3" +
					"38W2AG0NTeYSCSKkmbS6fRIa71WwD89PX3aMIyXpml+ymQyF9fW1g4sLy8fTKVSRUmfJU2Vy+VjgP" +
					"0HsFFjbGzsmmEYLyT9kDQn6XtzJyU9i8Vit0ql0hEg5AYYQKJWqxXz+fyNeDx+v7u7+97Q0NDNhYW" +
					"FK6Ojo9clvZc0l0wm867faEJhIAecAo4DaSC4urp61Ov1PpD0SNJMNps9vymyGTw7Ozvs8/lKkh5K" +
					"etfX13cGCP4Psr9arRZs274t6a7H45kA9m0Z2EAqlUohEomMjI+PF1zfugWkC8gDhwHzFx1fIHPYY" +
					"lnyAAAAAElFTkSuQmCC",
				_action: "inspect",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Browse install folder",
				class: "menuitem-iconic multi_menu_context_menu_dark_icon",
				hidden: (t === "plugin" || t === "userstyle" || t === "theme"),
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABRUlE" +
					"QVQ4jZXSsUocQRzH8a+3C2E5brdxBZsjxXlPYOsL6Bv4HmuhFsIVSpA7jjSpLrBFynRBEDHEwj6dY" +
					"JVui7zD12ZX5iZ7cBn4NPNjfszwHwDUTB2r08BH9QPbLHWcpukT8LeTpulTVBgaq1lYMAVegN+BF6" +
					"DpkyTJT3XcHd5RJ+rn/zRRB6j7ZVneAK/Any29lmV5o+6jHgDPwCPwsKVH4Fk96N5/B/yINU0zD6/" +
					"dNM08yO/UaVfwvY96GE3rMMrfC771abN4Wut5u/m1z4aC9bzd/NJnQ8F6rk5Go9EcWMY2FCyBZZZl" +
					"824Ke6vV6mI4HF4Dn0JVVR2FX7iqqqMuWywWF90/SNRj9bYbV57nV8AMuAd+Be6BWZ7nV+qpOiBe6" +
					"m5d12dFUZwDl7GiKM7ruj5T9/453BYM1JPwRpHb9sYJwBvfeYYXIT7OCAAAAABJRU5ErkJggg==",
				_action: "browse",
			}));
			aN.appendChild($.$CNS("menuseparator"));
			aN.appendChild($.$CNS("menuitem", {
				label: "Show/Hide this menuitem",
				class: "menuitem-iconic multi_menu_context_menu_dark_icon",
				closemenu: "single",
				image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5UlE" +
					"QVQ4jc3SvS7EURAF8B+JioSsCokHUFgNiWewQqvzICRew2v4WLFUnoNS/msrazUaFOYm12RlVeIkk" +
					"9ycM2fmztzLf8U02tiPaAc3EbM4Rh8fKfo4wdxP5nXcV4YhLnGO54p/wEY2b6akHhYqfR7dVHyriM" +
					"t4qsQRWtiNaw+wFwWHaaQlcc161l4UblIyXKTcM7hL5FUk14tsgsvNumIhb2NG6ISxiXMrtJI3wEr" +
					"ZwyHeK/E2DAWLuKn0F2xLOEgdRriOeK34sc9YsIpT37dd4hFHvj7bRMxElw52sIap3xj/Hp9rzGFB" +
					"hiMSxAAAAABJRU5ErkJggg==",
				_action: "backlist",
			}));
		} else if (t === "pref") {
			let isBool = $.SP.getPrefType(d.prefname) === 128;
			let isLocked = $.SP.prefIsLocked(d.prefname);
			aN.appendChild($.$CNS("menuitem", {
				label: (isBool ? "Toggle" : "Modify"),
				accesskey: (isBool ? "T" : "M"),
				closemenu: (isBool ? "single" : "always"),
				disabled: isLocked,
				_action: "modifypref",
			}));
			aN.appendChild($.$CNS("menuseparator"));
			aN.appendChild($.$CNS("menuitem", {
				label: "Copy",
				accesskey: "C",
				_action: "copypref",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Copy Name",
				accesskey: "N",
				_action: "copyprefname",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Copy Value",
				accesskey: "V",
				_action: "copyprefvalue",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Copy for user.js",
				accesskey: "u",
				_action: "copyprefasfunction",
			}));
			aN.appendChild($.$CNS("menuseparator"));
			aN.appendChild($.$CNS("menuitem", {
				label: (isLocked ? "Unlock" : "Lock"),
				accesskey: (isLocked ? "U" : "L"),
				closemenu: "single",
				_action: "togglelockedpref",
			}));
			aN.appendChild($.$CNS("menuitem", {
				label: "Reset",
				accesskey: "R",
				closemenu: "single",
				disabled: isLocked,
				_action: "resetpref",
			}));
		}
	},

	createMainElements: function() {
		let popSet = $.popSet;
		if (popSet && !$.ctxPop) {
			popSet.appendChild($.$CNS("menupopup", {
				id: $._UID + "_multimenu_context",
				cb_id: $._UID,
				onpopupshowing: $.that + "populateContextMenu(event, this);event.stopPropagation();",
				oncontextmenu: "event.stopPropagation();",
				onpopuphiding: "event.stopPropagation();",
				onclick: "event.stopPropagation();",
				oncommand: "document.popupNode.contextMenuAction(event, event.target.getAttribute('_action'));event.stopPropagation();",
				consumeoutsideclicks: false,
			}));
		}

		if (popSet && !$.dynTT) {
			popSet.appendChild($.$CNS("tooltip", {
				id: $._UID + "-dynamic-tooltip",
				cb_id: $._UID,
				onpopupshowing: $.that + "populateDynamicTooltip(event, this);event.stopPropagation();",
				onpopuphiding: "event.stopPropagation();",
				level: "top",
				flex: 1,
			}));
		}

		if (popSet && !$.prevTT) {
			popSet.appendChild($.$CNS("tooltip", {
				id: $._UID + "-pos-preview-tooltip",
				cb_id: $._UID,
				orient: "vertical",
				onpopupshowing: $.that + "populatePositioningTooltip(event, this);event.stopPropagation();",
				onpopuphiding: "event.stopPropagation();",
				flex: 1,
			}));
		}

		if (popSet && !$.optPop) {
			popSet.appendChild($.$CNS("menupopup", {
				id: $._UID + "-options-mpop",
				cb_id: $._UID,
				consumeoutsideclicks: false,
				onpopupshowing: "event.stopPropagation();",
				onpopuphiding: "event.stopPropagation();",
				onclick: "event.stopPropagation();",
			}));
		}
	},

	styleSheet: function(aCSS, aRemFlag) {
		var sss = Cc["@mozilla.org/content/style-sheet-service;1"]
			.getService(Ci.nsIStyleSheetService);
		var uri = Services.io.newURI("data:text/css," + encodeURIComponent(aCSS), null, null);
		if (sss.sheetRegistered(uri, sss.USER_SHEET))
			sss.unregisterSheet(uri, sss.USER_SHEET);
		if (aRemFlag)
			return;
		sss.loadAndRegisterSheet(uri, sss.USER_SHEET);
	},

	handleCSS: function() {
		try {
			$.styleSheet(window[$._UID]["StyleSheet"], true);
		} catch (aErr) {}

		let css = "@namespace url(" + xulns + ");";

		if ($._.pStylePanelConvertionType === 1)
			css += $.getHelp("%StylePanelConvertionBasic%");
		else if ($._.pStylePanelConvertionType === 2)
			css += $.getHelp("%StylePanelConvertionAnimated%");

		if ($._.pStyleForDialogHeaderEnabled)
			css += $.getHelp("%StyleForDialogHeader%");

		if ($._.pStyleInvertContextIcons)
			css += $.getHelp("%StyleInvertContextIcons%");

		if ($._.pStyleForMenuGroupEnabled)
			css += $.getHelp("%StyleForMenuGroup%");

		if ($._.pStyleForMenuGroupReflectCheckedStateEnabled)
			css += $.getHelp("%StyleForMenuGroupReflectCheckedState%");

		if ($._.pStyleForOverflowedMenus)
			css += $.getHelp("%StyleForOverflowedMenus%");

		if ($._.pStyleRemoveMainMenuAccelContainers)
			css += $.getHelp("%StyleRemoveMainMenuAccelContainers%");

		if ($._.pStyleSheetCustomEnabled)
			css += decodeURIComponent($._.pStyleSheetCustom);

		if ((css.trim()).length > 78) {
			window[$._UID]["StyleSheet"] = css;
			$.styleSheet(css);
		}
	},

	hotkeyPressed: function(aAnchor) {
		let mPop = $.$(aAnchor.getAttribute("popup"));
		if (mPop)
			(mPop.state === "open" || mPop.state === "opening") ?
			mPop.hidePopup() :
			mPop.openPopup(aAnchor, mPop.getAttribute("position"), 0, 0, false, null, null);
	},

	openDir: function(aConstant, aPath, aArgs, aGoUp) {
		var IOFile = null,
			args,
			goUp = parseInt(aGoUp, 10);
		switch (aConstant) {
			case "pathFull": // Full path to location.
				try {
					IOFile = new $._nsIFile(aPath); // aPath equals a full path.
				} catch (aError) {
					return false;
				}
				break;
			default: // OS.Constants.Path
				try {
					IOFile = new $._nsIFile(OS.Constants.Path[aConstant]);
					try {
						if (goUp !== 0 && IOFile.exists()) {
							let base;
							while (goUp !== 0) {
								goUp--;
								base = OS.Path.dirname(IOFile.path);
								IOFile = new $._nsIFile(base);
							}
						}
					} finally {
						let pathPart = null;
						if (aPath.indexOf("/") !== -1)
							pathPart = aPath.split("/").filter(function(aVal) {
								if (aVal !== "")
									return true;
							});
						else if (aPath.indexOf("\\") !== -1)
							pathPart = aPath.split("\\").filter(function(aVal) {
								if (aVal !== "")
									return true;
							});
						if (!pathPart)
							break;
						Array.prototype.slice.call(pathPart).forEach(function(aPart) { // aPath equals an array of folder/file names.
							try {
								IOFile.append(aPart);
							} catch (aError) {
								$.reportError(aError);
							}
						});
					}
				} catch (aError) {
					$.reportError(aError);
				}
				break;
		}
		if (IOFile.exists()) {
			try {
				if (IOFile.isDirectory())
					IOFile.reveal();
				else if (!IOFile.isDirectory() && !IOFile.isExecutable())
					IOFile.launch();
				else if (!IOFile.isDirectory() && IOFile.isExecutable()) {
					let process = Cc["@mozilla.org/process/util;1"].createInstance(Ci.nsIProcess);
					try {
						process.init(IOFile);
						let run = "runw" in process ? process.runw : process.run;
						aArgs.length > 0 ?
							run.call(process, false, aArgs, aArgs.length) :
							run.call(process, false, null, null);
					} catch (aError) {
						$.reportError(aError);
					}
				}
			} catch (aError) {
				$.reportError(aError);
			}
		} else {
			$.alertCallback.opt = {
				footer: null,
				centerScreen: true,
			};
			$.notifyme(self.name, "Path doesn't exists!!!\nCorrect your menu item and try again.",
				$.getHelp("%ErrorImg%"),
				$.alertCallback);
		}
		return false;
	},

	$: function(aId) { // Return elements by Id
		return document.getElementById(aId);
	},

	notifyme: function(aTitle, aMsg, aImg, aCallback) { // Notification function
		let origin = (Services.prefs.getPrefType("ui.alertNotificationOrigin") !== 0) ?
			Services.prefs.getIntPref("ui.alertNotificationOrigin") :
			null;
		let win = Services.ww.openWindow(null, "chrome://global/content/alerts/alert.xul",
			"_blank", "chrome,titlebar=no,popup=yes", null);
		win.arguments = [aImg, aTitle, aMsg, !!aCallback, "", origin, "", "", null, (!!aCallback ? aCallback : null)];
	},

	getNotificationFooter: function(aType) {
		switch (aType) {
			case 1: // Non existent pref.
				return "𝗖𝗹𝗶𝗰𝗸 𝗺𝗲 𝘁𝗼 𝗰𝗿𝗲𝗮𝘁𝗲";
			case 2: // Locked pref.
				return "𝗖𝗹𝗶𝗰𝗸 𝗺𝗲 𝘁𝗼 𝘂𝗻𝗹𝗼𝗰𝗸";
			case 3: // Open storage.
				return "𝗖𝗹𝗶𝗰𝗸 𝗺𝗲 𝘁𝗼 𝗼𝗽𝗲𝗻 𝘀𝘁𝗼𝗿𝗮𝗴𝗲";
			default:
				return "𝗖𝗹𝗶𝗰𝗸 𝗺𝗲 𝘁𝗼 𝗰𝗹𝗼𝘀𝗲 𝗺𝗲";
		}
	},

	alertCallback: {
		opt: {
			footer: null,
			centerScreen: null,
			prefName: null,
		},
		observe: function(aSubject, aTopic, aData) {
			let alt = Services.wm.getMostRecentWindow("alert:alert");
			let tBox = alt.document.getElementById("alertTextBox");
			if (aTopic === "alertshow") {
				tBox.appendChild($.$CNS("label", {
					flex: 1,
					value: $.getNotificationFooter(this.opt.footer),
				}));
				if (this.opt.centerScreen) {
					alt.moveTo((screen.availWidth / 2) - (alt.outerWidth / 2),
						(screen.availHeight / 2) - (alt.outerHeight / 2));
				}
				setTimeout(function() {
					alt.close();
				}, (this.opt.centerScreen ? 10000 : 3000));
			}
			if (aTopic === "alertclickcallback") {
				let pN = this.opt.prefName || null;
				alt.close();
				switch (this.opt.footer) {
					case 1: // Non existent pref.
						$.Creator.dealWithNonExistentPref(pN);
						break;
					case 2: // Locked pref.
						$.SP.unlockPref(pN);
						setTimeout(function() {
							$.notifyPrefUnlocked(pN);
						}, 500);
						break;
					case 3: // Open storage.
						$.openMultiMenuStorage();
						break;
				}
			}
		}
	},

	notifyPrefUnlocked: function(aPref) {
		if ($.SP.prefIsLocked(aPref)) {
			$.alertCallback.opt = {
				footer: null,
				centerScreen: false,
				prefName: aPref,
			};
			$.notifyme(aPref,
				"This preference 𝗰𝗼𝘂𝗹𝗱 𝗻𝗼𝘁 be 𝘂𝗻𝗹𝗼𝗰𝗸𝗲𝗱.",
				$.getHelp("%ErrorImg%"),
				$.alertCallback);
		} else {
			$.alertCallback.opt = {
				footer: null,
				centerScreen: false,
				prefName: aPref,
			};
			$.notifyme(aPref,
				"This preference has been 𝘂𝗻𝗹𝗼𝗰𝗸𝗲𝗱.",
				$.getHelp("%AlertImg%"),
				$.alertCallback);
		}
	},

	img_to_b64_cback: function(aURL, aCallback) {
		if (!aURL)
			aCallback(false);
		else {
			let xhr = new XMLHttpRequest(),
				nsIMIMEService = Cc["@mozilla.org/mime;1"].getService(Ci.nsIMIMEService);
			try {
				xhr.open("GET", aURL, true);
			} catch (aErr) {
				aCallback(false);
				return true;
			}
			xhr.responseType = "arraybuffer";
			xhr.onload = function() {
				let mediaType,
					dataURI,
					binary,
					bytes;
				bytes = new Uint8Array(xhr.response);
				binary = [].map.call(bytes, function(aByte) {
					return String.fromCharCode(aByte);
				}).join("");
				mediaType = xhr.getResponseHeader("Content-Type");
				let base64 = btoa(binary);
				if (mediaType.indexOf("image/") !== 0) {
					try {
						mediaType = nsIMIMEService.getTypeFromURI(Services.io.newURI(aURL, null, null));
					} catch (aError) {
						mediaType = "image/png";
					}
				}
				dataURI = "data:" + mediaType + ";base64," + base64;
				aCallback(dataURI);
			};
			xhr.onerror = function() {
				aCallback(false);
			};
			xhr.send(null);
		}
	},

	reportError: function(aError) {
		try {
			console.error(aError);
		} catch (aErr) {
			Cu.reportError(["Multi Menu" + ": " + self.id, aError, aError.stack].join("\n"));
		}
	},

	getHelp: function(aPlaceholder) { // Get specific data, surrounded by "placeholders", from the Help tab.
		return $.$(self.id).getAttribute("Help").split("<!--" + aPlaceholder + "-->")[1];
	},

	sIP: function(aKey, aVal, aBranch) { // Set Integer Pref
		$.SP.setIntPref((!aBranch) ? $.Branch + aKey : aKey, aVal);
		$.SP.savePrefFile(null);
	},

	gIP: function(aKey, aBranch) { // Get Integer Pref
		return $.SP.getIntPref((!aBranch) ? $.Branch + aKey : aKey);
	},

	sBP: function(aKey, aVal, aBranch) { //Set Boolean Pref
		$.SP.setBoolPref((!aBranch) ? $.Branch + aKey : aKey, aVal);
		$.SP.savePrefFile(null);
	},

	gBP: function(aKey, aBranch) { //Get Boolean Pref
		return $.SP.getBoolPref((!aBranch) ? $.Branch + aKey : aKey);
	},

	sCV: function(aKey, aVal, aBranch) { //Set Complex Value (Char Pref)
		var str = $._nsISS;
		str.data = aVal;
		$.SP.setComplexValue(((!aBranch) ? $.Branch + aKey : aKey), Ci.nsISupportsString, str);
		$.SP.savePrefFile(null);
	},

	gCV: function(aKey, aBranch) { //Get Complex Value (Char Pref)
		return $.SP.getComplexValue(((!aBranch) ? $.Branch + aKey : aKey),
			Ci.nsISupportsString).data;
	},

	promptme: function(aMsg, aVal) {
		let retVal = {
			value: aVal
		};
		if (Services.prompt.prompt(null, (self.label || self.name), aMsg, retVal, null, {}))
			return retVal.value;
		else
			return false;
		return false;
	},

	dummyData: function(aType) {
		switch (aType) {
			case "customMenuItem":
				return {
					_type_: aType,
					_cmd: "",
					label: "",
					image: "",
					tooltiptext: "",
				};
			case "customMenu":
				return {
					_type_: aType,
					_items: [],
					_cmd: "",
					label: "",
					image: "",
					tooltiptext: "",
				};
			case "clonedMenuItem":
				return {
					_type_: aType,
					_id: "",
					image: "",
					tooltiptext: "",
				};
			case "clonedMenu":
				return {
					_type_: aType,
					_id: "",
					_cmd: "",
					image: "",
					tooltiptext: "",
				};
			case "menuGroup":
				return {
					_type_: aType,
					orient: "horizontal",
					_items: [],
				};
			case "pathFull":
				return {
					_type_: aType,
					_path: "",
					_args: [],
					label: "",
					image: "",
					tooltiptext: "",
				};
			case "pathRelative":
				return {
					_type_: aType,
					_const: "",
					_path: "",
					_go_up: 0,
					_args: [],
					label: "",
					image: "",
					tooltiptext: "",
				};
			case "menuseparator":
				return {
					_type_: aType,
				};
			case "spacer":
				return {
					_type_: aType,
					flex: 1
				};
			case "dialogheader":
				return {
					_type_: aType,
					title: "",
					description: "",
				};
			case "addon":
				return {
					_type_: aType,
					_type_or_id: "",
					_filter: "",
				};
			case "cb":
				return {
					_type_: aType,
					_id: "",
					_advanced: false,
				};
			case "pref":
				return {
					_type_: aType,
					_prefname: "",
					_cmd: "",
					_values: [],
					label: "",
					tooltiptext: "",
				};
			case "url":
				return {
					_type_: aType,
					_url: "",
					image: "",
					label: "",
					_force: false,
					tooltiptext: "",
				};
		}
	},

	/**
	 * [Based on code found in Custom Buttons add-on.]
	 * @param  {object} aBtn     The button to which the menu item belongs used to build the execution code (So it seems. LOL).
	 * @param  {string} aURI     [description]
	 * @param  {object} aExecCtx Execution context object.
	 * @return {null}            Nothing
	 */
	buildExecContext: function(aBtn, aURI, aExecCtx) {
		var utils = {};
		utils["oButton"] = aBtn;
		utils["buttonURI"] = aURI;
		Cc["@mozilla.org/moz/jssubscript-loader;1"]
			.getService(Ci.mozIJSSubScriptLoader)
			.loadSubScript("chrome://custombuttons/content/contextBuilder.js", utils);
		delete utils.oButton;
		delete utils.buttonURI;
		for (var i in utils) {
			aExecCtx.argNames += "," + i;
			aExecCtx.args.push(utils[i]);
		}
	},

	/**
	 * [Based on code found in Custom Buttons add-on.]
	 * @param  {event} aE     Event triggered by the menu item. It's always a click event.
	 * @param  {object} aBtn  The button to which the menu item belongs used to build the execution code (So it seems. LOL).
	 * @param  {string} aCode The code to execute.
	 * @return {null}         Nothing
	 */
	executeCode: function(aE, aBtn, aCode) {
		if (aCode) {
			let cbService = Cc["@xsms.nm.ru/custombuttons/cbservice;1"]
				.getService(Ci.cbICustomButtonsService);
			var execURL = "chrome://custombuttons-context/content/button.js?windowId=";
			execURL += cbService.getWindowId(document.documentURI) + "&id=";
			execURL += aBtn.id + "@";
			execURL += "pseudoCode";
			// execURL += aBtn._initPhase ? "init" : "code";
			var execContext = {};
			execContext["oButton"] = aBtn;
			execContext["code"] = aCode;
			execContext["argNames"] = "event";
			execContext["args"] = [aE];
			$.buildExecContext(aBtn, execURL, execContext);
			Cc["@mozilla.org/moz/jssubscript-loader;1"]
				.getService(Ci.mozIJSSubScriptLoader)
				.loadSubScript(execURL, execContext);
		}
	},

	getImg: function(aSrc) {
		switch (aSrc) {
			case "custombuttons-stdicon-1":
				return "chrome://custombuttons/skin/button.png";
			case "custombuttons-stdicon-2":
				return "chrome://custombuttons/skin/stdicons/rbutton.png";
			case "custombuttons-stdicon-3":
				return "chrome://custombuttons/skin/stdicons/gbutton.png";
			case "custombuttons-stdicon-4":
				return "chrome://custombuttons/skin/stdicons/bbutton.png";
		}
	},

	$CNS: function(aElName, aAttrs, aNameSpace) { // Creates elements
		var el = aNameSpace ?
			document.createElementNS(aNameSpace, aElName) :
			document.createElement(aElName);
		if (aAttrs)
			Object.keys(aAttrs).forEach(function(n) {
				if (aAttrs[n] !== "")
					el.setAttribute(n, aAttrs[n]);
			});
		return el;
	},

	$setAttrs: function(aItemOrId, aAttrs) { // A mod from TabMix.setItem
		let el = typeof(aItemOrId) === "string" ? $.$(aItemOrId) : aItemOrId;
		if (el) {
			Object.keys(aAttrs).forEach(function(aAttr) {
				let val = aAttrs[aAttr];
				if (val !== "" && val !== null && val !== undefined) {
					if (typeof(val) === "boolean") {
						if (!val) {
							el.removeAttribute(aAttr);
							return;
						}
					}
					el.setAttribute(aAttr, val);
				}
			});
		}
	},

	prefHandling: {
		_msg: "This process is immediate and irreversible.\t\n" +
			"It is advisable to make a backup of the preferences before proceeding.\t\n\n" +
			"Do you want to continue?\n",

		resetP: function() {
			let msg = "You're about to reset " + self.name +
				" preferences to their default values​​.\t\t\n\n" +
				"𝗪𝗔𝗥𝗡𝗜𝗡𝗚!!! 𝗧𝗵𝗲 𝗶𝗻𝗱𝗶𝘃𝗶𝗱𝘂𝗮𝗹 𝗽𝗿𝗲𝗳𝗲𝗿𝗲𝗻𝗰𝗲𝘀 𝗼𝗳 𝗔𝗟𝗟 𝗠𝘂𝗹𝘁𝗶 𝗠𝗲𝗻𝘂'𝘀 𝘀𝗹𝗮𝘃𝗲 " +
				"𝗯𝘂𝘁𝘁𝗼𝗻𝘀 𝘄𝗶𝗹𝗹 𝗮𝗹𝘀𝗼 𝗯𝗲 𝗿𝗲𝘀𝗲𝘁𝗲𝗱 𝘁𝗼 𝘁𝗵𝗶𝗲𝗿 𝗱𝗲𝗳𝗮𝘂𝗹𝘁 𝘃𝗮𝗹𝘂𝗲𝘀.\n\n" +
				this._msg;
			let cBox = custombuttons.confirmBox(self.name, msg, "Yes", "Cancel");
			if (cBox) {
				($.SP.getBranch($.Branch)).deleteBranch("");
				setTimeout(function() {
					$.handleAllButtons(null, true);
				}, 100);
			} else
				return;
		},

		exportP: function() {
			var out = [];
			var value,
				prefList = ($.SP.getBranch($.Branch)).getChildList("", {});
			for (let pref in prefList) {
				if (!/^OptionsForButtonID/.test(prefList[pref])) {
					switch ($.SP.getPrefType($.Branch + prefList[pref])) {
						case 0:
							break;
						case 32:
							value = $.gPref(prefList[pref]);
							break;
						case 64:
							value = $.gPref(prefList[pref]);
							break;
						case 128:
							value = $.gPref(prefList[pref]) ? "true" : "false";
							break;
					}
					out.push(prefList[pref] + "|" + value);
				}
			}
			var file = new $._nsIFile($.storagePath);
			file.append("MultiMenuID" + self.id.slice(20) + "-Prefs.js");
			file.createUnique(Ci.nsIFile.NORMAL_FILE_TYPE, 0x1B6);
			let data = out.join("\n");
			OS.File.writeAtomic(file.path, data, {
				tmpPath: file.path + ".tmp",
				encoding: "utf-8"
			}).then(function onSuccess() {
				$.alertCallback.opt = {
					footer: 3,
					centerScreen: false,
				};
				$.notifyme("Multi Menu Preferences", "Successfully exported to Multi Menu storage.",
					$.getHelp("%AlertImg%"),
					$.alertCallback);
			}, function onFailure(aRejectReason) {
				$.reportError(aRejectReason);
			});
		},

		importP: function() {
			let msg = "You're about to import new preferences to " + self.name + ".\t\t\n" + this._msg;
			let cBox = custombuttons.confirmBox(self.name, msg, "Yes", "Cancel");
			if (cBox) {
				var localDir = new $._nsIFile($.storagePath);
				var fp = Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker);
				fp.init(window, "Import Multi Menu Preferences", Ci.nsIFilePicker.modeOpen);
				fp.appendFilter("", "MultiMenuID" + self.id.slice(20) + "*.js");
				fp.appendFilter("", "*.*");
				fp.displayDirectory = localDir;
				if (fp.show() === Ci.nsIFilePicker.returnOK) {
					if (fp.file && fp.file.exists())
						localDir = fp.file.parent.QueryInterface(Ci.nsIFile);
				} else
					return;
				OS.File.read(fp.file.path).then(function onSuccess(aReadData) {
					let prefFile = new TextDecoder().decode(aReadData);
					prefFile = prefFile.replace(/\r\n/g, "\n").split("\n");
					for (let p in prefFile) {
						var prefName = $.Branch + prefFile[p].split("|")[0],
							prefValue = prefFile[p].split("|")[1];
						if ($.SP.getPrefType(prefName)) {
							switch ($.SP.getPrefType(prefName)) {
								case 0:
									break;
								case 32:
									let str = $._nsISS;
									str.data = prefValue;
									$.SP.setComplexValue((prefName), Ci.nsISupportsString, str);
									break;
								case 64:
									$.SP.setIntPref(prefName, prefValue);
									break;
								case 128:
									$.SP.setBoolPref(prefName, ((prefValue === "true") ? "true" : ""));
									break;
							}
						}
					}
					setTimeout(function() {
						$.handleAllButtons(null, true);
					}, 500);
				}, function onFailure(aRejectReason) {
					$.reportError(aRejectReason);
				});
			} else
				return;
		},
	},

	itemsFileName: function(aID) {
		return "MultiMenu" + aID + ".json";
	},

	itemsFile: function(aID) {
		return new $._nsIFile(OS.Path.join($.storagePath, $.itemsFileName(aID)));
	},

	addDestructor: function(aFunc, aBtn, aCtx) {
		if (!aBtn || typeof aFunc !== "function")
			return true;
		var destructor = {};
		destructor["destructor"] = aFunc;
		destructor["context"] = aCtx;
		aBtn._destructors.push(destructor);
	},

	editCustomStyleSheet: function() {
		var em = Services.ww.getWindowEnumerator();
		var winName = $._UID + "_custom_style_sheet_window";
		var index = 1;
		while (em.hasMoreElements()) {
			let win = em.getNext();
			if (win.name === winName) {
				win.focus();
				return;
			}
			index++;
		}
		let storage = {
			button: self,
		};
		let xul = $.getHelp("%CustomStyleSheetWindow%");
		xul = xul.replace(/>\s+</g, "><");
		xul = xul.split("%U_I_D%").join($._UID);
		let url = "data:application/vnd.mozilla.xul+xml;text/plain," + encodeURIComponent(xul);
		let optWin = openDialog(url, winName, "chrome, dialog=yes, centerscreen, close");
		optWin._storage = storage;
	},

	SP: Services.prefs,
	SA: Services.appinfo,
	_UID: "__multi_menu_" + self.id.slice(14),
	_nsISS: Cc["@mozilla.org/supports-string;1"].createInstance(Ci.nsISupportsString),
	_nsIFile: Components.Constructor("@mozilla.org/file/local;1", "nsIFile", "initWithPath"),
	that: "document.getElementById('" + self.id + "').MultiMenu.",
	_cbs: custombuttons.cbService,

	get popSet() {
		let pSet = $.$("mainPopupSet") || $.$($._UID + "_popupset");
		if (!pSet) {
			try {
				pSet = $.$("msgcomposeWindow").appendChild($.$CNS("popupset", {
					id: $._UID + "_popupset",
					cb_id: $._UID
				}));
			} catch (aErr) {}
		}
		return pSet;
	},
	get ctxPop() {
		return $.$($._UID + "_multimenu_context");
	},
	get dynTT() {
		return $.$($._UID + "-dynamic-tooltip");
	},
	get prevTT() {
		return $.$($._UID + "-pos-preview-tooltip");
	},
	get optPop() {
		return $.$($._UID + "-options-mpop");
	},
	get storagePath() {
		let d = OS.Path.join(OS.Constants.Path.profileDir, "custombuttons", "MultiMenuStorage");
		if (!$._.pStorageFolderCreated) {
			$.sPref("pStorageFolderCreated", true);
			OS.File.makeDir(d, {
				ignoreExisting: true
			});
		}
		return d;
	},
	get dummyItems() {
		return JSON.stringify([
			[],
			[],
			[],
			[],
			[],
		], null, "\t");
	},
	/**
	 * Random delay to avoid "re-initialization" of to many buttons at the same time.
	 * @return {[Integer]} [Returns a delay between 200 milliseconds and 2 seconds.]
	 */
	get delay() {
		return (Math.floor(Math.random() * (1 + 2000 - 200)) + 200);
	},
	isOSX: Services.appinfo.OS.toLowerCase().startsWith("darwin"),
	accel: function(aE) {
		if (aE)
			return $.isOSX ? aE.metaKey : aE.ctrlKey;
		return $.isOSX ? "Command" : "Control";
	},
};

this.MultiMenu.Branch = "CB.MultiMenu.Id" + self.id.slice(20) + ".";

this.MultiMenu.DefPrefs = {
	pAddonsBlackList: "",
	pAddonsAutoCloseMenu: false,
	pStorageFolderCreated: false,
	pAddonsVersion: 2,
	pAddonsSortByEnabled: true,
	pExtraHelpOnAddonsItemsTooltips: true,
	pExtraHelpOnPrefItemsTooltips: true,
	pExtraHelpOnURLItemsTooltips: true,
	pMenuCloseDelay: 200,
	pMenuOpenDelay: 200,
	pPrefLabelType: true,
	pPrefLabelMaxLength: 30,
	pPrefValueMaxLength: 10,
	pPrefResetConfirmation: true,
	pShowBlacklistedAddons: false,
	pStyleSheetCustomEnabled: true,
	pStyleSheetCustom: "%2F**%0A%20*%20%5BCustom%20Style%20Sheet%5D%0A%20*%20This%20style%20sheet" +
		"%20is%20shared%20between%20all%20Multi%20Menu%20buttons%20(%22master%22%20and%20%22slave" +
		"s%22).%0A%20*%20It%20is%20loaded%20after%20the%20default%20style%20sheets%20used%20by%20" +
		"Multi%20Menu%2C%20so%20you%20can%20override%20styles.%0A%20*%20No%20need%20to%20specify%" +
		"20a%20namespace%20here%2C%20it's%20already%20specified%20by%20the%20default%20style%20sh" +
		"eets.%0A%20*%2F%0A%0A%2F**%0A%20*%20%5BList%20of%20classes%20used%20by%20all%20Multi%20M" +
		"enu%20buttons%20(%22master%22%20and%20%22slaves%22)%5D%0A%20*%20multi_menu_main_menupopu" +
		"p%0A%20*%20multi_menu_item_type_menuseparator%0A%20*%20multi_menu_item_type_spacer%0A%20" +
		"*%20multi_menu_item_type_dialogheader%0A%20*%20multi_menu_item_type_menuGroup%0A%20*%20m" +
		"ulti_menu_item_type_addon%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2" +
		"0%20%20%20%20%20%20%20%20addon_type_extension%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20" +
		"%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addon_type_plugin%0A%20*%20%20%20%20%20%20%" +
		"20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addon_type_theme%0A%20*%20" +
		"%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addon_type" +
		"_greasemonkey-user-script%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2" +
		"0%20%20%20%20%20%20%20%20addon_type_userscript%0A%20*%20%20%20%20%20%20%20%20%20%20%20%2" +
		"0%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addon_type_userstyle%0A%20*%20%20%20%20%20" +
		"%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20state_ask_to_activate%" +
		"0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s" +
		"tate_active%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%" +
		"20%20%20%20state_disabled%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2" +
		"0%20%20%20%20%20%20%20%20hidden_addon%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2" +
		"0%20%20%20%20%20%20%20%20%20%20%20%20pending_enable%0A%20*%20%20%20%20%20%20%20%20%20%20" +
		"%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pending_disable%0A%20*%20%20%20%20%20" +
		"%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pending_uninstall%0A%2" +
		"0*%20multi_menu_item_type_clonedMenuItem%0A%20*%20multi_menu_item_type_customMenuItem%0A" +
		"%20*%20multi_menu_item_type_clonedMenu%0A%20*%20multi_menu_item_type_customMenu%0A%20*%2" +
		"0multi_menu_item_type_pref%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%" +
		"20%20%20%20%20%20%20%20is_locked%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%" +
		"20%20%20%20%20%20%20%20%20%20has_user_value%0A%20*%20%20%20%20%20%20%20%20%20%20%20%20%2" +
		"0%20%20%20%20%20%20%20%20%20%20%20%20%20non_existent%0A%20*%20multi_menu_item_type_url%0" +
		"A%20*%20multi_menu_item_type_pathRelative%0A%20*%20multi_menu_item_type_pathFull%0A%20*%" +
		"20multi_menu_item_type_cb%0A%20*%2F%0A%0A%2F***%20Start%20adding%20you%20CSS%20after%20t" +
		"his%20comment%20***%2F%0A%0A%2F*%20Preferences%20with%20user%20set%20values%20*%2F%0A.mu" +
		"lti_menu_item_type_pref.has_user_value%20%7B%0A%09font-weight%3A%20bold%20!important%3B%" +
		"0A%7D%0A%2F*%20Locked%20preferences%20*%2F%0A.multi_menu_item_type_pref.is_locked%20%7B%" +
		"0A%09font-style%3A%20italic%20!important%3B%0A%7D%0A%2F*%20Non%20existent%20preferences%" +
		"20*%2F%0A.multi_menu_item_type_pref.non_existent%20%7B%0A%09color%3A%20red%20!important%" +
		"3B%0A%7D%0A%2F*%20Active%20add-ons%20*%2F%0A.multi_menu_item_type_addon.state_active%20%" +
		"7B%0A%09opacity%3A%201%20!important%3B%0A%7D%0A%2F*%20Disabled%20add-ons%20*%2F%0A.multi" +
		"_menu_item_type_addon.state_disabled%3Anot(.addon_type_theme)%20%7B%0A%09opacity%3A%20.6" +
		"5%20!important%3B%0A%7D%0A%2F*%20Ask-to-activate%20add-ons%20*%2F%0A.multi_menu_item_typ" +
		"e_addon.state_ask_to_activate%20%7B%0A%09font-style%3A%20italic%20!important%3B%0A%7D%0A" +
		"%2F*%20Ask-to-activate%20add-ons%20*%2F%0A.multi_menu_item_type_addon.hidden_addon%20%7B" +
		"%0A%09text-decoration%3A%20line-through%20!important%3B%0A%09text-decoration-color%3A%20" +
		"red%20!important%3B%0A%09text-decoration-style%3A%20double%20!important%3B%0A%7D%0A%2F*%" +
		"20Add-on%20pending%20to%20be%20enabled%20*%2F%0A.multi_menu_item_type_addon.pending_enab" +
		"le%20%7B%0A%09font-weight%3A%20bold%20!important%3B%0A%09color%3A%20green%20!important%3" +
		"B%0A%7D%0A%2F*%20Add-on%20pending%20to%20be%20disabled%20*%2F%0A.multi_menu_item_type_ad" +
		"don.pending_disable%20%7B%0A%09font-weight%3A%20bold%20!important%3B%0A%09color%3A%20ora" +
		"nge%20!important%3B%0A%7D%0A%2F*%20Add-on%20pending%20to%20be%20uninstalled%20*%2F%0A.mu" +
		"lti_menu_item_type_addon.pending_uninstall%20%7B%0A%09font-weight%3A%20bold%20!important" +
		"%3B%0A%09color%3A%20red%20!important%3B%0A%7D",
	pStyleInvertContextIcons: false,
	pStyleForDialogHeaderEnabled: true,
	pStyleForMenuGroupEnabled: true,
	pStyleForMenuGroupReflectCheckedStateEnabled: true,
	pStylePanelConvertionType: 0,
	pStyleForOverflowedMenus: true,
	pStyleRemoveMainMenuAccelContainers: true,
	pOverrideHosts: "",
	pOverrideURLs: "about:blank,about:newtab,about:home",
	pURLItemLeftClickWhere: 3,
	pURLItemRightClickWhere: 2,
	pURLItemMiddleClickWhere: 1,
	pURLItemLeftCtrlClickWhere: 6,
	pURLItemLeftShiftClickWhere: 6,
};

this.MultiMenu.initPrefs = function() {
	let branch = Services.prefs.getDefaultBranch(self.MultiMenu.Branch),
		defaults = self.MultiMenu.DefPrefs;
	for (let key in defaults) {
		if (defaults.hasOwnProperty(key)) {
			let val = defaults[key];
			switch (typeof val) {
				case "boolean":
					branch.setBoolPref(key, val);
					break;
				case "number":
					branch.setIntPref(key, val);
					break;
				case "string":
					let str = $._nsISS;
					str.data = val;
					branch.setComplexValue((key), Ci.nsISupportsString, str);
					break;
			}
		}
	}
};

this.MultiMenu.gPref = function(aKey) {
	let branch = Services.prefs.getBranch(self.MultiMenu.Branch);
	switch (typeof self.MultiMenu.DefPrefs[aKey]) {
		case "boolean":
			return branch.getBoolPref(aKey);
		case "number":
			return branch.getIntPref(aKey);
		case "string":
			return branch.getComplexValue(aKey, Ci.nsISupportsString).data;
	}
	return null;
};

this.MultiMenu.sPref = function(aKey, aVal) {
	let branch = Services.prefs.getBranch(self.MultiMenu.Branch);
	switch (typeof aVal) {
		case "boolean":
			branch.setBoolPref(aKey, aVal);
			break;
		case "number":
			branch.setIntPref(aKey, aVal);
			break;
		case "string":
			let str = $._nsISS;
			str.data = aVal;
			branch.setComplexValue((aKey), Ci.nsISupportsString, str);
			break;
	}
};

this.MultiMenu.init();]]></initcode>
  <code><![CDATA[if(!event.target && !this.disabled)
	this.MultiMenu.hotkeyPressed(this);]]></code>
  <accelkey><![CDATA[]]></accelkey>
  <help>𝗜𝗺𝗽𝗼𝗿𝘁𝗮𝗻𝘁 𝗻𝗼𝘁𝗲𝘀
⚫ 𝗗𝗢 𝗡𝗢𝗧 𝗶𝗻𝘀𝘁𝗮𝗹𝗹 𝗺𝗼𝗿𝗲 𝘁𝗵𝗮𝗻 𝗼𝗻𝗲 𝘃𝗲𝗿𝘀𝗶𝗼𝗻 𝗼𝗳 𝘁𝗵𝗶𝘀 𝗯𝘂𝘁𝘁𝗼𝗻 𝗮𝘁 𝘁𝗵𝗲 𝘀𝗮𝗺𝗲 𝘁𝗶𝗺𝗲❗❗❗
⚫ 𝗗𝗢 𝗡𝗢𝗧 𝗰𝗹𝗼𝗻𝗲 𝘁𝗵𝗶𝘀 𝗯𝘂𝘁𝘁𝗼𝗻❗❗❗
⚫ If you did any of the previous actions, delete all extra buttons leaving only one version of 𝗠𝘂𝗹𝘁𝗶 𝗠𝗲𝗻𝘂 and restart your application.
⚫ Deleting/Uninstalling a 𝗠𝘂𝗹𝘁𝗶 𝗠𝗲𝗻𝘂 button (𝙢𝙖𝙨𝙩𝙚𝙧 or 𝙨𝙡𝙖𝙫𝙚) will NOT delete its items file from 𝗠𝘂𝗹𝘁𝗶 𝗠𝗲𝗻𝘂'𝘀 storage folder.
⚫ Deleting/Uninstalling the 𝗠𝘂𝗹𝘁𝗶 𝗠𝗲𝗻𝘂 𝙢𝙖𝙨𝙩𝙚𝙧 button will NOT delete any of the 𝙨𝙡𝙖𝙫𝙚 buttons but it will reset all individual preferences to their defaults.

𝗢𝗻 𝘁𝗵𝗲 𝗼𝘁𝗵𝗲𝗿 𝗵𝗮𝗻𝗱
⚫ You can create/clone countless times a 𝗠𝘂𝗹𝘁𝗶 𝗠𝗲𝗻𝘂'𝘀 𝙨𝙡𝙖𝙫𝙚 button.

𝗪𝗔𝗥𝗡𝗜𝗡𝗚❗❗❗ 𝗕𝗘 𝗖𝗔𝗥𝗘𝗙𝗨𝗟 𝗜𝗙 𝗬𝗢𝗨 𝗘𝗗𝗜𝗧 𝗧𝗛𝗘 𝗛𝗘𝗟𝗣 𝗧𝗔𝗕 𝗢𝗙 𝗧𝗛𝗜𝗦 𝗕𝗨𝗧𝗧𝗢𝗡❗❗❗
𝗜𝗧 𝗖𝗢𝗨𝗟𝗗 𝗕𝗥𝗘𝗔𝗞 𝗜𝗧𝗦 𝗙𝗨𝗡𝗖𝗜𝗢𝗡𝗔𝗟𝗜𝗧𝗬❗❗❗

[,]

/**
 * 𝗙𝗥𝗢𝗠 𝗛𝗘𝗥𝗘 𝗗𝗢𝗪𝗡 𝗗𝗢 𝗡𝗢𝗧 𝗧𝗢𝗨𝗖𝗛 𝗔𝗡𝗬𝗧𝗛𝗜𝗡𝗚
 */

&lt;!--%OptionsWindow%--&gt;&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;?xml-stylesheet href="chrome://global/skin/" ?&gt;
&lt;?xml-stylesheet href="data:text/css;charset=utf-8,
prefwindow * {
	font-family: &amp;quot;Open Sans&amp;quot;, Helvetica, Arial, sans-serif !important;
}
button {
	min-width: 0  !important;
}
caption .caption-text,
.bold_text {
	font-weight: bold !important;
}
.warning{
	font-weight: bold !important;
	color: red !important;
}
/* Force groupboxes on Linux to have the same appearance than in Windows */
/* Just because it makes effing sence!!!! */
/* Why have elements grouped inside a groupbox and not visually delimited?!?!?! */
groupbox {
	-moz-appearance: groupbox !important;
	border: 2px groove ThreeDFace !important;
	border-radius: 3px !important;
	margin: 3px !important;
	padding: 3px 3px 6px !important;
}
.groupbox-body {
	padding: inherit !important;
}
caption {
	margin: 0 6px !important;
	background-color: -moz-Dialog !important;
}
tabpanels caption {
	-moz-appearance: tabpanel !important;
}
/* !important is needed to override label in global.css */
.caption-text {
	margin: 0 2px !important;
}
tab[selected=&amp;quot;true&amp;quot;] {
	font-weight: bold !important;
}
dialogheader {
	font-size:x-small!important;
	font-weight:600!important;
	margin:0 0 7px 0!important;
	padding:2px 0 2px 5px!important;
	border:none!important;
}
" type="text/css" ?&gt;
&lt;prefwindow id="%U_I_D%_settings_window"
			 xmlns:html="http://www.w3.org/1999/xhtml"
			 xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
			 onload="$.onLoad();"
			 onunload="$.onUnload();"
			 buttons="accept,cancel,extra1,extra2"
			 buttonlabelextra1="Apply"
			 buttonlabeldisclosure=""
			 ondialogextra1="$.onApply();"
			 buttonlabelextra2="Settings"
			 title="Multi Menu settings"&gt;
				&lt;script&gt;
		&lt;![CDATA[
Components.utils.import("resource://gre/modules/osfile.jsm");
Components.utils.import("resource://gre/modules/Services.jsm");
var stg = window._storage;
var cb_btn = stg.button;

function $id(id) {
	return document.getElementById(id)
};
var $ = {
	_initialized: false,
	onLoad: function() {
		this._initialized = true;
		var docElt = document.documentElement;
		this.instantApply = docElt.instantApply;
		window.addEventListener("change", this, false);
		docElt.getButton("extra1").setAttribute("icon", "apply");
		docElt.getButton("extra2").setAttribute("popup", "multi-menu-preferences");
		docElt.setAttribute("cancelbuttonlabel", docElt.mStrBundle.GetStringFromName("button-cancel"));
		this.setButtons(true);
		$.dealWithNavigator();
		$.initMenulists();
	},
	handleEvent: function(aE) {
		switch (aE.type) {
			case "change":
				if (aE.target.localName != "preference")
					return;
				if (!this.instantApply)
					this.updateApplyButton(aE);
				break;
		}
	},
	changes: [],
	updateApplyButton: function(aE) {
		var item = aE.target;
		if (item.localName != "preference")
			return;
		var valueChanged = item.value != item.valueFromPreferences;
		var index = this.changes.indexOf(item);
		if (valueChanged &amp;&amp; index == -1)
			this.changes.push(item);
		else if (!valueChanged &amp;&amp; index &gt; -1)
			this.changes.splice(index, 1);
		this.setButtons(!this.changes.length);
	},
	onApply: function() {
		this.setButtons(true);
		while (this.changes.length) {
			var preference = this.changes.shift();
			preference.batching = true;
			preference.valueFromPreferences = preference.value;
			preference.batching = false;
		}
		cb_btn.init();
	},
	setButtons: function(aDisable) {
		var docElt = document.documentElement;
		// when in instantApply mode apply and accept buttons are hidden except when user
		// change min/max width value
		var applyButton = docElt.getButton("extra1");
		applyButton.disabled = aDisable;
		applyButton.hidden = this.instantApply &amp;&amp; aDisable;
		docElt.getButton("accept").hidden = aDisable;

		var action = aDisable ? "close" : "cancel";
		var cancelButton = docElt.getButton("cancel");
		cancelButton.label = docElt.getAttribute(action + "buttonlabel");
		cancelButton.setAttribute("icon", action);
	},
	setDisabled: function(aItemOrId, aVal) {
		var item = typeof(aItemOrId) == "string" ? $id(aItemOrId) : aItemOrId;
		if (!item)
			return;
		if (item.hasAttribute("inverseDependency"))
			aVal = !aVal;
		// remove disabled when the value is false
		this.setItem(item, "disabled", aVal || null);
	},
	setItem: function(aItemOrId, aAttr, aVal) {
		var el = typeof(aItemOrId) == "string" ? document.getElementById(aItemOrId) : aItemOrId;
		if (el) {
			if (aVal === null || aVal === undefined) {
				el.removeAttribute(aAttr);
				return;
			}
			if (typeof(aVal) == "boolean")
				aVal = aVal ? "true" : "false";

			if (!el.hasAttribute(aAttr) || el.getAttribute(aAttr) != aVal)
				el.setAttribute(aAttr, aVal);
		}
	},
	onUnload: function() {
		window.removeEventListener("change", this, false);
		window.removeEventListener("beforeaccept", this, false);
		cb_btn.init();
	},
	dealWithNavigator: function() {
		Array.prototype.slice.call(document.getElementsByAttribute("data-navigator", "*")).forEach(function(aEl) {
			switch (Number(aEl.getAttribute("data-navigator"))) {
				case 0:
					aEl.disabled = stg.isNavigator;
					break;
				case 1:
					aEl.disabled = !stg.isNavigator;
					break;
			}
		});
	},
	initMenulists: function() {
		var urlActionMPop = $id("click-on-url-item-action-primary-menulist").firstChild;
		var ulrActionSMLists = document.getElementsByClassName("click-on-url-item-action-secondary-menulist");
		for (var a = ulrActionSMLists.length - 1; a &gt;= 0; a--) {
			ulrActionSMLists[a].appendChild(urlActionMPop.cloneNode(true));
			$.setMenulistsCheckedState(ulrActionSMLists[a]);
		}
	},
	setMenulistsCheckedState: function(aMList) {
		let prefID = aMList.getAttribute("preference");
		let val = $id(prefID).value;
		if (val !== -1)
			aMList.selectedIndex = val;
	},
};
]]&gt;&lt;/script&gt;
	&lt;prefpane flex="1"&gt;
		&lt;preferences&gt;
			&lt;preference id="pAddonsAutoCloseMenu" name="%B_R_A_N_C_H%pAddonsAutoCloseMenu" type="bool"/&gt;
			&lt;preference id="pAddonsVersion" name="%B_R_A_N_C_H%pAddonsVersion" type="int"/&gt;
			&lt;preference id="pAddonsSortByEnabled" name="%B_R_A_N_C_H%pAddonsSortByEnabled" type="bool"/&gt;
			&lt;preference id="PopupPosition" name="%B_R_A_N_C_H%PopupPosition" type="string"/&gt;
			&lt;preference id="pMenuOpenDelay" name="%B_R_A_N_C_H%pMenuOpenDelay" type="int"/&gt;
			&lt;preference id="pMenuCloseDelay" name="%B_R_A_N_C_H%pMenuCloseDelay" type="int"/&gt;
			&lt;preference id="MenuOpenOnHover" name="%B_R_A_N_C_H%MenuOpenOnHover" type="bool"/&gt;
			&lt;preference id="FlipAttribute" name="%B_R_A_N_C_H%FlipAttribute" type="bool"/&gt;
			&lt;preference id="pPrefLabelType" name="%B_R_A_N_C_H%pPrefLabelType" type="bool" /&gt;
			&lt;preference id="pPrefLabelMaxLength" name="%B_R_A_N_C_H%pPrefLabelMaxLength" type="int" /&gt;
			&lt;preference id="pPrefValueMaxLength" name="%B_R_A_N_C_H%pPrefValueMaxLength" type="int" /&gt;
			&lt;preference id="pPrefResetConfirmation" name="%B_R_A_N_C_H%pPrefResetConfirmation" type="bool" /&gt;
			&lt;preference id="pExtraHelpOnAddonsItemsTooltips" name="%B_R_A_N_C_H%pExtraHelpOnAddonsItemsTooltips" type="bool" /&gt;
			&lt;preference id="pExtraHelpOnPrefItemsTooltips" name="%B_R_A_N_C_H%pExtraHelpOnPrefItemsTooltips" type="bool" /&gt;
			&lt;preference id="pExtraHelpOnURLItemsTooltips" name="%B_R_A_N_C_H%pExtraHelpOnURLItemsTooltips" type="bool" /&gt;
			&lt;preference id="pShowBlacklistedAddons" name="%B_R_A_N_C_H%pShowBlacklistedAddons" type="bool" /&gt;
			&lt;preference id="pURLItemLeftClickWhere" name="%B_R_A_N_C_H%pURLItemLeftClickWhere" type="int" /&gt;
			&lt;preference id="pURLItemRightClickWhere" name="%B_R_A_N_C_H%pURLItemRightClickWhere" type="int" /&gt;
			&lt;preference id="pURLItemMiddleClickWhere" name="%B_R_A_N_C_H%pURLItemMiddleClickWhere" type="int" /&gt;
			&lt;preference id="pURLItemLeftCtrlClickWhere" name="%B_R_A_N_C_H%pURLItemLeftCtrlClickWhere" type="int" /&gt;
			&lt;preference id="pURLItemLeftShiftClickWhere" name="%B_R_A_N_C_H%pURLItemLeftShiftClickWhere" type="int" /&gt;
		&lt;/preferences&gt;
&lt;tabbox persist="selectedIndex" id="main_tabbox" flex="1"&gt;
	&lt;tabs&gt;
		&lt;tab label=" General " flex="1"/&gt;
		&lt;tab label=" Item clicks " flex="1"/&gt;
	&lt;/tabs&gt;
	&lt;tabpanels flex="1"&gt;
		&lt;tabpanel flex="1" orient="vertical"&gt;
			&lt;groupbox&gt;
				&lt;caption label="Global settings"/&gt;
				&lt;grid&gt;
					&lt;columns&gt;
						&lt;column /&gt;
						&lt;column /&gt;
					&lt;/columns&gt;
					&lt;rows&gt;
						&lt;row&gt;
							&lt;hbox align="center"&gt;
								&lt;label value="Auto-open delay:"/&gt;
								&lt;spacer flex="1"/&gt;
								&lt;textbox type="number" increment="10" min="0" max="999" maxwidth="70px" preference="pMenuOpenDelay"/&gt;
							&lt;/hbox&gt;
							&lt;hbox align="center"&gt;
								&lt;label value="Auto-close delay:"/&gt;
								&lt;spacer flex="1"/&gt;
								&lt;textbox type="number" increment="10" min="0" max="999" maxwidth="70px" preference="pMenuCloseDelay"/&gt;
							&lt;/hbox&gt;
						&lt;/row&gt;
					&lt;/rows&gt;
				&lt;/grid&gt;
			&lt;/groupbox&gt;
			&lt;groupbox&gt;
				&lt;caption label="&amp;quot;Addon&amp;quot; menu items settings"/&gt;
				&lt;grid&gt;
					&lt;columns&gt;
						&lt;column /&gt;
						&lt;column /&gt;
					&lt;/columns&gt;
					&lt;rows&gt;
						&lt;row&gt;
							&lt;vbox&gt;
								&lt;checkbox tooltip="tt_1" label="Auto close menu" preference="pAddonsAutoCloseMenu"/&gt;
								&lt;checkbox tooltip="tt_6" label="Show extra help in tooltips" preference="pExtraHelpOnAddonsItemsTooltips"/&gt;
								&lt;checkbox tooltip="tt_3" label="Sort &amp;quot;add-ons&amp;quot; by enabled state" preference="pAddonsSortByEnabled"/&gt;
								&lt;checkbox tooltip="show_hidden_addons_tt" label="Show hidden add-ons" preference="pShowBlacklistedAddons"/&gt;
							&lt;/vbox&gt;
							&lt;groupbox tooltip="tt_2"&gt;
								&lt;caption label="Show add-ons version?" /&gt;
								&lt;radiogroup orient="vertical" preference="pAddonsVersion"&gt;
									&lt;radio label="Don't show version" value="0" /&gt;
									&lt;radio label="Show as part of the label" value="1" /&gt;
									&lt;radio label="Show as &amp;quot;acceltext&amp;quot;" value="2" /&gt;
								&lt;/radiogroup&gt;
							&lt;/groupbox&gt;
						&lt;/row&gt;
					&lt;/rows&gt;
				&lt;/grid&gt;
			&lt;/groupbox&gt;
			&lt;groupbox&gt;
				&lt;caption label="&amp;quot;Preference&amp;quot; menu items settings" /&gt;
				&lt;grid&gt;
					&lt;columns&gt;
						&lt;column /&gt;
						&lt;column /&gt;
					&lt;/columns&gt;
					&lt;rows&gt;
						&lt;row&gt;
							&lt;vbox&gt;
								&lt;checkbox tooltip="tt_4" label="Confirm box for pref. reset" preference="pPrefResetConfirmation"/&gt;
								&lt;checkbox tooltip="tt_6" label="Show extra help in tooltips" preference="pExtraHelpOnPrefItemsTooltips"/&gt;
								&lt;hbox align="center"&gt;
									&lt;label control="pref-label-max-length" value="Pref. label max. length:"/&gt;
									&lt;spacer flex="1"/&gt;
									&lt;textbox id="pref-label-max-length" type="number" min="10" max="99" maxwidth="50px" preference="pPrefLabelMaxLength"/&gt;
								&lt;/hbox&gt;
								&lt;hbox align="center"&gt;
									&lt;label control="pref-value-max-length" value="Pref. value max. length:"/&gt;
									&lt;spacer flex="1"/&gt;
									&lt;textbox id="pref-value-max-length" type="number" min="6" max="99" maxwidth="50px" preference="pPrefValueMaxLength"/&gt;
								&lt;/hbox&gt;
							&lt;/vbox&gt;
							&lt;groupbox tooltip="tt_5"&gt;
								&lt;caption label="Show preference value..."/&gt;
								&lt;radiogroup orient="vertical" preference="pPrefLabelType"&gt;
									&lt;radio label="as part of the label" value="false"/&gt;
									&lt;radio label="as &amp;quot;acceltext&amp;quot;" value="true"/&gt;
								&lt;/radiogroup&gt;
							&lt;/groupbox&gt;
						&lt;/row&gt;
					&lt;/rows&gt;
				&lt;/grid&gt;
			&lt;/groupbox&gt;
			&lt;groupbox&gt;
				&lt;caption label="&amp;quot;URL&amp;quot; menu items settings"/&gt;
					&lt;hbox&gt;
						&lt;checkbox tooltip="tt_6" label="Show extra help in tooltips" preference="pExtraHelpOnURLItemsTooltips"/&gt;
						&lt;spacer flex="2"/&gt;
					&lt;/hbox&gt;
			&lt;/groupbox&gt;
		&lt;/tabpanel&gt;
		&lt;tabpanel flex="1" orient="vertical"&gt;
			&lt;groupbox&gt;
				&lt;caption label="Click action on URL items"/&gt;
				&lt;hbox align="center"&gt;
					&lt;label value="Left click:" class="bold_text"/&gt;
					&lt;spacer flex="1" /&gt;
					&lt;menulist tooltip="tt_9" id="click-on-url-item-action-primary-menulist" sizetopopup="always" preference="pURLItemLeftClickWhere"&gt;
						&lt;menupopup&gt;
							&lt;menuitem label="Current" data-navigator="1" value="0" /&gt;
							&lt;menuitem label="Next to current" data-navigator="1" value="1" /&gt;
							&lt;menuitem label="New tab in background" data-navigator="1" value="2" /&gt;
							&lt;menuitem label="New tab in foreground" data-navigator="1" value="3" /&gt;
							&lt;menuitem label="Try to open in content tab" data-navigator="0" value="4" /&gt;
							&lt;menuitem label="Default browser" data-navigator="0" value="5" /&gt;
							&lt;menuitem label="Disabled" value="6" tooltip="tt_10" /&gt;
						&lt;/menupopup&gt;
					&lt;/menulist&gt;
				&lt;/hbox&gt;
				&lt;hbox align="center"&gt;
					&lt;label value="%A_C_C_E_L% + Left click:" class="bold_text"/&gt;
					&lt;spacer flex="1" /&gt;
					&lt;menulist tooltip="tt_9" class="click-on-url-item-action-secondary-menulist" sizetopopup="always" preference="pURLItemLeftCtrlClickWhere" /&gt;
				&lt;/hbox&gt;
				&lt;hbox align="center"&gt;
					&lt;label value="Shift + Left click:" class="bold_text"/&gt;
					&lt;spacer flex="1" /&gt;
					&lt;menulist tooltip="tt_9" class="click-on-url-item-action-secondary-menulist" sizetopopup="always" preference="pURLItemLeftShiftClickWhere" /&gt;
				&lt;/hbox&gt;
				&lt;hbox align="center"&gt;
					&lt;label value="Right click:" class="bold_text"/&gt;
					&lt;spacer flex="1" /&gt;
					&lt;menulist tooltip="tt_9" class="click-on-url-item-action-secondary-menulist" sizetopopup="always" preference="pURLItemRightClickWhere" /&gt;
				&lt;/hbox&gt;
				&lt;hbox align="center"&gt;
					&lt;label value="Middle click:" class="bold_text"/&gt;
					&lt;spacer flex="1" /&gt;
					&lt;menulist tooltip="tt_9" class="click-on-url-item-action-secondary-menulist" sizetopopup="always" preference="pURLItemMiddleClickWhere" /&gt;
				&lt;/hbox&gt;
			&lt;/groupbox&gt;
			&lt;spacer flex="1" /&gt;
		&lt;/tabpanel&gt;
	&lt;/tabpanels&gt;
	&lt;/tabbox&gt;
	&lt;spacer flex="0" /&gt;
	&lt;/prefpane&gt;
	&lt;popupset&gt;
		&lt;menupopup id="multi-menu-preferences" position="before_start"&gt;
			&lt;dialogheader title="Preferences" /&gt;
			&lt;menuitem class="warning" tooltip="tt_0" label="Restore Defaults" oncommand="cb_btn.MultiMenu.prefHandling.resetP();"/&gt;
			&lt;menuitem class="warning" tooltip="tt_0" label="Import Multi Menu Preferences" oncommand="cb_btn.MultiMenu.prefHandling.importP();"/&gt;
			&lt;menuitem class="warning" tooltip="tt_0" label="Export Multi Menu Preferences" oncommand="cb_btn.MultiMenu.prefHandling.exportP();"/&gt;
		&lt;/menupopup&gt;
		&lt;tooltip id="tt_0"&gt;
			&lt;description class="warning"&gt;WARNING!!!&lt;/description&gt;
			&lt;description class="warning"&gt;Multi Menu slave button's preferences are somewhat ephemeral. They are not exported when using the &lt;html:b&gt;Export Multi Menu Preferences&lt;/html:b&gt; item, therefore they will not be imported when using the &lt;html:b&gt;Import Multi Menu Preferences&lt;/html:b&gt; item. On the other hand, they will be reseted when using the &lt;html:b&gt;Restore Defaults&lt;/html:b&gt; item.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_1"&gt;
			&lt;description&gt;If disabled/unchecked, it will allow you to perform more than one action on &amp;quot;add-ons&amp;quot; menu items before closing the menu.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_2"&gt;
			&lt;description&gt;It will allow you to choose between show the add-ons version as part of the label, as &amp;quot;acceltext&amp;quot; or do not show it at all.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_3"&gt;
			&lt;description&gt;If enabled/checked, will sort &amp;quot;add-ons&amp;quot; menu items by name grouping enabled &amp;quot;add-ons&amp;quot; first and disabled &amp;quot;add-ons&amp;quot; last.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_4"&gt;
			&lt;description&gt;If enabled/checked, every time you try to reset a preference with middle click, a confirm dialog will appear asking you if you want to proceed. If disabled/unchecked, the preference will reset without confirmation.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_5"&gt;
			&lt;description&gt;The preference's current value will always be visible on &amp;quot;preference&amp;quot; menu items. Here you can choose to display it as part of the label or as &amp;quot;acceltext&amp;quot;.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_6"&gt;
			&lt;description&gt;If enabled/checked, the tooltip for this type of item will display extra information, like what action will perform the Left click, or what it means when an item is in bold font, etc.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_7"&gt;
			&lt;description&gt;If enabled/checked, URLs will open in current tab on Left click. If disabled/unchecked, URLs will open in a new foreground tab on Left click.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_8"&gt;
			&lt;description&gt;If enabled/checked, URLs will open in content on Left click. If disabled/unchecked, URLs will open in default browser on Left click.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_9"&gt;
			&lt;description&gt;Where to open the URL.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_10"&gt;
			&lt;description&gt;Disables this click action on URL items.&lt;/description&gt;
		&lt;/tooltip&gt;
	&lt;/popupset&gt;
&lt;/prefwindow&gt;&lt;!--%OptionsWindow%--&gt;

&lt;!--%ItemsInsertionWindow%--&gt;&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;?xml-stylesheet href="chrome://global/skin/" ?&gt;
&lt;?xml-stylesheet href="data:text/css;charset=utf-8,
window * {
	font-family: &amp;quot;Open Sans&amp;quot;, Helvetica, Arial, sans-serif !important;
}
.convert-to-panel {
	-moz-appearance: none !important;
	-moz-binding: url(&amp;quot;chrome://global/content/bindings/popup.xml%23arrowpanel&amp;quot;) !important;
	background: transparent !important;
	border: none !important;
	-moz-image-region: auto !important;
}
caption .caption-text,
.bold_text {
	font-weight: bold !important;
}
.warning{
	font-weight: bold !important;
	color: red !important;
}
button .button-text {
	display: inline-block !important;
	text-align: left !important;
}
button {
	min-width: 0 !important;
}
.optional {
	outline: 2px solid green !important;
}
.required {
	outline: 2px solid orange !important;
}
.experimental {
	outline: 2px solid red !important;
}
.optional,
.required,
.experimental {
	margin-top: 5px !important;
	margin-bottom: 5px !important;
}
.pseudo_menupopup {
	-moz-appearance: menupopup !important;
	padding: 5px 20px 5px 5px !important;
	overflow-x: hidden  !important;
	overflow-y: auto  !important;
}
tab[selected=&amp;quot;true&amp;quot;] {
	font-weight: bold !important;
}
groupbox {
	-moz-appearance: groupbox !important;
	border: 2px groove ThreeDFace !important;
	border-radius: 3px !important;
	margin: 3px !important;
	padding: 3px 3px 6px !important;
}
.groupbox-body {
	padding: inherit !important;
}
caption {
	margin: 0 6px !important;
	background-color: -moz-Dialog !important;
}
tabpanels caption {
	-moz-appearance: tabpanel !important;
}
tabpanel {
	overflow-x: auto !important;
}
/* !important is needed to override label in global.css */
.caption-text {
	margin: 0 2px !important;
}
.edit-pseudo-item {
	list-style-image: url(&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAABbklEQVQokX2QP0sCcRzGv+kZiC7+/PNT8w/INeh2kzl0bg4SUZESDSHkWwgMMsgGIdPBMDRvUQKXIpcgiTh0EITruPfgvY+n5YYG9YEPz/SBh4fICoDtWq0mtdvtCIAt2hQATlmWDwVB+Pb5fI1OpxNdKwGwZzKZA0EQVCL6JSKNMdYEEFgpAbCXSqU8Y+ydiKYWGmPsod/vr54HwKMoSiEWiw2I6MviJxgM3m2SXOPx+DQej78Q0YfFp9frvd80zzUcDk/C4XCHiF4dDsfA7Xa/BQKBW1VVfetO8IxGo2NRFB9FUax3u90LzvlTNpvdB2BfJ7kmk8lRKpVqcs7buVzuJplMXs7ncycBsCmKEq9Wq5Ku6/5KpSLpuu5vNBrp2Wx2Vi6Xr6LR6HMoFLqu1+sJAiDIslzknLd6vV76f+fz+XMACdM091qtVnE6ne4SAJthGJKmaYXlcrmzWCwKpmlGNE0rGIYhAbBZOAEIf/lbwByZlq46AAAAAElFTkSuQmCC&amp;quot;) !important;
	-moz-image-region: auto !important;
}
.delete-pseudo-item {
	list-style-image: url(&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAABVklEQVQokWNgoAT8//+f+////9xofB5cigXmGemnz9LRyX97+zbf29u3+Wbp6OTPN9TP+P//vwCGyavsrdLm8HH+XCDA/X6Fo33aSif71AUC3O/n8HH+XGFnmY5i0////7n3piTVH1aVfXFAVuT/aknB96skBd8fkBX5f0RV9sXelJQGZKdCNH3+LPaot7P2vL7yi1MaUv9PaUj9P6+v/OJxT0fd/8+fxTD9cPs23/6YoPSTJipvrxsr/L9urPD/pInK2/2xgRn/b9/mw/DDDh+7/AMGcu/vWKv9f+is++Khs+6LO9Zq/w8ayL3f4W1bgOKk////89yb0F763FPv22tfkxcfF0yo+7xwYu1rX5MXzz31vj2Y0F6KEbz///+X/r16Tsn3ma21/7+8FP//+bPY95mttT9WzS79//+/NK64EPv//7/E////GaFY4v///+JYFRMLAKUewtoAYB96AAAAAElFTkSuQmCC&amp;quot;) !important;
	-moz-image-region: auto !important;
}
.save_changes {
	list-style-image: url(&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACdElEQVQ4jWNgIBGE/mdgZvjPwEiqPgYGBgaGpCOGUhX3XFO630Zapp0xZiVJc/QSFb78aw4dXe/C3k/8lnCj73OkfcN/BiaiNEfsUpfKPGfV0fDE/33jc///PR8i/nW9iz5Rez/QnoGBgYHBYT4Dh/cGNdugHZqS6Jq9l8oJppyw6ml8FvCx6Lbz/7iThv8zL1n9r37k+6fgusdGBoYGBqbQvXpOmeecbqecsu33XKUiCtNsPJOBNXiHfm/NQ78veTcd/wcf0vofsF/9f+BBjX/RR40fxBwx8WNIOWinWHnPd3/di8B/1Q/93yYcse6yWSonqDddXCxgi/bkyge+XzOu2f332qv632238n+P3Sr//XZr3wnaoRvlOUmFnaHgivu2kocevz32qf5PvGT1r+Ke/2fvDdqz3NapL25+Efol8ZLVf8edCv9tt8n+t9sm999lu9oZv42adtqrtNkYGBgYGKy2yW212S73w2Sz5D+LrTL/k6/a/C+74/u/7I7P/9gLFv9NNknC8F+LdbIX7NcqO6IEkvpyLimdNcKLtdaK/tBaK/LfYKPE//Bzpv+DThn9198g/l9rrch/7TWif3SXS14wWSLvaTyTATP+pZYLycqvFFijuJL/p+JKgf9KqwT/K60U+K+4UuC/4gqBvyoLRS6oTRW1wZsCBRdxykks5loovoT7k/gS7v/iS7j/iy/i+S81i/eCTL+gJwMDEcmXdy6DOt88toW8C9h+8s1l+88/keOMSCuPI0MaFmfjAIwM/QwKbNMY1rJ0Mp5kKGOwIFYjDLAyCDAI8ITyaHH7cOszSDMIMzAQbzuqS4jxMwMDAwDtNu92OyP2UwAAAABJRU5ErkJggg==&amp;quot;) !important;
	-moz-image-region: auto !important;
}
.cancel_changes {
	list-style-image: url(&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADdklEQVQ4jXVTb0yUBRx+3n+8977vve/BcXhIBzg5CMZRCAvGSIZQMCXpRFhkagRjTkjStdr6M9bW1/rCt1tZ0vDUU1E4QMHrAMk7F4zDY4qYRBdkyzJK0eMC9+sLOGnr+fo8z2+/Pc8eYBVtgHZSH2NzqqoJ/4Muk0l1WSxZLovFuI4oAKTjVXu2Tbd++tmNhsbac9HR0f81d8CoTVZUVk01t3x+vGJ3+U5AXuOi7BbL9q79jRf/cp5duvNRa9Cfld3YqaqxawIXNOPlrOy6UPORwJ9tX0Z69tV7X0vc9CoAHarzi2u/2P3GlZm6g0sP322lB4c/WAlVVk+NbEpp+QZQHIDcn7y5aXa7/fr95vdWHh75mGbr3444il4e3ZWZ+ybeyi89PdBwKLywrYLu5hfTvXI7LVbtodmcvJ/G8l9850p2dtN0uu3H+6U76Peicrr7wlb6e2sZ9ReWRRqyCvtRkbblpQMZz53tS9z8IGTaQLfNCfSb7XlaTH2W7lVW/fpHUfH8gmkD3TEn0A8xsRSKNpInLv7RgbiN/fbEDDsACGmCkNek6DvcmmFxVBRpWBDopiDQgiWJfjbF0QTL0iDDkJ/jyC1EhQ/xUefTgWIAurWcuAIgvUXQdZxStMcXeIHOAdQHhroB6gSoh2HIyfGPDzPc+RIgBwC/rqYagHsfyOvOsA0PWJLoGMfRUYCOAvQVw5A72kiuBEvwQ6C8BuDWmdsA8YQk5Z9R9Kd6FH3YxfPUDpCTYegEy1I7QCd5ntx6/cppWd/ZLkkFn6y97wAEF8+XXFDUbo8kh3tZjnoA8jAMjcYYadwcT98yDPUC1Mdy5JHkcK+i9BwTxTIHIOD7fXU7v0uxDg6K4pKXZWkEoHGWpRuSRBMJlvlgivX2TVmmwCrnZVkaEnVLg0bTiDstw47x6tquyS05ER/H0RhA0yxLIVlevqaqtwZEsXlA0e29ZjAEQ6r6z61VjY/jacK8cdmfneuFL7egxm8yXbouSY/mFIV+0bTlSU0LDIniwUuAwQHIHp1ubzDG4JtX1chcVBRNSfLSVVX1X7Va6/E1oBvmUTKT+Ez3fGFheNJqDfgEYb8HeLKFPkAbkaRd43GxvrlUa2TGbPaOcNwr/YDyJEh3UlLpZZvtzFRm5utjTy3tqSNiID5+x1BqivNicnJFGyACwL8fh1x5BGHtQgAAAABJRU5ErkJggg==&amp;quot;) !important;
	-moz-image-region: auto !important;
}
" type="text/css" ?&gt;
&lt;window id="%U_I_D%_edit_menu_window_%B_T_N_I_D%"
	    onload="$.onLoad();"
	    onunload="$.onUnLoad();"
	    windowtype="CB:MultiMenu:EditMenuWindow"
	    xmlns:html="http://www.w3.org/1999/xhtml"
	    xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"&gt;
&lt;script&gt;&lt;![CDATA[
var Cc = Components.classes;
var Ci = Components.interfaces;
var Cu = Components.utils;
Cu.import("resource://gre/modules/Services.jsm");
Cu.import("resource://gre/modules/osfile.jsm");
var stg = window._storage;
// cb_btn is the button whose items are currently being edited, not Multi Menu master button.
var cb_btn = stg.button;

function $id(aID, aParent) {
	if (!aParent)
		return document.getElementById(aID);
	return aParent.getElementById(aID);
}
var $ = {
	onLoad: function() {
		window.editPanelTarget = null;
		window.targetWithChildren = {};
		let browser = $id("%U_I_D%-browser");
		let source = stg.getHelp("%HelpPage%").split("\%A_C_C_E_L\%").join(stg.accel());
		let helpPage = "data:text/html," + encodeURIComponent(source);
		browser.setAttribute("src", helpPage);
		this.populateAllTabs();
		this.populateConstantsMenu();
		window.addEventListener("focus", this, false);
		window.addEventListener("blur", this, false);
		$.highlightButton(cb_btn, 1);
	},
	handleEvent: function(aE) {
		switch (aE.type) {
			case "focus":
				$.highlightButton(cb_btn, 1);
				break;
			case "blur":
				$.highlightButton(cb_btn, 2);
				break;
		}
	},
	onUnLoad: function() {
		$.highlightButton(cb_btn);
	},
	_nsIFile: Components.Constructor("@mozilla.org/file/local;1", "nsIFile", "initWithPath"),
	onAccept: function() {
		let allBoxes = [
			[],
			[],
			[],
			[],
			[]
		];
		try {
			Array.prototype.slice.call(document.getElementsByClassName("pseudo_menupopup")).forEach(function(aBox) {
				let id = aBox.getAttribute("id");
				Array.prototype.slice.call(aBox.getElementsByTagName("menuitem")).forEach(function(aMI) {
					switch (id) {
						case "primary_menu_1":
							allBoxes[0].push(aMI._data);
							break;
						case "primary_menu_2":
							allBoxes[1].push(aMI._data);
							break;
						case "primary_menu_3":
							allBoxes[2].push(aMI._data);
							break;
						case "primary_menu_4":
							allBoxes[3].push(aMI._data);
							break;
						case "primary_menu_5":
							allBoxes[4].push(aMI._data);
							break;
					}
				});
			});
		} finally {
			setTimeout(function() {
				let JSONData = JSON.stringify(allBoxes, null, "\t");
				let fPath = stg.itemsFilePath;
				let fName = new $._nsIFile(fPath).leafName;
				OS.File.copy(fPath, $.getBakDir(fName + ".bak1"), {
					noOverwrite: true
				}).then(function onSuccess() {
					$.saveJSONData(fPath, JSONData);
				}, function onFailure(aRejectReason) {
					OS.File.copy(fPath, $.getBakDir(fName + ".bak2"), {
						noOverwrite: true
					}).then(function onSuccess() {
						$.saveJSONData(fPath, JSONData);
					}, function onFailure(aRejectReason) {
						OS.File.copy(fPath, $.getBakDir(fName + ".bak3"), {
							noOverwrite: true
						}).then(function onSuccess() {
							$.saveJSONData(fPath, JSONData);
						}, function onFailure(aRejectReason) {
							OS.File.move($.getBakDir(fName + ".bak2"), $.getBakDir(fName + ".bak1"), {
								noOverwrite: false
							}).then(function onSuccess() {
								OS.File.move($.getBakDir(fName + ".bak3"), $.getBakDir(fName + ".bak2"), {
									noOverwrite: false
								}).then(function onSuccess() {
									OS.File.copy(fPath, $.getBakDir(fName + ".bak3"), {
										noOverwrite: true
									}).then(function onSuccess() {
										$.saveJSONData(fPath, JSONData);
									}, function onFailure(aRejectReason) {
										$.reportError(aRejectReason);
									});
								}, function onFailure(aRejectReason) {
									$.reportError(aRejectReason);
								});;
							}, function onFailure(aRejectReason) {
								$.reportError(aRejectReason);
							});
						});
					});
				});
			}, 100);
		}
	},
	getBakDir: function(aAppend) {
		let d = OS.Path.join(stg.storagePath, "Backups");
		OS.File.makeDir(d, {
			ignoreExisting: true
		});
		return OS.Path.join(d, aAppend)
	},
	selfDestroy: function() {
		setTimeout(function() {
			cb_btn.destroy("update");
			setTimeout(function() {
				cb_btn.init();
			}, 100);
		}, 100);
	},
	saveJSONData: function(aPath, aData) {
		OS.File.writeAtomic(aPath, aData, {
			tmpPath: aPath + ".tmp",
			encoding: "utf-8"
		}).then(function onSuccess() {
			$.selfDestroy();
		}, function onFailure(aRejectReason) {
			$.reportError(aRejectReason);
		});
	},
	reportError: function(aRejectReason) {
		try {
			console.error(aRejectReason);
		} catch (aErr) {
			Cu.reportError([cb_btn.name + ": " + cb_btn.id, aRejectReason, aRejectReason.stack].join("\n"));
		}
	},
	populateConstantsMenu: function() {
		let m = $id("constants-path-menu");
		m.appendChild($.$CNS("menuitem", {
			label: "profileDir",
			value: "profileDir",
			tooltiptext: OS.Constants.Path["profileDir"]
		}));
		for (let key in OS.Constants.Path) {
			if (OS.Constants.Path.hasOwnProperty(key)) {
				let path = OS.Constants.Path[key];
				if ((path.indexOf("/") !== -1 &amp;&amp; path.indexOf("\\") === -1) ||
					(path.indexOf("/") === -1 &amp;&amp; path.indexOf("\\") !== -1)) {
					m.appendChild($.$CNS("menuitem", {
						label: key,
						value: key,
						tooltiptext: path
					}));
				}
			}
		}
	},
	populateAllTabs: function() {
		let boxes = ["primary_menu_1", "primary_menu_2", "primary_menu_3", "primary_menu_4", "primary_menu_5"];
		var i = 0,
			iLen = boxes.length;
		for (; i &lt; iLen; i++) {
			// Work outside because I always screw up on loops inside other loops. LOL
			this.populateTab($id(boxes[i]), stg[boxes[i]]);
		}
	},
	populateTab: function(aBox, aBoxContent) {
		let o = 0,
			oLen = aBoxContent.length;
		for (; o &lt; oLen; o++) {
			let obj = aBoxContent[o];
			let lbl = obj["label"] || obj["_id"] || obj["_prefname"] || obj["title"] || "";
			switch (obj["_type_"]) {
				case "customMenuItem":
				case "customMenu":
				case "pathFull":
				case "pathRelative":
				case "pref":
				case "url":
					$.createItems(obj["_type_"], lbl, obj, aBox);
					break;
				case "clonedMenuItem":
				case "clonedMenu":
					$.createItems(obj["_type_"], lbl, obj, aBox);
					break;
				case "menuGroup":
					$.createItems(obj["_type_"], "[menugroup element]", obj, aBox);
					break;
				case "menuseparator":
					$.createItems(obj["_type_"], "[menuseparator element]", obj, aBox);
					break;
				case "spacer":
					$.createItems(obj["_type_"], "[spacer element]", obj, aBox);
					break;
				case "dialogheader":
					$.createItems(obj["_type_"], lbl, obj, aBox);
					break;
				case "addon":
					$.createItems(obj["_type_"], "[List of add-ons or add-on ID]", obj, aBox);
					break;
				case "cb":
					$.createItems(obj["_type_"], "Custom Button ID#: " + obj["_id"], obj, aBox);
					break;
			}
		}
	},
	createItems: function(aType, aLabel, aData, aBox) {
		let tBox = $id("main_tabbox");
		let getImg = function() {
			if (aData.hasOwnProperty("image"))
				return aData["image"];
			return "";
		};
		let pseudoPop = (aBox ?
			aBox :
			$id("primary_menu_" + (tBox.selectedIndex + 1)));
		if (!pseudoPop)
			return;
		let data = (aData ?
			aData :
			stg.dummyData(aType));
		let hbox = pseudoPop.appendChild($.$CNS("hbox", {
			align: "center"
		}));
		let mI = hbox.appendChild($.$CNS("menuitem", {
			label: aLabel,
			flex: "1",
			image: getImg(),
			class: "menuitem-iconic",
			_type_: aType,
		}));
		mI._data = data;
		hbox.appendChild($.$CNS("button", {
			tooltiptext: "Delete item",
			mousethrough: "never",
			class: "delete-pseudo-item",
			oncommand: "$.removePseudoItem(event, this);"
		}));
		if (aType !== "menuseparator") {
			hbox.appendChild($.$CNS("button", {
				tooltiptext: "Edit item",
				mousethrough: "never",
				class: "edit-pseudo-item",
				oncommand: "$.editPseudoItem(event, this.parentNode.firstChild.getAttribute('_type_'));"
			}));
		}
	},
	removePseudoItem: function(aE, aNode) {
		if (stg.accel(aE)) {
			aNode.parentNode.parentNode.removeChild(aNode.parentNode);
			return true;
		}
		let cBox = stg.custombuttons.confirmBox("Multi Menu", "Delete item?\n\n" +
			"𝗪𝗔𝗥𝗡𝗜𝗡𝗚!!!\n𝗗𝗲𝗹𝗲𝘁𝗲𝗶𝗻𝗴 𝗮 𝗺𝗲𝗻𝘂 𝗴𝗿𝗼𝘂𝗽 𝗼𝗿 𝗰𝘂𝘀𝘁𝗼𝗺 𝗺𝗲𝗻𝘂 𝘄𝗶𝗹𝗹 𝗮𝗹𝘀𝗼 𝗱𝗲𝗹𝗲𝘁𝗲 𝗮𝗹𝗹 𝗶𝘁𝘀 𝗰𝗵𝗶𝗹𝗱𝗿𝗲𝗻!!!\n\n" +
			"Keep the " + stg.accel() + " key pressed to delete items without confirmation.", "Yes", "Cancel");
		if (cBox) {
			aNode.parentNode.parentNode.removeChild(aNode.parentNode);
		} else
			return false;
	},
	populateEditPanel: function(aFakeMI, aNode, aTarget) {
		window.editPanelTarget = aTarget.parentNode;
		$.highlightElement(window.editPanelTarget);
		let type = aFakeMI.getAttribute("_type_");
		let dataObj = aFakeMI._data;
		let vbox = $id(type + "_box");
		let tempBox;
		try {
			try {
				let id = vbox.getAttribute("id");
				tempBox = vbox.cloneNode(true);
				tempBox.setAttribute("id", id + "-cloned");
			} finally {
				aNode.appendChild(tempBox);
			}
		} finally {
			Array.prototype.slice.call(tempBox.getElementsByAttribute("data-attr", "*")).forEach(function(aEl) {
				let attrName = aEl.getAttribute("data-attr");
				let attrVal = dataObj[attrName];
				if (type === "cb" &amp;&amp; attrName === "_advanced" ||
					type === "url" &amp;&amp; attrName === "_force")
					aEl &amp;&amp; aEl.setAttribute("checked", attrVal);
				else if (attrName === "_values" || attrName === "_args")
					aEl &amp;&amp; aEl.setAttribute("value", JSON.stringify(attrVal));
				else {
					// This crap doesn't work on normal textboxes, but it does on number textboxes.
					aEl &amp;&amp; (aEl.value = attrVal);
					// And this crap doesn't work on number textboxes, but it does on normal textboxes. WTF!?!?!?!
					aEl &amp;&amp; aEl.setAttribute("value", attrVal);
				}
			});
		}
	},
	populateChildrenBox: function(aFakeMI, aTarget, aPos) {
		if (window.targetWithChildren[aPos])
			return true;
		window.targetWithChildren[aPos] = aTarget.parentNode;
		$.highlightElement(window.targetWithChildren[aPos]);
		let type = aFakeMI.getAttribute("_type_");
		let dataObj = aFakeMI._data;
		let vbox = $id(type + "_box");
		var tempBox;
		try {
			try {
				tempBox = vbox.cloneNode(true);
				tempBox.setAttribute("data-ordinal", aPos);
				tempBox.removeAttribute("id");
			} finally {
				let container = $id("primary_menu_" + ($id("main_tabbox").selectedIndex + 1)).parentNode;
				container.appendChild(tempBox);
			}
		} finally {
			Array.prototype.slice.call(tempBox.getElementsByAttribute("data-attr", "*")).forEach(function(aEl) {
				let attrName = aEl.getAttribute("data-attr");
				let attrVal = dataObj[attrName];
				if (attrName !== "_items") {
					if (attrName === "orient")
						aEl &amp;&amp; (aEl.selectedIndex = attrVal === "horizontal" ? 0 : 1);
					else
						aEl &amp;&amp; aEl.setAttribute("value", attrVal);
				}
			});
			if (dataObj["_items"].length &gt; 0) {
				let el = tempBox.getElementsByAttribute("data-attr", "_items")[0];
				el.textContent = "";
				let itemsList = dataObj["_items"];
				let i = 0,
					iLen = itemsList.length;
				for (; i &lt; iLen; i++) {
					let lbl = itemsList[i]["label"] || itemsList[i]["_id"] || itemsList[i]["_prefname"] || itemsList[i]["title"];
					switch (itemsList[i]["_type_"]) {
						case "customMenuItem":
						case "pathFull":
						case "pathRelative":
						case "pref":
						case "clonedMenuItem":
						case "url":
							el &amp;&amp; $.createItems(itemsList[i]["_type_"], lbl, itemsList[i], el);
							break;
						case "cb":
							el &amp;&amp; $.createItems(itemsList[i]["_type_"], "Custom Button ID#: " + itemsList[i]["_id"], itemsList[i], el);
							break;
						case "customMenu":
						case "clonedMenu":
							(el &amp;&amp; type !== "menuGroup") &amp;&amp; $.createItems(itemsList[i]["_type_"], lbl, itemsList[i], el);
							break;
						case "menuseparator":
							(el &amp;&amp; type !== "menuGroup") &amp;&amp; $.createItems(itemsList[i]["_type_"], "[menuseparator element]", itemsList[i], el);
							break;
						case "menuGroup":
							(el &amp;&amp; type !== "menuGroup") &amp;&amp; $.createItems(itemsList[i]["_type_"], "[menugroup element]", itemsList[i], el);
							break;
						case "spacer":
							(el &amp;&amp; type !== "menuGroup") &amp;&amp; $.createItems(itemsList[i]["_type_"], "[spacer element]", itemsList[i], el);
							break;
						case "dialogheader":
							(el &amp;&amp; type !== "menuGroup") &amp;&amp; $.createItems(itemsList[i]["_type_"], "[dialogheader element]", itemsList[i], el);
							break;
						case "addon":
							(el &amp;&amp; type !== "menuGroup") &amp;&amp; $.createItems(itemsList[i]["_type_"], "[List of add-ons or add-on ID]", itemsList[i], el);
							break;
						default:
							continue;
					}
				}
			}
		}
	},
	editPseudoItem: function(aE, aType) {
		let panel = $.panel;
		if (panel &amp;&amp; (panel.state === "open" || panel.state === "opening"))
			return false;
		let fakeMI = aE.target.parentNode.firstChild;
		if (aType !== "menuGroup" &amp;&amp; aType !== "customMenu") {
			if (panel) {
				$.populateEditPanel(fakeMI, panel.firstChild, aE.target);
				panel.openPopup(aE.target, "", 0, 0, false, null, null);
			}
		} else {
			let el = aE.target;
			while (!el.hasAttribute("data-ordinal")) {
				el = el.parentNode;
			}
			setTimeout(function() {
				let pos = parseInt(el.getAttribute("data-ordinal"), 10);
				$.populateChildrenBox(fakeMI, aE.target, (pos + 1));
			}, 200);
		}
	},
	updatePseudoItem: function(aItem) {
		let getImg = function() {
			if (aItem._data.hasOwnProperty("image"))
				return aItem._data["image"];
			return "";
		};
		aItem.setAttribute("image", getImg());
		let lbl = aItem._data["label"] || aItem._data["_id"] || aItem._data["_prefname"] || aItem._data["title"] || "";
		switch (aItem._data["_type_"]) {
			case "customMenuItem":
			case "customMenu":
			case "pathFull":
			case "pathRelative":
			case "pref":
			case "url":
			case "clonedMenuItem":
			case "clonedMenu":
			case "dialogheader":
				aItem.setAttribute("label", lbl);
				break;
			case "cb":
				aItem.setAttribute("label", "Custom Button ID#: " + aItem._data["_id"]);
				break;
		}
	},
	getAlertMessage: function(aAttrName) {
		let msg;
		switch (aAttrName) {
			case "_values":
				msg = "Wrong format for the 𝗩𝗮𝗹𝘂𝗲𝘀 field!!!\n" +
					"It has to be an array of strings (for string type preferences) or an array of " +
					"integers (for integer type preferences).\n\n" +
					"Array of strings example (double or single quotes allowed):\n" +
					"['String 1', 'String 2', 'String 3']\n\n" +
					"Array of integers example:\n" +
					"[1, 2, 3]\n";
			case "_args":
				msg = "Wrong format for the 𝗔𝗿𝗴𝘂𝗺𝗲𝗻𝘁𝘀 field!!!\n" +
					"It has to be an array of arguments.\n\n" +
					"Example (double or single quotes allowed):\n" +
					"['Arg. 1', 'Arg. 2', 'Arg. 3']\n";
		}
		return msg + "\n\n𝗖𝗹𝗶𝗰𝗸 𝗺𝗲 𝘁𝗼 𝗰𝗹𝗼𝘀𝗲 𝗺𝗲";
	},
	onEditPanelAccept: function() {
		let panel = $.panel;
		let item = window.editPanelTarget.firstChild;
		try {
			Array.prototype.slice.call(panel.getElementsByAttribute("data-attr", "*")).forEach(function(aEl) {
				let attrName = aEl.getAttribute("data-attr");
				switch (aEl.nodeName.toLowerCase()) {
					case "textbox":
						if (attrName === "_values" || attrName === "_args") {
							try {
								item._data[attrName] = JSON.parse(aEl.value) || [];
							} catch (aErr) {
								stg.alertCallback.options = {
									footer: null,
									centerScreen: true,
								};
								stg.notifyme("Multi Menu",
									$.getAlertMessage(attrName),
									stg.getHelp("%ErrorImg%"),
									stg.alertCallback);
							}
						} else
							item._data[attrName] = aEl.value || "";
						break;
					case "checkbox":
						item._data[attrName] = aEl.checked;
						break;
				}
			});
		} finally {
			$.updatePseudoItem(item);
			$.onEditPanelCancel();
		}
	},
	onEditPanelCancel: function() {
		let panel = $.panel;
		panel &amp;&amp; panel.hidePopup();
		if (window.editPanelTarget) {
			$.highlightElement(window.editPanelTarget, true);
		}
	},
	onEditPanelHidden: function(aE, aN) {
		if (aE.target !== aN)
			return false;
		aE.stopPropagation();
	},
	onEditPanelHiding: function(aE, aN) {
		if (aE.target !== aN)
			return false;
		aN.firstChild.textContent = "";
		aN.height = aN.width = "";
		$.highlightElement(window.editPanelTarget, true)
		window.editPanelTarget = null;
		aE.stopPropagation();
	},
	onEditChildrenAccept: function(aEl) {
		let el = aEl;
		let pos;
		while (!el.hasAttribute("data-ordinal")) {
			el = el.parentNode;
		}
		pos = parseInt(el.getAttribute("data-ordinal"), 10);
		if (window.targetWithChildren[(pos + 1)])
			return true;
		let fakeItem = window.targetWithChildren[pos].firstChild;
		try {
			Array.prototype.slice.call(el.getElementsByAttribute("data-attr", "*")).forEach(function(aEl1) {
				let attrName = aEl1.getAttribute("data-attr");
				switch (aEl1.nodeName.toLowerCase()) {
					case "textbox":
						fakeItem._data[attrName] = aEl1.value || "";
						break;
					case "radiogroup":
						fakeItem._data[attrName] = aEl1.getItemAtIndex(aEl1.selectedIndex).value || "";
						break;
					case "vbox":
						let itemsList = [];
						try {
							Array.prototype.slice.call(aEl1.getElementsByTagName("menuitem")).forEach(function(aEl2) {
								let data = JSON.stringify(aEl2._data);
								itemsList.push(JSON.parse(data));
							});
						} finally {
							fakeItem._data["_items"] = itemsList;
						}
						break;
				}
			});
		} finally {
			setTimeout(function() {
				$.updatePseudoItem(fakeItem);
				$.onEditChildrenCancel(el);
			}, 100);
		}
	},
	onEditChildrenCancel: function(aEl) {
		let el = aEl;
		let pos;
		try {
			while (!el.hasAttribute("data-ordinal")) {
				el = el.parentNode;
			}
			pos = parseInt(el.getAttribute("data-ordinal"), 10);
		} finally {

			if (window.targetWithChildren[(pos + 1)])
				return true;
			$.highlightElement(window.targetWithChildren[pos], true);
			el.parentNode.removeChild(el);
			window.targetWithChildren[pos] = null;
		}
	},
	$CNS: function(aElName, aAttrs) { // Creates elements
		var el = document.createElement(aElName);
		if (aAttrs)
			Object.keys(aAttrs).forEach(function(n) {
				if (aAttrs[n] !== "")
					el.setAttribute(n, aAttrs[n])
			});
		return el;
	},
	img_to_b64: function(aNode) {
		let imgURL = aNode.parentNode.firstChild.value;
		if (imgURL.search(/^data:image/) === 0 || imgURL === "")
			return true;
		stg.img_to_b64_cback(imgURL, function(aImgData) {
			aImgData &amp;&amp; (aNode.parentNode.firstChild.value = aImgData);
		});
	},
	selectLocalImage: function(aNode) {
		var fp = Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker);
		fp.init(window, "Select an image file", 0);
		fp.appendFilters(fp.filterImages);
		var res = fp.show();
		if (res == fp.returnOK) {
			aNode.parentNode.firstChild.value = fp.fileURL.spec;
		}
	},
	draggedElement: null,
	DragAndDropHandler: {
		handleEvent: function(aE) {
			switch (aE.type) {
				case "dragstart":
					if (!stg.accel(aE) || !!window.editPanelTarget)
						return false;
					let target = aE.target;
					if (target.nodeName !== "hbox")
						$.draggedElement = target.parentNode;
					if ($.draggedElement.nodeName !== "hbox")
						$.draggedElement = null;
					if (getComputedStyle($.draggedElement).outlineStyle !== "none") {
						$.draggedElement = null;
						return false;
					}
					aE.dataTransfer.setData("text/plain", "dummy"); // Stupid piece of SHEET!!!!!
					break;
				case "dragover":
					aE.preventDefault();
					break;
				case "drop":
					aE.preventDefault();
					let insPoint = aE.target.parentNode;
					if (insPoint &amp;&amp; insPoint.nodeName === "hbox" &amp;&amp;
						insPoint.parentNode.classList.contains("pseudo_menupopup")) {
						insPoint.parentNode.insertBefore($.draggedElement, insPoint);
					} else if (aE.target.nodeName === "vbox" &amp;&amp;
						aE.target.classList.contains("pseudo_menupopup")) {
						aE.target.appendChild($.draggedElement);
					}
					break;
			}
			aE.stopPropagation();
		}
	},
	highlightButtonTimer: null,
	highlightButton: function(aEl, aStyle) {
		aEl.style.removeProperty("background");
		aEl.style.removeProperty("border-color");
		aEl.style.removeProperty("box-shadow");
		aEl.style.removeProperty("outline");
		aEl.style.removeProperty("outline-offset");
		aEl.style.removeProperty("transition-duration");
		if (!aStyle)
			return true;
		clearTimeout($.highlightButtonTimer);
		$.highlightButtonTimer = setTimeout(function() {
			switch (aStyle) {
				case 1:
					aEl.style.setProperty("background", "rgba(0,255,0,1)", "important");
					aEl.style.setProperty("border-color", "rgba(0,200,0,1)", "important");
					aEl.style.setProperty("box-shadow", "0 0 1px 1px rgba(0,200,0,1)", "important");
					aEl.style.setProperty("outline", "2px solid rgba(0,200,0,1)", "important");
					aEl.style.setProperty("outline-offset", "-2px", "important");
					aEl.style.setProperty("transition-duration", "10ms", "important");
					break;
				case 2:
					aEl.style.setProperty("background", "rgba(0,255,0,.2)", "important");
					aEl.style.setProperty("border-color", "rgba(0,200,0,.2)", "important");
					aEl.style.setProperty("box-shadow", "0 0 1px 1px rgba(0,200,0,.2)", "important");
					aEl.style.setProperty("outline", "2px dotted rgba(0,200,0,.2)", "important");
					aEl.style.setProperty("outline-offset", "-2px", "important");
					aEl.style.setProperty("transition-duration", "10ms", "important");
					break;
			}
		}, 10);
	},
	highlightElement: function(aEl, aRem) {
		aEl.style.removeProperty("background");
		aEl.style.removeProperty("border-color");
		aEl.style.removeProperty("box-shadow");
		aEl.style.removeProperty("outline");
		aEl.style.removeProperty("outline-offset");
		if (aRem)
			return true;
		aEl.style.setProperty("background", "rgba(0,255,0,.25)", "important");
		aEl.style.setProperty("border-color", "rgba(0,200,0,1)", "important");
		aEl.style.setProperty("box-shadow", "0 0 1px 1px rgba(0,200,0,.5)", "important");
		aEl.style.setProperty("outline", "2px solid rgba(0,200,0,1)", "important");
		aEl.style.setProperty("outline-offset", "-2px", "important");
	},
	moveToPopupOnPopShowing: function(aE) {
		if (document.popupNode.nodeName !== "menuitem" ||
			getComputedStyle(document.popupNode.parentNode).outlineStyle !== "none")
			aE.preventDefault();
		aE.stopPropagation();
	},
	moveToPopup: function(aInt) {
		let el = document.popupNode.parentNode;
		let box = $id("primary_menu_" + aInt);
		if (el &amp;&amp; el.nodeName === "hbox" &amp;&amp; box)
			box.appendChild(el);
	},
	setTextboxValue: function(aE, aDataAttr) {
		let el = $.panel.getElementsByAttribute("data-attr", aDataAttr)[0];
		el &amp;&amp; (el.value = aE.target.value);
	},
	onTabboxClick: function(aE, aN) {
		let tBox = $id("main_tabbox");
		let currentSelectedIndex = tBox.selectedIndex;
		let el = $id("primary_container_" + (currentSelectedIndex + 1));
		if (!el)
			return true;
		if (el.children.length &gt; 2 || $.panel.state === "open") {
			setTimeout(function() {
				tBox.selectedIndex = currentSelectedIndex;
				setTimeout(function() {
					stg.alertCallback.options = {
						footer: null,
						centerScreen: true,
					};
					stg.notifyme("Multi Menu", "You will not be able to switch to another tab " +
						"until you close all edit dialogs from the current selected tab." +
						"\n\n𝗖𝗹𝗶𝗰𝗸 𝗺𝗲 𝘁𝗼 𝗰𝗹𝗼𝘀𝗲 𝗺𝗲",
						stg.getHelp("%ErrorImg%"),
						stg.alertCallback);
				}, 50);
			}, 50);
		}
		aE.stopPropagation();
	},
	get panel() {
		return $id("edit_item_panel");
	},
};
]]&gt;&lt;/script&gt;
	&lt;keyset&gt;
		&lt;key keycode="VK_ESCAPE" oncommand="return false;"/&gt;
	&lt;/keyset&gt;
		&lt;vbox flex="1"&gt;
			&lt;tabbox id="main_tabbox" flex="1"&gt;
				&lt;tabs&gt;
					&lt;tab label=" Menu 1 "  onmousedown="$.onTabboxClick(event);"/&gt;
					&lt;tab label=" Menu 2 "  onmousedown="$.onTabboxClick(event);"/&gt;
					&lt;tab label=" Menu 3 "  onmousedown="$.onTabboxClick(event);"/&gt;
					&lt;tab label=" Menu 4 "  onmousedown="$.onTabboxClick(event);"/&gt;
					&lt;tab label=" Menu 5 "  onmousedown="$.onTabboxClick(event);"/&gt;
					&lt;tab class="warning" label=" Readme "/&gt;
				&lt;/tabs&gt;
				&lt;tabpanels ondragstart="$.DragAndDropHandler.handleEvent(event);"
						   ondragover="$.DragAndDropHandler.handleEvent(event);"
						   ondrop="$.DragAndDropHandler.handleEvent(event);"
						   flex="1"&gt;
					&lt;tabpanel flex="1"&gt;
						&lt;groupbox id="primary_container_1" orient="horizontal"&gt;
							&lt;caption label="Main menu"/&gt;
							&lt;vbox id="primary_menu_1" minheight="50" data-ordinal="0" class="pseudo_menupopup" context="pseudo-item-context"/&gt;
						&lt;/groupbox&gt;
					&lt;/tabpanel&gt;
					&lt;tabpanel flex="1"&gt;
						&lt;groupbox id="primary_container_2" orient="horizontal"&gt;
							&lt;caption label="Main menu"/&gt;
							&lt;vbox id="primary_menu_2" minheight="50" data-ordinal="0" class="pseudo_menupopup" context="pseudo-item-context"/&gt;
						&lt;/groupbox&gt;
					&lt;/tabpanel&gt;
					&lt;tabpanel flex="1"&gt;
						&lt;groupbox id="primary_container_3" orient="horizontal"&gt;
							&lt;caption label="Main menu"/&gt;
							&lt;vbox id="primary_menu_3" minheight="50" data-ordinal="0" class="pseudo_menupopup" context="pseudo-item-context"/&gt;
						&lt;/groupbox&gt;
					&lt;/tabpanel&gt;
					&lt;tabpanel flex="1"&gt;
						&lt;groupbox id="primary_container_4" orient="horizontal"&gt;
							&lt;caption label="Main menu"/&gt;
							&lt;vbox id="primary_menu_4" minheight="50" data-ordinal="0" class="pseudo_menupopup" context="pseudo-item-context"/&gt;
						&lt;/groupbox&gt;
					&lt;/tabpanel&gt;
					&lt;tabpanel flex="1"&gt;
						&lt;groupbox id="primary_container_5" orient="horizontal"&gt;
							&lt;caption label="Main menu"/&gt;
							&lt;vbox id="primary_menu_5" minheight="50" data-ordinal="0" class="pseudo_menupopup" context="pseudo-item-context"/&gt;
						&lt;/groupbox&gt;
					&lt;/tabpanel&gt;
					&lt;tabpanel flex="1" orient="horizontal"&gt;
						&lt;browser id="%U_I_D%-browser"
								 type="content"
								 disablehistory="true"
								 autocompleteenabled="false"
								 autoscroll="false"
								 flex="1"/&gt;
					&lt;/tabpanel&gt;
				&lt;/tabpanels&gt;
			&lt;/tabbox&gt;
			&lt;separator/&gt;
			&lt;hbox&gt;
				&lt;spacer flex="1"/&gt;
				&lt;button label="Insert a new item" type="menu"&gt;
					&lt;menupopup&gt;
						&lt;menuitem label="[Custom menu item]"
								  _type_="customMenuItem"
								  tooltip="tt_z1"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('customMenuItem', this.label, stg.dummyData('customMenuItem'));"/&gt;
						&lt;menuitem label="[Custom menu]"
								  _type_="customMenu"
								  tooltip="tt_z2"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('customMenu', this.label, stg.dummyData('customMenu'));"/&gt;
						&lt;menuitem label="[Cloned menu item]"
								  _type_="clonedMenuItem"
								  tooltip="tt_z3"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('clonedMenuItem', this.label, stg.dummyData('clonedMenuItem'));"/&gt;
						&lt;menuitem label="[Cloned menu]"
								  _type_="clonedMenu"
								  tooltip="tt_z4"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('clonedMenu', this.label, stg.dummyData('clonedMenu'));"/&gt;
						&lt;menuitem label="[Path menu item (full path)]"
								  _type_="pathFull"
								  tooltip="tt_z5"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('pathFull', this.label, stg.dummyData('pathFull'));"/&gt;
						&lt;menuitem label="[Path menu item (relative path)]"
								  _type_="pathRelative"
								  tooltip="tt_z5"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('pathRelative', this.label, stg.dummyData('pathRelative'));"/&gt;
						&lt;menuseparator/&gt;
						&lt;menuitem label="[menugroup element]"
								  _type_="menuGroup"
								  tooltip="tt_z7"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('menuGroup', this.label, stg.dummyData('menuGroup'));"/&gt;
						&lt;menuitem label="[menuseparator element]"
								  _type_="menuseparator"
								  tooltip="tt_z8"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('menuseparator', this.label, stg.dummyData('menuseparator'));"/&gt;
						&lt;menuitem label="[spacer element]"
								  _type_="spacer"
								  tooltip="tt_z9"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('spacer', this.label, stg.dummyData('spacer'));"/&gt;
						&lt;menuitem label="[dialogheader element]"
								  _type_="dialogheader"
								  tooltip="tt_z10"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('dialogheader', this.label, stg.dummyData('dialogheader'));"/&gt;
						&lt;menuseparator/&gt;
						&lt;menuitem label="[Custom Buttons item]"
								  _type_="cb"
								  tooltip="tt_z11"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('cb', this.label, stg.dummyData('cb'));"/&gt;
						&lt;menuitem label="[List of add-ons or add-on ID]"
								  _type_="addon"
								  tooltip="tt_z12"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('addon', this.label, stg.dummyData('addon'));"/&gt;
						&lt;menuitem label="[Preference item]"
								  _type_="pref"
								  tooltip="tt_z13"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('pref', this.label, stg.dummyData('pref'));"/&gt;
						&lt;menuitem label="[URL item]"
								  _type_="url"
								  tooltip="tt_z14"
								  oncommand="event.stopPropagation();"
								  onclick="$.createItems('url', this.label, stg.dummyData('url'));"/&gt;
					&lt;/menupopup&gt;
				&lt;/button&gt;
				&lt;spacer flex="1"/&gt;
			&lt;/hbox&gt;
		&lt;/vbox&gt;
	&lt;separator/&gt;
	&lt;hbox id="buttons-box"&gt;
		&lt;spacer flex="1"/&gt;
		&lt;button id="accept_button" label="Save changes" class="save_changes" oncommand="$.onAccept();"/&gt;
		&lt;button label="Cancel" class="cancel_changes" oncommand="close();"/&gt;
		&lt;spacer flex="1"/&gt;
	&lt;/hbox&gt;
	&lt;vbox collapsed="true"&gt;
		&lt;groupbox id="customMenuItem_box" orient="vertical" flex="1"&gt;
			&lt;caption label="Edit custom menu item"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Label"/&gt;
						&lt;textbox data-attr="label" tooltip="tt_4" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Image"/&gt;
						&lt;hbox align="center"&gt;
							&lt;textbox data-attr="image" tooltip="tt_3" flex="1" class="optional"/&gt;
							&lt;button tooltip="tt_1" label="..." oncommand="$.selectLocalImage(this);"/&gt;
							&lt;button tooltip="tt_2" label="B64" oncommand="$.img_to_b64(this);"/&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Tooltip"/&gt;
						&lt;textbox flex="1" data-attr="tooltiptext" tooltip="tt_5" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
			&lt;groupbox flex="1"&gt;
				&lt;caption label="Command"/&gt;
				&lt;textbox flex="1" data-attr="_cmd" tooltip="tt_6" multiline="true" newlines="pasteintact" rows="3" class="required"/&gt;
			&lt;/groupbox&gt;
		&lt;/groupbox&gt;
		&lt;groupbox id="customMenu_box" orient="vertical" flex="1"&gt;
			&lt;caption label="Edit custom menu"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Label"/&gt;
						&lt;textbox data-attr="label" tooltip="tt_4" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Image"/&gt;
						&lt;hbox align="center"&gt;
							&lt;textbox data-attr="image" tooltip="tt_3" flex="1" class="optional"/&gt;
							&lt;button tooltip="tt_1" label="..." oncommand="$.selectLocalImage(this);"/&gt;
							&lt;button tooltip="tt_2" label="B64" oncommand="$.img_to_b64(this);"/&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Tooltip"/&gt;
						&lt;textbox flex="1" data-attr="tooltiptext" tooltip="tt_5" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
			&lt;groupbox flex="1"&gt;
				&lt;caption label="Command"/&gt;
				&lt;textbox flex="1" data-attr="_cmd" tooltip="tt_6" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
			&lt;/groupbox&gt;
			&lt;groupbox flex="1"&gt;
				&lt;caption label="Menu children"/&gt;
				&lt;vbox flex="1" minheight="50" data-attr="_items" tooltip="tt_15" class="pseudo_menupopup"/&gt;
			&lt;/groupbox&gt;
			&lt;hbox&gt;
				&lt;spacer flex="1"/&gt;
				&lt;button label="Save" class="save_changes" oncommand="$.onEditChildrenAccept(this);"/&gt;
				&lt;button label="Cancel" class="cancel_changes" oncommand="$.onEditChildrenCancel(this);"/&gt;
				&lt;spacer flex="1"/&gt;
			&lt;/hbox&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="clonedMenuItem_box" orient="vertical"&gt;
			&lt;caption label="Edit cloned menu item"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Menuitem ID"/&gt;
						&lt;textbox data-attr="_id" tooltip="tt_7" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Image"/&gt;
						&lt;hbox align="center"&gt;
							&lt;textbox data-attr="image" tooltip="tt_3" flex="1" class="optional"/&gt;
							&lt;button tooltip="tt_1" label="..." oncommand="$.selectLocalImage(this);"/&gt;
							&lt;button tooltip="tt_2" label="B64" oncommand="$.img_to_b64(this);"/&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Tooltip"/&gt;
						&lt;textbox flex="1" data-attr="tooltiptext" tooltip="tt_5" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="clonedMenu_box" orient="vertical"&gt;
			&lt;caption label="Edit cloned menu"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Menui ID"/&gt;
						&lt;textbox data-attr="_id" tooltip="tt_8" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Image"/&gt;
						&lt;hbox align="center"&gt;
							&lt;textbox data-attr="image" tooltip="tt_3" flex="1" class="optional"/&gt;
							&lt;button tooltip="tt_1" label="..." oncommand="$.selectLocalImage(this);"/&gt;
							&lt;button tooltip="tt_2" label="B64" oncommand="$.img_to_b64(this);"/&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Tooltip"/&gt;
						&lt;textbox flex="1" data-attr="tooltiptext" tooltip="tt_5" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
			&lt;groupbox flex="1"&gt;
				&lt;caption label="Command"/&gt;
				&lt;textbox flex="1" data-attr="_cmd" tooltip="tt_6" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
			&lt;/groupbox&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="menuGroup_box" orient="vertical"&gt;
			&lt;caption label="Edit menugroup element"/&gt;
			&lt;groupbox&gt;
				&lt;caption label="Menugroup orientation"/&gt;
				&lt;radiogroup data-attr="orient" tooltip="tt_23" orient="horizontal"&gt;
					&lt;radio label="Horizontal" value="horizontal"/&gt;
					&lt;radio label="Vertical" value="vertical"/&gt;
				&lt;/radiogroup&gt;
			&lt;/groupbox&gt;
			&lt;groupbox&gt;
				&lt;caption label="Menugroup children"/&gt;
				&lt;vbox minheight="50" data-attr="_items" tooltip="tt_14" class="pseudo_menupopup"/&gt;
			&lt;/groupbox&gt;
			&lt;hbox&gt;
				&lt;spacer flex="1"/&gt;
				&lt;button label="Save" class="save_changes" oncommand="$.onEditChildrenAccept(this);"/&gt;
				&lt;button label="Cancel" class="cancel_changes" oncommand="$.onEditChildrenCancel(this);"/&gt;
				&lt;spacer flex="1"/&gt;
			&lt;/hbox&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="pathFull_box" orient="vertical"&gt;
			&lt;caption label="Edit full path item"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Label"/&gt;
						&lt;textbox data-attr="label" tooltip="tt_4" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Full path"/&gt;
						&lt;textbox data-attr="_path" tooltip="tt_22" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Arguments"/&gt;
						&lt;textbox data-attr="_args" tooltip="tt_21" class="optional"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Image"/&gt;
						&lt;hbox align="center"&gt;
							&lt;textbox data-attr="image" tooltip="tt_3" flex="1" class="optional"/&gt;
							&lt;button tooltip="tt_1" label="..." oncommand="$.selectLocalImage(this);"/&gt;
							&lt;button tooltip="tt_2" label="B64" oncommand="$.img_to_b64(this);"/&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Tooltip"/&gt;
						&lt;textbox flex="1" data-attr="tooltiptext" tooltip="tt_5" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="pathRelative_box" orient="vertical"&gt;
			&lt;caption label="Edit relative path item"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Label"/&gt;
						&lt;textbox data-attr="label" tooltip="tt_4" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Constant"/&gt;
						&lt;hbox&gt;
							&lt;textbox data-attr="_const" tooltip="tt_24" class="required"/&gt;
							&lt;button label="Set const." type="menu"&gt;
								&lt;menupopup id="constants-path-menu"
										   onpopuphiding="event.stopPropagation();"
										   oncommand="$.setTextboxValue(event, '_const');event.stopPropagation();"&gt;
								&lt;/menupopup&gt;
							&lt;/button&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Go up"/&gt;
						&lt;textbox data-attr="_go_up" tooltip="tt_25" min="0" max="99" increment="1" type="number" class="optional"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Path relative to constant"/&gt;
						&lt;textbox data-attr="_path" tooltip="tt_26" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Arguments"/&gt;
						&lt;textbox data-attr="_args" tooltip="tt_21" class="optional"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Image"/&gt;
						&lt;hbox align="center"&gt;
							&lt;textbox data-attr="image" tooltip="tt_3" flex="1" class="optional"/&gt;
							&lt;button tooltip="tt_1" label="..." oncommand="$.selectLocalImage(this);"/&gt;
							&lt;button tooltip="tt_2" label="B64" oncommand="$.img_to_b64(this);"/&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Tooltip"/&gt;
						&lt;textbox flex="1" data-attr="tooltiptext" tooltip="tt_5" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="spacer_box" orient="vertical"&gt;
			&lt;caption label="Edit &amp;quot;spacer&amp;quot; item"/&gt;
			&lt;hbox align="center"&gt;
				&lt;label value="Flex attribute"/&gt;
				&lt;textbox flex="1" data-attr="flex" tooltip="tt_16" min="0" max="99999" increment="1" type="number" class="optional" /&gt;
			&lt;/hbox&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="dialogheader_box" orient="vertical"&gt;
			&lt;caption label="Edit &amp;quot;dialogheader&amp;quot; item"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Title"/&gt;
						&lt;textbox data-attr="title" tooltip="tt_17" class="optional"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Description"/&gt;
						&lt;textbox data-attr="description" tooltip="tt_18" class="optional"/&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="addon_box" orient="vertical"&gt;
			&lt;caption label="Edit &amp;quot;add-on&amp;quot; item"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center" flex="1"&gt;
						&lt;label value="Addon type or ID"/&gt;
						&lt;hbox&gt;
							&lt;textbox data-attr="_type_or_id" tooltip="tt_19" class="required" flex="1"/&gt;
							&lt;button label="Set type" type="menu"&gt;
								&lt;menupopup onpopuphiding="event.stopPropagation();"
										   oncommand="$.setTextboxValue(event, '_type_or_id');event.stopPropagation();"&gt;
									&lt;menuitem label="Extensions" value="extension" /&gt;
									&lt;menuitem label="Themes" value="theme" /&gt;
									&lt;menuitem label="Plugins" value="plugin" /&gt;
									&lt;menuitem label="Userstyle (Stylish)" value="userstyle" /&gt;
									&lt;menuitem label="Usersript (Greasemonkey)" value="greasemonkey-user-script" /&gt;
									&lt;menuitem label="Usersript (Scriptish)" value="userscript" /&gt;
								&lt;/menupopup&gt;
							&lt;/button&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center" flex="1"&gt;
						&lt;label value="Filter"/&gt;
						&lt;hbox&gt;
							&lt;textbox data-attr="_filter" tooltip="tt_20" class="optional" flex="1"/&gt;
							&lt;button label="Set filter" type="menu"&gt;
								&lt;menupopup onpopuphiding="event.stopPropagation();"
										   oncommand="$.setTextboxValue(event, '_filter');event.stopPropagation();"&gt;
									&lt;menuitem label="All extensions" value="" /&gt;
									&lt;menuitem label="Only XUL based" value="normal" /&gt;
									&lt;menuitem label="Only restartless" value="restartless" /&gt;
								&lt;/menupopup&gt;
							&lt;/button&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="cb_box" orient="vertical"&gt;
			&lt;caption label="Edit &amp;quot;Custom Buttons&amp;quot; item"/&gt;
			&lt;hbox align="center"&gt;
				&lt;label value="Custom Button ID#"/&gt;
				&lt;textbox flex="1" data-attr="_id" tooltip="tt_9" class="required"/&gt;
			&lt;/hbox&gt;
			&lt;checkbox data-attr="_advanced" tooltip="tt_10" label="Advanced integration" class="experimental" /&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="pref_box" orient="vertical"&gt;
			&lt;caption label="Edit &amp;quot;Preference&amp;quot; item"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Label"/&gt;
						&lt;textbox data-attr="label" tooltip="tt_4" class="optional"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Preference name"/&gt;
						&lt;textbox data-attr="_prefname" tooltip="tt_11" class="required"/&gt;
					&lt;/row&gt;
					&lt;groupbox flex="1"&gt;
						&lt;caption label="Command"/&gt;
						&lt;textbox flex="1" data-attr="_cmd" tooltip="tt_6" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/groupbox&gt;
					&lt;row align="center"&gt;
						&lt;label value="Values"/&gt;
						&lt;textbox data-attr="_values" tooltip="tt_12" multiline="true" newlines="pasteintact" rows="2" class="optional"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Tooltip"/&gt;
						&lt;textbox flex="1" data-attr="tooltiptext" tooltip="tt_5" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/row&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
		&lt;/groupbox&gt;
		&lt;groupbox flex="1" id="url_box" orient="vertical"&gt;
			&lt;caption label="Edit &amp;quot;URL&amp;quot; item"/&gt;
			&lt;grid&gt;
				&lt;columns&gt;
					&lt;column /&gt;
					&lt;column flex="1"/&gt;
				&lt;/columns&gt;
				&lt;rows&gt;
					&lt;row align="center"&gt;
						&lt;label value="Label"/&gt;
						&lt;textbox data-attr="label" tooltip="tt_4" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="URL"/&gt;
						&lt;textbox data-attr="_url" tooltip="tt_13" class="required"/&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Image"/&gt;
						&lt;hbox align="center"&gt;
							&lt;textbox data-attr="image" tooltip="tt_3" flex="1" class="optional"/&gt;
							&lt;button tooltip="tt_1" label="..." oncommand="$.selectLocalImage(this);"/&gt;
							&lt;button tooltip="tt_2" label="B64" oncommand="$.img_to_b64(this);"/&gt;
						&lt;/hbox&gt;
					&lt;/row&gt;
					&lt;row align="center"&gt;
						&lt;label value="Tooltip"/&gt;
						&lt;textbox flex="1" data-attr="tooltiptext" tooltip="tt_5" multiline="true" newlines="pasteintact" rows="3" class="optional"/&gt;
					&lt;/row&gt;
					&lt;checkbox data-attr="_force" tooltip="tt_27" label="Force open tab" class="optional" /&gt;
				&lt;/rows&gt;
			&lt;/grid&gt;
		&lt;/groupbox&gt;
	&lt;/vbox&gt;
	&lt;separator/&gt;
	&lt;popupset&gt;
		&lt;panel id="edit_item_panel"
			   consumeoutsideclicks="false"
			   noautohide="true"
			   backdrag="true"
			   minwidth="400"
			   flip="slide"
			   flex="1"
			   class="convert-to-panel"
			   position="end_before"
			   onpopuphidden="$.onEditPanelHidden(event, this);"
			   onpopuphiding="$.onEditPanelHiding(event, this);"
			   orient="vertical"&gt;
			&lt;vbox flex="1" /&gt;
			&lt;spacer flex="0"/&gt;
			&lt;hbox&gt;
				&lt;spacer flex="1"/&gt;
				&lt;button label="Save" class="save_changes" oncommand="$.onEditPanelAccept();event.stopPropagation();"/&gt;
				&lt;button label="Cancel" class="cancel_changes" oncommand="$.onEditPanelCancel();event.stopPropagation();"/&gt;
				&lt;spacer flex="1"/&gt;
			&lt;/hbox&gt;
			&lt;hbox&gt;
				&lt;resizer element="edit_item_panel" type="window" dir="bottomleft" left="0" bottom="0" width="10" height="10"/&gt;
				&lt;spacer flex="1"/&gt;
				&lt;resizer element="edit_item_panel" type="window" dir="bottomright" right="0" bottom="0" width="10" height="10"/&gt;
			&lt;/hbox&gt;
		&lt;/panel&gt;
		&lt;menupopup id="pseudo-item-context"
				   onpopupshowing="$.moveToPopupOnPopShowing(event);event.stopPropagation();"
				   oncommand="$.moveToPopup(event.target.value);event.stopPropagation();"&gt;
			&lt;menuitem label="Move to popup 1" value="1"/&gt;
			&lt;menuitem label="Move to popup 2" value="2"/&gt;
			&lt;menuitem label="Move to popup 3" value="3"/&gt;
			&lt;menuitem label="Move to popup 4" value="4"/&gt;
			&lt;menuitem label="Move to popup 5" value="5"/&gt;
		&lt;/menupopup&gt;
		&lt;tooltip id="tt_1"&gt;
			&lt;description&gt;Load a local image.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_2"&gt;
			&lt;description&gt;Convert to Base64.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_3"&gt;
			&lt;description&gt;Image for the item.&lt;/description&gt;
			&lt;description&gt;&lt;/description&gt;
			&lt;description&gt;An image can be:&lt;/description&gt;
			&lt;html:ul&gt;
				&lt;html:li&gt;An URL containing an on-line image, e.g., &amp;quot;https://duckduckgo.com/favicon.ico&amp;quot;.&lt;/html:li&gt;
				&lt;html:li&gt;A &amp;quot;chrome&amp;quot; URL, e.g., &amp;quot;chrome://branding/content/icon32.png&amp;quot;.&lt;/html:li&gt;
				&lt;html:li&gt;A &amp;quot;file:///&amp;quot; URI, e.g., &amp;quot;file:///C:/Users/UserName/Desktop/Image.png&amp;quot;, &amp;quot;file:///home/UserName/ Pictures/ Image.png&amp;quot;.&lt;/html:li&gt;
				&lt;html:li&gt;A data URI, e.g., &amp;quot;data:image/png;base64,...base64 code...&amp;quot;.&lt;/html:li&gt;
				&lt;html:li&gt;A &amp;quot;moz-icon&amp;quot;, e.g., &amp;quot;moz-icon://.png?size=16&amp;quot;.&lt;/html:li&gt;
			&lt;/html:ul&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_4"&gt;
			&lt;description&gt;Label for the item.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_5"&gt;
			&lt;description&gt;Tooltip for the item.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_6"&gt;
			&lt;description&gt;Code that will be executed when the item is clicked.&lt;/description&gt;
			&lt;description&gt;&lt;/description&gt;
			&lt;description class="bold_text"&gt;Notes&lt;/description&gt;
			&lt;description&gt;You can consider this field like the &lt;html:b&gt;Code tab&lt;/html:b&gt; of a Custom Button. The only difference is that the code in this field is triggered by a &amp;quot;click&amp;quot; &lt;html:b&gt;event&lt;/html:b&gt;, while the code in a &lt;html:b&gt;Code tab&lt;/html:b&gt; of a Custom Button is triggered by a &amp;quot;command&amp;quot; &lt;html:b&gt;event&lt;/html:b&gt;.&lt;/description&gt;
			&lt;description&gt;Additionally, all variables/objects that are available on the execution context of any button, like &lt;html:b&gt;self&lt;/html:b&gt;, &lt;html:b&gt;Cc&lt;/html:b&gt;, &lt;html:b&gt;Ci&lt;/html:b&gt;, etc, are also available on the execution context of the code defined on this field.&lt;/description&gt;
			&lt;description&gt;&lt;/description&gt;
			&lt;description class="warning"&gt;WARNING!!!&lt;/description&gt;
			&lt;description&gt;The global object (&lt;html:b&gt;this&lt;/html:b&gt;) is the button to which the menu/menu item belongs. So be very careful NOT to override properties of the global object.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_7"&gt;
			&lt;description&gt;ID of the menuitem to be cloned.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_8"&gt;
			&lt;description&gt;ID of the menu to be cloned.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_9"&gt;
			&lt;description&gt;Number ID of the Custom Button.&lt;/description&gt;
			&lt;description&gt;Multi Menu will not modify in any way the original Custom Button nor will hide/move it.&lt;/description&gt;
			&lt;description&gt;&lt;/description&gt;
			&lt;description class="bold_text"&gt;What king of buttons are compatible:&lt;/description&gt;
			&lt;html:ul&gt;
				&lt;html:li&gt;CB buttons whose main code is defined inside the CODE tab.&lt;/html:li&gt;
				&lt;html:li&gt;CB buttons with a menu. The menu will have to be defined through the &lt;html:em&gt;popup&lt;/html:em&gt; attribute.&lt;/html:li&gt;
				&lt;html:li&gt;The &lt;html:b&gt;Advanced integration&lt;/html:b&gt; option could be enabled to allow a more deep integration (recognition of different mouse clicks and modifiers). But it's an experimental feature and it's not recommended its use.&lt;/html:li&gt;
			&lt;/html:ul&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_10"&gt;
			&lt;description&gt;If this option is &lt;html:b&gt;enabled/checked&lt;/html:b&gt;, Multi Menu will try to &amp;quot;capture&amp;quot; all possible functionality from the original Custom Button.&lt;/description&gt;
			&lt;description&gt;If &lt;html:b&gt;disabled/unchecked&lt;/html:b&gt;, Multi Menu will perform a very basic integration or it will detect if the original Custom Button has a menu and try to integrate that menu into the item.&lt;/description&gt;
			&lt;description&gt;&lt;/description&gt;
			&lt;description class="warning"&gt;WARNING!!!&lt;/description&gt;
			&lt;description&gt;This option is experimental and kind of &amp;quot;hacky&amp;quot;. So do not expect much of it.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_11"&gt;
			&lt;description&gt;The complete preference name, exactly how it appears in &lt;html:b&gt;about:config&lt;/html:b&gt;.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_12"&gt;
			&lt;description&gt;If this field is filled in, every time a preference item is clicked, it will switch the preference value between the values specified here.&lt;/description&gt;
			&lt;description&gt;This field &lt;html:b&gt;MUST&lt;/html:b&gt; contain an array of strings (for &lt;html:b&gt;string&lt;/html:b&gt; type preferences) or an array of integers (for &lt;html:b&gt;integer&lt;/html:b&gt; type preferences).&lt;/description&gt;
			&lt;description&gt;This field is completely ignored on &lt;html:b&gt;boolean&lt;/html:b&gt; type preferences.&lt;/description&gt;
			&lt;description&gt;&lt;/description&gt;
			&lt;description&gt;&lt;html:b&gt;Array of strings example (double or single quotes allowed):&lt;/html:b&gt;&lt;/description&gt;
			&lt;description&gt;[&amp;#039;String 1&amp;#039;, &amp;#039;String 2&amp;#039;, &amp;#039;String 3&amp;#039;]&lt;/description&gt;
			&lt;description&gt;&lt;html:b&gt;Array of integers example:&lt;/html:b&gt;&lt;/description&gt;
			&lt;description&gt;[1, 2, 3]&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_13"&gt;
			&lt;description&gt;The URL for the item.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_14"&gt;
			&lt;description&gt;List of the menugroup's children.&lt;/description&gt;
			&lt;description class="warning"&gt;WARNING!!!&lt;/description&gt;
			&lt;description class="warning"&gt;Menugroup elements and custom menu elements &lt;html:b&gt;MUST NOT&lt;/html:b&gt; be placed inside another menugroup elements. If you do, and then save the changes, you will loose all menugroup/menu children if any.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_15"&gt;
			&lt;description&gt;List of the custom menu's children.&lt;/description&gt;
			&lt;description&gt;Custom menus can contain any king of items, even other custom menus and or menugroups.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_16"&gt;
			&lt;description&gt;Value for the &lt;html:em&gt;flex&lt;/html:em&gt; attribute for the &lt;html:b&gt;spacer&lt;/html:b&gt; element. Any integer greater than 0 (zero).&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_17"&gt;
			&lt;description&gt;The &lt;html:em&gt;title&lt;/html:em&gt; for the &lt;html:b&gt;dialogheader&lt;/html:b&gt; element.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_18"&gt;
			&lt;description&gt;The &lt;html:em&gt;description&lt;/html:em&gt; for the &lt;html:b&gt;dialogheader&lt;/html:b&gt; element.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_19"&gt;
			&lt;description&gt;Insert an add-on type (using the button next to this textbox) to create a list of add-ons. Or type in the ID of an existent extension to create a single menu item.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_20"&gt;
			&lt;description&gt;Insert a filter (using the button next to this textbox) to display a list of only one type of extension. This is used only by the &lt;html:em&gt;extension&lt;/html:em&gt; type of add-on. Any other type of add-on will ignore this option.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_21"&gt;
			&lt;description&gt;Array of arguments to be passed to the path to an executable.&lt;/description&gt;
			&lt;description&gt;&lt;html:b&gt;Note:&lt;/html:b&gt; If one or more arguments contain quotes, remember to escape them (with backslashes).&lt;/description&gt;
			&lt;description class="bold_text"&gt;Practical example passed to the Firefox executable:&lt;/description&gt;
			&lt;description&gt;[&amp;quot;-no-remote&amp;quot;, &amp;quot;-P&amp;quot;, &amp;quot;default&amp;quot;]&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_22"&gt;
			&lt;description&gt;Full path to a folder/file/executable.&lt;/description&gt;
			&lt;html:ul&gt;
				&lt;html:li&gt;An item with a path to a folder will open that path with the system's default file explorer.&lt;/html:li&gt;
				&lt;html:li&gt;An item with a path to any file of any type will open that file with default program that handles its file type.&lt;/html:li&gt;
				&lt;html:li&gt;An item with a path to an executable will execute the file and will accept any arguments passed to it, if any.&lt;/html:li&gt;
			&lt;/html:ul&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_23"&gt;
			&lt;description&gt;Menugroup elements can be grouped horizontally or vertically.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_24"&gt;
			&lt;description&gt;This are &amp;quot;special locations&amp;quot; defined by the application's &lt;html:b&gt;OS.Constants.Path&lt;/html:b&gt; module. This are somewhat equivalent to the system's environment variables. Instead of using a full path to a location, you can use one of this &lt;em&gt;constants&lt;/em&gt;. The menu to the right is auto-generated and pre-filled with all the &lt;em&gt;constants&lt;/em&gt; that your application supports.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_25"&gt;
			&lt;description&gt;This field allows you to modify the path generated by the &lt;html:b&gt;Constant&lt;/html:b&gt; field. A value in this field of 1, for example, will remove from the &lt;html:b&gt;Constant&lt;/html:b&gt; path one director (goes up one directory).&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_26"&gt;
			&lt;description&gt;Final part of a path in relation to the path generated by the &lt;html:b&gt;Constant&lt;/html:b&gt; field (after being modified by the &lt;html:b&gt;Go up&lt;/html:b&gt; field).&lt;/description&gt;
			&lt;description class="bold_text"&gt;Notes:&lt;/description&gt;
			&lt;html:ul&gt;
				&lt;html:li&gt;Forward slashes or backslashes can be used for defining a path in this field. It doesn't matter the platform, this field is platform agnostic. You could use backslashes for Linux paths and/or forward slashes for Windows paths.&lt;/html:li&gt;
				&lt;html:li&gt;This field has to have at least one slash.&lt;/html:li&gt;
				&lt;html:li&gt;Do not mix forward slashes with backslashes in the same path. Choose one or the other.&lt;/html:li&gt;
				&lt;html:li&gt;Backslashes doesn't need to be escaped. Multi Menu takes care of that.&lt;/html:li&gt;
			&lt;/html:ul&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_27"&gt;
			&lt;description&gt;If &lt;html:b&gt;enabled/checked&lt;/html:b&gt;, the URL for this item will be opened regardless if that exact URL is already opened in another tab. If &lt;html:b&gt;disabled/unchecked&lt;/html:b&gt;, and the URL for this item is already opened in another tab, instead of opening a new tab, it will switch to the first tab found containing that exact URL.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z1"&gt;
			&lt;description&gt;A &lt;html:b&gt;Custom menu item&lt;/html:b&gt; can execute any code defined by the user.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z2"&gt;
			&lt;description&gt;A &lt;html:b&gt;Custom menu&lt;/html:b&gt; can contain any type of item.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z3"&gt;
			&lt;description&gt;A &lt;html:b&gt;Cloned menu item&lt;/html:b&gt; is a cloned version of an existent menu item.&lt;/description&gt;
			&lt;description&gt;&lt;html:b&gt;Note:&lt;/html:b&gt;&lt;/description&gt;
			&lt;description&gt;Only items with defined IDs can be cloned.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z4"&gt;
			&lt;description&gt;A &lt;html:b&gt;Cloned menu&lt;/html:b&gt; is a cloned version of an existent menu.&lt;/description&gt;
			&lt;description&gt;&lt;html:b&gt;Note:&lt;/html:b&gt;&lt;/description&gt;
			&lt;description&gt;Only items with defined IDs can be cloned.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z5"&gt;
			&lt;description&gt;A &lt;html:b&gt;Path menu item&lt;/html:b&gt; (full or relative) can open/launch/execute any path to a folder/file/executable defined by the user.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z7"&gt;
			&lt;description&gt;A &lt;html:b&gt;Menugroup item&lt;/html:b&gt; is like a custom menu, but it can't contain other &lt;html:b&gt;Menugroup items&lt;/html:b&gt; nor a menu elements (neither cloned nor custom).&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z8"&gt;
			&lt;description&gt;A &lt;html:b&gt;Menuseparator item&lt;/html:b&gt; creates menuseparator elements.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z9"&gt;
			&lt;description&gt;A &lt;html:b&gt;Spacer item&lt;/html:b&gt; creates spacer elements.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z10"&gt;
			&lt;description&gt;A &lt;html:b&gt;Dialogheader item&lt;/html:b&gt; creates dialogheader elements.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z11"&gt;
			&lt;description&gt;A &lt;html:b&gt;Custom Buttons item&lt;/html:b&gt; creates items that allows to manipulate other Custom Buttons currently placed in any part of the UI.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z12"&gt;
			&lt;description&gt;An &lt;html:b&gt;Add-on item&lt;/html:b&gt; can create a list of several types of add-ons or a single item to a currently installed extension.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z13"&gt;
			&lt;description&gt;A &lt;html:b&gt;Preference item&lt;/html:b&gt; creates items that allows to manipulate any existent preference.&lt;/description&gt;
		&lt;/tooltip&gt;
		&lt;tooltip id="tt_z14"&gt;
			&lt;description&gt;An &lt;html:b&gt;URL item&lt;/html:b&gt; creates items that allows to open web pages.&lt;/description&gt;
		&lt;/tooltip&gt;
	&lt;/popupset&gt;
&lt;/window&gt;&lt;!--%ItemsInsertionWindow%--&gt;

&lt;!--%AlertImg%--&gt;data:image/png;base64,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&lt;!--%AlertImg%--&gt;
&lt;!--%WarningImg%--&gt;data:image/png;base64,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&lt;!--%WarningImg%--&gt;
&lt;!--%ErrorImg%--&gt;data:image/png;base64,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&lt;!--%ErrorImg%--&gt;

&lt;!--%StylePanelConvertionBasic%--&gt;
/*.multi_menu_main_menupopup &gt; hbox &gt; vbox &gt; menuseparator {
	-moz-appearance: none !important;
	min-height: 0 !important;
	border-top: 1px solid hsla(210, 4%, 10%, .15) !important;
	margin: 6px 0 !important;
	padding: 0 !important;
}
*/
.multi_menu_main_menupopup {
	-moz-appearance: none !important;
	-moz-binding: url("chrome://global/content/bindings/popup.xml#arrowpanel") !important;
	background: transparent !important;
	border: none !important;
	-moz-image-region: auto !important;
}
&lt;!--%StylePanelConvertionBasic%--&gt;

&lt;!--%StylePanelConvertionAnimated%--&gt;
/* Panel appearance for the main menu NOT SeaMoney/Thunderbird */
/*.multi_menu_main_menupopup &gt; hbox &gt; vbox &gt; menuseparator {
	-moz-appearance: none !important;
	min-height: 0 !important;
	border-top: 1px solid hsla(210, 4%, 10%, .15) !important;
	margin: 6px 0 !important;
	padding: 0 !important;
}*/

.multi_menu_main_menupopup {
	-moz-appearance: none !important;
	-moz-binding: url("chrome://browser/content/places/menu.xml#places-popup-arrow") !important;
	background: transparent !important;
	border: none !important;
	-moz-image-region: auto !important;
}

.multi_menu_main_menupopup {
	transform: scale(.4) !important;
	opacity: 1 !important;
	transition-property: transform, opacity !important;
	transition-duration: 0.15s !important;
	transition-timing-function: ease-out !important;
}

.multi_menu_main_menupopup[arrowposition="after_start"]:-moz-locale-dir(ltr),
.multi_menu_main_menupopup[arrowposition="after_end"]:-moz-locale-dir(rtl) {
	transform-origin: 20px top !important;
}

.multi_menu_main_menupopup[arrowposition="after_end"]:-moz-locale-dir(ltr),
.multi_menu_main_menupopup[arrowposition="after_start"]:-moz-locale-dir(rtl) {
	transform-origin: calc(100% - 20px) top !important;
}

.multi_menu_main_menupopup[arrowposition="before_start"]:-moz-locale-dir(ltr),
.multi_menu_main_menupopup[arrowposition="before_end"]:-moz-locale-dir(rtl) {
	transform-origin: 20px bottom !important;
}

.multi_menu_main_menupopup[arrowposition="before_end"]:-moz-locale-dir(ltr),
.multi_menu_main_menupopup[arrowposition="before_start"]:-moz-locale-dir(rtl) {
	transform-origin: calc(100% - 20px) bottom !important;
}

.multi_menu_main_menupopup[arrowposition="start_after"]:-moz-locale-dir(ltr),
.multi_menu_main_menupopup[arrowposition="end_after"]:-moz-locale-dir(rtl) {
	transform-origin: calc(100% - 20px) bottom !important;
}

.multi_menu_main_menupopup[arrowposition="end_after"]:-moz-locale-dir(ltr),
.multi_menu_main_menupopup[arrowposition="start_after"]:-moz-locale-dir(rtl) {
	transform-origin: 20px bottom !important;
}

.multi_menu_main_menupopup[arrowposition="start_before"]:-moz-locale-dir(ltr),
.multi_menu_main_menupopup[arrowposition="end_before"]:-moz-locale-dir(rtl) {
	transform-origin: calc(100% - 20px) top !important;
}

.multi_menu_main_menupopup[arrowposition="end_before"]:-moz-locale-dir(ltr),
.multi_menu_main_menupopup[arrowposition="start_before"]:-moz-locale-dir(rtl) {
	transform-origin: 20px top !important;
}

.multi_menu_main_menupopup[animate="open"] {
	transform: none !important;
	opacity: 1.0 !important;
}

.multi_menu_main_menupopup[animate="cancel"] {
	transform: none !important;
}
&lt;!--%StylePanelConvertionAnimated%--&gt;

&lt;!--%StyleForDialogHeader%--&gt;
.multi_menu_main_menupopup dialogheader {
	font-size: x-small !important;
	font-weight: 600 !important;
	margin: 0 0 7px 0 !important;
	padding: 2px 0 2px 5px !important;
	border: none !important;
}
&lt;!--%StyleForDialogHeader%--&gt;
&lt;!--%StyleInvertContextIcons%--&gt;
.multi_menu_context_menu_dark_icon &gt; .menu-iconic-left &gt; .menu-iconic-icon {
	filter: url("data:image/svg+xml;utf8,&lt;svg height='0' xmlns='http://www.w3.org/2000/svg'&gt;&lt;filter id='white' x='0%' y='0%' width='100%' height='100%' &gt;&lt;feComponentTransfer&gt;&lt;feFuncR type='table' tableValues='.6 0'/&gt;&lt;feFuncG type='table' tableValues='.6 0'/&gt;&lt;feFuncB type='table' tableValues='.6 0'/&gt;&lt;/feComponentTransfer&gt;&lt;/filter&gt;&lt;/svg&gt;#white") !important;
}
&lt;!--%StyleInvertContextIcons%--&gt;
&lt;!--%StyleForMenuGroup%--&gt;
.multi_menu_main_menupopup menugroup {
	-moz-appearance: none !important;
	background: transparent !important;
	border: none !important;
	-moz-image-region: auto !important;
}
.multi_menu_main_menupopup menugroup &gt; .menuitem-iconic {
	-moz-box-flex: 1 !important;
	-moz-box-pack: center !important;
	-moz-box-align: center !important;
}
.multi_menu_main_menupopup menugroup &gt; .menuitem-iconic &gt; .menu-iconic-left {
	-moz-appearance: none !important;
}
.multi_menu_main_menupopup menugroup &gt; .menuitem-iconic &gt; .menu-iconic-left &gt; .menu-iconic-icon {
	width: 16px !important;
	height: 16px !important;
	margin: 7px !important;
}
.multi_menu_main_menupopup menugroup &gt; .menuitem-iconic &gt; .menu-iconic-left {
	visibility: visible !important;
	/* override toolkit/themes/linux/global/menu.css */
	-moz-padding-end: 0 !important;
	-moz-margin-end: 0 !important;
}
.multi_menu_main_menupopup menugroup &gt; .menu-iconic &gt; .menu-iconic-text,
.multi_menu_main_menupopup menugroup &gt; .menuitem-iconic &gt; .menu-iconic-text,
.multi_menu_main_menupopup menugroup &gt; .menuitem-iconic &gt; .menu-accel-container {
	display: none !important;
}
.multi_menu_main_menupopup menugroup &gt; .menu-iconic {
	display: none !important;
}
&lt;!--%StyleForMenuGroup%--&gt;

&lt;!--%StyleForMenuGroupReflectCheckedState%--&gt;
.multi_menu_main_menupopup menugroup menuitem[_open="true"].menuitem-iconic,
.multi_menu_main_menupopup menugroup menuitem[_checked="true"].menuitem-iconic {
	position: relative  !important;
	background: none !important;
	border-radius: 3px  !important;
}

.multi_menu_main_menupopup menugroup menuitem[_open="true"].menuitem-iconic &gt; .menu-iconic-left,
.multi_menu_main_menupopup menugroup menuitem[_checked="true"].menuitem-iconic &gt; .menu-iconic-left {
	border: 0 solid #111 !important;
	background: none !important;
	border-radius: 3px !important;
	position: relative !important;
	box-shadow: inset 0 0 2px 0 #111 !important;
}
&lt;!--%StyleForMenuGroupReflectCheckedState%--&gt;

&lt;!--%StyleForOverflowedMenus%--&gt;
.multi_menu_main_menupopup scrollbox {
	overflow-y: auto !important
}
.multi_menu_main_menupopup .autorepeatbutton-up,
.multi_menu_main_menupopup .autorepeatbutton-down {
	display: none !important;
}
&lt;!--%StyleForOverflowedMenus%--&gt;

&lt;!--%StyleRemoveMainMenuAccelContainers%--&gt;
.multi_menu_main_menupopup &gt; hbox &gt; vbox &gt; .menuitem-iconic &gt; .menu-accel-container {
	display: none !important;
}
&lt;!--%StyleRemoveMainMenuAccelContainers%--&gt;


&lt;!--%after_end%--&gt;data:image/png;base64,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&lt;!--%after_end%--&gt;
&lt;!--%after_start%--&gt;data:image/png;base64,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&lt;!--%after_start%--&gt;
&lt;!--%before_end%--&gt;data:image/png;base64,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&lt;!--%before_end%--&gt;
&lt;!--%before_start%--&gt;data:image/png;base64,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&lt;!--%before_start%--&gt;
&lt;!--%end_after%--&gt;data:image/png;base64,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&lt;!--%end_after%--&gt;
&lt;!--%end_before%--&gt;data:image/png;base64,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&lt;!--%end_before%--&gt;
&lt;!--%start_after%--&gt;data:image/png;base64,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&lt;!--%start_after%--&gt;
&lt;!--%start_before%--&gt;data:image/png;base64,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&lt;!--%start_before%--&gt;

&lt;!--%HelpPage%--&gt;&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE HTML&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta http-equiv="content-type" content="text/html;charset=utf-8" /&gt;
		&lt;link rel="stylesheet" href="chrome://global/skin/xul.css" type="text/css"/&gt;
		&lt;style&gt;
		html {
			background: -moz-dialog !important;
			font: message-box !important;
		}
		body * {
			font-family: "Open Sans", Helvetica, Arial, sans-serif !important;
		}
		body {
			color: -moz-FieldText;
			position: relative;
			border: 1px solid;
			border-radius: 3px;
			padding: 1em;
			background: -moz-Field;
		}

		ul {
			margin: 0;
			-moz-margin-start: 1.5em;
			padding: 0;
			list-style: square;
		}
		ul &gt; li {
			margin-top: .5em;
		}
		.bold_text {
			font-weight: bold !important;
		}
		.optional {
			color: white !important;
			background-color: green !important;
		}
		.required {
			background-color: orange !important;
		}
		.experimental {
			background-color: red !important;
		}
		.optional,
		.required,
		.experimental {
			padding: 0 5px 0 5px !important;
		}
		.important-notes {
			border: 1px solid darkred;
			border-radius: 3px;
			background-color: rgba(255, 0, 0, 0.25) !important;
			padding: .5em;
		}
		&lt;/style&gt;
	&lt;/head&gt;
&lt;body&gt;
	&lt;h2&gt;About this GUI (Graphical User Interface)&lt;/h2&gt;
	&lt;h3&gt;General usage&lt;/h3&gt;
	&lt;ul&gt;
		&lt;li&gt;All items inserted from the &lt;b&gt;Insert a new item&lt;/b&gt; menu are appended at the end of the main menu from the current selected tab.&lt;/li&gt;
		&lt;li&gt;Items can be re-ordered and/or moved into any &lt;em&gt;menugroup&lt;/em&gt; element or &lt;em&gt;custom menu&lt;/em&gt; at any level by just dragging them while pressing the &lt;b&gt;%A_C_C_E_L%&lt;/b&gt; key.&lt;/li&gt;
		&lt;li&gt;Items can be moved into any other main popup (tab) from the context menu.&lt;/li&gt;
		&lt;li&gt;While having opened any edit dialog on the currently selected main menu/tab, it isn't possible to switch to other main menus/tabs. Changes on the currently selected main menu/tab will have to be saved or canceled to be able to work on other main menus/tabs.&lt;/li&gt;
		&lt;li&gt;Every time the &lt;b&gt;Save changes&lt;/b&gt; button is pressed, and before the main items file is modified with the new changes, a backup of the current items file is created. So, returning to a previous functional items file is as easy as to renaming the last backup file.&lt;/li&gt;
		&lt;li&gt;A maximum of three backup files are created and available at all times.&lt;/li&gt;
		&lt;li&gt;Orange colored fields are &lt;span class="bold_text required" &gt;REQUIRED&lt;/span&gt;&lt;/li&gt;
		&lt;li&gt;Green colored fields are &lt;span class="bold_text optional"&gt;OPTIONAL&lt;/span&gt;&lt;/li&gt;
		&lt;li&gt;Red colored fields are &lt;span class="bold_text experimental"&gt;EXPERIMENTAL&lt;/span&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;p&gt;
	&lt;div class="important-notes"&gt;
		&lt;h3&gt;Important notes&lt;/h3&gt;
		&lt;ul&gt;
			&lt;li&gt;Menugroup elements and custom menu elements &lt;b&gt;MUST NOT&lt;/b&gt; be placed inside another menugroup 	elements. If you do, and then save the changes, you will loose all menugroup/menu children if any.&lt;/li&gt;
			&lt;li&gt;In all elements with custom command fields, the global object (&lt;b&gt;this&lt;/b&gt;) is the button to which the menu/menu item belongs. So be very careful NOT to override properties of the global object. Additionally, all variables/objects that are available on the execution context of any button, like &lt;b&gt;self&lt;/b&gt;, &lt;b&gt;Cc&lt;/b&gt;, &lt;b&gt;Ci&lt;/b&gt;, etc., are also available on the execution context of the code defined on these fields.&lt;/li&gt;
			&lt;li&gt;If you edit the items file manually (with any text editor), know that its content is in JSON format. Which means that its syntax is very strict. A single misplaced comma could completely break the menu. So, you must use a proper text editor with a JSON linter to edit this file. Otherwise, stick to edit the items with this GUI.&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;&lt;!--%HelpPage%--&gt;

&lt;!--%SlaveButton%--&gt;custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EMulti%20Menu%20slave%20button%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bcustombuttons-stdicon-1%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E2%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bif%20%28self.parentNode%20%26%26%20/%5Ewrapper-/.test%28self.parentNode.id%29%29%0A%09return%3B%0Alet%20timer%20%3D%20%22__Custom_Buttons_Multi_Menu_Timer__%22%20+%20self.id%3B%0AclearTimeout%28window%5Btimer%5D%29%3B%0Awindow%5Btimer%5D%20%3D%20setTimeout%28function%28%29%20%7B%0A%09window.__Custom_Buttons_Multi_Menu__.CreateItems%28self%29%3B%0A%7D%2C%20200%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%28%21event.target%20%26%26%20%21this.disabled%29%0A%09window.__CB_Multi_Menu.hotkeyPressed%28this%29%3B%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5BAlt+Ctrl+Shift+D%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%uD835%uDDDC%uD835%uDDFA%uD835%uDDFD%uD835%uDDFC%uD835%uDDFF%uD835%uDE01%uD835%uDDEE%uD835%uDDFB%uD835%uDE01%20%uD835%uDDFB%uD835%uDDFC%uD835%uDE01%uD835%uDDF2%uD835%uDE00%0A%u26AB%20A%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%20%uD835%uDE68%uD835%uDE61%uD835%uDE56%uD835%uDE6B%uD835%uDE5A%20button%20can%20be%20cloned/installed%20as%20much%20as%20you%20need/want.%0A%u26AB%20Deleting/Uninstalling%20a%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%20button%20%28%uD835%uDE62%uD835%uDE56%uD835%uDE68%uD835%uDE69%uD835%uDE5A%uD835%uDE67%20or%20%uD835%uDE68%uD835%uDE61%uD835%uDE56%uD835%uDE6B%uD835%uDE5A%29%20will%20NOT%20delete%20its%20items%20file%20from%20%uD835%uDDE0%uD835%uDE02%uD835%uDDF9%uD835%uDE01%uD835%uDDF6%20%uD835%uDDE0%uD835%uDDF2%uD835%uDDFB%uD835%uDE02%27%uD835%uDE00%20storage%20folder.%0A%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E&lt;!--%SlaveButton%--&gt;

&lt;!--%CustomStyleSheetWindow%--&gt;&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;?xml-stylesheet href="chrome://global/skin" type="text/css"?&gt;
&lt;?xml-stylesheet href="data:text/css;charset=utf-8,
caption .caption-text,
.bold_text {
	font-weight: bold !important;
}
/* Force groupboxes on Linux to have the same appearance than in Windows */
/* Just because it makes effing sence!!!! */
/* Why have elements grouped inside a groupbox and not visually delimited?!?!?! */
groupbox {
	-moz-appearance: groupbox !important;
	border: 2px groove ThreeDFace !important;
	border-radius: 3px !important;
	margin: 3px !important;
	padding: 3px 3px 6px !important;
}
.groupbox-body {
	padding: inherit !important;
}
caption {
	margin: 0 6px !important;
	background-color: -moz-Dialog !important;
}
.save_changes {
	list-style-image: url(&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACdElEQVQ4jWNgIBGE/mdgZvjPwEiqPgYGBgaGpCOGUhX3XFO630Zapp0xZiVJc/QSFb78aw4dXe/C3k/8lnCj73OkfcN/BiaiNEfsUpfKPGfV0fDE/33jc///PR8i/nW9iz5Rez/QnoGBgYHBYT4Dh/cGNdugHZqS6Jq9l8oJppyw6ml8FvCx6Lbz/7iThv8zL1n9r37k+6fgusdGBoYGBqbQvXpOmeecbqecsu33XKUiCtNsPJOBNXiHfm/NQ78veTcd/wcf0vofsF/9f+BBjX/RR40fxBwx8WNIOWinWHnPd3/di8B/1Q/93yYcse6yWSonqDddXCxgi/bkyge+XzOu2f332qv632238n+P3Sr//XZr3wnaoRvlOUmFnaHgivu2kocevz32qf5PvGT1r+Ke/2fvDdqz3NapL25+Efol8ZLVf8edCv9tt8n+t9sm999lu9oZv42adtqrtNkYGBgYGKy2yW212S73w2Sz5D+LrTL/k6/a/C+74/u/7I7P/9gLFv9NNknC8F+LdbIX7NcqO6IEkvpyLimdNcKLtdaK/tBaK/LfYKPE//Bzpv+DThn9198g/l9rrch/7TWif3SXS14wWSLvaTyTATP+pZYLycqvFFijuJL/p+JKgf9KqwT/K60U+K+4UuC/4gqBvyoLRS6oTRW1wZsCBRdxykks5loovoT7k/gS7v/iS7j/iy/i+S81i/eCTL+gJwMDEcmXdy6DOt88toW8C9h+8s1l+88/keOMSCuPI0MaFmfjAIwM/QwKbNMY1rJ0Mp5kKGOwIFYjDLAyCDAI8ITyaHH7cOszSDMIMzAQbzuqS4jxMwMDAwDtNu92OyP2UwAAAABJRU5ErkJggg==&amp;quot;) !important;
	-moz-image-region: auto !important;
}
.cancel_changes {
	list-style-image: url(&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAADdklEQVQ4jXVTb0yUBRx+3n+8977vve/BcXhIBzg5CMZRCAvGSIZQMCXpRFhkagRjTkjStdr6M9bW1/rCt1tZ0vDUU1E4QMHrAMk7F4zDY4qYRBdkyzJK0eMC9+sLOGnr+fo8z2+/Pc8eYBVtgHZSH2NzqqoJ/4Muk0l1WSxZLovFuI4oAKTjVXu2Tbd++tmNhsbac9HR0f81d8CoTVZUVk01t3x+vGJ3+U5AXuOi7BbL9q79jRf/cp5duvNRa9Cfld3YqaqxawIXNOPlrOy6UPORwJ9tX0Z69tV7X0vc9CoAHarzi2u/2P3GlZm6g0sP322lB4c/WAlVVk+NbEpp+QZQHIDcn7y5aXa7/fr95vdWHh75mGbr3444il4e3ZWZ+ybeyi89PdBwKLywrYLu5hfTvXI7LVbtodmcvJ/G8l9850p2dtN0uu3H+6U76Peicrr7wlb6e2sZ9ReWRRqyCvtRkbblpQMZz53tS9z8IGTaQLfNCfSb7XlaTH2W7lVW/fpHUfH8gmkD3TEn0A8xsRSKNpInLv7RgbiN/fbEDDsACGmCkNek6DvcmmFxVBRpWBDopiDQgiWJfjbF0QTL0iDDkJ/jyC1EhQ/xUefTgWIAurWcuAIgvUXQdZxStMcXeIHOAdQHhroB6gSoh2HIyfGPDzPc+RIgBwC/rqYagHsfyOvOsA0PWJLoGMfRUYCOAvQVw5A72kiuBEvwQ6C8BuDWmdsA8YQk5Z9R9Kd6FH3YxfPUDpCTYegEy1I7QCd5ntx6/cppWd/ZLkkFn6y97wAEF8+XXFDUbo8kh3tZjnoA8jAMjcYYadwcT98yDPUC1Mdy5JHkcK+i9BwTxTIHIOD7fXU7v0uxDg6K4pKXZWkEoHGWpRuSRBMJlvlgivX2TVmmwCrnZVkaEnVLg0bTiDstw47x6tquyS05ER/H0RhA0yxLIVlevqaqtwZEsXlA0e29ZjAEQ6r6z61VjY/jacK8cdmfneuFL7egxm8yXbouSY/mFIV+0bTlSU0LDIniwUuAwQHIHp1ubzDG4JtX1chcVBRNSfLSVVX1X7Va6/E1oBvmUTKT+Ez3fGFheNJqDfgEYb8HeLKFPkAbkaRd43GxvrlUa2TGbPaOcNwr/YDyJEh3UlLpZZvtzFRm5utjTy3tqSNiID5+x1BqivNicnJFGyACwL8fh1x5BGHtQgAAAABJRU5ErkJggg==&amp;quot;) !important;
	-moz-image-region: auto !important;
}
" type="text/css" ?&gt;
&lt;window id="%U_I_D%_custom_style_sheet_window"
	    xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	    orient="vertical"
	    height="400"
	    width="600"
	    onload="$.onLoad();"&gt;
&lt;script&gt;&lt;![CDATA[
var stg = window._storage;
var cb_btn = stg.button;

function $id(id) {
	return document.getElementById(id);
}

var $ = {
	onLoad: function() {
		$.dealWithStyleSheets(false);
	},
	dealWithStyleSheets: function(aSave) {
		if (aSave)
			cb_btn.MultiMenu.sPref("pStyleSheetCustom", encodeURIComponent($id("pStyleSheetCustom").value));
		else
			$id("pStyleSheetCustom").setAttribute("value", decodeURIComponent(cb_btn.MultiMenu.gPref("pStyleSheetCustom")));
	},
};
]]&gt;&lt;/script&gt;
	&lt;groupbox flex="1000"&gt;
		&lt;caption label="Custom style sheet"/&gt;
		&lt;textbox multiline="true"
				 wrap="off"
				 tooltip="tt"
				 newlines="pasteintact"
				 flex="1000"
				 id="pStyleSheetCustom" /&gt;
	&lt;/groupbox&gt;
	&lt;hbox&gt;
		&lt;spacer flex="1"/&gt;
		&lt;button label="Save changes" class="save_changes" oncommand="$.dealWithStyleSheets(true);"/&gt;
		&lt;button label="Cancel" class="cancel_changes" oncommand="close();"/&gt;
		&lt;spacer flex="1"/&gt;
	&lt;/hbox&gt;
	&lt;popupset&gt;
		&lt;tooltip id="tt"&gt;
			&lt;description&gt;This field is saved into a preference, so try not to use to much data here (like big images in Base64 format).&lt;/description&gt;
			&lt;description&gt;If you need to affect an specific Multi Menu button/popup, set a custom class to be used in this style sheet.&lt;/description&gt;
		&lt;/tooltip&gt;
	&lt;/popupset&gt;
&lt;/window&gt;&lt;!--%CustomStyleSheetWindow%--&gt;</help>
  <attributes/>
</custombutton>