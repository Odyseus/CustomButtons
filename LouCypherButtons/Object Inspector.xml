<?xml version="1.0" encoding="UTF-8"?>
<custombutton xmlns:cb="http://xsms.nm.ru/custombuttons/"
              xmlns:html="http://www.w3.org/1999/xhtml">
  <html:head>
    <html:title><![CDATA[Object Inspector]]></html:title>
    <html:link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sFGw4IIuzy/0QAAAC+SURBVDjLzZItDgJBDEYfPwr0rGU1waJB47kE4Q6chTvgVxP0YneRu2iwYDpJ6ZYJBMOXNJl0Oi+dr4UfNXByCyAHLiY/lbhLdDQBGuAhYVWou1VM9lXBGsjkXDqAEmjlvPEAY1U4cwBbYG9qXwBR14RnN5vQgPivOgGolaHBM6gB5glAACpttP1CZslGIwlXB6EWCcBOdRpsB6cvFvAczfamkCcedu6GzohyabPnbOLy3Tijw8cPVrmSMf6JngTgKsyos8rlAAAAAElFTkSuQmCC"/>
    <html:style type="text/css"><![CDATA[
body { font-size: medium; margin: 0; }
body, code:before, help:before, initcode:before {
  font-family: "Verdana", sans-serif;
}
#wrapper { position: fixed; top: 1em; right: 1em; text-align: center; }
p { font-size: small; text-align: center; }
#button {
  background-color: rgb(85, 168, 2);
  background-image: linear-gradient(to bottom, rgb(147, 200, 94), rgb(85, 168, 2));
  background-image: -moz-linear-gradient(top, rgb(147, 200, 94), rgb(85, 168, 2));
  background-image: -o-linear-gradient(top, rgb(147, 200, 94), rgb(85, 168, 2));
  background-image: -webkit-linear-gradient(top, rgb(147, 200, 94), rgb(85, 168, 2));
  border: 1px solid rgb(58, 116, 4);
  border-radius: .5em;
  -moz-border-radius: .5em;
  -webkit-border-radius: .5em;
  padding: 0;
  margin-bottom: 1em;
  box-shadow: 1px 2px 3px rgba(0, 0, 0, .25);
  -moz-box-shadow: 1px 2px 3px rgba(0, 0, 0, .25);
  -o-box-shadow: 1px 2px 3px rgba(0, 0, 0, .25);
  -webkit-box-shadow: 1px 2px 3px rgba(0, 0, 0, .25);
}
#button a {
  color: #000;
  text-shadow: -1pt -1px 0pt rgba(255, 255, 255, .5);
  padding: 1em;
  text-decoration: none;
}
:-moz-any-link:focus {
  color: white;
  outline-color: transparent;
  text-decoration: none;
}
#button a, code, code:before, initcode, initcode:before, help, help:before {
  display: block;
}
#credits { position: fixed; bottom: 1em; right: 1em; font-size: small; }
custombutton { background-color: rgb(171, 171, 171); margin: 1em; }
date, image, mode, accelkey { display: none; }
name { font-weight: bold; font-size: x-large; }
code:before, help:before, initcode:before {
  font-weight: bold;
  font-size: large;
  margin: 0 0 1em;
  padding: .5em;
}
code:before { content: "CODE"; }
help:before { content: "Help"; }
initcode:before { content: "Initialization Code"; }
code, initcode, help {
  background-color: rgb(255, 255, 255);
  border: 1px inset rgb(170, 170, 170);
  font: medium monospace;
  margin: 1em 1em 2em 0;
  padding: 1em;
  text-align: left;
  width: 840px;
  white-space: pre-wrap;
  word-wrap: break-word;
}
.clear { clear: both; }
]]></html:style>
  </html:head>
  <html:body>
    <html:div id="wrapper">
      <html:div id="button">
        <html:a href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EObject%20Inspector%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sFGw4IIuzy/0QAAAC+SURBVDjLzZItDgJBDEYfPwr0rGU1waJB47kE4Q6chTvgVxP0YneRu2iwYDpJ6ZYJBMOXNJl0Oi+dr4UfNXByCyAHLiY/lbhLdDQBGuAhYVWou1VM9lXBGsjkXDqAEmjlvPEAY1U4cwBbYG9qXwBR14RnN5vQgPivOgGolaHBM6gB5glAACpttP1CZslGIwlXB6EWCcBOdRpsB6cvFvAczfamkCcedu6GzohyabPnbOLy3Tijw8cPVrmSMf6JngTgKsyos8rlAAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B/**%0A%20*%20Historical%20reference%0A%20*%20http%3A//wayback.archive.org/web/20080110011552/http%3A//custombuttons.phpbbnow.com/viewtopic.php%3Ft%3D575%26sid%3Df0ec4b5276903eeea304e56868da7a08%0A%20*/%0A%0Aif%28typeof%20inspectObject%20%21%3D%20%22function%22%29%20%7B%0A%20%20var%20ext%20%3D%20%22DOM%20Inspector%22%3B%0A%20%20var%20err%20%3D%20ext%20+%20%22%20extension%20is%20not%20installed%20or%20is%20disabled.%22%3B%0A%20%20this.setAttribute%28%22oncommand%22%2C%20%22alert%28%27%22%20+%20err%20+%20%22%27%29%3B%22%29%3B%0A%20%20return%3B%0A%7D%0A%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*%20%20This%20Source%20Code%20Form%20is%20subject%20to%20the%20terms%20of%20the%20Mozilla%20Public%0A%20*%20%20License%2C%20v.%202.0.%20If%20a%20copy%20of%20the%20MPL%20was%20not%20distributed%20with%20this%0A%20*%20%20file%2C%20You%20can%20obtain%20one%20at%20http%3A//mozilla.org/MPL/2.0/.%20*/%0A%0Aconst%20prefs%20%3D%20Services.prefs.getBranch%28%22custombuttons.inspectObject.%22%29%3B%0A%0Afunction%20getLastObject%28%29%20%7B%0A%20%20try%20%7B%0A%20%20%20%20return%20prefs.getCharPref%28%22lastObject%22%29%3B%0A%20%20%7D%0A%20%20catch%20%28ex%29%20%7B%0A%20%20%20%20return%20%22%22%3B%0A%20%20%7D%0A%7D%0A%0Avar%20obj%20%3D%20window%3B%0Avar%20props%3B%0Avar%20msg%20%3D%20%22Enter%20object%20name%20%28case%20sensitive%29%5Cn%22%20+%0A%20%20%20%20%20%20%20%20%20%20%22For%20example%3A%20document%2C%20gBrowser%2C%20custombuttons%22%3B%0Avar%20strObject%20%3D%20custombuttons.promptBox%28this.name%2C%20msg%2C%20getLastObject%28%29%2C%20null%29%3B%0Aif%20%28%21strObject%5B0%5D%29%0A%20%20return%3B%0A%0Aif%20%28strObject%5B1%5D%20%21%3D%3D%20%22%22%20%7C%7C%20strObject%5B1%5D%20%21%3D%3D%20%22window%22%29%20%7B%0A%20%20prefs.setCharPref%28%22lastObject%22%2C%20strObject%5B1%5D%29%3B%0A%20%20props%20%3D%20strObject%5B1%5D.split%28%22.%22%29%3B%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20props.length%3B%20i++%29%20%7B%0A%20%20%20%20obj%20%3D%20obj%5Bprops%5Bi%5D%5D%0A%20%20%7D%0A%7D%0A%0Aif%20%28typeof%20obj%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20custombuttons.alertBox%28this.name%2C%20strObject%5B1%5D%20+%20%22%20is%20not%20defined.%22%29%3B%0A%20%20return%3B%0A%7D%0A%0AinspectObject%28obj%29%3B%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E" rel="nofollow" title="Install Object Inspector">
        <![CDATA[Install this button]]>
        </html:a>
      </html:div>
      <html:a href="https://addons.mozilla.org/addon/custom-buttons/?src=external-custombuttons-xml">
        <![CDATA[What's this?]]>
      </html:a>
      <html:div id="credits">
        <html:a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?t=78#p197">
          <![CDATA[Custom Buttons XML]]><html:br/><![CDATA[Exporter/Importer]]>
        </html:a>
      </html:div>
    </html:div>
  </html:body>
  <name>Object Inspector</name>
  <image><![CDATA[data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sFGw4IIuzy/0QAAAC+SURBVDjLzZItDgJBDEYfPwr0rGU1waJB47kE4Q6chTvgVxP0YneRu2iwYDpJ6ZYJBMOXNJl0Oi+dr4UfNXByCyAHLiY/lbhLdDQBGuAhYVWou1VM9lXBGsjkXDqAEmjlvPEAY1U4cwBbYG9qXwBR14RnN5vQgPivOgGolaHBM6gB5glAACpttP1CZslGIwlXB6EWCcBOdRpsB6cvFvAczfamkCcedu6GzohyabPnbOLy3Tijw8cPVrmSMf6JngTgKsyos8rlAAAAAElFTkSuQmCC]]></image>
  <mode>0</mode>
  <initcode><![CDATA[/**
 * Historical reference
 * http://wayback.archive.org/web/20080110011552/http://custombuttons.phpbbnow.com/viewtopic.php?t=575&sid=f0ec4b5276903eeea304e56868da7a08
 */

if(typeof inspectObject != "function") {
  var ext = "DOM Inspector";
  var err = ext + " extension is not installed or is disabled.";
  this.setAttribute("oncommand", "alert('" + err + "');");
  return;
}
]]></initcode>
  <code><![CDATA[/*  This Source Code Form is subject to the terms of the Mozilla Public
 *  License, v. 2.0. If a copy of the MPL was not distributed with this
 *  file, You can obtain one at http://mozilla.org/MPL/2.0/. */

const prefs = Services.prefs.getBranch("custombuttons.inspectObject.");

function getLastObject() {
  try {
    return prefs.getCharPref("lastObject");
  }
  catch (ex) {
    return "";
  }
}

var obj = window;
var props;
var msg = "Enter object name (case sensitive)\n" +
          "For example: document, gBrowser, custombuttons";
var strObject = custombuttons.promptBox(this.name, msg, getLastObject(), null);
if (!strObject[0])
  return;

if (strObject[1] !== "" || strObject[1] !== "window") {
  prefs.setCharPref("lastObject", strObject[1]);
  props = strObject[1].split(".");
  for (var i = 0; i < props.length; i++) {
    obj = obj[props[i]]
  }
}

if (typeof obj === "undefined") {
  custombuttons.alertBox(this.name, strObject[1] + " is not defined.");
  return;
}

inspectObject(obj);
]]></code>
  <accelkey><![CDATA[]]></accelkey>
  <help><![CDATA[]]></help>
  <attributes/>
</custombutton>