<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<title></title>
	<link rel="shortcut icon" type="image/x-icon" href="lib/img/MultiMenu-icon.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link type="text/css" rel="stylesheet" href="lib/css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="lib/css/bootstrap.odyseus.css" />
	<link type="text/css" rel="stylesheet" href="lib/css/highlight.css" />
	<style type="text/css">
@media (min-width:580px) {
	#install_alert {
		margin-right:300px;
	}
}
.carousel-control.left {
	background-image: linear-gradient(to right, rgba(150, 150, 150, 0.3) 0%, rgba(150, 150, 150, 0.0001) 100%);
}
.carousel-control.right {
	background-image: linear-gradient(to right, rgba(150, 150, 150, 0.0001) 0%, rgba(150, 150, 150, 0.3) 100%);
}
.carousel-caption > h2 {
	border-bottom: none !important;
}
.carousel-caption {
	color: #000 !important;
	text-shadow: 0 0 5px rgba(255, 255, 255, 1) !important;
}
.carousel-indicators li {
	background-color: rgba(50, 50, 50, 0.5) !important;
}
.carousel-indicators .active {
	background-color: rgba(50, 50, 50, .75) !important;
}
#mm-carousel {
	width: 100% !important; /* Needed for those aberrations of Palemoon and Cyberfox!!!! */
}
</style>
</head>
<body>
<noscript><div class="alert alert-danger">
<strong>Oh snap! This page needs JavaScript enabled to display correctly.</strong>
</div></noscript>
<div id="mainarea" style="display: none">
<span id="headmenu">
<!-- Inserted via jQuery -->
</span>
<div class="container boxed">
<h1 class="button-name"></h1>
	<div id="basic-info">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Basic info</h3>
			</div>
			<div class="panel-body">
				<ul class="list-unstyled">
					<li><b>Author/s: </b>Odyseus</li>
					<li><b>Creation Date: </b>Oct. 20, 2014</li>
					<li><b>Updated: </b>Feb 23, 2015 <a class="internal_link label label-success" href="#changelog">Changelog</a></li>
					<li><b>Status: </b>Complete</li>
					<li><b>Contributors: </b><a style="cursor:pointer;" class="label label-success" onclick="$('html, body').animate({scrollTop: $('#contributors').offset().top - 50}, 'slow');return false;">See list</a></li>
					<li><b>Licence: </b><a href="http://mozilla.org/MPL/2.0/">Mozilla Public Licence</a></li>
					<li><b><a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?f=4&t=3503">Button Homepage</a></b></li>
				</ul>
				<br>
				<div style="text-align:center!important;">
					<a id="button-uri" data-toggle="tooltip" data-placement="bottom" data-original-title="" class="btn btn-primary button-name" rel="nofollow" title="" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EMulti%20Menu%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABPklEQVQ4jY1TMW4CMRD0FyiQAEUKgZKKOIvXO2MLUcH1VEj5OHkBfegQKXIWF+4OYmmaHc3KO7ProtnRgKsB12h2FpEFyYEBp1LvQzQ7ulYxxq2qTp+JCzobiMgMxLXgYYNodm4WVHWdc14acAH5bISzE5FFjHFbf30NYLLZ2CuAXQCqwjURgCqSe5LekRyo6lREZjnnZS2eiMhIVaf38N7PSQ2q+p6SH7vidj3rBcBOREbR7Lvr2yBr4GrAyd2IXzIAVV8KNzHbKRS3+2LsEpcGp4arFwAfKaVhc4Q+sQEnR3KwWq3eaoPGrn4ppWExLCUFqcF7P28aSnLwJ0YAqTRQ1YCMAzM/kXHoilREFq1FApBCCC9lkR4tUzQ7t1Y5ABWp4Zm4/xbIvaq+P7uBwrv7cybpU/Lj/5yzmX39AOALYmC+1vl9AAAAAElFTkSuQmCC%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bif%20%28self.parentNode%20%26%26%20/%5Ewrapper-/.test%28self.parentNode.id%29%29%0A%09return%3B%0A//%u25BA%u25BA%u25BA%u25C4%u25C4%u25C4//DO%20NOT%20DELETE%20THIS%20LINE%0Avar%20left%20%3D%20%5B%5D%2C%20middle%20%3D%20%5B%5D%2C%20right%20%3D%20%5B%5D%3B%20//%20NEVER%20change%20this%20variables%21%21%21%0A//%20Start%20putting%20your%20items%20after%20this%20line%0A%0A//%20After%20this%20line%20do%20not%20edit%20anything.%0A//%u25BA%u25BA%u25BA%u25C4%u25C4%u25C4//DO%20NOT%20DELETE%20THIS%20LINE%0Aif%20%28%21%28%22Services%22%20in%20window%29%29%0A%09Cu.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0A%0Aif%20%28%21%28%22OS%22%20in%20window%29%29%0A%09Cu.import%28%22resource%3A//gre/modules/osfile.jsm%22%29%3B%0A%0Aconst%20%7B%0A%09prefs%20%3A%20SP%2C%0A%09appinfo%20%3A%20SA%0A%7D%0A%09%20%3D%20Services%2C%0A_UID%20%3D%20%22multi_menu%22%20+%20%28self.id%29.split%28%22custombuttons%22%29%5B1%5D%2C%0APREF_BRANCH%20%3D%20%22extensions.custombuttons.MultiMenu.Id%22%20+%20%28self.id%29.split%28%22-button%22%29%5B1%5D%20+%20%22.%22%2C%0APREF_SHARED%20%3D%20%22extensions.custombuttons.MultiMenu.SharedPref.%22%3B%0A%0Aif%20%28%21%28_UID%20in%20window%29%29%20%7B%0A%09window%5B_UID%5D%20%3D%20%7B%0A%09%09CustomizableUI%20%3A%20false%2C%0A%09%09StyleSheet%20%3A%20false%2C%0A%09%09UpdatesChecked%20%3A%20false%0A%09%7D%3B%0A%7D%0A%0Avar%20multiMenuStorage%20%3D%20OS.Path.join%28OS.Constants.Path.profileDir%2C%20%22custombuttons%22%2C%20%22MultiMenu%22%29%2C%0AcurrentTime%20%3D%20parseInt%28%28new%20Date%28%29%29.getTime%28%29%20/%2086400000%2C%2010%29%2C%0AnsIFile%20%3D%20Components.Constructor%28%22@mozilla.org/file/local%3B1%22%2C%20%22nsIFile%22%2C%20%22initWithPath%22%29%3B%0A%0A//START//%20Default%20preferences%20management%0A%28SP.getPrefType%28PREF_SHARED%20+%20%22ResourcesDownloaded%22%29%20%3D%3D%3D%200%29%0A%20%26%26%20sBP%28PREF_SHARED%20+%20%22ResourcesDownloaded%22%2C%20false%2C%20true%29%3B%0A%0AbtnPref.root%20%3D%20PREF_BRANCH%3B%0A%0AbtnPref.defaults%20%3D%20%7B%0A%09AddonsBlackList%20%3A%20%22%22%2C%0A%09AddonsAutoCloseMenu%20%3A%20false%2C%0A%09AddonsVersion%20%3A%202%2C%0A%09AddonsSortByEnabled%20%3A%20true%2C%0A%09ButtonType%20%3A%20true%2C%0A%09ExtraHelpOnAddonsItemsTooltips%20%3A%20true%2C%0A%09ExtraHelpOnPrefItemsTooltips%20%3A%20true%2C%0A%09ExtraHelpOnURLItemsTooltips%20%3A%20true%2C%0A%09FlipAttribute%20%3A%20true%2C%0A%09FlipAttributeEnabled%20%3A%20false%2C%0A%09MenuOpenOnHover%20%3A%20false%2C%0A%09MenuCloseDelay%20%3A%20200%2C%0A%09MenuOpenDelay%20%3A%20200%2C%0A%09PopupPosition%20%3A%20%22after_start%22%2C%0A%09PrefLabelType%20%3A%20true%2C%0A%09PrefLabelMaxLength%20%3A%2030%2C%0A%09PrefValueMaxLength%20%3A%2010%2C%0A%09PrefResetConfirmation%20%3A%20true%2C%0A%09ShowBlacklistedAddons%20%3A%20false%2C%0A%09ShowDropmarker%20%3A%20false%2C%0A%09ShowTooltip%20%3A%20true%2C%0A%09UpdatesEvery%20%3A%207%2C%0A%09UpdatesDelay%20%3A%2060%2C%0A%09UpdatesLastCheck%20%3A%20currentTime%2C%0A%09URLsOpenOnCurrent%20%3A%20false%2C%0A%09UseStyleSheet%20%3A%20true%0A%7D%3B%0A%0Afor%20%28let%20key%20in%20btnPref.defaults%29%20%7B%0A%09if%20%28btnPref.defaults.hasOwnProperty%28key%29%29%20%7B%0A%09%09let%20val%20%3D%20btnPref.defaults%5Bkey%5D%3B%0A%09%09switch%20%28typeof%20val%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09SP.getDefaultBranch%28PREF_BRANCH%29.setBoolPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09SP.getDefaultBranch%28PREF_BRANCH%29.setIntPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09str.data%20%3D%20val%3B%0A%09%09%09SP.getDefaultBranch%28PREF_BRANCH%29.setComplexValue%28%28key%29%2C%0A%09%09%09%09Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%0A%7D%0A%0AbtnPref.observe%20%3D%20function%20%28aPrefs%2C%20aCallback%29%20%7B%0A%09let%20%7B%0A%09%09root%0A%09%7D%0A%09%09%20%3D%20btnPref%3B%0A%09function%20observe%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09if%20%28topic%20%21%3D%3D%20%22nsPref%3Achanged%22%29%0A%09%09%09return%3B%0A%09%09let%20pref%20%3D%20data.slice%28root.length%29%3B%0A%09%09if%20%28aPrefs.indexOf%28pref%29%20%3D%3D%3D%20-1%29%0A%09%09%09return%3B%0A%09%09aCallback%28pref%29%3B%0A%09%7D%0A%09SP.addObserver%28root%2C%20observe%2C%20false%29%3B%0A%09unload%28function%20%28%29SP.removeObserver%28root%2C%20observe%29%29%3B%0A%7D%3B%0A%0Afunction%20btnPref%28aKey%29%20%7B%0A%09let%20%7B%0A%09%09branch%2C%0A%09%09defaults%0A%09%7D%0A%09%09%20%3D%20btnPref%3B%0A%09if%20%28%21branch%29%0A%09%09branch%20%3D%20SP.getBranch%28btnPref.root%29%3B%0A%09switch%20%28typeof%20defaults%5BaKey%5D%29%20%7B%0A%09case%20%22boolean%22%3A%0A%09%09return%20branch.getBoolPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22number%22%3A%0A%09%09return%20branch.getIntPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22string%22%3A%0A%09%09return%20branch.getComplexValue%28aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09break%3B%0A%09%7D%0A%09return%20null%3B%0A%7D%0A%0Afunction%20unload%28aCallback%2C%20aContainer%29%20%7B%0A%09let%20unloaders%20%3D%20unload.unloaders%3B%0A%09if%20%28unloaders%20%3D%3D%3D%20null%29%0A%09%09unloaders%20%3D%20unload.unloaders%20%3D%20%5B%5D%3B%0A%09if%20%28aCallback%20%3D%3D%3D%20null%29%20%7B%0A%09%09unloaders.slice%28%29.forEach%28function%20%28unloader%29unloader%28%29%29%3B%0A%09%09%09unloaders.length%20%3D%200%3B%0A%09%7D%0A%09if%20%28aContainer%20%21%3D%3D%20null%29%20%7B%0A%09%09aContainer.addEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09let%20origCallback%20%3D%20aCallback%3B%0A%09%09callback%20%3D%20function%20%28%29%20%7B%0A%09%09%09aContainer.removeEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09%09origCallback%28%29%3B%0A%09%09%7D%0A%09%09return%20null%3B%0A%09%7D%0A%09function%20unloader%28%29%20%7B%0A%09%09try%20%7B%0A%09%09%09callback%28%29%3B%0A%09%09%7D%20catch%20%28err%29%20%7B%0A%09%09%09Cu.reportError%28err%29%3B%0A%09%09%7D%0A%09%7D%0A%09unloaders.push%28unloader%29%3B%0A%09function%20removeUnloader%28%29%20%7B%0A%09%09let%20index%20%3D%20unloaders.indexOf%28unloader%29%3B%0A%09%09if%20%28index%20%21%3D%3D%20-1%29%0A%09%09%09unloaders.splice%28index%2C%201%29%3B%0A%09%7D%0A%09return%20removeUnloader%3B%0A%7D%0A//END//%20Default%20preferences%20management%0A%0Athis.gSwitch%20%3D%20%7B%20//%20%22Global%20switch%22%0A%09addonsMIExistence%20%3A%20function%20%28%29%20%7B%0A%09%09let%20addonsItems%20%3D%20%24%28_UID%20+%20%22-mpop%22%29.getElementsByClassName%28%22multi-menu-addon-menuitem%22%29%3B%0A%09%09if%20%28addonsItems%5B0%5D%20%3D%3D%3D%20undefined%20%7C%7C%20btnPref%28%22AddonsBlackList%22%29%20%3D%3D%3D%20%22%22%29%0A%09%09%09return%20true%3B%0A%09%09else%0A%09%09%09return%20false%3B%0A%09%7D%2C%0A%0A%09delFlags%20%3A%20function%20%28%29%20%7B%0A%09%09if%20%28window%5B_UID%5D%5B%22StyleSheet%22%5D%29%20%7B%0A%09%09%09styleSheet%28window%5B_UID%5D%5B%22StyleSheet%22%5D%2C%20true%29%3B%0A%09%09%09window%5B_UID%5D%5B%22StyleSheet%22%5D%20%3D%20false%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09gCV%20%3A%20function%20%28aKey%2C%20aBranch%29%20%7B%0A%09%09return%20gCV%28aKey%2C%20aBranch%29%3B%0A%09%7D%2C%0A%0A%09gBP%20%3A%20function%20%28aKey%2C%20aBranch%29%20%7B%0A%09%09return%20gBP%28aKey%2C%20aBranch%29%3B%0A%09%7D%2C%0A%0A%09reinit%20%3A%20function%20%28aMpop%29%20%7B%0A%09%09aMpop.parentNode.removeChild%28aMpop%29%3B%0A%09%09this.delFlags%28%29%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09self.init%28%29%3B%0A%09%09%7D%2C%2010%29%3B%0A%09%7D%2C%0A%0A%09openDir%20%3A%20function%20%28aBaseDir%2C%20aAppend%2C%20aArgs%29%20%7B%0A%09%09openDir%28aBaseDir%2C%20aAppend%2C%20aArgs%29%3B%0A%09%7D%2C%0A%0A%09openMultiMenuStorage%20%3A%20function%20%28%29%20%7B%0A%09%09new%20nsIFile%28multiMenuStorage%29.reveal%28%29%3B%0A%09%7D%2C%0A%0A%09openOptions%20%3A%20function%20%28%29%20%7B%0A%09%09var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%09%09var%20winName%20%3D%20_UID%20+%20%22_PrefWindow%22%3B%0A%09%09var%20index%20%3D%201%3B%0A%09%09while%20%28em.hasMoreElements%28%29%29%20%7B%0A%09%09%09let%20win%20%3D%20em.getNext%28%29%3B%0A%09%09%09if%20%28win.name%20%3D%3D%3D%20winName%29%20%7B%0A%09%09%09%09win.focus%28%29%3B%0A%09%09%09%09return%3B%0A%09%09%09%7D%0A%09%09%09index++%0A%09%09%7D%0A%09%09let%20xul%20%3D%20getHelp%28%22OptionsWindow%22%29%3B%0A%09%09xul%20%3D%20xul.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29.replace%28%22_self_id_%22%2C%20self.id%29%3B%0A%09%09xul%20%3D%20xul.split%28%22_U_I_D_%22%29.join%28_UID%29%3B%0A%09%09xul%20%3D%20xul.split%28%22_app_name_%22%29.join%28SA.name%29%3B%0A%09%09xul%20%3D%20xul.split%28%22_RoOt_%22%29.join%28PREF_BRANCH%29%3B%0A%09%09let%20url%20%3D%20%22data%3Aapplication/vnd.mozilla.xul+xml%3Bbase64%2C%22%20+%20utf8_to_b64%28xul%29%3B%0A%09%09openDialog%28url%2C%20winName%2C%20%22chrome%2C%20dependant%2C%20dialog%2C%20centerscreen%2C%20close%2C%20alwaysRaised%22%29%3B%0A%09%7D%2C%0A%0A%09resourcesDownloaded%20%3A%20function%20%28%29%20%7B%0A%09%09let%20msg%20%3D%20%22You%27re%20about%20to%20delete%20the%20file%20HepPage.html%20and%20%22%20+%0A%09%09%09%22attempt%20to%20download%20a%20new%20copy.%5Ct%5Ct%5Cn%5Cn%22%20+%0A%09%09%09%22This%20process%20is%20immediate%20and%20irreversible.%5Ct%5Cn%22%20+%0A%09%09%09%22It%20is%20advisable%20to%20make%20a%20backup%20of%20this%20file%20before%20proceeding.%5Ct%5Cn%5Cn%22%20+%0A%09%09%09%22Click%20%27Yes%27%20to%20proceed.%5Cn%22%20+%0A%09%09%09%22Click%20%27Cancel%27%20to%20abort.%5Cn%22%3B%0A%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09if%20%28cBox%29%0A%09%09%09sBP%28PREF_SHARED%20+%20%22ResourcesDownloaded%22%2C%20%21gBP%28PREF_SHARED%20+%20%22ResourcesDownloaded%22%2C%20true%29%2C%20true%29%3B%0A%09%09else%0A%09%09%09return%3B%0A%09%7D%2C%0A%0A%09showBlacklistedAddons%20%3A%20function%20%28%29%20%7B%0A%09%09sBP%28%22ShowBlacklistedAddons%22%2C%20%21btnPref%28%22ShowBlacklistedAddons%22%29%29%3B%0A%09%7D%2C%0A%0A%09showDropmarker%20%3A%20function%20%28%29%20%7B%0A%09%09sBP%28%22ShowDropmarker%22%2C%20%21btnPref%28%22ShowDropmarker%22%29%29%3B%0A%09%7D%2C%0A%0A%09showTooltip%20%3A%20function%20%28%29%20%7B%0A%09%09sBP%28%22ShowTooltip%22%2C%20%21btnPref%28%22ShowTooltip%22%29%29%3B%0A%09%7D%0A%7D%3B%0A%0Avar%20Creator%20%3D%20%7B%0A%09init%20%3A%20function%20%28%29%20%7B%0A%09%09let%20mPop%20%3D%20document.createElementNS%28xulns%2C%20%22menupopup%22%29%3B%0A%09%09mPop.setAttribute%28%22id%22%2C%20_UID%20+%20%22-mpop%22%29%3B%0A%09%09mPop.setAttribute%28%22onclick%22%2C%20%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%29%3B%0A%09%09btnPref%28%22FlipAttributeEnabled%22%29%0A%09%09%20%26%26%20mPop.setAttribute%28%22flip%22%2C%20%28btnPref%28%22FlipAttribute%22%29%20%3F%20%22both%22%20%3A%20%22slide%22%29%29%3B%0A%09%09mPop.setAttribute%28%22position%22%2C%20btnPref%28%22PopupPosition%22%29%29%3B%0A%09%09mPop.setAttribute%28%22consumeoutsideclicks%22%2C%20%22false%22%29%3B%0A%09%09let%20hBox%20%3D%20mPop.appendChild%28document.createElementNS%28xulns%2C%20%22hbox%22%29%29%3B%0A%09%09let%20lBox%20%3D%20hBox.appendChild%28document.createElementNS%28xulns%2C%20%22vbox%22%29%29%3B%0A%09%09lBox.setAttribute%28%22id%22%2C%20_UID%20+%20%22-lvbox%22%29%3B%0A%09%09let%20mBox%20%3D%20hBox.appendChild%28document.createElementNS%28xulns%2C%20%22vbox%22%29%29%3B%0A%09%09mBox.setAttribute%28%22id%22%2C%20_UID%20+%20%22-mvbox%22%29%3B%0A%09%09let%20rBox%20%3D%20hBox.appendChild%28document.createElementNS%28xulns%2C%20%22vbox%22%29%29%3B%0A%09%09rBox.setAttribute%28%22id%22%2C%20_UID%20+%20%22-rvbox%22%29%3B%0A%09%09while%20%28self.lastChild%29%0A%09%09%09self.removeChild%28self.lastChild%29%3B%0A%09%09lBox%20%3D%20Creator.createItems%28lBox%2C%20left%29%3B%0A%09%09mBox%20%3D%20Creator.createItems%28mBox%2C%20middle%29%3B%0A%09%09rBox%20%3D%20Creator.createItems%28rBox%2C%20right%29%3B%0A%09%09self.appendChild%28mPop%29%3B%0A%09%7D%2C%0A%0A%09menuItem%20%3A%20function%20%28aMI%2C%20aVal%29%20%7B%0A%09%09if%20%28aMI%5BaVal%5D%5B1%5D%20%3D%3D%3D%20%22pref%22%20%26%26%20SP.getPrefType%28aMI%5BaVal%5D%5B2%5D%29%20%3D%3D%3D%200%29%0A%09%09%09return%20false%3B%20//%20In%20case%20pref%20doesn%27t%20exists%2C%20do%20not%20create%20menu%20item.%0A%09%09var%20mI%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%3B%0A%09%09mI.setAttribute%28%22class%22%2C%20%22menuitem-iconic%22%29%3B%0A%09%09if%20%28aMI%5BaVal%5D%5B1%5D%20%21%3D%3D%20%22pref%22%20%26%26%20aMI%5BaVal%5D%5B1%5D%20%21%3D%3D%20%22cb%22%29%20%7B%0A%09%09%09mI.setAttribute%28%22label%22%2C%20aMI%5BaVal%5D%5B2%5D%29%3B%0A%09%09%09aMI%5BaVal%5D%5B4%5D%20%26%26%20mI.setAttribute%28%22image%22%2C%20aMI%5BaVal%5D%5B4%5D%29%3B%0A%09%09%09%28aMI%5BaVal%5D%5B1%5D%20%21%3D%3D%20%22url%22%29%20%26%26%20aMI%5BaVal%5D%5B5%5D%20%26%26%20mI.setAttribute%28%22tooltiptext%22%2C%20aMI%5BaVal%5D%5B5%5D%29%3B%0A%09%09%7D%0A%09%09if%20%28aMI%5BaVal%5D%5B1%5D%20%3D%3D%3D%20%22url%22%29%20%7B%0A%09%09%09var%20helpTT%20%3D%20aMI%5BaVal%5D%5B5%5D%20%3F%20%22%5Cn%5Cn%u25BC%u25BC%u25BC%20Help%20text%20%u25BC%u25BC%u25BC%5Cn%5Cn%22%20%3A%20%22%u25BC%u25BC%u25BC%20Help%20text%20%u25BC%u25BC%u25BC%5Cn%5Cn%22%3B%0A%09%09%09if%20%28btnPref%28%22ExtraHelpOnURLItemsTooltips%22%29%29%20%7B%0A%09%09%09%09if%20%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%7B%0A%09%09%09%09%09helpTT%20%3D%20helpTT%20+%20%22Left%20click%20%u2192%20%22%20+%20%28btnPref%28%22URLsOpenOnCurrent%22%29%0A%09%09%09%09%09%09%09%20%3F%20%22Open%20in%20Current%20Tab%22%0A%09%09%09%09%09%09%09%20%3A%20%22Open%20in%20New%20Foreground%20Tab%22%29%20+%20%22%5CnMiddle%20Click%20%u2192%20Open%20in%20New%20Background%20Tab%22%20+%0A%09%09%09%09%09%09%22%5CnRight%20Click%20%u2192%20%22%20+%20%28btnPref%28%22URLsOpenOnCurrent%22%29%0A%09%09%09%09%09%09%09%20%3F%20%22Open%20in%20New%20Foreground%20Tab%22%0A%09%09%09%09%09%09%09%20%3A%20%22Open%20in%20Current%20Tab%22%29%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09if%20%28SA.ID%20%3D%3D%3D%20%22%7B92650c4d-4b8e-4d2a-b7eb-24ecf4f6b63a%7D%22%29%20%7B%0A%09%09%09%09%09%09helpTT%20%3D%20helpTT%20+%20%22Open%20in%20Default%20Browser%22%3B%0A%09%09%09%09%09%7D%20else%0A%09%09%09%09%09%09helpTT%20%3D%20helpTT%20+%20%22Left%20click%20%u2192%20%22%20+%20%28btnPref%28%22URLsOpenOnCurrent%22%29%0A%09%09%09%09%09%09%09%09%20%3F%20%22Open%20in%20Content%22%0A%09%09%09%09%09%09%09%09%20%3A%20%22Open%20in%20Default%20Browser%22%29%20+%0A%09%09%09%09%09%09%09%22%5CnRight%20Click%20%u2192%20%22%20+%20%28btnPref%28%22URLsOpenOnCurrent%22%29%0A%09%09%09%09%09%09%09%09%20%3F%20%22Open%20in%20Default%20Browser%22%0A%09%09%09%09%09%09%09%09%20%3A%20%22Open%20in%20Content%22%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%0A%09%09%09%09helpTT%20%3D%20%22%22%3B%0A%09%09%09if%20%28%28aMI%5BaVal%5D%5B5%5D%20+%20helpTT%29%20%21%3D%3D%20%22%22%29%0A%09%09%09%09mI.setAttribute%28%22tooltiptext%22%2C%20aMI%5BaVal%5D%5B5%5D%20+%20helpTT%29%3B%0A%09%09%09mI.onclick%20%3D%20function%20%28aE%29%20%7B%0A%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09Creator.handleURL%28aMI%5BaVal%5D%5B3%5D%2C%20aE%29%3B%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%09mI.classList.add%28%22multi-menu-url-menuitem%22%29%3B%0A%09%09%7D%20else%20if%20%28aMI%5BaVal%5D%5B1%5D%20%3D%3D%3D%20%22cb%22%29%20%7B%0A%09%09%09let%20btnID%20%3D%20/%5Ecustombuttons-button%5Cd+/.test%28aMI%5BaVal%5D%5B2%5D%29%0A%09%09%09%09%20%3F%20aMI%5BaVal%5D%5B2%5D%0A%09%09%09%09%20%3A%20%22custombuttons-button%22%20+%20aMI%5BaVal%5D%5B2%5D%3B%0A%09%09%09let%20btn%20%3D%20document.getElementById%28btnID%29%3B%0A%09%09%09if%20%28%21btn%29%0A%09%09%09%09return%20false%3B%0A%09%09%09let%20lbl%20%3D%20%28btn.label%20%7C%7C%20%22Don%27t%20be%20lazy%20and%20NAME%20your%20buttons%21%21%21%20LOL%20%23%22%20+%20aMI%5BaVal%5D%5B2%5D%29%2C%0A%09%09%09img%20%3D%20%28btn.image%20%7C%7C%20%22chrome%3A//custombuttons/skin/button.png%22%29%2C%0A%09%09%09ttt%20%3D%20btn.hasAttribute%28%22tooltiptext%22%29%20%3F%20btn.getAttribute%28%22tooltiptext%22%29%20%3A%20%22%22%2C%0A%09%09%09style%20%3D%20btn.getAttribute%28%22style%22%29%3B%0A%09%09%09mI.setAttribute%28%22label%22%2C%20lbl%29%3B%0A%09%09%09mI.setAttribute%28%22image%22%2C%20img%29%3B%0A%09%09%09ttt%20%26%26%20mI.setAttribute%28%22tooltiptext%22%2C%20ttt%29%3B%0A%09%09%09style%20%26%26%20mI.setAttribute%28%22style%22%2C%20style%29%3B%0A%09%09%09mI.onclick%20%3D%20function%20%28aE%29%20%7B%0A%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09if%20%28%21%21btn%5B%22onclick%22%5D%29%20//%20If%20btn%20has%20%22onclick%22%20defined%0A%09%09%09%09%09btn.onclick%28aE%29%3B%0A%09%09%09%09else%0A%09%09%09%09%09btn.click%28%29%3B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09mI.setAttribute%28%22image%22%2C%20%28btn.image%20%7C%7C%20%22chrome%3A//custombuttons/skin/button.png%22%29%29%3B%0A%09%09%09%09%09mI.setAttribute%28%22tooltiptext%22%2C%20%28btn.hasAttribute%28%22tooltiptext%22%29%0A%09%09%09%09%09%09%09%20%3F%20btn.getAttribute%28%22tooltiptext%22%29%0A%09%09%09%09%09%09%09%20%3A%20%22%22%29%29%3B%0A%09%09%09%09%09mI.setAttribute%28%22style%22%2C%20btn.getAttribute%28%22style%22%29%29%3B%0A%09%09%09%09%7D%2C%20500%29%3B%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%09mI.classList.add%28%22multi-menu-cb-menuitem%22%29%3B%0A%09%09%7D%20else%20if%20%28aMI%5BaVal%5D%5B1%5D%20%3D%3D%3D%20%22path%22%29%20%7B%0A%09%09%09mI.value1%20%3D%20aMI%5BaVal%5D%5B3%5D%5B0%5D%3B%0A%09%09%09mI.value2%20%3D%20aMI%5BaVal%5D%5B3%5D%5B1%5D%3B%0A%09%09%09mI.value3%20%3D%20aMI%5BaVal%5D%5B3%5D%5B2%5D%3B%0A%09%09%09mI.onclick%20%3D%20function%20%28aE%29%20%7B%0A%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09openDir%28this.value1%2C%20this.value2%2C%20this.value3%29%3B%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%09mI.classList.add%28%22multi-menu-path-menuitem%22%29%3B%0A%09%09%7D%20else%20if%20%28aMI%5BaVal%5D%5B1%5D%20%3D%3D%3D%20%22custom%22%29%20%7B%0A%09%09%09let%20onClickFunction%20%3D%20%22event.preventDefault%28%29%3B%22%20+%20aMI%5BaVal%5D%5B3%5D%20+%20%22%3Bevent.stopPropagation%28%29%3B%22%3B%0A%09%09%09onClickFunction%20%3D%20onClickFunction.replace%28%22%3B%3Bevent%22%2C%20%22%3Bevent%22%29%0A%09%09%09%09mI.setAttribute%28%22onclick%22%2C%20onClickFunction%29%3B%0A%09%09%09mI.classList.add%28%22multi-menu-custom-menuitem%22%29%3B%0A%09%09%7D%20else%20if%20%28aMI%5BaVal%5D%5B1%5D%20%3D%3D%3D%20%22pref%22%29%20%7B%0A%09%09%09let%20pName%20%3D%20aMI%5BaVal%5D%5B2%5D%3B%0A%09%09%09mI.classList.add%28%22multi-menu-pref-menuitem%22%29%3B%0A%09%09%09let%20pVal%20%3D%20Creator.getPrefVal%28pName%29.toString%28%29%3B%0A%09%09%09let%20shortPName%20%3D%20aMI%5BaVal%5D%5B3%5D%0A%09%09%09%09%20%3F%20aMI%5BaVal%5D%5B3%5D%0A%09%09%09%09%20%3A%20%28pName.length%20%3E%20btnPref%28%22PrefLabelMaxLength%22%29%29%0A%09%09%09%09%20%3F%20pName.slice%280%2C%20btnPref%28%22PrefLabelMaxLength%22%29%29%20+%20%22...%22%0A%09%09%09%09%20%3A%20pName%3B%0A%09%09%09let%20pState%20%3D%20%28pVal.length%20%3E%20btnPref%28%22PrefValueMaxLength%22%29%29%0A%09%09%09%20%3F%20pVal.slice%280%2C%20btnPref%28%22PrefValueMaxLength%22%29%29%20+%20%22...%22%0A%09%09%09%20%3A%20pVal%3B%0A%09%09%09if%20%28btnPref%28%22PrefLabelType%22%29%29%20%7B%0A%09%09%09%09mI.setAttribute%28%22label%22%2C%20shortPName%29%3B%0A%09%09%09%09mI.setAttribute%28%22acceltext%22%2C%20%22%5B%22%20+%20pState%20+%20%22%5D%22%29%3B%0A%09%09%09%7D%20else%0A%09%09%09%09mI.setAttribute%28%22label%22%2C%20shortPName%20+%20%22%20%20%22%20+%20%22%5B%22%20+%20pState%20+%20%22%5D%22%29%3B%0A%09%09%09if%20%28SP.getPrefType%28pName%29%20%3D%3D%3D%20128%20%7C%7C%20aMI%5BaVal%5D%5B4%5D%29%0A%09%09%09%09mI.setAttribute%28%22closemenu%22%2C%20%22none%22%29%3B%0A%09%09%09let%20customTT%20%3D%20%28aMI%5BaVal%5D%5B5%5D%20%7C%7C%20%22%22%29%3B%0A%09%09%09mI.setAttribute%28%22tooltiptext%22%2C%20%22Pref.%20name%3A%20%22%20+%20pName%20+%0A%09%09%09%09%22%5CnPref.%20value%3A%20%22%20+%20pVal%20+%20%22%5Cn%5Cn%22%20+%20customTT%20+%0A%09%09%09%09%28btnPref%28%22ExtraHelpOnPrefItemsTooltips%22%29%20%3F%20Creator.prefExtraHelp%20%3A%20%22%22%29%29%3B%0A%09%09%09mI.prefname%20%3D%20pName%3B%0A%09%09%09mI.prefvalue%20%3D%20aMI%5BaVal%5D%5B4%5D%3B%0A%09%09%09mI.onclick%20%3D%20function%20%28aE%29%20%7B%0A%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09Creator.handlePrefClick%28aE%2C%20this%2C%20this.prefname%2C%20this.prefvalue%29%3B%0A%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%7D%3B%0A%09%09%09Creator.setPrefItemStyle%28mI%2C%20pName%29%3B%0A%09%09%7D%0A%09%09return%20mI%3B%0A%09%7D%2C%0A%0A%09createItems%20%3A%20function%20%28aBox%2C%20aEl%29%20%7B%0A%09%09for%20%28var%20v%20in%20aEl%29%20%7B%0A%09%09%09if%20%28aEl%5Bv%5D%5B0%5D%20%3D%3D%3D%20%22separator%22%29%0A%09%09%09%09aBox.appendChild%28document.createElementNS%28xulns%2C%20%22menuseparator%22%29%29%3B%0A%09%09%09else%20if%20%28aEl%5Bv%5D%5B0%5D%20%3D%3D%3D%20%22spacer%22%29%20%7B%0A%09%09%09%09let%20spacer%20%3D%20document.createElementNS%28xulns%2C%20%22spacer%22%29%3B%0A%09%09%09%09aEl%5Bv%5D%5B1%5D%20%26%26%20spacer.setAttribute%28%22flex%22%2C%20aEl%5Bv%5D%5B1%5D%29%3B%0A%09%09%09%09aBox.appendChild%28spacer%29%3B%0A%09%09%09%7D%20else%20if%20%28aEl%5Bv%5D%5B0%5D%20%3D%3D%3D%20%22dialogheader%22%29%20%7B%0A%09%09%09%09let%20header%20%3D%20document.createElementNS%28xulns%2C%20%22dialogheader%22%29%3B%0A%09%09%09%09header.setAttribute%28%22title%22%2C%20aEl%5Bv%5D%5B1%5D%29%3B%0A%09%09%09%09aEl%5Bv%5D%5B2%5D%20%26%26%20header.setAttribute%28%22description%22%2C%20aEl%5Bv%5D%5B2%5D%29%3B%0A%09%09%09%09aBox.appendChild%28header%29%3B%0A%09%09%09%7D%20else%20if%20%28aEl%5Bv%5D%5B0%5D%20%3D%3D%3D%20%22MI%22%29%20%7B%0A%09%09%09%09if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22extension%22%29%0A%09%09%09%09%09Creator.createAddonMenu%28aEl%5Bv%5D%5B1%5D%2C%20aBox%2C%20aEl%5Bv%5D%5B2%5D%2C%0A%09%09%09%09%09%09aEl%5Bv%5D%5B3%5D%20%26%26%20aEl%5Bv%5D%5B3%5D%29%3B%0A%09%09%09%09else%20if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22plugin%22%29%0A%09%09%09%09%09Creator.createAddonMenu%28aEl%5Bv%5D%5B1%5D%2C%20aBox%2C%20aEl%5Bv%5D%5B2%5D%29%3B%0A%09%09%09%09else%20if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22userstyle%22%29%0A%09%09%09%09%09Creator.addonExistence%28%22%7B46551EC9-40F0-4e47-8E18-8E5CF550CFB8%7D%22%2C%0A%09%09%09%09%09%09aEl%5Bv%5D%5B1%5D%2C%20aBox%2C%20aEl%5Bv%5D%5B2%5D%29%3B%0A%09%09%09%09else%20if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22greasemonkey-user-script%22%29%0A%09%09%09%09%09Creator.addonExistence%28%22%7Be4a8a97b-f2ed-450b-b12d-ee082ba24781%7D%22%2C%0A%09%09%09%09%09%09aEl%5Bv%5D%5B1%5D%2C%20aBox%2C%20aEl%5Bv%5D%5B2%5D%29%3B%0A%09%09%09%09else%20if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22userscript%22%29%0A%09%09%09%09%09Creator.addonExistence%28%22scriptish@erikvold.com%22%2C%20aEl%5Bv%5D%5B1%5D%2C%20aBox%2C%0A%09%09%09%09%09%09aEl%5Bv%5D%5B2%5D%29%3B%0A%09%09%09%09else%20if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22path%22%20%26%26%20openDir%28aEl%5Bv%5D%5B3%5D%5B0%5D%2C%20aEl%5Bv%5D%5B3%5D%5B1%5D%2C%20null%2C%20true%29%29%0A%09%09%09%09%09aBox.appendChild%28Creator.menuItem%28aEl%2C%20v%29%29%3B%0A%09%09%09%09else%20if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22clone%22%29%20%7B%0A%09%09%09%09%09let%20mI%20%3D%20%24%28aEl%5Bv%5D%5B2%5D%29%3B%0A%09%09%09%09%09if%20%28mI%20%26%26%20mI.nodeName%20%3D%3D%3D%20%22menuitem%22%29%20%7B%0A%09%09%09%09%09%09let%20clone%20%3D%20mI.cloneNode%28true%29%3B%0A%09%09%09%09%09%09clone.setAttribute%28%22id%22%2C%20mI.id%20+%20%22-cloned-by-%22%20+%20_UID%29%3B%0A%09%09%09%09%09%09clone.classList.add%28%22menuitem-iconic%22%2C%20%22multi-menu-cloned-menuitem%22%29%3B%0A%09%09%09%09%09%09aEl%5Bv%5D%5B3%5D%20%26%26%20clone.setAttribute%28%22image%22%2C%20aEl%5Bv%5D%5B3%5D%29%3B%0A%09%09%09%09%09%09aEl%5Bv%5D%5B4%5D%20%26%26%20clone.setAttribute%28%22tooltiptext%22%2C%20aEl%5Bv%5D%5B4%5D%29%3B%0A%09%09%09%09%09%09aBox.appendChild%28clone%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%20else%20if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22cb%22%29%20%7B%0A%09%09%09%09%09let%20cb_btn%20%3D%20Creator.menuItem%28aEl%2C%20v%29%3B%0A%09%09%09%09%09cb_btn%20%26%26%20aBox.appendChild%28cb_btn%29%3B%0A%09%09%09%09%7D%20else%20if%20%28aEl%5Bv%5D%5B1%5D%20%21%3D%3D%20%22path%22%29%20%7B%0A%09%09%09%09%09let%20createdMItem%20%3D%20Creator.menuItem%28aEl%2C%20v%29%3B%0A%09%09%09%09%09createdMItem%20%26%26%20aBox.appendChild%28createdMItem%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%20if%20%28aEl%5Bv%5D%5B0%5D%20%3D%3D%3D%20%22M%22%29%20%7B%0A%09%09%09%09if%20%28aEl%5Bv%5D%5B1%5D%20%3D%3D%3D%20%22clone%22%29%20%7B%0A%09%09%09%09%09let%20eM%20%3D%20%24%28aEl%5Bv%5D%5B2%5D%29%3B%0A%09%09%09%09%09if%20%28eM%20%26%26%20eM.nodeName%20%3D%3D%3D%20%22menu%22%29%20%7B%0A%09%09%09%09%09%09let%20clone%20%3D%20eM.cloneNode%28true%29%3B%0A%09%09%09%09%09%09clone.setAttribute%28%22id%22%2C%20eM.id%20+%20%22-cloned-by-%22%20+%20_UID%29%3B%0A%09%09%09%09%09%09clone.classList.add%28%22menu-iconic%22%2C%20%22multi-menu-cloned-menu%22%29%3B%0A%09%09%09%09%09%09clone.addEventListener%28%22popuphiding%22%2C%20function%20popHiding%28aE%29%20%7B%0A%09%09%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09%09%7D%2C%20false%29%3B%0A%09%09%09%09%09%09let%20cChilds%20%3D%20clone.getElementsByAttribute%28%22id%22%2C%20%22*%22%29%3B%0A%09%09%09%09%09%09let%20iLen%20%3D%20cChilds.length%3B%0A%09%09%09%09%09%09for%20%28let%20i%20%3D%200%3B%20i%20%3C%20iLen%3B%20i++%29%0A%09%09%09%09%09%09%09cChilds%5Bi%5D.id%20%3D%20cChilds%5Bi%5D.id%20+%20%22-cloned-by-%22%20+%20_UID%3B%0A%09%09%09%09%09%09if%20%28aEl%5Bv%5D%5B3%5D%29%20%7B%0A%09%09%09%09%09%09%09clone.setAttribute%28%22cb_splitmenu%22%2C%20true%29%3B%0A%09%09%09%09%09%09%09clone.setAttribute%28%22onclick%22%2C%0A%09%09%09%09%09%09%09%09%22if%28event.button%20%3D%3D%3D%200%20%26%26%20%22%20+%0A%09%09%09%09%09%09%09%09%22event.originalTarget.getAttribute%28%5C%22cb_splitmenu%5C%22%29%20%3D%3D%3D%20%5C%22true%5C%22%29%22%20+%0A%09%09%09%09%09%09%09%09%22%7B%22%20+%20aEl%5Bv%5D%5B3%5D%20+%20%22%7D%22%20+%0A%09%09%09%09%09%09%09%09%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%29%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09aEl%5Bv%5D%5B4%5D%20%26%26%20clone.setAttribute%28%22image%22%2C%20aEl%5Bv%5D%5B4%5D%29%3B%0A%09%09%09%09%09%09aEl%5Bv%5D%5B5%5D%20%26%26%20clone.setAttribute%28%22tooltiptext%22%2C%20aEl%5Bv%5D%5B5%5D%29%3B%0A%09%09%09%09%09%09aBox.appendChild%28clone%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09let%20m%20%3D%20document.createElementNS%28xulns%2C%20%22menu%22%29%3B%0A%09%09%09%09%09m.setAttribute%28%22label%22%2C%20aEl%5Bv%5D%5B1%5D%29%3B%0A%09%09%09%09%09m.setAttribute%28%22class%22%2C%20%22multi-menu-custom-menu%20menu-iconic%22%29%3B%0A%09%09%09%09%09if%20%28aEl%5Bv%5D%5B3%5D%29%20%7B%0A%09%09%09%09%09%09m.setAttribute%28%22cb_splitmenu%22%2C%20true%29%3B%0A%09%09%09%09%09%09m.setAttribute%28%22onclick%22%2C%0A%09%09%09%09%09%09%09%22if%28event.button%20%3D%3D%3D%200%20%26%26%20%22%20+%0A%09%09%09%09%09%09%09%22event.originalTarget.getAttribute%28%5C%22cb_splitmenu%5C%22%29%20%3D%3D%3D%20%5C%22true%5C%22%29%22%20+%0A%09%09%09%09%09%09%09%22%7B%22%20+%20aEl%5Bv%5D%5B3%5D%20+%20%22%7D%22%20+%0A%09%09%09%09%09%09%09%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09aEl%5Bv%5D%5B4%5D%20%26%26%20m.setAttribute%28%22image%22%2C%20aEl%5Bv%5D%5B4%5D%29%3B%0A%09%09%09%09%09aEl%5Bv%5D%5B5%5D%20%26%26%20m.setAttribute%28%22tooltiptext%22%2C%20aEl%5Bv%5D%5B5%5D%29%3B%0A%09%09%09%09%09let%20mPop%20%3D%20document.createElementNS%28xulns%2C%20%22menupopup%22%29%3B%0A%09%09%09%09%09mPop.setAttribute%28%22orient%22%2C%20%22horizontal%22%29%3B%0A%09%09%09%09%09mPop%20%3D%20Creator.createItems%28mPop%2C%20aEl%5Bv%5D%5B2%5D%29%3B%0A%09%09%09%09%09m.appendChild%28mPop%29%3B%0A%09%09%09%09%09aBox.appendChild%28m%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%09return%20aBox%3B%0A%09%7D%2C%0A%0A%09//START//%20Addons%20functions%0A%09addonExistence%20%3A%20function%20%28aId%2C%20aType%2C%20aBox%2C%20aSep%29%20%7B%0A%09%09if%20%28%21%28%22AddonManager%22%20in%20window%29%29%0A%09%09%09Cu.import%28%22resource%3A//gre/modules/AddonManager.jsm%22%29%3B%0A%09%09AddonManager.getAddonByID%28aId%2C%20function%20%28aAddon%29%20%7B%0A%09%09%09if%20%28aAddon%20%26%26%20aAddon.isActive%29%0A%09%09%09%09Creator.createAddonMenu%28aType%2C%20aBox%2C%20aSep%29%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%0A%09createAddonMenu%20%3A%20function%20%28aType%2C%20aBox%2C%20aSep%2C%20aFilter%29%20%7B%0A%09%09AddonManager.getAddonsByTypes%28%5BaType%5D%2C%20function%20%28aAddonList%29%20%7B%0A%09%09%09%28aSep%20%3D%3D%3D%201%20%7C%7C%20aSep%20%3D%3D%3D%203%29%0A%09%09%09%20%26%26%20aBox.appendChild%28document.createElementNS%28xulns%2C%20%22menuseparator%22%29%29%3B%0A%09%09%09var%20addonList%20%3D%20aAddonList.filter%28function%20%28aAddon%29%20%7B%0A%09%09%09%09%09let%20ops%20%3D%20aAddon.operationsRequiringRestart%3B%0A%09%09%09%09%09if%20%28aFilter%20%3D%3D%3D%20%22restartless%22%29%0A%09%09%09%09%09%09return%20%21aAddon.appDisabled%0A%09%09%09%09%09%09%20%26%26%20%21%28ops%20%26%20AddonManager.OP_NEEDS_RESTART_ENABLE%20%7C%7C%0A%09%09%09%09%09%09%09ops%20%26%20AddonManager.OP_NEEDS_RESTART_DISABLE%29%3B%0A%09%09%09%09%09else%20if%20%28aFilter%20%3D%3D%3D%20%22normal%22%29%0A%09%09%09%09%09%09return%20%21aAddon.appDisabled%0A%09%09%09%09%09%09%20%26%26%20%28ops%20%26%20AddonManager.OP_NEEDS_RESTART_ENABLE%20%7C%7C%0A%09%09%09%09%09%09%09ops%20%26%20AddonManager.OP_NEEDS_RESTART_DISABLE%29%3B%0A%09%09%09%09%09else%0A%09%09%09%09%09%09return%20%21aAddon.appDisabled%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09addonList.sort%28function%20%28a%2C%20b%29%20%7B%0A%09%09%09%09var%20ka%20%3D%20btnPref%28%22AddonsSortByEnabled%22%29%0A%09%09%09%09%09%20%3F%20a.isActive%0A%09%09%09%09%09%20%3F%200%20+%20%22%5Cn%22%20+%20a.name.toLowerCase%28%29%0A%09%09%09%09%09%20%3A%201%20+%20%22%5Cn%22%20+%20a.name.toLowerCase%28%29%0A%09%09%09%09%09%20%3A%20a.name.toLowerCase%28%29%3B%0A%09%09%09%09var%20kb%20%3D%20btnPref%28%22AddonsSortByEnabled%22%29%0A%09%09%09%09%09%20%3F%20b.isActive%0A%09%09%09%09%09%20%3F%200%20+%20%22%5Cn%22%20+%20b.name.toLowerCase%28%29%0A%09%09%09%09%09%20%3A%201%20+%20%22%5Cn%22%20+%20b.name.toLowerCase%28%29%0A%09%09%09%09%09%20%3A%20b.name.toLowerCase%28%29%3B%0A%09%09%09%09return%20ka%20%3D%3D%3D%20kb%20%3F%200%20%3A%20ka%20%3C%20kb%20%3F%20-1%20%3A%201%3B%0A%09%09%09%7D%29.forEach%28function%20%28aAddon%29%20%7B%0A%09%09%09%09var%20a%20%3D%20aAddon%3B%0A%09%09%09%09let%20checkHidden%20%3D%20Creator.blackListAddon%28a.id%2C%20true%29%3B%0A%09%09%09%09if%20%28checkHidden%20%26%26%20%21btnPref%28%22ShowBlacklistedAddons%22%29%29%0A%09%09%09%09%09return%3B%0A%09%09%09%09var%20mI%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%3B%0A%09%09%09%09switch%20%28btnPref%28%22AddonsVersion%22%29%29%20%7B%0A%09%09%09%09case%200%3A%20//%20Do%20not%20show%20version%0A%09%09%09%09%09mI.setAttribute%28%22label%22%2C%20a.name%20+%0A%09%09%09%09%09%09%28checkHidden%0A%09%09%09%09%09%09%09%20%3F%20%22%20%3D%3D%20Hidden%20%3D%3D%22%0A%09%09%09%09%09%09%09%20%3A%20%22%22%29%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%201%3A%20//%20Show%20as%20part%20of%20the%20label%0A%09%09%09%09%09mI.setAttribute%28%22label%22%2C%20a.name%20+%20%22%20%22%20+%20a.version%20+%0A%09%09%09%09%09%09%28checkHidden%0A%09%09%09%09%09%09%09%20%3F%20%22%20%3D%3D%20Hidden%20%3D%3D%22%0A%09%09%09%09%09%09%09%20%3A%20%22%22%29%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09case%202%3A%20//%20Show%20as%20acceltext%0A%09%09%09%09%09mI.setAttribute%28%22label%22%2C%20a.name%20+%0A%09%09%09%09%09%09%28checkHidden%0A%09%09%09%09%09%09%09%20%3F%20%22%20%3D%3D%20Hidden%20%3D%3D%22%0A%09%09%09%09%09%09%09%20%3A%20%22%22%29%29%3B%0A%09%09%09%09%09mI.setAttribute%28%22acceltext%22%2C%20a.version%29%3B%0A%09%09%09%09%09break%3B%0A%09%09%09%09%7D%0A%09%09%09%09mI.setAttribute%28%22class%22%2C%20%22menuitem-iconic%20multi-menu-addon-menuitem%22%29%3B%0A%09%09%09%09mI.setAttribute%28%22closemenu%22%2C%20btnPref%28%22AddonsAutoCloseMenu%22%29%20%3F%20%22auto%22%20%3A%20%22none%22%29%3B%0A%09%09%09%09btnPref%28%22ShowBlacklistedAddons%22%29%0A%09%09%09%09%20%7C%7C%20mI.setAttribute%28%22hidden%22%2C%20checkHidden%29%3B%0A%09%09%09%09mI.onclick%20%3D%20function%20%28aE%29%20%7B%0A%09%09%09%09%09aE.preventDefault%28%29%3B%0A%09%09%09%09%09aE.stopPropagation%28%29%3B%0A%09%09%09%09%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22extension%22%20%7C%7C%0A%09%09%09%09%09%09%09a.type%20%3D%3D%3D%20%22greasemonkey-user-script%22%20%7C%7C%0A%09%09%09%09%09%09%09a.type%20%3D%3D%3D%20%22userscript%22%29%0A%09%09%09%09%09%09%09Creator.openAddonOptions%28a%29%3B%0A%09%09%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22userstyle%22%29%0A%09%09%09%09%09%09%09stylishCommon.openEditForId%28a.id%29%3B%0A%09%09%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%201%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22plugin%22%29%0A%09%09%09%09%09%09%09Creator.setNewDisabled%28a%29%3B%0A%09%09%09%09%09%09else%0A%09%09%09%09%09%09%09a.userDisabled%20%3D%20%21a.userDisabled%3B%0A%09%09%09%09%09%09Creator.setAddonItemStyle%28a%2C%20mI%29%3B%0A%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09let%20pendOps%20%3D%20a.pendingOperations%3B%0A%09%09%09%09%09%09%09if%20%28pendOps%20%26%20AddonManager.PENDING_ENABLE%29%0A%09%09%09%09%09%09%09%09notifyme%28SA.name%20+%20%22%20needs%20to%20be%20restarted%22%2C%20%22to%20ENABLE%20%22%20+%20a.name%20+%20%22.%22%29%3B%0A%09%09%09%09%09%09%09else%20if%20%28pendOps%20%26%20AddonManager.PENDING_DISABLE%29%0A%09%09%09%09%09%09%09%09notifyme%28SA.name%20+%20%22%20needs%20to%20be%20restarted%22%2C%20%22to%20DISABLE%20%22%20+%20a.name%20+%20%22.%22%29%3B%0A%09%09%09%09%09%09%7D%2C%20100%29%3B%0A%09%09%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%202%20%26%26%20%21aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09%09Creator.blackListAddon%28a.id%29%3B%0A%09%09%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%202%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09%09%09%09%28a.type%20%3D%3D%3D%20%22greasemonkey-user-script%22%29%20%26%26%20GM_util.openInEditor%28a._script%29%3B%0A%09%09%09%09%09%09%28a.type%20%3D%3D%3D%20%22userscript%22%29%20%26%26%20Scriptish_openInEditor%28a%2C%20window%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09if%20%28aE.type%20%3D%3D%3D%20%22click%22%20%26%26%20%28%28aE.ctrlKey%20%26%26%20aE.button%20%3D%3D%3D%202%29%20%7C%7C%20aE.button%20%3D%3D%3D%201%29%29%20%7B%0A%09%09%09%09%09%09%24%28_UID%20+%20%22-mpop%22%29.setAttribute%28%22onpopuphiding%22%2C%20%22this.parentNode.init%28%29%3B%22%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%3B%0A%09%09%09%09Creator.setAddonItemStyle%28a%2C%20mI%29%3B%0A%09%09%09%09mI.setAttribute%28%22image%22%2C%20a.iconURL%20%7C%7C%20a.icon64URL%20%7C%7C%0A%09%09%09%09%09a.type%20%3D%3D%3D%20%22extension%22%20%26%26%20%22chrome%3A//mozapps/skin/extensions/extensionGeneric-16.png%22%20%7C%7C%0A%09%09%09%09%09a.type%20%3D%3D%3D%20%22plugin%22%20%26%26%20%22chrome%3A//mozapps/skin/plugins/pluginGeneric-16.png%22%20%7C%7C%20%22%22%29%3B%0A%09%09%09%09let%20extraHelp%20%3D%20%22%u25BC%u25BC%u25BC%20Help%20text%20%u25BC%u25BC%u25BC%5Cn%5Cn%22%3B%0A%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22plugin%22%29%0A%09%09%09%09%09extraHelp%20%3D%20extraHelp%20+%20%22Middle%20Click%20%u2192%20Switch%20Always%20activate%20%u2194%22%20+%0A%09%09%09%09%09%09%22%20Never%20activate%20%u2194%20Ask%20To%20Activate%5Cn%22%3B%0A%09%09%09%09else%20if%20%28a.type%20%3D%3D%3D%20%22extension%22%29%0A%09%09%09%09%09extraHelp%20%3D%20extraHelp%20+%20%22Left%20Click%20%u2192%20Open%20options%5CnMiddle%20Click%20%u2192%20Enable/Disable%5Cn%22%3B%0A%09%09%09%09else%20if%20%28a.type%20%3D%3D%3D%20%22userstyle%22%29%0A%09%09%09%09%09extraHelp%20%3D%20extraHelp%20+%20%22Left%20Click%20%u2192%20Edit%20style%5CnMiddle%20Click%20%u2192%20Enable/Disable%5Cn%22%3B%0A%09%09%09%09else%20if%20%28a.type%20%3D%3D%3D%20%22greasemonkey-user-script%22%20%7C%7C%20a.type%20%3D%3D%3D%20%22userscript%22%29%0A%09%09%09%09%09extraHelp%20%3D%20extraHelp%20+%20%22Left%20Click%20%u2192%20Open%20options%5CnMiddle%20Click%20%u2192%20%22%20+%0A%09%09%09%09%09%09%22Enable/Disable%5CnRight%20Click%20%u2192%20Edit%20script%5Cn%22%3B%0A%09%09%09%09extraHelp%20%3D%20extraHelp%20+%20%22Ctrl%20+%20Right%20click%20%u2192%20Hide/Show%20this%20menuitem%5Cn%5Cn%22%3B%0A%09%09%09%09if%20%28a.type%20%3D%3D%3D%20%22plugin%22%29%0A%09%09%09%09%09extraHelp%20%3D%20extraHelp%20+%20%22Italic%20menuitems%20%u2192%20Ask%20To%20Activate%5Cn%5Cn%22%3B%0A%09%09%09%09mI.setAttribute%28%22tooltiptext%22%2C%20a.description%20+%20%22%5Cn%5Cn%22%20+%0A%09%09%09%09%09%28btnPref%28%22ExtraHelpOnAddonsItemsTooltips%22%29%0A%09%09%09%09%09%09%20%3F%20extraHelp%0A%09%09%09%09%09%09%20%3A%20%22%22%29%29%3B%0A%09%09%09%09aBox.appendChild%28mI%29%3B%0A%09%09%09%7D%29%3B%0A%09%09%09%28aSep%20%3D%3D%3D%202%20%7C%7C%20aSep%20%3D%3D%3D%203%29%0A%09%09%09%20%26%26%20aBox.appendChild%28document.createElementNS%28xulns%2C%20%22menuseparator%22%29%29%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%0A%09setAddonItemStyle%20%3A%20function%20%28aAddon%2C%20aMI%29%20%7B%0A%09%09if%20%28aAddon.userDisabled%20%3D%3D%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%29%20%7B%0A%09%09%09aMI.style.fontStyle%20%3D%20%22italic%22%3B%0A%09%09%09aMI.style.opacity%20%3D%201%3B%0A%09%09%7D%20else%20if%20%28aAddon.isActive%29%20%7B%0A%09%09%09aMI.style.fontStyle%20%3D%20%22normal%22%3B%0A%09%09%09aMI.style.opacity%20%3D%201%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09aMI.style.fontStyle%20%3D%20%22normal%22%3B%0A%09%09%09aMI.style.opacity%20%3D%200.5%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09setNewDisabled%20%3A%20function%20%28aAddon%29%20%7B%0A%09%09var%20newDis%20%3D%20Creator.getNewDisabled%28aAddon%29%3B%0A%09%09var%20oldDis%20%3D%20aAddon.userDisabled%3B%0A%09%09aAddon.userDisabled%20%3D%20newDis%3B%0A%09%09var%20realDis%20%3D%20aAddon.userDisabled%3B%0A%09%09if%20%28realDis%20%21%3D%20newDis%29%20%7B%20//%20We%20can%27t%20enable%20vulnerable%20plugins%0A%09%09%09var%20err%20%3D%20%22Can%27t%20set%20addon.userDisabled%20to%20%22%20+%20newDis%20+%20%22%2C%20real%20value%3A%20%22%20+%20realDis%3B%0A%09%09%09if%20%28newDis%29%20%7B%0A%09%09%09%09LOG%28err%20+%20%22%5CnSTATE_ASK_TO_ACTIVATE%20not%20supported%3F%22%29%3B%0A%09%09%09%09newDis%20%3D%20false%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09LOG%28err%20+%20%22%5CnVulnerable%20plugin%3F%22%29%3B%0A%09%09%09%09if%20%28oldDis%20%3D%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%29%0A%09%09%09%09%09newDis%20%3D%20true%3B%0A%09%09%09%09else%0A%09%09%09%09%09newDis%20%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%3B%0A%09%09%09%7D%0A%09%09%09aAddon.userDisabled%20%3D%20newDis%3B%0A%09%09%7D%0A%09%09return%20aAddon.userDisabled%3B%0A%09%7D%2C%0A%0A%09getNewDisabled%20%3A%20function%20%28aAddon%29%20%7B%0A%09%09var%20curDis%20%3D%20aAddon.userDisabled%3B%0A%09%09var%20newDis%3B%0A%09%09if%20%28%22STATE_ASK_TO_ACTIVATE%22%20in%20AddonManager%20%26%26%20curDis%20%3D%3D%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%29%0A%09%09%09newDis%20%3D%20false%3B%0A%09%09else%20if%20%28%21curDis%29%0A%09%09%09newDis%20%3D%20true%3B%0A%09%09else%20%7B%0A%09%09%09if%20%28Creator.isAskToActivateAddon%28aAddon%29%29%0A%09%09%09%09newDis%20%3D%20AddonManager.STATE_ASK_TO_ACTIVATE%3B%0A%09%09%09else%0A%09%09%09%09newDis%20%3D%20false%3B%0A%09%09%7D%0A%09%09return%20newDis%3B%0A%09%7D%2C%0A%0A%09isAskToActivateAddon%20%3A%20function%20%28aAddon%29%20%7B%0A%09%09return%20aAddon.type%20%3D%3D%3D%20%22plugin%22%20%26%26%0A%09%09%22STATE_ASK_TO_ACTIVATE%22%20in%20AddonManager%20%26%26%0A%09%09Application.prefs.getValue%28%22plugins.click_to_play%22%2C%20false%29%3B%0A%09%7D%2C%0A%0A%09blackListAddon%20%3A%20function%20%28aID%2C%20aCheck%29%20%7B%0A%09%09let%20blackList%20%3D%20btnPref%28%22AddonsBlackList%22%29.split%28%22%2C%22%29%3B%0A%09%09let%20addonID%20%3D%20escape%28aID%29%3B%0A%09%09if%20%28aCheck%29%20%7B%0A%09%09%09if%20%28blackList.indexOf%28addonID%29%20%21%3D%3D%20-1%29%0A%09%09%09%09return%20true%3B%0A%09%09%09else%0A%09%09%09%09return%20false%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09if%20%28blackList.indexOf%28addonID%29%20%21%3D%3D%20-1%29%20%7B%0A%09%09%09%09while%20%28blackList.indexOf%28addonID%29%20%21%3D%3D%20-1%29%20%7B%0A%09%09%09%09%09blackList.splice%28blackList.indexOf%28addonID%29%2C%201%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20else%0A%09%09%09%09blackList.push%28escape%28aID%29%29%3B%0A%09%09%09sCV%28%22AddonsBlackList%22%2C%20blackList.join%28%22%2C%22%29%29%3B%0A%09%09%7D%0A%09%09return%20false%3B%0A%09%7D%2C%0A%0A%09openAddonOptions%20%3A%20function%20%28aAddon%29%20%7B%0A%09%09var%20optURL%20%3D%20aAddon.optionsURL%3B%0A%09%09if%20%28%21aAddon.isActive%20%7C%7C%20%21optURL%29%0A%09%09%09return%20false%3B%0A%09%09if%20%28aAddon.optionsType%20%3D%3D%20AddonManager.OPTIONS_TYPE_INLINE%29%0A%09%09%09Creator.openAddonPage%28aAddon%2C%20true%29%3B%0A%09%09else%20if%20%28aAddon.optionsType%20%3D%3D%20AddonManager.OPTIONS_TYPE_TAB%20%26%26%20%22switchToTabHavingURI%22%20in%20window%29%0A%09%09%09switchToTabHavingURI%28optURL%2C%20true%29%3B%0A%09%09else%20%7B%0A%09%09%09let%20windows%20%3D%20Services.wm.getEnumerator%28null%29%3B%0A%09%09%09while%20%28windows.hasMoreElements%28%29%29%20%7B%0A%09%09%09%09let%20win%20%3D%20windows.getNext%28%29%3B%0A%09%09%09%09if%20%28win.document.documentURI%20%3D%3D%20optURL%29%20%7B%0A%09%09%09%09%09win.focus%28%29%3B%0A%09%09%09%09%09return%20true%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%09window.openDialog%28optURL%2C%20%22%22%2C%20%22chrome%2Ctitlebar%2Ctoolbar%2Ccenterscreen%2Cdialog%3Dno%22%29%3B%0A%09%09%7D%0A%09%09return%20true%3B%0A%09%7D%2C%0A%0A%09openAddonsManager%20%3A%20function%20%28view%29%20%7B%0A%09%09var%20openAddonsMgr%20%3D%20window.BrowserOpenAddonsMgr%20//%20Firefox%0A%09%09%09%20%7C%7C%20window.openAddonsMgr%20//%20Thunderbird%0A%09%09%09%20%7C%7C%20window.toEM%3B%20//%20SeaMonkey%0A%09%09openAddonsMgr%28view%29%3B%0A%09%7D%2C%0A%0A%09openAddonPage%20%3A%20function%20%28aAddon%2C%20scrollToPreferences%29%20%7B%0A%09%09scrollToPreferences%20%3D%20scrollToPreferences%20%26%26%20parseFloat%28SA.platformVersion%29%20%3E%3D%2012%0A%09%09%09%20%3F%20%22/preferences%22%0A%09%09%09%20%3A%20%22%22%3B%0A%09%09Creator.openAddonsManager%28%22addons%3A//detail/%22%20+%20encodeURIComponent%28aAddon.id%29%20+%0A%09%09%09scrollToPreferences%29%3B%0A%09%7D%2C%0A%09//END//%20Addons%20functions%0A%0A%09//START//%20Preference%20items%20functions%0A%09handlePrefClick%20%3A%20function%20%28aE%2C%20aMI%2C%20aPName%2C%20aPVal%29%20%7B%0A%09%09aE.preventDefault%28%29%3B%0A%09%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%0A%09%09%09Creator.setPref%28aPName%2C%20aPVal%29%3B%0A%09%09else%20if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20%21aE.altKey%29%0A%09%09%09Creator.setPref%28aPName%2C%20aPVal%2C%20false%2C%20true%29%3B%0A%09%09else%20if%20%28aE.button%20%3D%3D%3D%201%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09if%20%28btnPref%28%22PrefResetConfirmation%22%29%29%20%7B%0A%09%09%09%09let%20msg%20%3D%20%22Are%20you%20sure%20you%20want%20to%20reset%20the%20preference%20%5C%22%22%20+%20aPName%20+%20%22%5C%22%20to%20its%20%22%20+%0A%09%09%09%09%09%22default%20value%3F%5Cn%5CnThere%20is%20no%20coming%20back%20from%20this%21%21%21%5Cn%5Cn%22%20+%0A%09%09%09%09%09%22Click%20%27Yes%27%20to%20proceed.%5Cn%22%20+%0A%09%09%09%09%09%22Click%20%27Cancel%27%20to%20abort.%5Cn%22%3B%0A%09%09%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09%09%09if%20%28cBox%29%20%7B%0A%09%09%09%09%09SP.clearUserPref%28aPName%29%3B%0A%09%09%09%09%09SP.savePrefFile%28null%29%3B%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09return%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09SP.clearUserPref%28aPName%29%3B%0A%09%09%09%09SP.savePrefFile%28null%29%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%202%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%0A%09%09%09Creator.setPref%28aPName%2C%20aPVal%2C%20true%29%3B%0A%09%09else%20if%20%28aE.button%20%3D%3D%3D%202%20%26%26%20%21aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09%09if%20%28SP.prefIsLocked%28aPName%29%29%20%7B%0A%09%09%09%09SP.unlockPref%28aPName%29%3B%0A%09%09%09%09SP.savePrefFile%28null%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09SP.lockPref%28aPName%29%3B%0A%09%09%09%09SP.savePrefFile%28null%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09Creator.updatePrefMI%28aMI%2C%20aPName%29%3B%0A%09%7D%2C%0A%0A%09setPref%20%3A%20function%20%28aPName%2C%20aPVal%2C%20aPrompt%2C%20aInverse%29%20%7B%0A%09%09var%20value%3B%0A%09%09switch%20%28SP.getPrefType%28aPName%29%29%20%7B%0A%09%09case%2032%3A%0A%09%09%09if%20%28aPVal%20%26%26%20%21aPrompt%29%20%7B%0A%09%09%09%09for%20%28let%20i%20%3D%200%3B%20i%20%3C%20aPVal.length%3B%20i++%29%20%7B%0A%09%09%09%09%09if%20%28aPVal%5Bi%5D%20%3D%3D%3D%20gCV%28aPName%2C%20true%29%29%0A%09%09%09%09%09%09value%20%3D%20aInverse%0A%09%09%09%09%09%09%09%20%3F%20aPVal%5Bi%20-%201%5D%0A%09%09%09%09%09%09%09%20%3A%20aPVal%5Bi%20+%201%5D%3B%0A%09%09%09%09%7D%0A%09%09%09%09if%20%28%21value%29%0A%09%09%09%09%09value%20%3D%20aPVal%5B0%5D%3B%0A%09%09%09%09sCV%28aPName%2C%20value.trim%28%29%2C%20true%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09value%20%3D%20promptme%28aPName%2C%20gCV%28aPName%2C%20true%29%29%3B%0A%09%09%09%09if%20%28value%29%0A%09%09%09%09%09sCV%28aPName%2C%20value%2C%20true%29%3B%0A%09%09%09%7D%0A%09%09%09break%3B%0A%09%09case%2064%3A%0A%09%09%09if%20%28aPVal%20%26%26%20%21aPrompt%29%20%7B%0A%09%09%09%09for%20%28let%20i%20%3D%200%3B%20i%20%3C%20aPVal.length%3B%20i++%29%20%7B%0A%09%09%09%09%09if%20%28aPVal%5Bi%5D%20%3D%3D%3D%20gIP%28aPName%2C%20true%29%29%0A%09%09%09%09%09%09value%20%3D%20aInverse%0A%09%09%09%09%09%09%09%20%3F%20aPVal%5Bi%20-%201%5D%0A%09%09%09%09%09%09%09%20%3A%20aPVal%5Bi%20+%201%5D%3B%0A%09%09%09%09%7D%0A%09%09%09%09if%20%28%21value%29%0A%09%09%09%09%09value%20%3D%20aPVal%5B0%5D%3B%0A%09%09%09%09sIP%28aPName%2C%20value%2C%20true%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09value%20%3D%20promptme%28aPName%2C%20gIP%28aPName%2C%20true%29%29%3B%0A%09%09%09%09if%20%28value%29%0A%09%09%09%09%09sIP%28aPName%2C%20value%2C%20true%29%3B%0A%09%09%09%7D%0A%09%09%09break%3B%0A%09%09case%20128%3A%0A%09%09%09sBP%28aPName%2C%20%21gBP%28aPName%2C%20true%29%2C%20true%29%3B%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%0A%09updatePrefMI%20%3A%20function%20%28aMI%2C%20aPName%29%20%7B%0A%09%09let%20pVal%20%3D%20Creator.getPrefVal%28aPName%29.toString%28%29%3B%0A%09%09let%20lbl%20%3D%20aMI.label%3B%0A%09%09let%20pState%20%3D%20%28pVal.length%20%3E%20btnPref%28%22PrefValueMaxLength%22%29%29%0A%09%09%20%3F%20pVal.slice%280%2C%20btnPref%28%22PrefValueMaxLength%22%29%29%20+%20%22...%22%0A%09%09%20%3A%20pVal%3B%0A%09%09if%20%28btnPref%28%22PrefLabelType%22%29%29%20%7B%0A%09%09%09aMI.setAttribute%28%22label%22%2C%20lbl%29%3B%0A%09%09%09aMI.setAttribute%28%22acceltext%22%2C%20%22%5B%22%20+%20pState%20+%20%22%5D%22%29%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09lbl%20%3D%20lbl.split%28%22%5B%22%29%5B0%5D%3B%0A%09%09%09aMI.setAttribute%28%22label%22%2C%20lbl%20+%20%22%5B%22%20+%20pState%20+%20%22%5D%22%29%3B%0A%09%09%7D%0A%09%09let%20customTT%20%3D%20%28aMI.getAttribute%28%22tooltiptext%22%29.split%28%22%5Cn%5Cn%22%29%5B1%5D%20%7C%7C%20%22%22%29%3B%0A%09%09aMI.setAttribute%28%22tooltiptext%22%2C%20%22Pref.%20name%3A%20%22%20+%20aPName%20+%0A%09%09%09%22%5CnPref.%20value%3A%20%22%20+%20pVal%20+%20%22%5Cn%5Cn%22%20+%20customTT%20+%0A%09%09%09%28btnPref%28%22ExtraHelpOnPrefItemsTooltips%22%29%20%3F%20Creator.prefExtraHelp%20%3A%20%22%22%29%29%3B%0A%09%09Creator.setPrefItemStyle%28aMI%2C%20aPName%29%3B%0A%09%7D%2C%0A%0A%09prefExtraHelp%20%3A%20%22%5Cn%5Cn%u25BC%u25BC%u25BC%20Help%20text%20%u25BC%u25BC%u25BC%5Cn%5CnLeft%20click%20%u2192%20Switch/Set%20pref.%20value%5Cn%22%20+%0A%09%22Middle%20click%20%u2192%20Reset%20pref.%20value%5CnRight%20click%20%u2192%20Set%20pref.%20value%5Cn%22%20+%0A%09%22Ctrl%20+%20Right%20click%20%u2192%20Lock/Unlock%20pref.%5Cn%5CnBold%20item%20%u2192%20User%20set%20pref.%5Cn%5Cn%22%2C%0A%0A%09setPrefItemStyle%20%3A%20function%20%28aMI%2C%20aPName%29%20%7B%0A%09%09let%20isLocked%20%3D%20SP.prefIsLocked%28aPName%29%2C%0A%09%09hasUserVal%20%3D%20SP.prefHasUserValue%28aPName%29%3B%0A%09%09if%20%28isLocked%29%0A%09%09%09aMI.style.fontStyle%20%3D%20%22italic%22%3B%0A%09%09else%0A%09%09%09aMI.style.fontStyle%20%3D%20%22%22%3B%0A%09%09if%20%28hasUserVal%20%26%26%20%21isLocked%29%0A%09%09%09aMI.style.fontWeight%20%3D%20%22bold%22%3B%0A%09%09else%0A%09%09%09aMI.style.fontWeight%20%3D%20%22%22%3B%0A%09%7D%2C%0A%0A%09getPrefVal%20%3A%20function%20%28aPName%29%20%7B%0A%09%09switch%20%28SP.getPrefType%28aPName%29%29%20%7B%0A%09%09case%200%3A%0A%09%09%09return%20false%3B%0A%09%09case%2032%3A%0A%09%09%09return%20SP.getComplexValue%28aPName%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09case%2064%3A%0A%09%09%09return%20SP.getIntPref%28aPName%29%3B%0A%09%09case%20128%3A%0A%09%09%09return%20SP.getBoolPref%28aPName%29%3B%0A%09%09%7D%0A%09%09return%20false%3B%0A%09%7D%2C%0A%09//END//%20Preference%20items%20functions%0A%0A%09//START//%20URL%20functions%0A%09handleURL%20%3A%20function%20%28aUrl%2C%20aE%29%20%7B%0A%09%09if%20%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%7B%0A%09%09%09try%20%7B%0A%09%09%09%09if%20%28aE.button%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09btnPref%28%22URLsOpenOnCurrent%22%29%0A%09%09%09%09%09%20%3F%20Creator.openURLItem%28aUrl%2C%20%22Current%22%2C%20true%2C%20aE%29%0A%09%09%09%09%09%20%3A%20Creator.openURLItem%28aUrl%2C%20%22NewTabForeground%22%2C%20true%2C%20aE%29%3B%0A%09%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%201%29%20%7B%0A%09%09%09%09%09Creator.openURLItem%28aUrl%2C%20%22NewTabBackground%22%2C%20true%2C%20aE%29%3B%0A%09%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%202%29%20%7B%0A%09%09%09%09%09btnPref%28%22URLsOpenOnCurrent%22%29%0A%09%09%09%09%09%20%3F%20Creator.openURLItem%28aUrl%2C%20%22NewTabForeground%22%2C%20true%2C%20aE%29%0A%09%09%09%09%09%20%3A%20Creator.openURLItem%28aUrl%2C%20%22Current%22%2C%20true%2C%20aE%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09LOG%28aError%29%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09try%20%7B%0A%09%09%09%09if%20%28aE.button%20%3D%3D%3D%200%29%20%7B%0A%09%09%09%09%09btnPref%28%22URLsOpenOnCurrent%22%29%0A%09%09%09%09%09%20%3F%20Creator.openURLItem%28aUrl%2C%20%22ContentTab%22%2C%20false%2C%20aE%29%0A%09%09%09%09%09%20%3A%20Creator.openURLItem%28aUrl%2C%20%22DefaultBrowser%22%2C%20false%2C%20aE%29%3B%0A%09%09%09%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%202%29%20%7B%0A%09%09%09%09%09btnPref%28%22URLsOpenOnCurrent%22%29%0A%09%09%09%09%09%20%3F%20Creator.openURLItem%28aUrl%2C%20%22DefaultBrowser%22%2C%20false%2C%20aE%29%0A%09%09%09%09%09%20%3A%20Creator.openURLItem%28aUrl%2C%20%22ContentTab%22%2C%20false%2C%20aE%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09LOG%28aError%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%0A%09openURLItem%20%3A%20function%20%28aUrl%2C%20aWhere%2C%20aNavigator%2C%20aE%29%20%7B%0A%09%09if%20%28aNavigator%29%20%7B%0A%09%09%09switch%20%28aWhere%29%20%7B%0A%09%09%09case%20%22Current%22%3A%0A%09%09%09%09if%20%28%21gBrowser.selectedBrowser.webProgress.isLoadingDocument%29%0A%09%09%09%09%09gBrowser.loadURI%28aUrl%29%3B%0A%09%09%09%09else%0A%09%09%09%09%09gBrowser.selectedTab%20%3D%20gBrowser.addTab%28aUrl%2C%20null%2C%20null%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20%22NewTabForeground%22%3A%0A%09%09%09%09gBrowser.selectedTab%20%3D%20gBrowser.addTab%28aUrl%2C%20null%2C%20null%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20%22NewTabBackground%22%3A%0A%09%09%09%09gBrowser.addTab%28aUrl%2C%20null%2C%20null%29%3B%0A%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20%7B%0A%09%09%09switch%20%28aWhere%29%20%7B%0A%09%09%09case%20%22ContentTab%22%3A%0A%09%09%09%09try%20%7B%0A%09%09%09%09%09openContentTab%28aUrl%29%3B%0A%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09openUILink%28aUrl%2C%20aE%29%3B%0A%09%09%09%09%7D%0A%09%09%09%09break%3B%0A%09%09%09case%20%22DefaultBrowser%22%3A%0A%09%09%09%09openUILink%28aUrl%2C%20aE%29%3B%0A%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09//END//%20URL%20functions%0A%7D%3B%0A%0A%21%24%28_UID%20+%20%22-mpop%22%29%20%26%26%20Creator.init%28%29%3B%0A%0Aif%20%28self.parentNode%20%26%26%20self.parentNode.id.match%28%22PanelUI%22%29%29%0A%09self.orient%20%3D%20%22vertical%22%3B%0Aelse%0A%09self.orient%20%3D%20%22horizontal%22%3B%0A%0Athis.type%20%3D%20btnPref%28%22ButtonType%22%29%20%3F%20%22menu%22%20%3A%20%22button%22%3B%0A%0Athis.tooltipText%20%3D%20btnPref%28%22ShowTooltip%22%29%0A%09%20%3F%20%22%5Cn%5Ct%22%20+%20self.name%20+%20%22%20%3A%3A%20ID%20%3D%20%22%20+%20custombuttons.getNumber%28self.id%29%20+%20%22%5Cn%5Cn%22%20+%0A%09%22%5CtL%20%3D%20Open/Close%20main%20menu%5Ct%5Ct%5Cn%22%20+%0A%09%22%5CtM%20%3D%20Open%20Options%20menu%5Ct%5Cn%22%20+%0A%09%22%5CtCtrl%20+%20R%20%3D%20Open%20Help%20page%5Ct%5Cn%5Cn%22%0A%09%20%3A%20%22%22%3B%0A%0A%28function%20%28%29%20%7B%0A%09let%20pop%20%3D%20%24%28_UID%20+%20%22-mpop%22%29%3B%0A%09if%20%28pop%20%26%26%20btnPref%28%22MenuOpenOnHover%22%29%29%20%7B%0A%09%09self.timer%20%3D%200%3B%0A%09%09self.onmouseover%20%3D%20function%20%28%29%20%7B%0A%09%09%09clearTimeout%28self.timer%29%3B%0A%09%09%09self.timer%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09pop.openPopup%28self%2C%20btnPref%28%22PopupPosition%22%29%2C%20null%2C%20null%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%09%09%7D%2C%20btnPref%28%22MenuOpenDelay%22%29%29%3B%0A%09%09%7D%3B%0A%09%09self.onmouseout%20%3D%20function%20%28%29%20%7B%0A%09%09%09clearTimeout%28self.timer%29%3B%0A%09%09%09self.timer%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09pop.hidePopup%28%29%3B%0A%09%09%09%09%7D%2C%20btnPref%28%22MenuCloseDelay%22%29%29%3B%0A%09%09%7D%3B%0A%09%7D%20else%20%7B%0A%09%09self.onmouseover%20%3D%20null%3B%0A%09%09self.onmouseout%20%3D%20null%3B%0A%09%7D%0A%7D%29%28%29%3B%0A%0Athis.hotkeyPressed%20%3D%20function%20%28aAnchor%2C%20aE%29%20%7B%0A%09let%20mPopup%20%3D%20%24%28_UID%20+%20%22-mpop%22%29%3B%0A%09if%20%28mPopup%29%0A%09%09%28mPopup.state%20%3D%3D%3D%20%22open%22%29%0A%09%09%20%3F%20mPopup.hidePopup%28%29%0A%09%09%20%3A%20mPopup.openPopup%28aAnchor%2C%20btnPref%28%22PopupPosition%22%29%2C%20null%2C%20null%2C%20false%2C%20null%2C%20null%29%3B%0A%7D%3B%0A%0Afunction%20openDir%28aBaseDir%2C%20aAppend%2C%20aArgs%2C%20aCheck%29%20%7B%0A%09var%20localDir%20%3D%20null%3B%0A%09switch%20%28aBaseDir%29%20%7B%0A%09case%20%22fullPath%22%3A%20//%20Full%20location%0A%09%09try%20%7B%0A%09%09%09localDir%20%3D%20new%20nsIFile%28aAppend%29%3B%20%3B%0A%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09return%20false%3B%0A%09%09%7D%0A%09%09break%3B%0A%09default%3A%20//%20OS.Constants.Path%0A%09%09try%20%7B%0A%09%09%09localDir%20%3D%20new%20nsIFile%28OS.Constants.Path%5BaBaseDir%5D%29%3B%20%3B%0A%09%09%09Array.prototype.slice.call%28aAppend%29.forEach%28function%20%28aDir%29%20%7B%0A%09%09%09%09try%20%7B%0A%09%09%09%09%09localDir.append%28aDir%29%3B%0A%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09return%20false%3B%0A%09%09%09%09%7D%0A%09%09%09%09return%20localDir%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09return%20false%3B%0A%09%09%7D%0A%09%09break%3B%0A%09%7D%0A%09if%20%28localDir.exists%28%29%20%26%26%20aCheck%29%20%7B%0A%09%09return%20true%3B%0A%09%7D%20else%20if%20%28localDir.exists%28%29%29%20%7B%0A%09%09try%20%7B%0A%09%09%09if%20%28localDir.isDirectory%28%29%29%0A%09%09%09%09new%20nsIFile%28localDir.path%29.reveal%28%29%3B%0A%09%09%09else%20if%20%28%21localDir.isDirectory%28%29%20%26%26%20%21localDir.isExecutable%28%29%29%0A%09%09%09%09new%20nsIFile%28localDir.path%29.launch%28%29%3B%0A%09%09%09else%20if%20%28%21localDir.isDirectory%28%29%20%26%26%20localDir.isExecutable%28%29%29%20%7B%0A%09%09%09%09let%20process%20%3D%20Cc%5B%22@mozilla.org/process/util%3B1%22%5D.createInstance%28Ci.nsIProcess%29%3B%0A%09%09%09%09try%20%7B%0A%09%09%09%09%09process.init%28localDir%29%3B%0A%09%09%09%09%09%28aArgs%20%3D%3D%3D%20undefined%20%7C%7C%20aArgs%5B0%5D%20%3D%3D%3D%20%22%22%29%0A%09%09%09%09%09%20%3F%20process.runw%28false%2C%20null%2C%20null%29%0A%09%09%09%09%09%20%3A%20process.runw%28false%2C%20aArgs%2C%20aArgs.length%29%3B%0A%09%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09%09Cu.reportError%28aError%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09Cu.reportError%28aError%29%3B%0A%09%09%7D%0A%09%7D%0A%09return%20false%3B%0A%7D%0A%0Afunction%20%24%28aId%29%20%7B%20//%20Return%20elements%20by%20Id%0A%09return%20document.getElementById%28aId%29%3B%0A%7D%0A%0Afunction%20notifyme%28aTitle%2C%20aMsg%2C%20aImg%2C%20aCallback%29%20%7B%20//%20Notification%20function%0A%09var%20nsIAlertsService%20%3D%20Cc%5B%22@mozilla.org/alerts-service%3B1%22%5D.getService%28Ci.nsIAlertsService%29%3B%0A%09try%20%7B%0A%09%09nsIAlertsService.showAlertNotification%28aImg%2C%20aTitle%2C%20aMsg%2C%20%21%21aCallback%2C%20%22%22%2C%20aCallback%2C%20%22%22%29%3B%0A%09%7D%20catch%20%28aEr%29%20%7B%0A%09%09let%20win%20%3D%20Services.ww.openWindow%28null%2C%20%22chrome%3A//global/content/alerts/alert.xul%22%2C%0A%09%09%09%09%22_blank%22%2C%20%22chrome%2Ctitlebar%3Dno%2Cpopup%3Dyes%22%2C%20null%29%3B%0A%09%09win.arguments%20%3D%20%5BaImg%2C%20aTitle%2C%20aMsg%2C%20%21%21aCallback%2C%20%22%22%2C%20null%2C%20%22%22%2C%20%22%22%2C%20null%2C%20aCallback%5D%3B%0A%09%7D%0A%7D%0A%0Afunction%20%24XML%28aXML%29%20%7B%20//%20Return%20parsed%20XML%0A%09aXML%20%3D%20aXML.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%20//%20Linearize%20XML%0A%09return%20%28new%20DOMParser%29.parseFromString%28aXML%2C%20%22application/xml%22%29.documentElement%3B%0A%7D%0A%0Afunction%20getHelp%28aPlaceholder%29%20%7B%20//%20Get%20specific%20data%2C%20surrounded%20by%20%22placeholders%22%2C%20from%20the%20Help%20tab.%0A%09return%20%24%28self.id%29.getAttribute%28%22Help%22%29.split%28%22%3C%21--%22%20+%20aPlaceholder%20+%20%22--%3E%22%29%5B1%5D%3B%0A%7D%0A%0Afunction%20sIP%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//%20Set%20Integer%20Pref%0A%09SP.setIntPref%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%2C%20aVal%29%3B%0A%09SP.savePrefFile%28null%29%3B%0A%7D%0A%0Afunction%20gIP%28aKey%2C%20aBranch%29%20%7B%20//%20Get%20Integer%20Pref%0A%09return%20SP.getIntPref%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%3B%0A%7D%0A%0Afunction%20sBP%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//Set%20Boolean%20Pref%0A%09SP.setBoolPref%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%2C%20aVal%29%3B%0A%09SP.savePrefFile%28null%29%3B%0A%7D%0A%0Afunction%20gBP%28aKey%2C%20aBranch%29%20%7B%20//Get%20Boolean%20Pref%0A%09return%20SP.getBoolPref%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%3B%0A%7D%0A%0Afunction%20sCV%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//Set%20Complex%20Value%20%28Char%20Pref%29%0A%09var%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09str.data%20%3D%20aVal%3B%0A%09SP.setComplexValue%28%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%2C%0A%09%09Ci.nsISupportsString%2C%20str%29%3B%0A%09SP.savePrefFile%28null%29%3B%0A%7D%0A%0Afunction%20gCV%28aKey%2C%20aBranch%29%20%7B%20//Get%20Complex%20Value%20%28Char%20Pref%29%0A%09return%20SP.getComplexValue%28%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%2C%0A%09%09Ci.nsISupportsString%29.data%3B%0A%7D%0A%0Afunction%20utf8_to_b64%28str%29%20%7B%20//%20String%20to%20Base64.%20Unicode%20workaround%20without%20using%20%22unescape%22.%0A%09return%20btoa%28encodeURIComponent%28str%29.replace%28/%25%28%5B0-9A-F%5D%7B2%7D%29/g%2C%20function%20%28match%2C%20p1%29%20%7B%0A%09%09%09return%20String.fromCharCode%28%220x%22%20+%20p1%29%3B%0A%09%09%7D%29%29%3B%0A%7D%0A%0Afunction%20promptme%28aMsg%2C%20aVal%29%20%7B%0A%09let%20retVal%20%3D%20%7B%0A%09%09value%20%3A%20aVal%0A%09%7D%3B%0A%09if%20%28Services.prompt.prompt%28null%2C%20%28self.label%20%7C%7C%20self.name%29%2C%20aMsg%2C%20retVal%2C%20null%2C%20%7B%7D%29%29%0A%09%09return%20retVal.value%3B%0A%09else%0A%09%09return%20false%3B%0A%09return%20false%3B%0A%7D%0A%0Afunction%20checkCompanion%28aDel%29%20%7B%0A%09let%20idStore%20%3D%20%22extensions.custombuttons.MultiMenuCompanion.MultiMenuButtonsIDs%22%3B%0A%09if%20%28SP.getPrefType%28idStore%29%20%3D%3D%3D%200%29%0A%09%09return%3B%0A%09var%20idList%20%3D%20gCV%28idStore%2C%20true%29.split%28%22%2C%22%29%2C%0A%09selfID%20%3D%20custombuttons.getNumber%28self.id%29%3B%0A%09if%20%28aDel%29%20%7B%0A%09%09while%20%28idList.indexOf%28selfID%29%20%21%3D%3D%20-1%29%20%7B%0A%09%09%09idList.splice%28idList.indexOf%28selfID%29%2C%201%29%3B%0A%09%09%7D%0A%09%7D%20else%20%7B%0A%09%09if%20%28idList.indexOf%28selfID%29%20%3D%3D%3D%20-1%29%0A%09%09%09idList.push%28selfID%29%3B%0A%09%09else%0A%09%09%09return%3B%0A%09%7D%0A%09sCV%28idStore%2C%20idList.join%28%22%2C%22%29%2C%20true%29%3B%0A%7D%0A%0AcheckCompanion%28%29%3B%0A%0A//START//%20Load%20style%20sheets%0Afunction%20styleSheet%28aCSS%2C%20aRemFlag%29%20%7B%0A%09var%20sss%20%3D%20Cc%5B%22@mozilla.org/content/style-sheet-service%3B1%22%5D%0A%09%09.getService%28Ci.nsIStyleSheetService%29%3B%0A%09var%20uri%20%3D%20Services.io.newURI%28%22data%3Atext/css%2C%22%20+%20encodeURIComponent%28aCSS%29%2C%20null%2C%20null%29%3B%0A%09if%20%28sss.sheetRegistered%28uri%2C%20sss.USER_SHEET%29%29%0A%09%09sss.unregisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%09if%20%28aRemFlag%29%0A%09%09return%3B%0A%09sss.loadAndRegisterSheet%28uri%2C%20sss.USER_SHEET%29%3B%0A%7D%0A%0A%28function%20cssLoader%28%29%20%7B%0A%09OS.File.makeDir%28multiMenuStorage%2C%20%7B%0A%09%09ignoreExisting%20%3A%20true%0A%09%7D%29%3B%0A%09OS.File.makeDir%28OS.Path.join%28OS.Constants.Path.profileDir%2C%20%22custombuttons%22%2C%20%22MultiMenuExports%22%29%2C%20%7B%0A%09%09ignoreExisting%20%3A%20true%0A%09%7D%29%3B%0A%09if%20%28btnPref%28%22UseStyleSheet%22%29%29%20%7B%0A%09%09var%20cssPath%20%3D%20OS.Path.join%28multiMenuStorage%2C%20_UID%20+%20%22_css_tweaks.css%22%29%3B%0A%09%09OS.File.exists%28cssPath%29.then%28function%20onSuccess%28aExists%29%20%7B%0A%09%09%09if%20%28aExists%29%20%7B%0A%09%09%09%09OS.File.read%28cssPath%29.then%28function%20onSuccess%28aReadData%29%20%7B%0A%09%09%09%09%09let%20css%20%3D%20%22@namespace%20url%28%22%20+%20xulns%20+%20%22%29%3B%5Cn%22%20+%20new%20TextDecoder%28%29.decode%28aReadData%29%0A%09%09%09%09%09%09.split%28%22_U_I_D_%22%29.join%28_UID%29%0A%09%09%09%09%09%09.split%28%22_self_id_%22%29.join%28self.id%29%3B%0A%09%09%09%09%09if%20%28%21window%5B_UID%5D%5B%22StyleSheet%22%5D%20%26%26%20css%20%21%3D%3D%20%22%22%29%20%7B%0A%09%09%09%09%09%09window%5B_UID%5D%5B%22StyleSheet%22%5D%20%3D%20css%3B%0A%09%09%09%09%09%09styleSheet%28css%29%3B%0A%09%09%09%09%09%7D%20else%20if%20%28window%5B_UID%5D%5B%22StyleSheet%22%5D%20%26%26%20window%5B_UID%5D%5B%22StyleSheet%22%5D%20%21%3D%3D%20css%29%20%7B%0A%09%09%09%09%09%09styleSheet%28window%5B_UID%5D%5B%22StyleSheet%22%5D%2C%20true%29%3B%0A%09%09%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09%09%09if%20%28css%20%21%3D%3D%20%22%22%29%20%7B%0A%09%09%09%09%09%09%09%09window%5B_UID%5D%5B%22StyleSheet%22%5D%20%3D%20css%3B%0A%09%09%09%09%09%09%09%09styleSheet%28css%29%3B%0A%09%09%09%09%09%09%09%7D%0A%09%09%09%09%09%09%7D%2C%2010%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09%09Cu.reportError%28aRejectReason%29%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09OS.File.writeAtomic%28cssPath%2C%20%22%22%2C%20%7B%0A%09%09%09%09%09tmpPath%20%3A%20cssPath%20+%20%22.tmp%22%2C%0A%09%09%09%09%09encoding%20%3A%20%22utf-8%22%0A%09%09%09%09%7D%29%3B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09cssLoader%28%29%3B%0A%09%09%09%09%7D%2C%20500%29%3B%0A%09%09%09%7D%0A%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09Cu.reportError%28aRejectReason%29%3B%0A%09%09%7D%29%3B%0A%09%7D%0A%7D%29%28%29%3B%0A//END//%20Load%20style%20sheets%0A%0Athis.onclick%20%3D%20function%20%28aE%29%20%7B%0A%09if%20%28aE.button%20%3D%3D%3D%201%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09aE.preventDefault%28%29%3B%0A%09%09let%20popupSet%20%3D%20%24%28%22mainPopupSet%22%29%2C%0A%09%09optPop%20%3D%20%24%28_UID%20+%20%22-options-mpop%22%29%3B%0A%09%09if%20%28%21optPop%29%20%7B%0A%09%09%09popupSet.appendChild%28%24XML%28%0A%09%09%09%09%09%22%3Cmenupopup%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%20id%3D%5C%22%22%20+%20_UID%20+%20%22-options-mpop%5C%22%22%20+%0A%09%09%09%09%09%22%20onpopuphiding%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%0A%09%09%09%09%09%22%27%29.gSwitch.reinit%28this%29%3B%5C%22%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Show%20Dropmarker%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%0A%09%09%09%09%09%22%27%29.gSwitch.showDropmarker%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%20checked%3D%5C%22%22%20+%0A%09%09%09%09%09btnPref%28%22ShowDropmarker%22%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20hidden%3D%5C%22%22%20+%20%21btnPref%28%22ButtonType%22%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Show%20Tooltip%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.showTooltip%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%20checked%3D%5C%22%22%20+%20btnPref%28%22ShowTooltip%22%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Show%20hidden%20addons%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%0A%09%09%09%09%09self.id%20+%20%22%27%29.gSwitch.showBlacklistedAddons%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%20checked%3D%5C%22%22%20+%0A%09%09%09%09%09btnPref%28%22ShowBlacklistedAddons%22%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20hidden%3D%5C%22%22%20+%20self.gSwitch.addonsMIExistence%28%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuseparator/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Open%20Multi%20Menu%20storage%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.openMultiMenuStorage%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Resources%20downloaded%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.resourcesDownloaded%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20type%3D%5C%22checkbox%5C%22%20checked%3D%5C%22%22%20+%20gBP%28PREF_SHARED%20+%20%22ResourcesDownloaded%22%2C%20true%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuseparator/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Other%20options%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.openOptions%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3C/menupopup%3E%22%29%29%3B%0A%09%09%09%24%28_UID%20+%20%22-options-mpop%22%29.openPopup%28self%2C%20btnPref%28%22PopupPosition%22%29%2C%20null%2C%20null%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%09this.onmouseover%20%3D%20null%3B%0A%09%09%09this.onmouseout%20%3D%20null%3B%0A%09%09%7D%20else%0A%09%09%09optPop.parentNode.removeChild%28optPop%29%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%20%26%26%0A%09%09%21btnPref%28%22ButtonType%22%29%29%20%7B%0A%09%09aE.preventDefault%28%29%3B%0A%09%09%24%28_UID%20+%20%22-mpop%22%29.openPopup%28self%2C%20btnPref%28%22PopupPosition%22%29%2C%20null%2C%20null%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%20else%20if%20%28aE.button%20%3D%3D%3D%202%20%26%26%20%21aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09aE.preventDefault%28%29%3B%0A%09%09let%20helpPage%20%3D%20OS.Path.join%28multiMenuStorage%2C%20%22HelpPage.html%22%29%3B%0A%09%09try%20%7B%0A%09%09%09gBrowser.selectedTab%20%3D%20gBrowser.addTab%28helpPage%2C%20makeURI%28%22about%3Ablank%22%29%29%3B%0A%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09try%20%7B%0A%09%09%09%09openContentTab%28helpPage%29%3B%0A%09%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09%09openUILink%28aUrl%2C%20aE%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%0A%7D%3B%0A%0A%28function%20dropmarkerVisibility%28%29%20%7B%0A%09if%20%28gBP%28%22ButtonType%22%29%20%26%26%0A%09%09%28self.parentNode%20%26%26%0A%09%09%09%28%21self.parentNode.id.match%28%22PanelUI%22%29%20%7C%7C%20%21self.parentNode.id.match%28%22vertical-%22%29%29%29%29%20%7B%0A%09%09let%20dM%20%3D%20document.getAnonymousElementByAttribute%28self%2C%20%22class%22%2C%0A%09%09%09%09%22toolbarbutton-menu-dropmarker%22%29%3B%0A%09%09if%20%28dM%29%0A%09%09%09dM.setAttribute%28%22hidden%22%2C%20%21gBP%28%22ShowDropmarker%22%29%29%3B%0A%09%09else%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09dropmarkerVisibility%28%29%3B%0A%09%09%09%7D%2C%20100%29%3B%0A%09%7D%0A%7D%29%28%29%3B%0A%0Aif%20%28%22CustomizableUI%22%20in%20window%29%20%7B%0A%09if%20%28%21window%5B_UID%5D%5B%22CustomizableUI%22%5D%29%20%7B%0A%09%09window%5B_UID%5D%5B%22CustomizableUI%22%5D%20%3D%20true%3B%0A%09%09CustomizableUI.addListener%28%7B%0A%09%09%09onCustomizeEnd%20%3A%20function%20%28aWindow%29%20%7B%0A%09%09%09%09let%20thisBtn%20%3D%20aWindow.document.getElementById%28self.id%29%3B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09aWindow%5B_UID%5D%5B%22CustomizableUI%22%5D%20%26%26%20thisBtn.init%28%29%3B%0A%09%09%09%09%7D%2C%20Math.floor%28Math.random%28%29%20*%20%281%20+%202000%20-%20200%29%29%20+%20200%29%3B%0A%09%09%09%7D%0A%09%09%7D%29%3B%0A%09%7D%0A%7D%0A%0A%28function%20%28%29%20%7B%0A%09if%20%28gBP%28PREF_SHARED%20+%20%22ResourcesDownloaded%22%2C%20true%29%29%0A%09%09return%3B%0A%09if%20%28%21%28%22Task%22%20in%20window%29%29%0A%09%09Cu.import%28%22resource%3A//gre/modules/Task.jsm%22%29%3B%0A%09if%20%28%21%28%22Downloads%22%20in%20window%29%29%0A%09%09Cu.import%28%22resource%3A//gre/modules/Downloads.jsm%22%29%3B%0A%09var%20htmlFilePath%20%3D%20OS.Path.join%28multiMenuStorage%2C%20%22HelpPage.html%22%29%3B%0A%09try%20%7B%0A%09%09OS.File.remove%28htmlFilePath%29%3B%0A%09%7D%20catch%20%28aError%29%20%7B%0A%09%09Cu.reportError%28aError%29%3B%0A%09%7D%0A%09finally%20%7B%0A%09%09try%20%7B%0A%09%09%09var%20geckoVer%20%3D%20parseInt%28SA.platformVersion%29%20%3E%3D%2027%3B%20//%20If%20Gecko%20version%20is%20v27%20or%20+.%0A%09%09%09Task.spawn%28function%20%28%29%20%7B%0A%09%09%09%09let%20_URL%20%3D%20%22https%3A//raw.githubusercontent.com/Odyseus/CustomButtons/master/MultiMenu/%22%20+%0A%09%09%09%09%09%22SharedResources/%22%3B%0A%09%09%09%09let%20doDownload%20%3D%20function%20%28aURL%2C%20aPath%29%20%7B%0A%09%09%09%09%09return%20%28geckoVer%0A%09%09%09%09%09%09%20%3F%20Downloads.fetch%28aURL%2C%20aPath%29%0A%09%09%09%09%09%09%20%3A%20Downloads.simpleDownload%28aURL%2C%20aPath%29%29%3B%0A%09%09%09%09%7D%3B%0A%09%09%09%09yield%20doDownload%28_URL%20+%20%22HelpPage.html%22%2C%20htmlFilePath%29%3B%0A%09%09%09%7D%29.then%28null%2C%20Cu.reportError%29%3B%0A%09%09%09sBP%28PREF_SHARED%20+%20%22ResourcesDownloaded%22%2C%20true%2C%20true%29%3B%0A%09%09%7D%20catch%20%28aError%29%20%7B%0A%09%09%09Cu.reportError%28aError%29%3B%0A%09%09%7D%0A%09%09finally%20%7B%0A%09%09%09Services.prompt.alert%28null%2C%20%22Multi%20Menu%22%2C%20%22The%20file%20HelpPage.html%22%20+%0A%09%09%09%09%22%20have%20been%20downloaded%20into...%5Cn%5Cn%22%20+%0A%09%09%09%09multiMenuStorage%20+%20%22%5Cn%5CnNote%3A%20This%20file%20will%20be%20downloaded%20just%20once%20and%20will%20be%20%22%20+%0A%09%09%09%09%22shared%20between%20other%20versions%20of%20Multi%20Menu%20button%20installed%20in%20your%20current%20%22%20+%0A%09%09%09%09SA.name%20+%20%22%20profile.%22%29%3B%0A%09%09%7D%0A%09%7D%0A%7D%29%28%29%3B%0A%0A//START//%20Check%20for%20updates%20block%0Athis.setAttribute%28%22updatedate%22%2C%20%22Feb%2023%2C%202015%22%29%3B%20//%20Needed%20for%20this.buttonUpdateChecker%20to%20work.%0A%0Athis.buttonUpdateChecker%20%3D%20%7B%0A%09infoURL%20%3A%20%22https%3A//raw.githubusercontent.com/Odyseus/CustomButtons/master/MultiMenu/%22%20+%0A%09%22LatestVersion.txt%22%2C%0A%09init%20%3A%20function%20%28%29%20%7B%0A%09%09if%20%28btnPref%28%22Updates%22%29%20%26%26%20%21window%5B_UID%5D%5B%22UpdatesChecked%22%5D%29%20%7B%0A%09%09%09window%5B_UID%5D%5B%22UpdatesChecked%22%5D%20%3D%20true%3B%0A%09%09%09if%20%28%28currentTime%20-%20btnPref%28%22UpdatesLastCheck%22%29%29%20%3E%20btnPref%28%22UpdatesEvery%22%29%29%20%7B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09self.buttonUpdateChecker.checkLatestVersion%28true%29%3B%0A%09%09%09%09%7D%2C%20btnPref%28%22UpdatesDelay%22%29%20*%201000%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%09checkLatestVersion%20%3A%20function%20%28aFromAuto%29%20%7B%0A%09%09var%20req%20%3D%20new%20XMLHttpRequest%28%29%3B%0A%09%09req.open%28%22GET%22%2C%20this.infoURL%2C%20true%29%3B%0A%09%09req.onreadystatechange%20%3D%20function%20%28aEvent%29%20%7B%0A%09%09%09if%20%28req.readyState%20%3D%3D%3D%204%20%26%26%20req.status%20%3D%3D%3D%20200%29%0A%09%09%09%09self.buttonUpdateChecker.inform%28req.responseText.split%28%22%7C%22%29%2C%20aFromAuto%29%3B%0A%09%09%09else%20if%20%28req.readyState%20%3D%3D%3D%204%20%26%26%20req.status%20%21%3D%3D%20200%29%0A%09%09%09%09alert%28%22Error%20trying%20to%20retrieve%20the%20file%20at%3A%5Cn%22%0A%09%09%09%09%09%20+%20self.buttonUpdateChecker.infoURL%20+%20%22%5Cn%22%20+%0A%09%09%09%09%09%22Check%20your%20internet%20connection.%22%29%3B%0A%09%09%7D%3B%0A%09%09req.send%28null%29%3B%0A%09%09SP.setIntPref%28PREF_BRANCH%20+%20%22UpdatesLastCheck%22%2C%20currentTime%29%3B%0A%09%09SP.savePrefFile%28null%29%3B%0A%09%7D%2C%0A%09inform%20%3A%20function%20%28aDoc%2C%20aFromAuto%29%20%7B%0A%09%09var%20noNeedUpdate%20%3D%20%28aDoc%5B0%5D%20%3D%3D%3D%20self.getAttribute%28%22updatedate%22%29%29%3B%0A%09%09if%20%28aFromAuto%20%26%26%20noNeedUpdate%29%0A%09%09%09return%3B%0A%09%09let%20newUpdate%20%3D%20%22New%20update%20found.%20%22%20+%0A%09%09%09%28%28aDoc%5B1%5D%20%3D%3D%3D%20%22Normal%22%29%0A%09%09%09%09%20%3F%20%22%3Chtml%3Aspan%20style%3D%5C%22color%3Agreen%3B%5C%22%3EPriority%3A%20Normal%3C/html%3Aspan%3E%22%0A%09%09%09%09%20%3A%20%22%3Chtml%3Aspan%20style%3D%5C%22color%3Ared%3B%5C%22%3EPriority%3A%20Critical%3C/html%3Aspan%3E%22%29%3B%0A%09%09this.openNotification%28noNeedUpdate%20%3F%20%22No%20new%20updates.%22%20%3A%20newUpdate%29%3B%0A%09%7D%2C%0A%09openNotification%20%3A%20function%20%28aUpdMsg%29%20%7B%0A%09%09let%20homePage%20%3D%20encodeURIComponent%28%22http%3A//custombuttons.sourceforge.net/forum/%22%20+%0A%09%09%09%09%22viewtopic.php%3Ff%3D4%26t%3D3503%22%29%3B%0A%09%09let%20notificationBox%20%3D%20%24XML%28%22%3Ctoolbox%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%20xmlns%3Ahtml%3D%5C%22%22%20+%20xhtmlns%20+%20%22%5C%22%3E%22%20+%0A%09%09%09%09%22%3Chbox%20align%3D%5C%22center%5C%22%3E%22%20+%0A%09%09%09%09%22%3Clabel%3E%3Chtml%3Ab%20style%3D%5C%22font-size%3A14px%21important%3B%5C%22%3E%22%20+%0A%09%09%09%09%28self.label%20%7C%7C%20self.name%29%20+%20%22%3C/html%3Ab%3E%3C/label%3E%22%20+%0A%09%09%09%09%22%3Clabel%3E%3Chtml%3Ab%20style%3D%5C%22font-size%3A12px%21important%3B%5C%22%3E%22%20+%20aUpdMsg%20+%20%22%3C/html%3Ab%3E%3C/label%3E%22%20+%0A%09%09%09%09%22%3Cspacer%20flex%3D%5C%221%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cbutton%20label%3D%5C%22Go%20to%20homepage%5C%22%20onclick%3D%5C%22var%20homePage%3DdecodeURIComponent%28%27%22%20+%0A%09%09%09%09homePage%20+%20%22%27%29%3Btry%7BgBrowser.selectedTab%3DgBrowser.addTab%28homePage%29%3B%7Dcatch%28aEr%29%7B%22%20+%0A%09%09%09%09%22try%7BopenContentTab%28homePage%29%3B%7Dcatch%28aEr%29%7BopenUILink%28homePage%2Cevent%29%3B%7D%7D%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20tooltiptext%3D%5C%22Open%20%22%20+%20%28self.label%20%7C%7C%20self.name%29%20+%20%22%20homepage.%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cbutton%20label%3D%5C%22Dismiss%5C%22%20oncommand%3D%5C%22this.parentNode.parentNode%22%20+%0A%09%09%09%09%22.removeChild%28this.parentNode%29%5C%22/%3E%3C/hbox%3E%3C/toolbox%3E%22%29%3B%0A%09%09let%20notificationTarget%20%3D%20%28document.getElementById%28%22mailContent%22%29%20%7C%7C%0A%09%09%09document.getElementById%28%22appcontent%22%29%29%3B%0A%09%09notificationTarget.appendChild%28notificationBox%29%3B%0A%09%7D%0A%7D%3B%0A%0Athis.buttonUpdateChecker.init%28%29%3B%0A//END//%20Check%20for%20updates%20block%0A%0A//START//%20Preferences%20handling%20functions%0Athis.prefHandling%20%3D%20%7B%0A%09_msg%20%3A%20%22This%20process%20is%20immediate%20and%20irreversible.%5Ct%5Cn%22%20+%0A%09%22It%20is%20advisable%20to%20make%20a%20backup%20of%20the%20preferences%20before%20proceeding.%5Ct%5Cn%5Cn%22%20+%0A%09%22Do%20you%20want%20to%20continue%3F%5Cn%22%2C%0A%09_exportsFolder%20%3A%20OS.Path.join%28OS.Constants.Path.profileDir%2C%20%22custombuttons%22%2C%20%22MultiMenuExports%22%29%2C%0A%09resetP%20%3A%20function%20%28%29%20%7B%0A%09%09let%20msg%20%3D%20%22You%27re%20about%20to%20reset%20%22%20+%20self.name%20+%0A%09%09%09%22%20preferences%20to%20their%20default%20values%u200B%u200B.%5Ct%5Ct%5Cn%22%20+%20this._msg%3B%0A%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09if%20%28cBox%29%20%7B%0A%09%09%09%28SP.getBranch%28PREF_BRANCH%29%29.deleteBranch%28%22%22%29%3B%0A%09%09%09self.init%28%29%3B%0A%09%09%7D%20else%0A%09%09%09return%3B%0A%09%7D%2C%0A%09exportP%20%3A%20function%20%28%29%20%7B%0A%09%09var%20out%20%3D%20%5B%5D%3B%0A%09%09var%20value%2C%0A%09%09prefList%20%3D%20%28SP.getBranch%28PREF_BRANCH%29%29.getChildList%28%22%22%2C%20%7B%7D%29%3B%0A%09%09for%20%28let%20pref%20in%20prefList%29%20%7B%0A%09%09%09switch%20%28SP.getPrefType%28PREF_BRANCH%20+%20prefList%5Bpref%5D%29%29%20%7B%0A%09%09%09case%200%3A%0A%09%09%09%09break%3B%0A%09%09%09case%2032%3A%0A%09%09%09%09value%20%3D%20btnPref%28prefList%5Bpref%5D%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%2064%3A%0A%09%09%09%09value%20%3D%20btnPref%28prefList%5Bpref%5D%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20128%3A%0A%09%09%09%09value%20%3D%20btnPref%28prefList%5Bpref%5D%29%20%3F%20%22true%22%20%3A%20%22false%22%3B%0A%09%09%09%09break%3B%0A%09%09%09%7D%0A%09%09%09out.push%28prefList%5Bpref%5D%20+%20%22%7C%22%20+%20value%29%3B%0A%09%09%7D%0A%09%09var%20file%20%3D%20new%20nsIFile%28this._exportsFolder%29%3B%0A%09%09file.append%28%22MultiMenuID%22%20+%20custombuttons.getNumber%28self.id%29%20+%20%22-Prefs.js%22%29%3B%0A%09%09file.createUnique%28Ci.nsIFile.NORMAL_FILE_TYPE%2C%200x1B6%29%3B%0A%09%09let%20data%20%3D%20out.join%28%22%5Cn%22%29%3B%0A%09%09OS.File.writeAtomic%28file.path%2C%20data%2C%20%7B%0A%09%09%09tmpPath%20%3A%20file.path%20+%20%22.tmp%22%2C%0A%09%09%09encoding%20%3A%20%22utf-8%22%0A%09%09%7D%29%3B%0A%09%09notifyme%28%22Multi%20Menu%20Preferences%22%2C%20%22Successfully%20exported%20to%20MultiMenuExports%20folder.%22%2C%0A%09%09%09null%2C%20self.prefHandling.alertCallback%29%3B%0A%09%7D%2C%0A%09importP%20%3A%20function%20%28%29%20%7B%0A%09%09let%20msg%20%3D%20%22You%27re%20about%20to%20import%20new%20preferences%20to%20%22%20+%20self.name%20+%20%22.%5Ct%5Ct%5Cn%22%20+%20this._msg%3B%0A%09%09let%20cBox%20%3D%20custombuttons.confirmBox%28self.name%2C%20msg%2C%20%22Yes%22%2C%20%22Cancel%22%29%3B%0A%09%09if%20%28cBox%29%20%7B%0A%09%09%09var%20localDir%20%3D%20new%20nsIFile%28this._exportsFolder%29%3B%0A%09%09%09var%20fp%20%3D%20Cc%5B%22@mozilla.org/filepicker%3B1%22%5D.createInstance%28Ci.nsIFilePicker%29%3B%0A%09%09%09fp.init%28window%2C%20%22Import%20Multi%20Menu%20Preferences%22%2C%20Ci.nsIFilePicker.modeOpen%29%3B%0A%09%09%09fp.appendFilter%28%22%22%2C%20%22MultiMenuID%22%20+%20custombuttons.getNumber%28self.id%29%20+%20%22*.js%22%29%3B%0A%09%09%09fp.appendFilter%28%22%22%2C%20%22*.*%22%29%3B%0A%09%09%09fp.displayDirectory%20%3D%20localDir%3B%0A%09%09%09if%20%28fp.show%28%29%20%3D%3D%3D%20Ci.nsIFilePicker.returnOK%29%20%7B%0A%09%09%09%09if%20%28fp.file%20%26%26%20fp.file.exists%28%29%29%0A%09%09%09%09%09localDir%20%3D%20fp.file.parent.QueryInterface%28Ci.nsIFile%29%3B%0A%09%09%09%7D%20else%0A%09%09%09%09return%3B%0A%09%09%09OS.File.read%28fp.file.path%29.then%28function%20onSuccess%28aReadData%29%20%7B%0A%09%09%09%09let%20prefFile%20%3D%20new%20TextDecoder%28%29.decode%28aReadData%29%3B%0A%09%09%09%09prefFile%20%3D%20prefFile.replace%28/%5Cr%5Cn/g%2C%20%22%5Cn%22%29.split%28%22%5Cn%22%29%3B%0A%09%09%09%09for%20%28let%20p%20in%20prefFile%29%20%7B%0A%09%09%09%09%09var%20prefName%20%3D%20PREF_BRANCH%20+%20prefFile%5Bp%5D.split%28%22%7C%22%29%5B0%5D%2C%0A%09%09%09%09%09prefValue%20%3D%20prefFile%5Bp%5D.split%28%22%7C%22%29%5B1%5D%3B%0A%09%09%09%09%09if%20%28SP.getPrefType%28prefName%29%29%20%7B%0A%09%09%09%09%09%09switch%20%28SP.getPrefType%28prefName%29%29%20%7B%0A%09%09%09%09%09%09case%200%3A%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%2032%3A%0A%09%09%09%09%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D%0A%09%09%09%09%09%09%09%09.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09%09%09%09%09str.data%20%3D%20prefValue%3B%0A%09%09%09%09%09%09%09SP.setComplexValue%28%28prefName%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%2064%3A%0A%09%09%09%09%09%09%09SP.setIntPref%28prefName%2C%20prefValue%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09case%20128%3A%0A%09%09%09%09%09%09%09SP.setBoolPref%28prefName%2C%20%28%28prefValue%20%3D%3D%3D%20%22true%22%29%20%3F%20%22true%22%20%3A%20%22%22%29%29%3B%0A%09%09%09%09%09%09%09break%3B%0A%09%09%09%09%09%09%7D%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09self.init%3B%0A%09%09%09%09%7D%2C%201000%29%3B%0A%09%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09%09Cu.reportError%28aRejectReason%29%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%20else%0A%09%09%09return%3B%0A%09%7D%2C%0A%09exportMI%20%3A%20function%20%28%29%20%7B%0A%09%09let%20mIs%20%3D%20self.getAttribute%28%22cb-init%22%29.split%28%22//%u25BA%u25BA%u25BA%u25C4%u25C4%u25C4//DO%20NOT%20DELETE%20THIS%20LINE%22%2C%202%29%5B1%5D%3B%0A%09%09var%20file%20%3D%20new%20nsIFile%28this._exportsFolder%29%3B%0A%09%09file.append%28%22MultiMenuID%22%20+%20custombuttons.getNumber%28self.id%29%20+%20%22-Items.js%22%29%3B%0A%09%09file.createUnique%28Ci.nsIFile.NORMAL_FILE_TYPE%2C%200x1B6%29%3B%0A%09%09OS.File.writeAtomic%28file.path%2C%20mIs%2C%20%7B%0A%09%09%09tmpPath%20%3A%20file.path%20+%20%22.tmp%22%2C%0A%09%09%09encoding%20%3A%20%22utf-8%22%0A%09%09%7D%29%3B%0A%09%09notifyme%28%22Multi%20Menu%20items%22%2C%20%22Successfully%20exported%20to%20MultiMenuExports%20folder.%22%2C%0A%09%09%09null%2C%20self.prefHandling.alertCallback%29%3B%0A%09%7D%2C%0A%09alertCallback%20%3A%20%7B%20//%20Needs%20%22observe%22%20object.%20Otherwise%2C%20notifyme%27s%20%22catch%28%29%20block%22%20breaks.%0A%09%09observe%20%3A%20function%20%28aSubject%2C%20aTopic%2C%20aData%29%20%7B%0A%09%09%09if%20%28aTopic%20%21%3D%3D%20%22alertclickcallback%22%29%0A%09%09%09%09return%3B%0A%09%09%09new%20nsIFile%28self.prefHandling._exportsFolder%29.reveal%28%29%3B%0A%09%09%7D%0A%09%7D%2C%0A%09exportCSS%20%3A%20function%20%28%29%20%7B%0A%09%09var%20file%20%3D%20new%20nsIFile%28this._exportsFolder%29%3B%0A%09%09file.append%28%22MultiMenuID%22%20+%20custombuttons.getNumber%28self.id%29%20+%20%22-CSS.css%22%29%3B%0A%09%09file.createUnique%28Ci.nsIFile.NORMAL_FILE_TYPE%2C%200x1B6%29%3B%0A%09%09let%20cssPath%20%3D%20OS.Path.join%28multiMenuStorage%2C%20_UID%20+%20%22_css_tweaks.css%22%29%3B%0A%09%09OS.File.read%28cssPath%29.then%28function%20onSuccess%28aReadData%29%20%7B%0A%09%09%09let%20cssData%20%3D%20new%20TextDecoder%28%29.decode%28aReadData%29%3B%0A%09%09%09OS.File.writeAtomic%28file.path%2C%20cssData%2C%20%7B%0A%09%09%09%09tmpPath%20%3A%20file.path%20+%20%22.tmp%22%2C%0A%09%09%09%09encoding%20%3A%20%22utf-8%22%0A%09%09%09%7D%29%3B%0A%09%09%09notifyme%28%22Multi%20Menu%20Style%20Sheet%22%2C%20%22Successfully%20exported%20to%20MultiMenuExports%20folder.%22%2C%0A%09%09%09%09null%2C%20self.prefHandling.alertCallback%29%3B%0A%09%09%7D%2C%20function%20onFailure%28aRejectReason%29%20%7B%0A%09%09%09Cu.reportError%28aRejectReason%29%3B%0A%09%09%7D%29%3B%0A%09%7D%0A%7D%3B%0A//END//%20Preferences%20handling%20functions%0A%0Athis.onDestroy%20%3D%20function%20%28aReason%29%20%7B%0A%09if%20%28aReason%20%3D%3D%3D%20%22update%22%29%20%7B%0A%09%09self.gSwitch.delFlags%28%29%3B%0A%09%7D%20else%20if%20%28aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09checkCompanion%28true%29%3B%0A%09%09%28SP.getBranch%28PREF_BRANCH%29%29.deleteBranch%28%22%22%29%3B%0A%09%09self.gSwitch.delFlags%28%29%3B%0A%09%09OS.File.remove%28OS.Path.join%28multiMenuStorage%2C%20_UID%20+%20%22_css_tweaks.css%22%29%29%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09var%20iter%20%3D%20new%20OS.File.DirectoryIterator%28multiMenuStorage%29%3B%0A%09%09%09var%20count%20%3D%200%3B%0A%09%09%09var%20iterProm%20%3D%20iter.forEach%28function%20%28%29%20%7B%0A%09%09%09%09%09count++%3B%0A%09%09%09%09%7D%29%3B%0A%09%09%09iterProm.then%28function%20onSuccess%28%29%20%7B%0A%09%09%09%09iter.close%28%29%3B%0A%09%09%09%09if%20%28count%20%3C%3D%201%29%0A%09%09%09%09%09OS.File.removeDir%28multiMenuStorage%2C%20%7B%0A%09%09%09%09%09%09ignoreAbsent%20%3A%20true%2C%0A%09%09%09%09%09%09ignorePermissions%20%3A%20true%0A%09%09%09%09%09%7D%29%3B%0A%09%09%09%7D%2C%20function%20onFailure%28aReason%29%20%7B%0A%09%09%09%09iter.close%28%29%3B%0A%09%09%09%09throw%20aReason%3B%0A%09%09%09%7D%29%3B%0A%09%09%7D%2C%201000%29%3B%0A%09%7D%0A%7D%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%28%21event.target%20%26%26%20%21this.disabled%29%20%7B%0A%09this.hotkeyPressed%28this%2C%20event%29%3B%0A%7D%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3EFor%20extended%20help%2C%20Ctrl%20+%20Right%20click%20on%20Multi%20Menu%20button.%0A%0AWARNING%21%21%20BE%20CAREFUL%20IF%20YOU%20EDIT%20THIS%20HELP%20TAB%21%21%21%0AIT%20COULD%20BREAK%20THE%20FUNCIONALITY%20OF%20THIS%20BUTTON%21%21%21%0A%0AIf%20you%20want%20to%20use%20the%20Help%20tab%20to%20customize%20your%20buttons%2C%0Ainstead%20of%20using%20this.Help%20as%20usually%2C%20use%20getHelp%28%22Marker%22%29.%0AThe%20getHelp%28%22Marker%22%29%20function%20will%20call%20the%20content%20of%20the%20following%20example.%0A%0A%26lt%3B%21--Marker--%26gt%3B%0AInside%20these%20two%20%22markers%22%20you%20can%20add%20the%20content%20that%20will%20be%20called%20with%20the%20getHelp%28%22Marker%22%29%20function.%0AVirtually%20anything%20can%20be%20placed%20here%20%28CSS%20code%2C%20XUL%20code%2C%20HTML%20code%2C%20images%2C%20ect.%29.%0AIMPORTANT%21%21%21%20Markers%20should%20ALWAYS%20exist%20in%20pairs%20and%20be%20unique.%0A%26lt%3B%21--Marker--%26gt%3B%0A%0A%5B%2C%5D%0A%0A%26lt%3B%21--OptionsWindow--%26gt%3B%26lt%3B%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%26gt%3B%0A%26lt%3B%3Fxml-stylesheet%20href%3D%22chrome%3A//global/skin/%22%20%3F%26gt%3B%0A%26lt%3B%3Fxml-stylesheet%20href%3D%22data%3Atext/css%3Bcharset%3Dutf-8%2C%20.bold_text%7Bfont-weight%3Abold%3B%7D%20.selectable%7B-moz-user-select%3A%20text%20%21important%3B%7D%20.position-view-stack%7B-moz-box-align%3Acenter%3B-moz-box-pack%3Acenter%3B-moz-box-orient%3Ahorizontal%3B%7D%20.position-menupopup%7Bdisplay%3A-moz-box%3B%7D%20.position-radiogroup%5Bvalue%3D%26amp%3Bquot%3Bbefore_end%26amp%3Bquot%3B%5D%20.position-menupopup%7Bmargin-bottom%3A88px%3B-moz-margin-end%3A86px%3B%7D%20.position-radiogroup%5Bvalue%3D%26amp%3Bquot%3Bafter_end%26amp%3Bquot%3B%5D%20.position-menupopup%7Bmargin-top%3A88px%3B-moz-margin-end%3A86px%3B%7D%20.position-radiogroup%5Bvalue%3D%26amp%3Bquot%3Bbefore_start%26amp%3Bquot%3B%5D%20.position-menupopup%7Bmargin-bottom%3A88px%3B-moz-margin-start%3A86px%3B%7D%20.position-radiogroup%5Bvalue%3D%26amp%3Bquot%3Bafter_start%26amp%3Bquot%3B%5D%20.position-menupopup%7Bmargin-top%3A88px%3B-moz-margin-start%3A86px%3B%7D%20.position-radiogroup%5Bvalue%3D%26amp%3Bquot%3Bend_before%26amp%3Bquot%3B%5D%20.position-menupopup%7Bmargin-top%3A64px%3B-moz-margin-start%3A118px%3B%7D%20.position-radiogroup%5Bvalue%3D%26amp%3Bquot%3Bend_after%26amp%3Bquot%3B%5D%20.position-menupopup%7Bmargin-bottom%3A64px%3B-moz-margin-start%3A118px%3B%7D%20.position-radiogroup%5Bvalue%3D%26amp%3Bquot%3Bstart_before%26amp%3Bquot%3B%5D%20.position-menupopup%7Bmargin-top%3A64px%3B-moz-margin-end%3A118px%3B%7D%20.position-radiogroup%5Bvalue%3D%26amp%3Bquot%3Bstart_after%26amp%3Bquot%3B%5D%20.position-menupopup%7Bmargin-bottom%3A64px%3B-moz-margin-end%3A118px%3B%7D%20radio.no-label%20%26gt%3B%20.radio-label-box%7Bdisplay%3Anone%7D%20.position-button-image%7Blist-style-image%3Aurl%28data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAAB8AAAAZCAYAAADJ9/UkAAAJJklEQVRIibXPW1DadxbA8d9D187OZCbTSae7k33a6XZmp5vd3rfTaGJjjWmrohhjRESDCgRUNIogXgEVibdGiSX/xNioUUQ0IRCJmlhNAK8YEzFyE1AkEhVB8TJJX84+tOGxk33omfk+nvmcg9Cv8zZCKA4h9ANCiIsQ6voD4iKEGhBCeIRQ0G8uCkIIcY8cOdJdVlZuwLCrm+0dHf7Ozi5/d7fML5PJtmUy2XZPj9z/pr3e6e6W+Ts7u/ztHR3+K9gVT1lZueHDIx/KfjvkTwgh9G1wcHCHRHLF093ds97fr1578GD4xejoQ7dGo3VrtWNunU63OjY29sbpdLpVrXbMrdFo3aOjD90PHgy/6O/vX+vu7lmXSK54goODOxBCESgoKKi0tKxMf7Ozc3lgcMiu1elsM0/mbHOGBbthwWRfMFnsRrPVbjRb7SaL7XdatJksVtuC2bK4YDRbF4wmy/yzBcucYd4683h2UTc2tjgwOGS/2dm5XFJSMh0UFFSCEEKMJnGT+ZZCYdRqdYYncwaD2WY3LjqcZseyy7Tkem5cfu42vXEut9HpWp1bXnE9XlpeeWyzO2bNFsvskznDE61WZ7ilUBgbm5rMCCE6QgjVSa5IDCqVamZiYmrSaLY+aenotv43PGrv/c+OwwdffA3o7YNw4G8f/G5//uvf4Z///mKvo0tqWd3Y0K+trz9aXXVrnC6Xxma3a4wmo25iYmpSpVLNSK5IDAihOoQQqmuWSKZVarVGr9f/bLbZJz8OCf8Fn54LhEw2ELI48NFXJ+B4DBGO416XBMeiz8KxKAIcxxEgNIYIIZGJ8HFoJPzl/SO/rG16dZter3p9Y+Peqts9sOx0Dpotlvt6vf5nlVqtaZZIpgO4WNz8SKXqH5yenlFaFh0jX+MIQONWAKVAABksHoScjIaoJApEEamAS6bB9wmpgCdlvMSTMl5+m5AKUUQqRBIy4NSZVPjHJ1+Bx7c1tLW1Ldvc9PWsr3vkKyuuPrPZent6ekapUvUPisXNjwL4pcZLQ3eUSsWUXi+zOhzqiDMpQC+qBgpbAOn5PDh+KgZwJBrEptABf44OYdEJoFIPWlTqQcuJ6DMQQzoPuGQaRBIy4F9ffg2ebf8d/+5uq297+6d1j+eGa3W1zWy1dkzp9bI7SqXiUuOloQBeV1+vuqVQSCemplvNi0u3I+JTgFEsBEoBH6gFPAiLiofYZBrgktLhVBwRok4n+X07+xrfzr4mEk/wR+CT4PuzZIhKyoD/HA2Dze3d7p29/Sbf9o543eO97Fp1/2i2Ll6dmJpuvaVQSOvq61UBXCgUyXt6e1vGxsfFJtvSzYg4EtCLqoBWIIDzhQIIxyUAnkR9ya+pd7S0dZlMVvvk1u6eemt3T22y2Cdb2rpMfFG9IyY57eVHR8PAs+Vv9e/uCr1bW9VrGxsXnSsrtUazuWFsfFzc09vbIhSK5AGcz+e3S6VSsUaju2iyOq6fjCMBgysEOqcKMouF8F1cEpAoTO/apu/+tn/vnn9nv3d3/1X77v6rdv/Ofu+2f+/e2qbvflI6w/vx0W/A49u5jGEYIIQCYRgGGo3uolQqFfP5/PYAzmKxWjAMq1Mq7/IfP33240l8MmRyqyGTWw3MUhHEEMgQeZYMYdFxjiWXu9fj9bV5vVsSr3dL4vH62pZcq70nvotxnDqdDJ8fj4Al14sGp9OV9/oADMNgcnK6SKm8y8cwrI7FYrUE8Pz8fKy5WXJRoVSW6ecMTRH4ZGAUiyCrpBoulNdAfAoVUjLZcAJ3BjhlFZoXG16px+e77vH5rr/Y8ErZxXzN0VOxkEjJga/CImHpubt2eWUlx+Zw5GIYBrNPn7J04+MchVJZ1twsuZifn48F8JwLOZJGsVjY13e7ZGr26aWT+GTIKqoGZmk15JXXQmJaJtAKygCfQoOrbZ2jq5veLpd7Q+pyb0hXN71d2E8do9FJZCBncyA4PAqWn7tFS04nY9Fuz3pmMjFnZmdzH2q1rL6+2yWNYrEw50KOJIBnM7MvNzQ1VMj75NzJmdmG8AAugnx+LRApTGBw+HA2PQt00zN3hjVjfZ8dC3d/eizMrX4wfEs7PX0Hn0yFjAtFEHISB7bl59U2h+O8yWajz8/PM/R6PXN0dPSCvE/ObWhqqMhmZl8O4Iwshri2vl4glck4usnH9d/EECCrqAqYxdW/4lQmZHL4cC6bA+k5bOuphNRXabklkMLkQjie+IqcmWcl0nIhI7cIjoZHwaLTWWG0LNIMz0znHz810CcmJhgD94dzpTIZp7a+XsDIYogDOIVCa6qqqua1tXUUPBqbqg2LjNvPyC0GZnEV5PNqfv2czYPMQj5QCsohu0QEHGEjsCt/AHphBaTlFEF6LheItBw4+s13ewsWe8Xc3DxlZmaOOj4+eX50VEfv77/HbGvrKKiqquZRKLSmAE4mkxvLy3l8DLtWMDSsETVJrg1Hnknej0tOh8Q0OoRHnYYYwjk4TaJAwrnzQKBkAZGaDURKNpwl0yEuOR2iE1PgZPTp/UZJy9CswcgbH5/M0Ol0lJGRhzS1+j69t/cWE8OuFZSX8/hkMrnxNU6Nj49vzMtjCWpq6thdMjl3VDvZMG80ty1Y7R2mRXu72b7c9iZZbI5W/dyCaFSjYw4MDGWo1QMUhUJJ6+nppbe0/JRTU1PHzstjCRISEpoQQlR04MABXmjoiYa09HRRYVEhVyQSsbBr1wtu9vQUyuR93J5eRaFccZcjV9zl9N1RsX8vuULB6uqW57bdvMlovXGD3nqjlX61pYXRdPkyUyQS5RUWFXLT0tNFoaGhDQcOHChHkZGR1EOHDglj8PjGVDK5MouZW8rhcAuLSkoKSnk8Fk8gyBNUVuZVVFVdeNMElZV5PIEgr5THYxWVlBRwONzCLGZuaSqZXBmDxzceOnSoGofDUZDD4fjy8OHD7Pfee688JCREhMPF1sXHJ4gSEwlCIpFYSSSSKkik1P87IpFUQSQSKxMTCcL4+AQRDhdbFxIScvHdd98tP3z4MNvpdH6ORkZG3vJ4PLGpqanUgwcPshFCJIQQ7w8o5Z133mGnpqZSPR5P7MjIyFsIIYRGRkbeAoBPASARAKh/YGcB4JPX8P8AmeTmDrjcveAAAAAASUVORK5CYII%3D%29%3Bmargin%3A63px%2087px%3B%7D%22%20type%3D%22text/css%22%20%3F%26gt%3B%0A%26lt%3Bprefwindow%20xmlns%3Ahtml%3D%22http%3A//www.w3.org/1999/xhtml%22%0A%09%09%09%20xmlns%3D%22http%3A//www.mozilla.org/keymaster/gatekeeper/there.is.only.xul%22%0A%09%09%09%20id%3D%22_U_I_D__PrefWindow%22%0A%09%09%09%20onload%3D%22gMultiMenu.onLoad%28%29%3B%22%0A%09%09%09%20onunload%3D%22gMultiMenu.onUnload%28%29%3B%22%0A%09%09%09%20buttons%3D%22accept%2Ccancel%2Cextra1%2Cextra2%2Cdisclosure%22%0A%09%09%09%20buttonlabelextra1%3D%22Apply%22%0A%09%09%09%20buttonlabeldisclosure%3D%22Help%20page%22%0A%09%09%09%20ondialogextra1%3D%22gMultiMenu.onApply%28%29%3B%22%0A%09%09%09%20buttonlabelextra2%3D%22Preferences%22%0A%09%09%09%20ondialogdisclosure%3D%22close%28%29%3BgMultiMenu.openHelpPage%28event%29%3B%22%0A%09%09%09%20persist%3D%22screenX%20screenY%20sizemode%22%0A%09%09%09%20title%3D%22Multi%20Menu%20settings.%22%26gt%3B%0A%09%09%09%09%26lt%3Bscript%26gt%3B%0A%09%09%26lt%3B%21%5BCDATA%5B%0AComponents.utils.import%28%22resource%3A//gre/modules/osfile.jsm%22%29%3B%0AComponents.utils.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0Avar%20btnOpener%20%3D%20opener.document.getElementById%28%27_self_id_%27%29%2C%0AcssFilePath%20%3D%20OS.Path.join%28OS.Constants.Path.profileDir%2C%20%22custombuttons%22%2C%20%22MultiMenu%22%2C%20%22_U_I_D__css_tweaks.css%22%29%2C%0AnsIFile%20%3D%20Components.Constructor%28%22@mozilla.org/file/local%3B1%22%2C%20%22nsIFile%22%2C%20%22initWithPath%22%29%3B%0Afunction%20%24%28id%29document.getElementById%28id%29%3B%0Afunction%20setText%28aVal%29%24%28%22position-label%22%29.value%20%3D%20aVal%3B%0Afunction%20toggleCSS%28aCheckbox%29%20%7B%0A%09setTimeout%28function%20%28%29%20%7B%0A%09%09if%20%28aCheckbox.checked%20%3D%3D%3D%20true%29%0A%09%09%09%24%28%27css_tweaks_textbox%27%29.disabled%20%3D%20false%3B%0A%09%09else%0A%09%09%09%24%28%27css_tweaks_textbox%27%29.disabled%20%3D%20true%3B%0A%09%7D%2C%20100%29%3B%0A%7D%0Avar%20gMultiMenu%20%3D%20%7B%0A%09_initialized%20%3A%20false%2C%0A%09onLoad%20%3A%20function%20%28%29%20%7B%0A%09%09this._initialized%20%3D%20true%3B%0A%09%09var%20docElt%20%3D%20document.documentElement%3B%0A%09%09this.instantApply%20%3D%20docElt.instantApply%3B%0A%09%09window.addEventListener%28%22change%22%2C%20this%2C%20false%29%3B%0A%09%09window.addEventListener%28%22beforeaccept%22%2C%20this%2C%20false%29%3B%0A%09%09docElt.getButton%28%22extra2%22%29.setAttribute%28%22popup%22%2C%20%22multi-menu-preferences%22%29%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09gMultiMenu.readCSS%28%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%09setText%28btnOpener.gSwitch.gCV%28%22PopupPosition%22%29%29%3B%0A%09%09%24%28%27css_tweaks_textbox%27%29.disabled%20%3D%20%21btnOpener.gSwitch.gBP%28%22UseStyleSheet%22%29%3B%0A%09%09this.openOnCurrent%28%29%3B%0A%09%7D%2C%0A%09handleEvent%20%3A%20function%20%28aEvent%29%20%7B%0A%09%09switch%20%28aEvent.type%29%20%7B%0A%09%09case%20%22change%22%3A%0A%09%09%09if%20%28aEvent.target.localName%20%21%3D%20%22preference%22%29%0A%09%09%09%09return%3B%0A%09%09%09this.updateBroadcasters%28aEvent.target%29%3B%0A%09%09%09if%20%28%21this.instantApply%29%0A%09%09%09%09this.updateApplyButton%28aEvent%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22beforeaccept%22%3A%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%2C%0A%09changes%20%3A%20%5B%5D%2C%0A%09updateApplyButton%20%3A%20function%20%28aEvent%29%20%7B%0A%09%09var%20item%20%3D%20aEvent.target%3B%0A%09%09if%20%28item.localName%20%21%3D%20%22preference%22%29%0A%09%09%09return%3B%0A%09%09var%20valueChanged%20%3D%20item.value%20%21%3D%20item.valueFromPreferences%3B%0A%09%09var%20index%20%3D%20this.changes.indexOf%28item%29%3B%0A%09%09if%20%28valueChanged%20%26amp%3B%26amp%3B%20index%20%3D%3D%20-1%29%0A%09%09%09this.changes.push%28item%29%3B%0A%09%09else%20if%20%28%21valueChanged%20%26amp%3B%26amp%3B%20index%20%26gt%3B%20-1%29%0A%09%09%09this.changes.splice%28index%2C%201%29%3B%0A%09%7D%2C%0A%09onApply%20%3A%20function%20%28%29%20%7B%0A%09%09while%20%28this.changes.length%29%20%7B%0A%09%09%09var%20preference%20%3D%20this.changes.shift%28%29%3B%0A%09%09%09preference.batching%20%3D%20true%3B%0A%09%09%09preference.valueFromPreferences%20%3D%20preference.value%3B%0A%09%09%09preference.batching%20%3D%20false%3B%0A%09%09%7D%0A%09%09this.onLoad%28%29%3B%0A%09%09btnOpener.init%28%29%3B%0A%09%7D%2C%0A%09updateBroadcasters%20%3A%20function%20%28aPreference%29%20%7B%0A%09%09if%20%28aPreference.type%20%21%3D%20%22bool%22%29%0A%09%09%09return%3B%0A%09%09var%20obs%20%3D%20%24%28aPreference.id.replace%28%22pref_%22%2C%20%22obs_%22%29%29%3B%0A%09%09if%20%28obs%29%0A%09%09%09this.setDisabled%28obs%2C%20%21aPreference.value%29%3B%0A%09%7D%2C%0A%09setDisabled%20%3A%20function%20%28itemOrId%2C%20val%29%20%7B%0A%09%09var%20item%20%3D%20typeof%28itemOrId%29%20%3D%3D%20%22string%22%20%3F%20%24%28itemOrId%29%20%3A%20itemOrId%3B%0A%09%09if%20%28%21item%29%0A%09%09%09return%3B%0A%09%7D%2C%0A%09onUnload%20%3A%20function%20%28%29%20%7B%0A%09%09window.removeEventListener%28%22change%22%2C%20this%2C%20false%29%3B%0A%09%09window.removeEventListener%28%22beforeaccept%22%2C%20this%2C%20false%29%3B%0A%09%09btnOpener.init%28%29%3B%0A%09%7D%2C%0A%09saveCSSTweaks%20%3A%20function%20%28%29%20%7B%0A%09%09let%20cssTextbox%20%3D%20%24%28%22css_tweaks_textbox%22%29%3B%0A%09%09this.writeCSS%28cssFilePath%2C%20cssTextbox.value%29%3B%0A%09%09btnOpener.gSwitch.delFlags%28%29%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09gMultiMenu.onApply%28%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%7D%2C%0A%09readCSS%20%3A%20function%20%28%29%20%7B%0A%09%09OS.File.read%28cssFilePath%29.then%28function%20onSuccess%28aReadData%29%20%7B%0A%09%09%09%24%28%22css_tweaks_textbox%22%29.value%20%3D%20new%20TextDecoder%28%29.decode%28aReadData%29%3B%0A%09%09%7D%2C%20function%20%28aRejectReason%29%20%7B%0A%09%09%09Components.utils.reportError%28aRejectReason%29%3B%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%09writeCSS%20%3A%20function%20%28aPath%2C%20aData%29%20%7B%0A%09%09OS.File.writeAtomic%28aPath%2C%20aData%2C%20%7B%0A%09%09%09tmpPath%20%3A%20aPath%20+%20%22.tmp%22%2C%0A%09%09%09encoding%20%3A%20%22utf-8%22%0A%09%09%7D%29%3B%0A%09%7D%2C%0A%09openCSS%20%3A%20function%20%28%29%20%7B%0A%09%09new%20nsIFile%28cssFilePath%29.launch%28%29%3B%0A%09%7D%2C%0A%09openOnCurrent%20%3A%20function%20%28%29%20%7B%0A%09%09let%20check%20%3D%20%24%28%22open-on-current%22%29%3B%0A%09%09if%20%28typeof%20opener.gBrowser%20%3D%3D%3D%20%22object%22%29%20%7B%0A%09%09%09check.label%20%3D%20%22Open%20URLs%20on%20current%20tab%22%3B%0A%09%09%09check.tooltip%20%3D%20%22open_on_current_tt1%22%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09if%20%28Services.appinfo.ID%20%3D%3D%3D%20%22%7B92650c4d-4b8e-4d2a-b7eb-24ecf4f6b63a%7D%22%29%20%7B%0A%09%09%09%09check.hidden%20%3D%20true%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09check.label%20%3D%20%22Open%20URLs%20on%20Content%22%3B%0A%09%09%09%09check.tooltip%20%3D%20%22open_on_current_tt2%22%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%09openHelpPage%20%3A%20function%20%28event%29%20%7B%0A%09%09opener.openURL%28%22file%3A//%22%20+%20OS.Path.join%28OS.Constants.Path.profileDir%2C%20%22custombuttons%22%2C%20%22MultiMenu%22%2C%20%22HelpPage.html%22%29%29%3B%0A%09%7D%0A%7D%3B%0A%5D%5D%26gt%3B%26lt%3B/script%26gt%3B%0A%09%26lt%3Bprefpane%20id%3D%22_U_I_D__PrefPane%22%26gt%3B%0A%09%09%26lt%3Bpreferences%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22AddonsAutoCloseMenu%22%20name%3D%22_RoOt_AddonsAutoCloseMenu%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22AddonsVersion%22%20name%3D%22_RoOt_AddonsVersion%22%20type%3D%22int%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22AddonsSortByEnabled%22%20name%3D%22_RoOt_AddonsSortByEnabled%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22PopupPosition%22%20name%3D%22_RoOt_PopupPosition%22%20type%3D%22string%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22ArrowPosition%22%20name%3D%22_RoOt_ArrowPosition%22%20type%3D%22string%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22MenuOpenDelay%22%20name%3D%22_RoOt_MenuOpenDelay%22%20type%3D%22int%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22MenuCloseDelay%22%20name%3D%22_RoOt_MenuCloseDelay%22%20type%3D%22int%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22MenuOpenOnHover%22%20name%3D%22_RoOt_MenuOpenOnHover%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22FlipAttribute%22%20name%3D%22_RoOt_FlipAttribute%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22FlipAttributeEnabled%22%20name%3D%22_RoOt_FlipAttributeEnabled%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22ButtonType%22%20name%3D%22_RoOt_ButtonType%22%20type%3D%22bool%22/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22Updates%22%20name%3D%22_RoOt_Updates%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22UpdatesEvery%22%20name%3D%22_RoOt_UpdatesEvery%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22UpdatesDelay%22%20name%3D%22_RoOt_UpdatesDelay%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22PrefLabelType%22%20name%3D%22_RoOt_PrefLabelType%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22PrefLabelMaxLength%22%20name%3D%22_RoOt_PrefLabelMaxLength%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22PrefValueMaxLength%22%20name%3D%22_RoOt_PrefValueMaxLength%22%20type%3D%22int%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22PrefResetConfirmation%22%20name%3D%22_RoOt_PrefResetConfirmation%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22ExtraHelpOnAddonsItemsTooltips%22%20name%3D%22_RoOt_ExtraHelpOnAddonsItemsTooltips%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22ExtraHelpOnPrefItemsTooltips%22%20name%3D%22_RoOt_ExtraHelpOnPrefItemsTooltips%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22ExtraHelpOnURLItemsTooltips%22%20name%3D%22_RoOt_ExtraHelpOnURLItemsTooltips%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22URLsOpenOnCurrent%22%20name%3D%22_RoOt_URLsOpenOnCurrent%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22UseStyleSheet%22%20name%3D%22_RoOt_UseStyleSheet%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22ShowDropmarker%22%20name%3D%22_RoOt_ShowDropmarker%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%09%26lt%3Bpreference%20id%3D%22ShowTooltip%22%20name%3D%22_RoOt_ShowTooltip%22%20type%3D%22bool%22%20/%26gt%3B%0A%09%09%26lt%3B/preferences%26gt%3B%0A%09%09%26lt%3Btabbox%20persist%3D%22selectedIndex%22%20id%3D%22tabbox%22%20flex%3D%221%22%26gt%3B%0A%09%09%09%26lt%3Btabs%20id%3D%22tabs%22%26gt%3B%0A%09%09%09%09%26lt%3Btab%20id%3D%22button_set_tab%22%20class%3D%22bold_text%22%20label%3D%22%20Button%20Settings%20%22/%26gt%3B%0A%09%09%09%09%26lt%3Btab%20id%3D%22menu_items_set_tab%22%20class%3D%22bold_text%22%20label%3D%22%20Menu%20items%20settings%20%22/%26gt%3B%0A%09%09%09%09%26lt%3Btab%20id%3D%22css_tweaks_set_tab%22%20class%3D%22bold_text%22%20label%3D%22%20CSS%20tweaks%20%22/%26gt%3B%0A%09%09%09%26lt%3B/tabs%26gt%3B%0A%09%09%09%26lt%3Btabpanels%20id%3D%22tabpanels1%22%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%26lt%3Btabpanel%20id%3D%22button_tabpanel%22%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%26lt%3Bvbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bgroupbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Menupopup%20positioning%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradiogroup%20id%3D%22group_pos%22%20class%3D%22position-radiogroup%22%20orient%3D%22horizontal%22%20preference%3D%22PopupPosition%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bvbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%20pack%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Blabel%20id%3D%22position-label%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bseparator/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bvbox%20flex%3D%221%22%20align%3D%22end%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20value%3D%22before_end%22%20tooltiptext%3D%22before_end%22%20class%3D%22no-label%22%20oncommand%3D%22setText%28this.value%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20value%3D%22start_after%22%20tooltiptext%3D%22start_after%22%20class%3D%22no-label%22%20oncommand%3D%22setText%28this.value%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20value%3D%22start_before%22%20tooltiptext%3D%22start_before%22%20class%3D%22no-label%22%20oncommand%3D%22setText%28this.value%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20value%3D%22after_end%22%20tooltiptext%3D%22after_end%22%20class%3D%22no-label%22%20oncommand%3D%22setText%28this.value%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bstack%20tooltip%3D%22position_tt%22%20class%3D%22position-view-stack%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bimage%20class%3D%22position-button-image%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bmenupopup%20class%3D%22position-menupopup%22%20mousethrough%3D%22always%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%22%20_moz-menuactive%3D%22true%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bmenuitem%20label%3D%22%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/stack%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bvbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20value%3D%22before_start%22%20tooltiptext%3D%22before_start%22%20class%3D%22no-label%22%20oncommand%3D%22setText%28this.value%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20value%3D%22end_after%22%20tooltiptext%3D%22end_after%22%20class%3D%22no-label%22%20oncommand%3D%22setText%28this.value%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20value%3D%22end_before%22%20tooltiptext%3D%22end_before%22%20class%3D%22no-label%22%20oncommand%3D%22setText%28this.value%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20value%3D%22after_start%22%20tooltiptext%3D%22after_start%22%20class%3D%22no-label%22%20oncommand%3D%22setText%28this.value%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3B/radiogroup%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bvbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bgroupbox%20orient%3D%22vertical%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Button%20settings%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20label%3D%22Show%20dropmarker%22%20tooltip%3D%22show_btn_dropmarker_tt%22%20preference%3D%22ShowDropmarker%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20label%3D%22Show%20tooltip%22%20tooltip%3D%22show_btn_tooltip_tt%22%20preference%3D%22ShowTooltip%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Open%20menu%20on%20hover%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20label%3D%22Enable%20open%20on%20hover%22%20preference%3D%22MenuOpenOnHover%22%20tooltiptext%3D%22Enables/Disables%20the%20ability%20to%20open%20the%20menu%20on%20hover.%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Blabel%20control%3D%22open-delay%22%20value%3D%22Open%20delay%3A%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Btextbox%20id%3D%22open-delay%22%20maxwidth%3D%2240px%22%20tooltiptext%3D%22Milliseconds%20to%20wait%20until%20the%20menu%20OPENS.%22%20preference%3D%22MenuOpenDelay%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Blabel%20control%3D%22close-delay%22%20value%3D%22Close%20delay%3A%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Btextbox%20id%3D%22close-delay%22%20maxwidth%3D%2240px%22%20tooltiptext%3D%22Milliseconds%20to%20wait%20until%20the%20menu%20CLOSES.%22%20preference%3D%22MenuCloseDelay%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bgroupbox%20tooltip%3D%22buttontype_tt%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Button%20type%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bradiogroup%20orient%3D%22horizontal%22%20preference%3D%22ButtonType%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Set%20to%20%26amp%3Bquot%3Bmenu%26amp%3Bquot%3B%22%20value%3D%22true%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Set%20to%20%26amp%3Bquot%3Bbutton%26amp%3Bquot%3B%22%20value%3D%22false%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3B/radiogroup%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%20tooltip%3D%22panel_tt%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Panel%20exclusive%20settings%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bgroupbox%20orient%3D%22horizontal%22%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20label%3D%22Enable%20use%20of%20%26amp%3Bquot%3Bflip%26amp%3Bquot%3B%20attribute%22%20preference%3D%22FlipAttributeEnabled%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bradiogroup%20orient%3D%22horizontal%22%20preference%3D%22FlipAttribute%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Flip%20%26amp%3Bquot%3Bboth%26amp%3Bquot%3B%22%20value%3D%22true%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Slide%22%20value%3D%22false%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/radiogroup%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22About%20%26amp%3Bquot%3Bflip%26amp%3Bquot%3B%20attribute%22%0A%09%09%09%09%09%09%09%09%20onclick%3D%22if%28event.button%20%3D%3D%200%29%20%7B%20window.close%28%29%3B%20window.opener.openURL%28%27https%3A//developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/panel.flip%27%29%3B%7D%3B%22%0A%09%09%09%09%09%09%09%09%20class%3D%22text-link%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%20tooltip%3D%22Updates_tt%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Updates%20checker%22%20class%3D%22bold_text%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20label%3D%22Auto-Check%20for%20updates%20every%22%20%20preference%3D%22Updates%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Btextbox%20type%3D%22number%22%20maxwidth%3D%2240px%22%20preference%3D%22UpdatesEvery%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22days%20with%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Btextbox%20type%3D%22number%22%20maxwidth%3D%2240px%22%20preference%3D%22UpdatesDelay%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20value%3D%22seconds%20delay.%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bbutton%20label%3D%22Check%20now%22%20oncommand%3D%22close%28%29%3BbtnOpener.buttonUpdateChecker.checkLatestVersion%28%29%3B%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%09%26lt%3Btabpanel%20id%3D%22menu_items_tabpanel%22%26gt%3B%0A%09%09%09%09%09%26lt%3Bvbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22%26amp%3Bquot%3BAddon%26amp%3Bquot%3B%20menu%20items%20settings%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22autoclose_tt%22%20label%3D%22Auto%20close%20menu%22%20preference%3D%22AddonsAutoCloseMenu%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22show_extra_help_tt%22%20label%3D%22Show%20extra%20help%20in%20tooltips%22%20preference%3D%22ExtraHelpOnAddonsItemsTooltips%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22sort_tt%22%20label%3D%22Sort%20%26amp%3Bquot%3Baddons%26amp%3Bquot%3B%20by%20enabled%20state%22%20preference%3D%22AddonsSortByEnabled%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bgroupbox%20tooltip%3D%22addonverion_tt%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Show%20addons%20version%3F%22%20class%3D%22bold_text%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradiogroup%20orient%3D%22horizontal%22%20preference%3D%22AddonsVersion%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Don%27t%20show%20version%22%20value%3D%220%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Show%20as%20part%20of%20the%20label%22%20value%3D%221%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22Show%20as%20%26amp%3Bquot%3Bacceltext%26amp%3Bquot%3B%22%20value%3D%222%22%20/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3B/radiogroup%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22%26amp%3Bquot%3BPreference%26amp%3Bquot%3B%20menu%20items%20settings%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22reset_confirm_tt%22%20label%3D%22Confirm%20box%20for%20preference%20reset%22%20preference%3D%22PrefResetConfirmation%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22show_extra_help_tt%22%20label%3D%22Show%20extra%20help%20in%20tooltips%22%20preference%3D%22ExtraHelpOnPrefItemsTooltips%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20control%3D%22pref-label-max-length%22%20value%3D%22Preference%20label%20maximum%20length%3A%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Btextbox%20id%3D%22pref-label-max-length%22%20type%3D%22number%22%20min%3D%2210%22%20max%3D%2299%22%20maxwidth%3D%2250px%22%20%20preference%3D%22PrefLabelMaxLength%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20control%3D%22pref-label-max-length%22%20value%3D%22characters.%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bhbox%20align%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20control%3D%22pref-value-max-length%22%20value%3D%22Preference%20value%20maximum%20length%3A%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Btextbox%20id%3D%22pref-value-max-length%22%20type%3D%22number%22%20min%3D%226%22%20max%3D%2299%22%20maxwidth%3D%2250px%22%20%20preference%3D%22PrefValueMaxLength%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Blabel%20control%3D%22pref-value-max-length%22%20value%3D%22characters.%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bgroupbox%20tooltip%3D%22pref_val_tt%22%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22Show%20preference%20value...%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bradiogroup%20orient%3D%22horizontal%22%20preference%3D%22PrefLabelType%22%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22as%20part%20of%20the%20label%22%20value%3D%22false%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bradio%20label%3D%22as%20%26amp%3Bquot%3Bacceltext%26amp%3Bquot%3B%22%20value%3D%22true%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/radiogroup%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bgroupbox%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcaption%20label%3D%22%26amp%3Bquot%3BURL%26amp%3Bquot%3B%20menu%20items%20settings%22%20class%3D%22bold_text%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3Bhbox%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20tooltip%3D%22show_extra_help_tt%22%20label%3D%22Show%20extra%20help%20in%20tooltips%22%20preference%3D%22ExtraHelpOnURLItemsTooltips%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%222%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bcheckbox%20id%3D%22open-on-current%22%20preference%3D%22URLsOpenOnCurrent%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%09%26lt%3Bspacer%20flex%3D%221%22/%26gt%3B%0A%09%09%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/vbox%26gt%3B%0A%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%09%26lt%3Btabpanel%20id%3D%22css_tweaks_tabpanel%22%26gt%3B%0A%09%09%09%09%09%26lt%3Bgroupbox%20flex%3D%221%22%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bcaption%20style%3D%22font-weight%3Abold%21important%3B%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bcheckbox%20label%3D%22Enable%20use%20of%20style%20sheet%22%20onclick%3D%22toggleCSS%28this%29%3B%22%20preference%3D%22UseStyleSheet%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/caption%26gt%3B%0A%09%09%09%09%09%09%26lt%3Btextbox%20id%3D%22css_tweaks_textbox%22%20flex%3D%221%22%20multiline%3D%22true%22%20placeholder%3D%22Put%20here%20your%20CSS%20tweaks%20for%20this%20button.%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bdescription%20style%3D%22font-weight%3Abold%3Bcolor%3Ared%3B%22%26gt%3BRemember%20to%20press%20the%20%26amp%3Bquot%3BSave%20CSS%26amp%3Bquot%3B%20button%20BEFORE%20pressing%20%26amp%3Bquot%3BOk%26amp%3Bquot%3B%20or%20%26amp%3Bquot%3BApply%26amp%3Bquot%3B.%26lt%3B/description%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bdescription%20style%3D%22font-weight%3Abold%3Bcolor%3Ared%3B%22%26gt%3BMore%20info%20about%20this%20section%20in%20Multi%20Menu%27s%20Help%20Page.%26lt%3B/description%26gt%3B%0A%09%09%09%09%09%09%26lt%3Bhbox%20pack%3D%22center%22%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20label%3D%22Save%20CSS%22%20oncommand%3D%22gMultiMenu.saveCSSTweaks%28%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%09%26lt%3Bbutton%20label%3D%22Open%20CSS%20file%22%20oncommand%3D%22close%28%29%3BgMultiMenu.openCSS%28%29%3B%22/%26gt%3B%0A%09%09%09%09%09%09%26lt%3B/hbox%26gt%3B%0A%09%09%09%09%09%26lt%3B/groupbox%26gt%3B%0A%09%09%09%09%26lt%3B/tabpanel%26gt%3B%0A%09%09%09%26lt%3B/tabpanels%26gt%3B%0A%09%09%26lt%3B/tabbox%26gt%3B%0A%09%26lt%3B/prefpane%26gt%3B%0A%09%26lt%3Bpopupset%26gt%3B%0A%09%09%26lt%3Bmenupopup%20id%3D%22multi-menu-preferences%22%20position%3D%22before_start%22%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20label%3D%22Restore%20Defaults%22%20oncommand%3D%22btnOpener.prefHandling.resetP%28%29%3B%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20label%3D%22Import%20Multi%20Menu%20Preferences%22%20oncommand%3D%22btnOpener.prefHandling.importP%28%29%3B%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20label%3D%22Export%20Multi%20Menu%20Preferences%22%20oncommand%3D%22btnOpener.prefHandling.exportP%28%29%3B%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuseparator/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20tooltip%3D%22export_mi_tt%22%20label%3D%22Export%20Menu%20Items%22%20oncommand%3D%22btnOpener.prefHandling.exportMI%28%29%3B%22/%26gt%3B%0A%09%09%09%26lt%3Bmenuitem%20tooltip%3D%22export_css_tt%22%20label%3D%22Export%20Style%20Sheet%22%20oncommand%3D%22btnOpener.prefHandling.exportCSS%28%29%3B%22/%26gt%3B%0A%09%09%26lt%3B/menupopup%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22position_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BAfter%20%26amp%3Bquot%3Bconverting%26amp%3Bquot%3B%20this%20menu%20to%20a%20panel%20with%20CSS%2C%20you%20may%20not%20like%20the%20position%20of%20the%20arrow%20relative%20to%20its%20anchor.%20So%20use%20this%20setting%20to%20correct%20that%20issue%20or%20if%20you%20want%20to%20have%20total%20control%20over%20the%20position%20in%20wich%20the%20popup%20shows%20up.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22buttontype_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BChanging%20this%20preference%20is%20a%20matter%20of%20%26amp%3Bquot%3Bpersonal%20taste%26amp%3Bquot%3B.%20The%20change%20is%20purely%20aesthetic%20%28Menus%20have%20dropmarkers.%29.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22panel_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThis%20settings%20are%20useful%20only%20if%20this%20menu%20is%20%26amp%3Bquot%3Bconverted%26amp%3Bquot%3B%20into%20a%20panel%20with%20CSS.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22autoclose_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20disabled/unchecked%2C%20it%20will%20allow%20you%20to%20perform%20more%20than%20one%20action%20on%20%26amp%3Bquot%3Baddons%26amp%3Bquot%3B%20menu%20items%20before%20closing%20the%20menu.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22addonverion_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIt%20will%20allow%20you%20to%20choose%20between%20show%20the%20addons%20version%20as%20part%20of%20the%20label%2C%20as%20%26amp%3Bquot%3Bacceltext%26amp%3Bquot%3B%20or%20do%20not%20show%20it%20at%20all.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22sort_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20will%20sort%20%26amp%3Bquot%3Baddons%26amp%3Bquot%3B%20menu%20items%20by%20name%20grouping%20enabled%20%26amp%3Bquot%3Baddons%26amp%3Bquot%3B%20first%20and%20disabled%20%26amp%3Bquot%3Baddons%26amp%3Bquot%3B%20last.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22reset_confirm_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20every%20time%20you%20try%20to%20reset%20a%20preference%20with%20middle%20click%2C%20a%20confirm%20dialog%20will%20appear%20asking%20you%20if%20you%20want%20to%20proceed.%20If%20disabled/unchecked%2C%20the%20preference%20will%20reset%20without%20confirmation.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22pref_val_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BThe%20preference%27s%20current%20value%20will%20always%20be%20visible%20on%20%26amp%3Bquot%3Bpreference%26amp%3Bquot%3B%20menu%20items.%20Here%20you%20can%20choose%20to%20display%20it%20as%20part%20of%20the%20label%20or%20as%20%26amp%3Bquot%3Bacceltext%26amp%3Bquot%3B.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22show_extra_help_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20the%20tooltip%20for%20this%20type%20of%20item%20will%20display%20extra%20information%2C%20like%20what%20action%20will%20perform%20the%20Left%20click%2C%20or%20what%20it%20means%20when%20an%20item%20is%20in%20bold%20font%2C%20etc..%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22open_on_current_tt1%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20URLs%20will%20open%20in%20current%20tab%20on%20Left%20click.%20If%20disabled/unchecked%2C%20URLs%20will%20open%20in%20a%20new%20foreground%20tab%20on%20Left%20click.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22open_on_current_tt2%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20enabled/checked%2C%20URLs%20will%20open%20in%20content%20on%20Left%20click.%20If%20disabled/unchecked%2C%20URLs%20will%20open%20in%20default%20browser%20on%20Left%20click.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22Updates_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20the%20option%20%26lt%3Bhtml%3Ab%26gt%3B%26amp%3Bquot%3BAuto-Check%20for%20updates%20every%20x%20days.%26amp%3Bquot%3B%26lt%3B/html%3Ab%26gt%3B%20is%20checked%2C%20Multi%20Menu%20will%20check%20for%20updates%20on%20_app_name_%20startup%20with%20a%20delay%20specified%20in%20seconds.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIf%20a%20new%20update%20is%20found%2C%20a%20notification%20will%20appear%20informing%20you%20if%20the%20update%20is%20%26lt%3Bhtml%3Ab%26gt%3B%26amp%3Bquot%3BCritical%26amp%3Bquot%3B%26lt%3B/html%3Ab%26gt%3B%20or%20%26lt%3Bhtml%3Ab%26gt%3B%26amp%3Bquot%3BNormal%26amp%3Bquot%3B%26lt%3B/html%3Ab%26gt%3B.%20If%20no%20new%20update%20is%20found%2C%20there%20will%20be%20no%20notification.%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BAdditionally%2C%20updates%20can%20be%20checked%20by%20pressing%20the%20button%20%26lt%3Bhtml%3Ab%26gt%3B%26amp%3Bquot%3BCheck%20now%26amp%3Bquot%3B.%26lt%3B/html%3Ab%26gt%3B%26amp%3B%23xA%3B%26amp%3B%23xA%3B%26lt%3B/description%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3B%0A%09%09%09%09%26lt%3Bhtml%3Ab%26gt%3BNone%20of%20the%20check%20for%20updates%20actions%20will%20modify%20in%20any%20way%20your%20installed%20version%20of%20Multi%20Menu%20button.%20You%20will%20have%20to%20go%20to%20Multi%20Menu%20homepage%20and%20evaluate%20if%20you%20want%20to%20update%20the%20button%20or%20not.%26lt%3B/html%3Ab%26gt%3B%0A%09%09%09%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22export_mi_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BSaves%20to%20a%20file%20all%20your%20menu%20items%20found%20inside%20the%20initialization%20tab%20of%20Multi%20Menu%20button.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22export_css_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BIt%20creates%20a%20backup%20copy%20of%20the%20CSS%20file.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22show_btn_tooltip_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BShows/Hides%20button%20tooltip.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%09%26lt%3Btooltip%20id%3D%22show_btn_dropmarker_tt%22%26gt%3B%0A%09%09%09%26lt%3Bdescription%26gt%3BShows/Hides%20button%20dropmarker.%20ONLY%20if%20button%20type%20is%20set%20to%20%26amp%3Bquot%3Bmenu%26amp%3Bquot%3B.%26lt%3B/description%26gt%3B%0A%09%09%26lt%3B/tooltip%26gt%3B%0A%09%26lt%3B/popupset%26gt%3B%0A%26lt%3B/prefwindow%26gt%3B%26lt%3B%21--OptionsWindow--%26gt%3B%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">
					Install this button</a><br><br>
					<a data-toggle="tooltip" data-placement="bottom" data-original-title="Install Multi Menu Companion" class="btn btn-primary button-name" rel="nofollow" title="" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3EMulti%20Menu%20Companion%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHFSURBVDiNlZJBaiJBFEDfpLtJR0QkxANkMYMJihs1K7dDQx/AA+QGIbmA4C65hDlCjuBO3TQKalx4gEbQxO6mu36lZ2WPEgfGDwXF59f771fVj7e3t99KqWegymkxtizr0Yzj+KXRaFTy+fxJp7fbbXU4HL6YIlL5+vpitVqdBLAsCxGpnMVxTBRFiAhBEOB5Hvf393ieRxAEiAgiwsPDQ7YXEaIoIo5jzCRJUEoBMJ/PqVar9Ho9wjBkPB5zc3MDgFIqq9tFkiSYSilEBAAR4fLyEgDbtjOr5XJJEARMJhOur685Pz/PoAcArTXT6TTroLVmsVhQr9d5fX0lDENGoxHlcvkvYH8EEeHu7i4DLJdLgG9Wu/qjIyRJQqFQ4OPjI8vvW+0u8egIuVyObrdLv9+n1WpRq9X4/Pw8sJrNZv8GlEolXNfF931c1yWOY9br9YGV1vo7YP95TNPENE201iilsG2bTqfDYDCg2Wxye3ub1X8z2N38xcVF1unq6grHcVBK4TgOYRgeGJztAPur3W7/V04phZmm6bvv+7+KxSIAm82GzWZz8OOO5dbrNWmavpuGYTx5nvestf7JCWEYxsK27ac/pI2AuAuXYB4AAAAASUVORK5CYII%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5Bif%20%28self.parentNode%20%26%26%20self.parentNode.id.match%28%22wrapper-%22%29%29%0A%09return%3B%0A%0Aif%20%28%21%28%22Services%22%20in%20window%29%29%0A%09Cu.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0A%0Aconst%20_UID%20%3D%20%22multi_menu_companion%22%20+%20%28self.id%29.split%28%22custombuttons%22%29%5B1%5D%3B%20//%20Unique%20ID%0A%0Aconst%20PREF_BRANCH%20%3D%20%22extensions.custombuttons.MultiMenuCompanion.%22%3B%0A%0Avar%20multiMenuStorage%20%3D%20OS.Path.join%28OS.Constants.Path.profileDir%2C%20%22custombuttons%22%2C%20%22MultiMenu%22%29%3B%0A%0Avar%20currentTime%20%3D%20parseInt%28%28new%20Date%28%29%29.getTime%28%29%20/%2086400000%2C%2010%29%3B%0A%0Aif%20%28%21%28_UID%20in%20window%29%29%20%7B%0A%09window%5B_UID%5D%20%3D%20%7B%0A%09%09CustomizableUI%20%3A%20false%2C%0A%09%09DevModeListener%20%3A%20false%2C%0A%09%09UpdatesChecked%20%3A%20false%0A%09%7D%3B%0A%7D%0A%0A//START//%20Default%20preferences%20management%0AbP.root%20%3D%20PREF_BRANCH%3B%0A%0AbP.defaults%20%3D%20%7B%0A%09Updates%20%3A%20false%2C%0A%09UpdatesEvery%20%3A%207%2C%0A%09UpdatesDelay%20%3A%2060%2C%0A%09UpdatesLastCheck%20%3A%20currentTime%2C%0A%09DeveloperMode%20%3A%20false%2C%0A%09MultiMenuButtonsIDs%20%3A%20%22%22%2C%0A%09SnippetsButtonHide%20%3A%20false%2C%0A%09SnippetsButtonShowLabel%20%3A%20true%2C%0A%09SnippetsButtonOpenOnMouseOver%20%3A%20true%2C%0A%09SnippetsButtonOpenCloseDelay%20%3A%20200%0A%7D%3B%0A%0Afor%20%28let%20key%20in%20bP.defaults%29%20%7B%0A%09if%20%28bP.defaults.hasOwnProperty%28key%29%29%20%7B%0A%09%09let%20val%20%3D%20bP.defaults%5Bkey%5D%3B%0A%09%09switch%20%28typeof%20val%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setBoolPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setIntPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09str.data%20%3D%20val%3B%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setComplexValue%28%28key%29%2C%0A%09%09%09%09Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%0A%7D%0A%0AbP.observe%20%3D%20function%20%28aPrefs%2C%20aCallback%29%20%7B%0A%09let%20%7B%0A%09%09root%0A%09%7D%0A%09%09%20%3D%20bP%3B%0A%09function%20observe%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09if%20%28topic%20%21%3D%3D%20%22nsPref%3Achanged%22%29%0A%09%09%09return%3B%0A%09%09let%20pref%20%3D%20data.slice%28root.length%29%3B%0A%09%09if%20%28aPrefs.indexOf%28pref%29%20%3D%3D%3D%20-1%29%0A%09%09%09return%3B%0A%09%09aCallback%28pref%29%3B%0A%09%7D%0A%09Services.prefs.addObserver%28root%2C%20observe%2C%20false%29%3B%0A%09unload%28function%20%28%29Services.prefs.removeObserver%28root%2C%20observe%29%29%3B%0A%7D%3B%0A%0Afunction%20bP%28aKey%29%20%7B%0A%09let%20%7B%0A%09%09branch%2C%0A%09%09defaults%0A%09%7D%0A%09%09%20%3D%20bP%3B%0A%09if%20%28%21branch%29%0A%09%09branch%20%3D%20Services.prefs.getBranch%28bP.root%29%3B%0A%09switch%20%28typeof%20defaults%5BaKey%5D%29%20%7B%0A%09case%20%22boolean%22%3A%0A%09%09return%20branch.getBoolPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22number%22%3A%0A%09%09return%20branch.getIntPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22string%22%3A%0A%09%09return%20branch.getComplexValue%28aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09break%3B%0A%09%7D%0A%09return%20null%3B%0A%7D%0A%0Afunction%20unload%28aCallback%2C%20aContainer%29%20%7B%0A%09let%20unloaders%20%3D%20unload.unloaders%3B%0A%09if%20%28unloaders%20%3D%3D%3D%20null%29%0A%09%09unloaders%20%3D%20unload.unloaders%20%3D%20%5B%5D%3B%0A%09if%20%28aCallback%20%3D%3D%3D%20null%29%20%7B%0A%09%09unloaders.slice%28%29.forEach%28function%20%28unloader%29unloader%28%29%29%3B%0A%09%09%09unloaders.length%20%3D%200%3B%0A%09%7D%0A%09if%20%28aContainer%20%21%3D%3D%20null%29%20%7B%0A%09%09aContainer.addEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09let%20origCallback%20%3D%20aCallback%3B%0A%09%09callback%20%3D%20function%20%28%29%20%7B%0A%09%09%09aContainer.removeEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09%09origCallback%28%29%3B%0A%09%09%7D%0A%09%09return%20null%3B%0A%09%7D%0A%09function%20unloader%28%29%20%7B%0A%09%09try%20%7B%0A%09%09%09callback%28%29%3B%0A%09%09%7D%20catch%20%28err%29%20%7B%0A%09%09%09Cu.reportError%28err%29%3B%0A%09%09%7D%0A%09%7D%0A%09unloaders.push%28unloader%29%3B%0A%09function%20removeUnloader%28%29%20%7B%0A%09%09let%20index%20%3D%20unloaders.indexOf%28unloader%29%3B%0A%09%09if%20%28index%20%21%3D%3D%20-1%29%0A%09%09%09unloaders.splice%28index%2C%201%29%3B%0A%09%7D%0A%09return%20removeUnloader%3B%0A%7D%0A//END//%20Default%20preferences%20management%0A%0Avar%20mMIDs%20%3D%20bP%28%22MultiMenuButtonsIDs%22%29.split%28%22%2C%22%29%3B%0A%0Athis.gSwitch%20%3D%20%7B%0A%09getAllCommands%20%3A%20function%20%28%29%20%7B%0A%09%09getAllCommands%28%29%3B%0A%09%7D%2C%0A%0A%09reinit%20%3A%20function%20%28aMpop%29%20%7B%0A%09%09aMpop.parentNode.removeChild%28aMpop%29%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09self.init%28%29%3B%0A%09%09%7D%2C%2010%29%3B%0A%09%7D%2C%0A%0A%09developerMode%20%3A%20function%20%28%29%20%7B%0A%09%09sBP%28%22DeveloperMode%22%2C%20%21bP%28%22DeveloperMode%22%29%29%3B%0A%09%09self.init%28%29%3B%0A%09%7D%2C%0A%0A%09openMultiMenuStorage%20%3A%20function%20%28%29%20%7B%0A%09%09let%20nsIFile%20%3D%20Components.Constructor%28%22@mozilla.org/file/local%3B1%22%2C%0A%09%09%09%09%22nsIFile%22%2C%20%22initWithPath%22%29%3B%0A%09%09new%20nsIFile%28multiMenuStorage%29.reveal%28%29%3B%0A%09%7D%2C%0A%0A%09snippetsButtonHide%20%3A%20function%20%28%29%20%7B%0A%09%09sBP%28%22SnippetsButtonHide%22%2C%20%21bP%28%22SnippetsButtonHide%22%29%29%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09if%20%28bP%28%22SnippetsButtonHide%22%29%29%0A%09%09%09%09self.initSnippetsButton%28true%29%3B%0A%09%09%09else%0A%09%09%09%09self.initSnippetsButton%28%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%7D%2C%0A%0A%09updates%20%3A%20function%20%28%29%20%7B%0A%09%09sBP%28%22Updates%22%2C%20%21bP%28%22Updates%22%29%29%3B%0A%09%7D%2C%0A%0A%09updatesEvery%20%3A%20function%20%28%29%20%7B%0A%09%09value%20%3D%20promptme%28%22Auto-check%20for%20Speed%20Dial%20updates%20every...%5CnEnter%20number%20of%20days%3A%20%281%20to%20365%29%22%2C%0A%09%09%09%09bP%28%22UpdatesEvery%22%29%29%3B%0A%09%09if%20%28%21value%29%0A%09%09%09return%3B%0A%09%09let%20days%20%3D%20parseInt%28value%2C%2010%29%3B%0A%09%09if%20%28days%20%3C%3D%200%20%7C%7C%20days%20%3E%3D%20366%20%7C%7C%20%21days%29%0A%09%09%09days%20%3D%207%3B%0A%09%09Services.prefs.setIntPref%28PREF_BRANCH%20+%20%22UpdatesEvery%22%2C%20days%29%3B%0A%09%7D%2C%0A%0A%09updatesDelay%20%3A%20function%20%28%29%20%7B%0A%09%09value%20%3D%20promptme%28%22After%20%22%20+%20Services.appinfo.name%20+%0A%09%09%09%09%22%20starts%2C%20delay%20check%20updates%20for...%5CnEnter%20number%20of%20seconds%3A%20%281%20to%209999%29%22%2C%20bP%28%22UpdatesDelay%22%29%29%3B%0A%09%09if%20%28%21value%29%0A%09%09%09return%3B%0A%09%09let%20seconds%20%3D%20parseInt%28value%2C%2010%29%3B%0A%09%09if%20%28seconds%20%3C%3D%200%20%7C%7C%20seconds%20%3E%3D%2010000%20%7C%7C%20%21seconds%29%0A%09%09%09seconds%20%3D%2060%3B%0A%09%09Services.prefs.setIntPref%28PREF_BRANCH%20+%20%22UpdatesDelay%22%2C%20seconds%29%3B%0A%09%7D%2C%0A%0A%09checkNow%20%3A%20function%20%28%29%20%7B%0A%09%09self.buttonUpdateChecker.checkLatestVersion%28%29%3B%0A%09%7D%0A%7D%3B%0A%0Athis.onclick%20%3D%20function%20%28aE%29%20%7B%0A%09if%20%28aE.button%20%3D%3D%3D%200%20%26%26%20%21aE.shiftKey%20%26%26%20%21aE.ctrlKey%20%26%26%20%21aE.altKey%29%20%7B%0A%09%09aE.preventDefault%28%29%3B%0A%09%09let%20popupSet%20%3D%20%24%28%22mainPopupSet%22%29%2C%0A%09%09optPopup%20%3D%20%24%28_UID%20+%20%22-options-mpop%22%29%2C%0A%09%09opt_tt%20%3D%20%7B%0A%09%09%09SSB%20%3A%20%22If%20enabled/checked%2C%20all%20CB%20Editor%20windows%27%20of%20all%20currently%20installed%20Multi%20Menu%22%20+%0A%09%09%09%22%20buttons%20will%20have%20a%20menu%20button%20with%20snippets%20to%20facilitate%20items%20creation.%22%2C%0A%09%09%09DM%20%3A%20%22If%20enabled/checked%2C%20it%20will%20enable%20some%20global%20shortcuts%20to%20facilitate%20items%22%20+%0A%09%09%09%22%20creation.%20Read%20more%20in%20Multi%20Menu%27s%20Help%20page.%20KEEP%20THIS%20OPTION%20DISABLED%20DURING%20NORMAL%20USE.%22%2C%0A%09%09%09GAC%20%3A%20%22It%20will%20copy%20to%20the%20clipboard%20all%20the%20application%27s%20commands.%20This%20commands%20can%22%20+%0A%09%09%09%22%20be%20used%20to%20create%20%26quot%3Bcustom%26quot%3B%20Multi%20Menu%20items.%22%2C%0A%09%09%09UPD%20%3A%20%22If%20checked%2C%20%22%20+%20self.name%20+%20%22%20will%20auto-check%20for%20updates%20every%20x%20amount%20of%20days.%22%2C%0A%09%09%09UPDE%20%3A%20%22Sets%20the%20amount%20of%20days%20for%20%22%20+%20self.name%20+%20%22%20to%20auto-check%20for%20updates.%22%2C%0A%09%09%09UPDD%20%3A%20%22Sets%20the%20amount%20of%20seconds%20after%20%22%20+%20Services.appinfo.name%20+%20%22%20startup%20for%20%22%20+%0A%09%09%09self.name%20+%20%22%20to%20%22%20+%20%22start%20looking%20for%20updates.%22%2C%0A%09%09%09UPDN%20%3A%20%22Check%20for%20updates%20right%20away.%22%0A%09%09%7D%3B%0A%09%09if%20%28%21optPopup%29%20%7B%0A%09%09%09popupSet.appendChild%28%24XML%28%0A%09%09%09%09%09%22%3Cmenupopup%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%20id%3D%5C%22%22%20+%20_UID%20+%20%22-options-mpop%5C%22%22%20+%0A%09%09%09%09%09%22%20onpopuphiding%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%0A%09%09%09%09%09%22%27%29.gSwitch.reinit%28this%29%3B%5C%22%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Show%20Snippets%20Button%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.SSB%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.snippetsButtonHide%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%20checked%3D%5C%22%22%20+%20%21bP%28%22SnippetsButtonHide%22%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Developer%20mode%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.DM%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.developerMode%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%20checked%3D%5C%22%22%20+%0A%09%09%09%09%09bP%28%22DeveloperMode%22%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuseparator/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Get%20all%20commands%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.getAllCommands%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.GAC%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Open%20Multi%20Menu%20storage%5C%22%20class%3D%5C%22menuitem-iconic%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.openMultiMenuStorage%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuseparator/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenu%20label%3D%5C%22Updates%20checker%20options%5C%22%3E%22%20+%0A%09%09%09%09%09%22%3Cmenupopup%20onpopuphiding%3D%5C%22event.stopPropagation%28%29%3B%5C%22%20orient%3D%5C%22horizontal%5C%22%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Auto-check%20for%20updates%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.UPD%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.updates%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20checked%3D%5C%22%22%20+%20bP%28%22Updates%22%29%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20type%3D%5C%22checkbox%5C%22%20/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Check%20every...%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.UPDE%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.updatesEvery%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Check%20delay...%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.UPDD%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.updatesDelay%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Check%20now%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.UPDN%20+%20%22%5C%22%22%20+%0A%09%09%09%09%09%22%20oncommand%3D%5C%22document.getElementById%28%27%22%20+%20self.id%20+%20%22%27%29.gSwitch.checkNow%28%29%3B%5C%22%22%20+%0A%09%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%09%22%3C/menupopup%3E%22%20+%0A%09%09%09%09%09%22%3C/menu%3E%22%20+%0A%09%09%09%09%09%22%3C/menupopup%3E%22%29%29%3B%0A%09%09%09%24%28_UID%20+%20%22-options-mpop%22%29.openPopup%28aE.target%2C%20%22after_start%22%2C%20null%2C%20null%2C%20false%2C%20null%2C%20null%29%3B%0A%09%09%7D%20else%0A%09%09%09optPopup.parentNode.removeChild%28optPopup%29%3B%0A%09%09this.onmouseover%20%3D%20null%3B%0A%09%09this.onmouseout%20%3D%20null%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%7D%0A%7D%3B%0A%0Afunction%20%24%28aId%29%20%7B%20//%20Return%20elements%20by%20Id%0A%09return%20document.getElementById%28aId%29%3B%0A%7D%0A%0Afunction%20sCV%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//Set%20Complex%20Value%20%28Char%20Pref%29%0A%09var%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09str.data%20%3D%20aVal%3B%0A%09Services.prefs.setComplexValue%28%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%2C%0A%09%09Ci.nsISupportsString%2C%20str%29%3B%0A%09Services.prefs.savePrefFile%28null%29%3B%0A%7D%0A%0Afunction%20gCV%28aKey%2C%20aBranch%29%20%7B%20//Get%20Complex%20Value%20%28Char%20Pref%29%0A%09return%20Services.prefs.getComplexValue%28%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%2C%0A%09%09Ci.nsISupportsString%29.data%3B%0A%7D%0A%0Afunction%20sBP%28aKey%2C%20aVal%2C%20aBranch%29%20%7B%20//Set%20Boolean%20Pref%0A%09Services.prefs.setBoolPref%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%2C%20aVal%29%3B%0A%09Services.prefs.savePrefFile%28null%29%3B%0A%7D%0A%0Afunction%20gBP%28aKey%2C%20aBranch%29%20%7B%20//Get%20Boolean%20Pref%0A%09return%20Services.prefs.getBoolPref%28%28%21aBranch%29%20%3F%20PREF_BRANCH%20+%20aKey%20%3A%20aKey%29%3B%0A%7D%0A%0Afunction%20getHelp%28aPlaceholder%29%20%7B%20//%20Get%20specific%20data%2C%20surrounded%20by%20%22placeholders%22%2C%20from%20the%20Help%20tab.%0A%09return%20%24%28self.id%29.getAttribute%28%22Help%22%29.split%28%22%3C%21--%22%20+%20aPlaceholder%20+%20%22--%3E%22%29%5B1%5D%3B%0A%7D%0A%0Afunction%20%24XML%28aXML%29%20%7B%20//%20Return%20parsed%20XML%0A%09aXML%20%3D%20aXML.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%20//%20Linearize%20XML%0A%09return%20%28new%20DOMParser%29.parseFromString%28aXML%2C%20%22application/xml%22%29.documentElement%3B%0A%7D%0A%0Afunction%20notifyme%28aTitle%2C%20aMsg%2C%20aImg%2C%20aCallback%29%20%7B%20//%20Notification%20function%0A%09var%20nsIAlertsService%20%3D%20Cc%5B%22@mozilla.org/alerts-service%3B1%22%5D.getService%28Ci.nsIAlertsService%29%2C%0A%09origin%20%3D%20%28Services.prefs.getPrefType%28%22ui.alertNotificationOrigin%22%29%20%21%3D%3D%200%29%0A%09%20%3F%20Services.prefs.getIntPref%28%22ui.alertNotificationOrigin%22%29%0A%09%20%3A%20null%3B%0A%09try%20%7B%0A%09%09nsIAlertsService.showAlertNotification%28aImg%2C%20aTitle%2C%20aMsg%2C%20%21%21aCallback%2C%20%22%22%2C%20aCallback%2C%20%22%22%29%3B%0A%09%7D%20catch%20%28aEr%29%20%7B%0A%09%09let%20win%20%3D%20Services.ww.openWindow%28null%2C%20%22chrome%3A//global/content/alerts/alert.xul%22%2C%0A%09%09%09%09%22_blank%22%2C%20%22chrome%2Ctitlebar%3Dno%2Cpopup%3Dyes%22%2C%20null%29%3B%0A%09%09win.arguments%20%3D%20%5BaImg%2C%20aTitle%2C%20aMsg%2C%20%21%21aCallback%2C%20%22%22%2C%20origin%2C%20%22%22%2C%20%22%22%2C%20null%2C%20aCallback%5D%3B%0A%09%7D%0A%7D%0A%0Afunction%20promptme%28aMsg%2C%20aVal%29%20%7B%0A%09let%20retVal%20%3D%20%7B%0A%09%09value%20%3A%20aVal%0A%09%7D%3B%0A%09if%20%28Services.prompt.prompt%28null%2C%20%28self.label%20%7C%7C%20self.name%29%2C%20aMsg%2C%20retVal%2C%20null%2C%20%7B%7D%29%29%0A%09%09return%20retVal.value%3B%0A%09else%0A%09%09return%20false%3B%0A%09return%20false%3B%0A%7D%0A%0Afunction%20setButtonDesign%28aDoc%29%20%7B%0A%09let%20btn%20%3D%20aDoc.getElementById%28_UID%20+%20%22-snippets-button%22%29%3B%0A%09btn.tooltipText%20%3D%20self.name%3B%0A%09btn.style.MozAppearance%20%3D%20%22none%22%3B%0A%09btn.style.margin%20%3D%20%220px%22%3B%0A%09btn.style.padding%20%3D%20%220px%22%3B%0A%09btn.label%20%3D%20%22%20Insert%20items%20%22%3B%0A%09let%20image%20%3D%20aDoc.getAnonymousElementByAttribute%28btn%2C%20%22class%22%2C%20%22toolbarbutton-icon%22%29%3B%0A%09image.style.MozMargin%20%3D%20%220px%22%3B%0A%09image.style.margin%20%3D%20%221px%22%3B%0A%09let%20dropmarker%20%3D%20aDoc.getAnonymousElementByAttribute%28btn%2C%20%22class%22%2C%20%22toolbarbutton-menu-dropmarker%22%29%3B%0A%09dropmarker.hidden%20%3D%20true%3B%0A%7D%0A%0Avar%20place%20%3D%20null%3B%0Avar%20focusedElement%20%3D%20null%3B%0A%0Afunction%20createButton%28aDoc%29%20%7B%0A%09let%20btn%20%3D%20document.createElementNS%28xulns%2C%20%22toolbarbutton%22%29%3B%0A%09btn.setAttribute%28%22image%22%2C%20self.image%29%3B%0A%09btn.setAttribute%28%22id%22%2C%20_UID%20+%20%22-snippets-button%22%29%3B%0A%09btn.setAttribute%28%22type%22%2C%20%22menu%22%29%3B%0A%09btn.timer%20%3D%200%3B%0A%09btn.onmouseover%20%3D%20function%20%28%29%20%7B%0A%09%09place%20%3D%20aDoc.commandDispatcher.focusedElement%3B%0A%09%09if%20%28bP%28%22SnippetsButtonOpenOnMouseOver%22%29%29%20%7B%0A%09%09%09let%20thisMenupopup%20%3D%20aDoc.getElementById%28_UID%20+%20%22-mpop-inserter%22%29%3B%0A%09%09%09clearTimeout%28btn.timer%29%3B%0A%09%09%09btn.timer%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09thisMenupopup%20%26%26%20thisMenupopup.openPopup%28btn%2C%20%22after_start%22%2C%200%2C%200%2C%20false%2C%20false%29%3B%0A%09%09%09%09%7D%2C%20bP%28%22SnippetsButtonOpenCloseDelay%22%29%29%3B%0A%09%09%7D%0A%09%7D%3B%0A%09btn.onmouseout%20%3D%20function%20%28%29%20%7B%0A%09%09if%20%28bP%28%22SnippetsButtonOpenOnMouseOver%22%29%29%20%7B%0A%09%09%09let%20thisMenupopup%20%3D%20aDoc.getElementById%28_UID%20+%20%22-mpop-inserter%22%29%3B%0A%09%09%09clearTimeout%28btn.timer%29%3B%0A%09%09%09btn.timer%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09thisMenupopup%20%26%26%20thisMenupopup.hidePopup%28%29%3B%0A%09%09%09%09%7D%2C%20bP%28%22SnippetsButtonOpenCloseDelay%22%29%29%3B%0A%09%09%7D%0A%09%7D%3B%0A%09var%20mainMenupopup%20%3D%20document.createElementNS%28xulns%2C%20%22menupopup%22%29%3B%0A%09mainMenupopup.setAttribute%28%22id%22%2C%20_UID%20+%20%22-mpop-inserter%22%29%3B%0A%09btn.appendChild%28mainMenupopup%29%3B%0A%09let%20items%20%3D%20getHelp%28%22SnippetsMenuItems%22%29.split%28%22//%u25BA%u25BA%u25BA//%22%29%3B%0A%09let%20iLen%20%3D%20items.length%3B%0A%09for%20%28let%20i%20%3D%200%3B%20i%20%3C%20iLen%3B%20i++%29%20%7B%0A%09%09if%20%28items%5Bi%5D%20%21%3D%3D%20%22%22%29%20%7B%0A%09%09%09let%20label%20%3D%20items%5Bi%5D.split%28%22%5Cn%22%2C%201%29%5B0%5D%3B%0A%09%09%09if%20%28label%20%3D%3D%3D%20%22%u25BA%u25BA%u25BASeparator%u25C4%u25C4%u25C4%22%29%20%7B%0A%09%09%09%09mainMenupopup.appendChild%28document.createElementNS%28xulns%2C%20%22menuseparator%22%29%29%3B%0A%09%09%09%09continue%3B%0A%09%09%09%7D%0A%09%09%09let%20insertText%20%3D%20items%5Bi%5D.replace%28label%20+%20%22%5Cn%22%2C%20%22%22%29%3B%0A%09%09%09let%20menuitem%20%3D%20createMItems%28aDoc%2C%20label%2C%20insertText%29%3B%0A%09%09%09mainMenupopup.appendChild%28menuitem%29%3B%0A%09%09%7D%0A%09%7D%0A%09return%20btn%3B%0A%7D%0A%0Afunction%20createMItems%28aDoc%2C%20aLabel%2C%20aInsText%29%20%7B%0A%09let%20mI%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%3B%0A%09mI.setAttribute%28%22label%22%2C%20aLabel%29%3B%0A%09mI.insertText%20%3D%20aInsText%3B%0A%09mI.inserter%20%3D%20function%20inserter%28aText%29%20%7B%0A%09%09var%20firstPart%20%3D%20aText%3B%0A%09%09var%20cursorPosition%20%3D%20place.selectionStart%20+%20firstPart.length%3B%0A%09%09var%20controller%20%3D%20aDoc.commandDispatcher.getControllerForCommand%28%22cmd_insertText%22%29%3B%0A%09%09if%20%28controller%20%26%26%20controller.isCommandEnabled%28%22cmd_insertText%22%29%29%20%7B%0A%09%09%09controller%20%3D%20controller.QueryInterface%28Ci.nsICommandController%29%3B%0A%09%09%09var%20params%20%3D%20Cc%5B%22@mozilla.org/embedcomp/command-params%3B1%22%5D%0A%09%09%09%09.createInstance%28Ci.nsICommandParams%29%3B%0A%09%09%09params.setStringValue%28%22state_data%22%2C%20aText%29%3B%0A%09%09%09controller.doCommandWithParams%28%22cmd_insertText%22%2C%20params%29%3B%0A%09%09%7D%0A%09%09place.selectionStart%20%3D%20place.selectionEnd%20%3D%20cursorPosition%3B%0A%09%7D%3B%0A%09let%20commandString%20%3D%20%22inserter%28event.target.insertText%29%22%3B%0A%09mI.setAttribute%28%22oncommand%22%2C%20%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%29%3B%0A%09mI.setAttribute%28%22onclick%22%2C%20commandString%29%3B%0A%09return%20mI%3B%0A%7D%0A%0Afunction%20isButtonAlreadyPresent%28aDoc%29%20%7B%0A%09return%20%21%21aDoc.getElementById%28_UID%20+%20%22-snippets-button%22%29%3B%0A%7D%0A%0Avar%20snippetsObserver%20%3D%20%7B%0A%09observe%20%3A%20function%20%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09subject.addEventListener%28%22load%22%2C%20this%2C%20false%29%3B%0A%09%7D%2C%0A%09handleEvent%20%3A%20function%20%28aE%29%20%7B%0A%09%09var%20doc%20%3D%20aE.target%3B%0A%09%09var%20win%20%3D%20doc.defaultView%3B%0A%09%09win.removeEventListener%28%22load%22%2C%20this%2C%20false%29%3B%0A%09%09var%20winHref%20%3D%20doc.location.href.split%28%22custombuttons-button%22%29%5B1%5D%3B%0A%09%09if%20%28%21mMIDs%20%7C%7C%20mMIDs.indexOf%28winHref%29%20%3D%3D%3D%20-1%20%7C%7C%20bP%28%22SnippetsButtonHide%22%29%29%0A%09%09%09return%3B%0A%09%09if%20%28%21isButtonAlreadyPresent%28doc%29%29%20%7B%0A%09%09%09var%20tabs%20%3D%20doc.getElementsByTagName%28%22tabs%22%29%3B%0A%09%09%09tabs%5B0%5D.appendChild%28createButton%28doc%29%29%3B%0A%09%09%09setButtonDesign%28doc%29%3B%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Afunction%20alsoForTab%28aE%29%20%7B%0A%09var%20doc%20%3D%20aE.target%3B%0A%09var%20winHref%20%3D%20doc.location.href.split%28%22custombuttons-button%22%29%5B1%5D%3B%0A%09if%20%28%21mMIDs%20%7C%7C%20mMIDs.indexOf%28winHref%29%20%3D%3D%3D%20-1%20%7C%7C%20bP%28%22SnippetsButtonHide%22%29%29%0A%09%09return%3B%0A%09if%20%28%21isButtonAlreadyPresent%28doc%29%29%20%7B%0A%09%09var%20tabs%20%3D%20doc.getElementsByTagName%28%22tabs%22%29%3B%0A%09%09tabs%5B0%5D.appendChild%28createButton%28doc%29%29%3B%0A%09%09setButtonDesign%28doc%29%3B%0A%09%7D%0A%7D%0A%0Athis.initSnippetsButton%20%3D%20function%20%28aDestroyer%29%20%7B%0A%09if%20%28%21bP%28%22SnippetsButtonHide%22%29%20%26%26%20%21aDestroyer%29%20%7B%0A%09%09Services.obs.addObserver%28snippetsObserver%2C%20%22domwindowopened%22%2C%20false%29%3B%0A%09%09%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%26%26%20window.addEventListener%28%22DOMContentLoaded%22%2C%20alsoForTab%2C%20false%29%3B%0A%09%09sBP%28%22SnippetsButtonHide%22%2C%20false%29%3B%0A%09%7D%0A%09if%20%28bP%28%22SnippetsButtonHide%22%29%20%7C%7C%20aDestroyer%29%20%7B%0A%09%09try%20%7B%0A%09%09%09Services.obs.removeObserver%28snippetsObserver%2C%20%22domwindowopened%22%29%3B%0A%09%09%09%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%26%26%20window.removeEventListener%28%22DOMContentLoaded%22%2C%20alsoForTab%2C%20false%29%3B%0A%09%09%7D%20catch%20%28aError%29%20%7B%7D%0A%09%09aDestroyer%20%7C%7C%20sBP%28%22SnippetsButtonHide%22%2C%20true%29%3B%0A%09%7D%0A%09if%20%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%7B%0A%09%09var%20tabContainer%20%3D%20gBrowser.tabContainer%3B%0A%09%09var%20tabs%20%3D%20tabContainer.childNodes%2C%0A%09%09tLen%20%3D%20tabContainer.itemCount%3B%0A%09%09for%20%28let%20t%20%3D%200%3B%20t%20%3C%20tLen%3B%20t++%29%20%7B%0A%09%09%09var%20pageDoc%20%3D%20tabs%5Bt%5D.linkedBrowser.contentDocument%3B%0A%09%09%09let%20winHref%20%3D%20pageDoc.location.href.split%28%22custombuttons-button%22%29%5B1%5D%3B%0A%09%09%09if%20%28%21mMIDs%20%7C%7C%20mMIDs.indexOf%28winHref%29%20%3D%3D%3D%20-1%29%0A%09%09%09%09continue%3B%0A%09%09%09if%20%28%21bP%28%22SnippetsButtonHide%22%29%20%26%26%20%21aDestroyer%29%20%7B%0A%09%09%09%09if%20%28isButtonAlreadyPresent%28pageDoc%29%29%0A%09%09%09%09%09continue%3B%0A%09%09%09%09let%20tbs%20%3D%20pageDoc.getElementsByTagName%28%22tabs%22%29%3B%0A%09%09%09%09tbs%5B0%5D.appendChild%28createButton%28pageDoc%29%29%3B%0A%09%09%09%09setButtonDesign%28pageDoc%29%3B%0A%09%09%09%7D%0A%09%09%09if%20%28bP%28%22SnippetsButtonHide%22%29%20%7C%7C%20aDestroyer%29%20%7B%0A%09%09%09%09var%20b%20%3D%20pageDoc.getElementById%28_UID%20+%20%22-snippets-button%22%29%3B%0A%09%09%09%09while%20%28b%29%20%7B%0A%09%09%09%09%09b%20%3D%20pageDoc.getElementById%28_UID%20+%20%22-snippets-button%22%29%3B%0A%09%09%09%09%09b%20%26%26%20b.parentNode.removeChild%28b%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%09var%20win%20%3D%20true%3B%0A%09while%20%28win%29%20%7B%0A%09%09win%20%3D%20em.getNext%28%29%3B%0A%09%09if%20%28%21win%29%0A%09%09%09return%3B%0A%09%09var%20doc%20%3D%20win.document%3B%0A%09%09let%20winHref%20%3D%20doc.location.href.split%28%22custombuttons-button%22%29%5B1%5D%3B%0A%09%09if%20%28%21mMIDs%20%7C%7C%20mMIDs.indexOf%28winHref%29%20%3D%3D%3D%20-1%29%0A%09%09%09continue%3B%0A%09%09if%20%28%21bP%28%22SnippetsButtonHide%22%29%20%26%26%20%21aDestroyer%29%20%7B%0A%09%09%09if%20%28isButtonAlreadyPresent%28doc%29%29%0A%09%09%09%09continue%3B%0A%09%09%09let%20tbs%20%3D%20doc.getElementsByTagName%28%22tabs%22%29%3B%0A%09%09%09tbs%5B0%5D.appendChild%28createButton%28doc%29%29%3B%0A%09%09%09setButtonDesign%28doc%29%3B%0A%09%09%7D%0A%09%09if%20%28bP%28%22SnippetsButtonHide%22%29%20%7C%7C%20aDestroyer%29%20%7B%0A%09%09%09var%20insertBtn%20%3D%20doc.getElementById%28_UID%20+%20%22-snippets-button%22%29%3B%0A%09%09%09while%20%28insertBtn%29%20%7B%0A%09%09%09%09insertBtn%20%3D%20doc.getElementById%28_UID%20+%20%22-snippets-button%22%29%3B%0A%09%09%09%09insertBtn%20%26%26%20insertBtn.parentNode.removeChild%28insertBtn%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Athis.onmouseover%20%3D%20function%20%28%29%20%7B%0A%09self.tooltipText%20%3D%20self.name%20+%20%22%20%3A%3A%20ID%20%3D%20%22%20+%20custombuttons.getNumber%28self.id%29%20+%20%22%5Cn%5Cn%22%20+%0A%09%09%22Developer%20Mode%20is%20%22%20+%20%28bP%28%22DeveloperMode%22%29%20%3F%20%22ENABLED%22%20%3A%20%22DISABLED%22%29%20+%20%22%5Cn%22%20+%0A%09%09%22Snippets%20Button%20is%20%22%20+%20%28bP%28%22SnippetsButtonHide%22%29%20%3F%20%22HIDDEN%22%20%3A%20%22SHOWN%22%29%20+%20%22%5Cn%22%3B%0A%7D%3B%0A%0Avar%20ItemsCreator%20%3D%20%7B%0A%09handleEvent%20%3A%20function%20%28aE%29%20%7B%0A%09%09if%20%28%21aE.ctrlKey%20%7C%7C%20%21aE.button%20%3D%3D%3D%202%20%7C%7C%20%21bP%28%22DeveloperMode%22%29%29%0A%09%09%09return%3B%0A%09%09aE.stopPropagation%28%29%3B%0A%09%09aE.preventDefault%28%29%3B%0A%09%09var%20attr%20%3D%20%5B%5D%2C%0A%09%09node%20%3D%20aE.originalTarget%3B%0A%09%09if%20%28aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20%21aE.altKey%20%26%26%20aE.button%20%3D%3D%3D%202%29%20%7B%0A%09%09%09let%20attrList%20%3D%20node.attributes%3B%0A%09%09%09let%20aLen%20%3D%20attrList.length%3B%0A%09%09%09for%20%28let%20a%20%3D%200%3B%20a%20%3C%20aLen%3B%20a++%29%20%7B%0A%09%09%09%09if%20%28attrList%5Ba%5D.name%20%3D%3D%3D%20%22cb-oncommand%22%20%7C%7C%20attrList%5Ba%5D.name%20%3D%3D%3D%20%22cb-init%22%20%7C%7C%0A%09%09%09%09%09attrList%5Ba%5D.name%20%3D%3D%3D%20%22cb-mode%22%20%7C%7C%20attrList%5Ba%5D.name%20%3D%3D%3D%20%22Help%22%29%0A%09%09%09%09%09continue%3B%0A%09%09%09%09else%0A%09%09%09%09%09attr.push%28attrList%5Ba%5D.name%20+%20%22%3D%5C%22%22%20+%20attrList%5Ba%5D.value%20+%20%22%5C%22%22%29%3B%0A%09%09%09%7D%0A%09%09%09gClipboard.write%28attr.join%28%22%5Cn%22%29%29%3B%0A%09%09%09notifyme%28%22List%20of%20attributes%22%2C%20%22copied%20to%20clipboard.%22%29%3B%0A%09%09%7D%20else%20if%20%28%21aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20aE.altKey%20%26%26%20aE.button%20%3D%3D%3D%202%29%20%7B%0A%09%09%09attr%20%3D%20node.attributes%3B%0A%09%09%09switch%20%28node.nodeName%29%20%7B%0A%09%09%09case%20%22menu%22%3A%0A%09%09%09%09if%20%28node.hasAttribute%28%22id%22%29%29%20%7B%0A%09%09%09%09%09gClipboard.write%28%22left.push%28%5B%27M%27%2C%20%27clone%27%2C%20%27%22%20+%20attr%5B%22id%22%5D.value%20+%0A%09%09%09%09%09%09%22%27%2C%20%27%27%2C%20%27%27%2C%20%27%27%5D%29%3B%22%20+%20%22%20//%20%22%20+%20attr%5B%22label%22%5D.value%20+%20%22%20menu%22%29%3B%0A%09%09%09%09%09notifyme%28%22Cloned%20%5C%22%22%20+%20attr%5B%22label%22%5D.value%20+%20%22%5C%22%20menu%22%2C%20%22copied%20to%20clipboard.%22%29%3B%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09notifyme%28%22This%20element%20cannot%20be%20cloned.%22%2C%20%22It%20does%20not%20contain%20an%20ID.%22%29%3B%0A%09%09%09%09break%3B%0A%09%09%09case%20%22menuitem%22%3A%0A%09%09%09%09if%20%28node.hasAttribute%28%22id%22%29%29%20%7B%0A%09%09%09%09%09gClipboard.write%28%22left.push%28%5B%27MI%27%2C%20%27clone%27%2C%20%27%22%20+%20attr%5B%22id%22%5D.value%20+%20%22%27%2C%20%27%27%2C%20%27%27%5D%29%3B%22%20+%0A%09%09%09%09%09%09%22%20//%20%22%20+%20attr%5B%22label%22%5D.value%20+%20%22%20menuitem%22%29%3B%0A%09%09%09%09%09notifyme%28%22Cloned%20%5C%22%22%20+%20attr%5B%22label%22%5D.value%20+%20%22%5C%22%20menuitem%22%2C%20%22copied%20to%20clipboard.%22%29%3B%0A%09%09%09%09%7D%20else%0A%09%09%09%09%09notifyme%28%22This%20element%20cannot%20be%20cloned.%22%2C%20%22It%20does%20not%20contain%20an%20ID.%22%29%3B%0A%09%09%09%09break%3B%0A%09%09%09default%3A%0A%09%09%09%09notifyme%28%22This%20element%22%2C%20%22cannot%20be%20cloned.%22%29%3B%0A%09%09%09%7D%0A%09%09%7D%20else%20if%20%28%21aE.shiftKey%20%26%26%20aE.ctrlKey%20%26%26%20%21aE.altKey%20%26%26%20aE.button%20%3D%3D%3D%202%29%20%7B%0A%09%09%09if%20%28node.nodeName%20%3D%3D%3D%20%22menuitem%22%20%7C%7C%20node.nodeName%20%3D%3D%3D%20%22toolbarbutton%22%29%20%7B%0A%09%09%09%09attr%20%3D%20node.attributes%3B%0A%09%09%09%09var%20label%20%3D%20node.hasAttribute%28%22label%22%29%20%3F%20attr%5B%22label%22%5D.value%20%3A%20%22%22%2C%0A%09%09%09%09image%20%3D%20node.hasAttribute%28%22image%22%29%20%3F%20attr%5B%22image%22%5D.value%20%3A%20%22%22%2C%0A%09%09%09%09tooltip%20%3D%20node.hasAttribute%28%22tooltiptext%22%29%20%3F%20attr%5B%22tooltiptext%22%5D.value%0A%09%09%09%09%09%20%3A%20node.hasAttribute%28%22tooltip%22%29%20%3F%20attr%5B%22tooltip%22%5D.value%20%3A%20%22%22%2C%0A%09%09%09%09elID%20%3D%20node.hasAttribute%28%22id%22%29%20%3F%20attr%5B%22id%22%5D.value%20%3A%20%22%22%3B%0A%09%09%09%09var%20mI%20%3D%20null%3B%0A%09%09%09%09if%20%28/%5Ecustombuttons-button%5Cd+/.test%28elID%29%29%20%7B%0A%09%09%09%09%09gClipboard.write%28%22left.push%28%5B%27MI%27%2C%20%27cb%27%2C%20%27%22%20+%0A%09%09%09%09%09%09elID.split%28%22custombuttons-button%22%29%5B1%5D%20+%20%22%27%5D%29%3B%20//%20%22%20+%20label%20+%20%22%20menuitem%22%29%3B%0A%09%09%09%09%09notifyme%28%22Custom%20Button%20menu%20item%22%2C%20%22successfully%20created%20and%20copied%20to%20clipboard.%22%29%3B%0A%09%09%09%09%7D%20else%20%7B%0A%09%09%09%09%09if%20%28node.hasAttribute%28%22oncommand%22%29%20%26%26%0A%09%09%09%09%09%09%21node.hasAttribute%28%22onclick%22%29%20%26%26%20%21node.hasAttribute%28%22command%22%29%29%20%7B%0A%09%09%09%09%09%09gClipboard.write%28%22left.push%28%5B%27MI%27%2C%20%27custom%27%2C%20%27%22%20+%20label%20+%20%22%27%2C%20%27%22%20+%0A%09%09%09%09%09%09%09escAttr%28attr%5B%22oncommand%22%5D.value%29%20+%20%22%27%2C%20%27%22%20+%20image%20+%20%22%27%2C%20%27%22%20+%0A%09%09%09%09%09%09%09escAttr%28tooltip%29%20+%20%22%27%5D%29%3B%20//%20%22%20+%20label%20+%20%22%20menuitem%22%29%3B%0A%09%09%09%09%09%09mI%20%3D%20label%3B%0A%09%09%09%09%09%7D%20else%20if%20%28node.hasAttribute%28%22command%22%29%29%20%7B%0A%09%09%09%09%09%09gClipboard.write%28%22left.push%28%5B%27MI%27%2C%20%27custom%27%2C%20%27%22%20+%20label%20+%20%22%27%2C%20%27%22%20+%0A%09%09%09%09%09%09%09escAttr%28%22document.getElementById%28%27%22%20+%20attr%5B%22command%22%5D.value%20+%0A%09%09%09%09%09%09%09%09%22%27%29.doCommand%28%29%3B%22%29%20+%20%22%27%2C%20%27%22%20+%20image%20+%20%22%27%2C%20%27%22%20+%20escAttr%28tooltip%29%20+%0A%09%09%09%09%09%09%09%22%27%5D%29%3B%22%20+%20%22%20//%20%22%20+%20label%20+%20%22%20menuitem%22%29%3B%0A%09%09%09%09%09%09mI%20%3D%20label%3B%0A%09%09%09%09%09%7D%20else%20if%20%28node.hasAttribute%28%22onclick%22%29%20%26%26%0A%09%09%09%09%09%09%21node.hasAttribute%28%22oncommand%22%29%20%26%26%20%21node.hasAttribute%28%22command%22%29%29%20%7B%0A%09%09%09%09%09%09gClipboard.write%28%22left.push%28%5B%27MI%27%2C%20%27custom%27%2C%20%27%22%20+%20label%20+%20%22%27%2C%20%27%22%20+%0A%09%09%09%09%09%09%09escAttr%28attr%5B%22onclick%22%5D.value%29%20+%20%22%27%2C%20%27%22%20+%20image%20+%20%22%27%2C%20%27%22%20+%0A%09%09%09%09%09%09%09escAttr%28tooltip%29%20+%20%22%27%5D%29%3B%20//%20%22%20+%20label%20+%20%22%20menuitem%22%29%3B%0A%09%09%09%09%09%09mI%20%3D%20label%3B%0A%09%09%09%09%09%7D%20else%20if%20%28node.hasAttribute%28%22id%22%29%20%26%26%0A%09%09%09%09%09%09%21%28node.hasAttribute%28%22oncommand%22%29%20%7C%7C%0A%09%09%09%09%09%09%09node.hasAttribute%28%22command%22%29%20%7C%7C%0A%09%09%09%09%09%09%09node.hasAttribute%28%22onclick%22%29%29%29%20%7B%0A%09%09%09%09%09%09gClipboard.write%28%22left.push%28%5B%27MI%27%2C%20%27custom%27%2C%20%27%22%20+%20label%20+%20%22%27%2C%20%27%22%20+%0A%09%09%09%09%09%09%09escAttr%28%22document.getElementById%28%27%22%20+%20attr%5B%22id%22%5D.value%20+%0A%09%09%09%09%09%09%09%09%22%27%29.click%28%29%3B%22%29%20+%20%22%27%2C%20%27%22%20+%20image%20+%20%22%27%2C%20%27%22%20+%20escAttr%28tooltip%29%20+%0A%09%09%09%09%09%09%09%22%27%5D%29%3B%20//%20%22%20+%20label%20+%20%22%20menuitem%22%29%3B%0A%09%09%09%09%09%09mI%20%3D%20label%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%09mI%20%26%26%20notifyme%28%22%5C%22%22%20+%20mI%20+%20%22%5C%22%20menu%20item%22%2C%0A%09%09%09%09%09%22successfully%20created%20and%20copied%20to%20clipboard.%22%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Afunction%20escAttr%28aStr%29%20%7B%0A%09aStr%20%3D%20aStr%0A%09%09.replace%28/%27/g%2C%20%22%5C%5C%27%22%29%0A%09%09.replace%28/%5Ct/g%2C%20%22%26%23x9%3B%22%29%0A%09%09.replace%28/%5Cn/g%2C%20%22%26%23xA%3B%22%29%0A%09%09.replace%28/%5Cr/g%2C%20%22%26%23xD%3B%22%29%3B%0A%09return%20aStr%3B%0A%7D%0A%0Aif%20%28%21window%5B_UID%5D%5B%22DevModeListener%22%5D%20%26%26%20bP%28%22DeveloperMode%22%29%29%20%7B%0A%09window%5B_UID%5D%5B%22DevModeListener%22%5D%20%3D%20true%3B%0A%09window.addEventListener%28%22click%22%2C%20ItemsCreator%2C%20true%29%3B%0A%09if%20%28navigator.platform.indexOf%28%22Win%22%29%20%3D%3D%3D%20-1%29%20%7B%20//%20fix%20context%20menu%20bug%20in%20linux%0A%09%09window.addEventListener%28%22mouseup%22%2C%20ItemsCreator%2C%20false%29%3B%0A%09%09window.addEventListener%28%22contextmenu%22%2C%20ItemsCreator%2C%20true%29%3B%0A%09%7D%0A%09window.addEventListener%28%22unload%22%2C%20function%20unloadListeners%28e%29%20%7B%0A%09%09window.removeEventListener%28%22unload%22%2C%20unloadListeners%2C%20false%29%3B%0A%09%09window.removeEventListener%28%22click%22%2C%20ItemsCreator%2C%20true%29%3B%0A%09%09if%20%28navigator.platform.indexOf%28%22Win%22%29%20%3D%3D%3D%20-1%29%20%7B%20//%20fix%20context%20menu%20bug%20in%20linux%0A%09%09%09window.removeEventListener%28%22mouseup%22%2C%20ItemsCreator%2C%20false%29%3B%0A%09%09%09window.removeEventListener%28%22contextmenu%22%2C%20ItemsCreator%2C%20true%29%3B%0A%09%09%7D%0A%09%7D%2C%20false%29%3B%0A%7D%0A%0Afunction%20getAllCommands%28%29%20%7B%0A%09var%20commandList%20%3D%20%5B%5D%3B%0A%09let%20commands%20%3D%20document.getElementsByTagName%28%22command%22%29%3B%0A%09let%20cmdLen%20%3D%20commands.length%3B%0A%09for%20%28let%20cmd%20%3D%200%3B%20cmd%20%3C%20cmdLen%3B%20cmd++%29%20%7B%0A%09%09if%20%28commands%5Bcmd%5D.hasAttribute%28%22oncommand%22%29%29%20%7B%0A%09%09%09let%20attrList%20%3D%20commands%5Bcmd%5D.attributes%2C%0A%09%09%09attrs%20%3D%20%5B%5D%3B%0A%09%09%09let%20attrLen%20%3D%20attrList.length%3B%0A%09%09%09for%20%28let%20attr%20%3D%200%3B%20attr%20%3C%20attrLen%3B%20attr++%29%20%7B%0A%09%09%09%09attrs.push%28%28attrList%5Battr%5D.name%20+%20%27%22%3D%22%27%20+%20attrList%5Battr%5D.value%29%20+%20%27%22%27%29%3B%0A%09%09%09%7D%0A%09%09%09commandList.push%28attrs.join%28%22%20%22%29%29%3B%0A%09%09%7D%0A%09%7D%0A%09gClipboard.write%28commandList.join%28%22%5Cn%5Cn%22%29%29%3B%0A%09notifyme%28%22All%20available%20%22%20+%20Services.appinfo.name%20+%20%22%27s%20commands%22%2C%20%22were%20copied%20to%20the%20clipboard.%22%29%3B%0A%7D%0A%0Aif%20%28%22CustomizableUI%22%20in%20window%29%20%7B%0A%09if%20%28%21window%5B_UID%5D%5B%22CustomizableUI%22%5D%29%20%7B%0A%09%09window%5B_UID%5D%5B%22CustomizableUI%22%5D%20%3D%20true%3B%0A%09%09CustomizableUI.addListener%28%7B%0A%09%09%09onCustomizeEnd%20%3A%20function%20%28aWindow%29%20%7B%0A%09%09%09%09let%20thisBtn%20%3D%20aWindow.document.getElementById%28self.id%29%3B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09aWindow%5B_UID%5D%5B%22CustomizableUI%22%5D%20%26%26%20thisBtn.init%28%29%3B%0A%09%09%09%09%7D%2C%20Math.floor%28Math.random%28%29%20*%20%281%20+%202000%20-%20200%29%29%20+%20200%29%3B%0A%09%09%09%7D%0A%09%09%7D%29%3B%0A%09%7D%0A%7D%0A%0A//START//%20Check%20for%20updates%20block%0Athis.setAttribute%28%22updatedate%22%2C%20%22Mar%2005%2C%202015%22%29%3B%20//%20Needed%20for%20this.buttonUpdateChecker%20to%20work.%0A%0Athis.buttonUpdateChecker%20%3D%20%7B%0A%09infoURL%20%3A%20%22https%3A//raw.githubusercontent.com/Odyseus/CustomButtons/master/MultiMenu/MultiMenuCompanion/%22%20+%0A%09%22LatestVersion.txt%22%2C%0A%09init%20%3A%20function%20%28%29%20%7B%0A%09%09if%20%28bP%28%22Updates%22%29%20%26%26%20%21window%5B_UID%5D%5B%22UpdatesChecked%22%5D%29%20%7B%0A%09%09%09window%5B_UID%5D%5B%22UpdatesChecked%22%5D%20%3D%20true%3B%0A%09%09%09if%20%28%28currentTime%20-%20bP%28%22UpdatesLastCheck%22%29%29%20%3E%20bP%28%22UpdatesEvery%22%29%29%20%7B%0A%09%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09self.buttonUpdateChecker.checkLatestVersion%28true%29%3B%0A%09%09%09%09%7D%2C%20bP%28%22UpdatesDelay%22%29%20*%201000%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%2C%0A%09checkLatestVersion%20%3A%20function%20%28aFromAuto%29%20%7B%0A%09%09var%20req%20%3D%20new%20XMLHttpRequest%28%29%3B%0A%09%09req.open%28%22GET%22%2C%20this.infoURL%2C%20true%29%3B%0A%09%09req.onreadystatechange%20%3D%20function%20%28aEvent%29%20%7B%0A%09%09%09if%20%28req.readyState%20%3D%3D%3D%204%20%26%26%20req.status%20%3D%3D%3D%20200%29%0A%09%09%09%09self.buttonUpdateChecker.inform%28req.responseText.split%28%22%7C%22%29%2C%20aFromAuto%29%3B%0A%09%09%09else%20if%20%28req.readyState%20%3D%3D%3D%204%20%26%26%20req.status%20%21%3D%3D%20200%29%0A%09%09%09%09alert%28%22Error%20trying%20to%20retrieve%20the%20file%20at%3A%5Cn%22%0A%09%09%09%09%09%20+%20self.buttonUpdateChecker.infoURL%20+%20%22%5Cn%22%20+%0A%09%09%09%09%09%22Check%20your%20internet%20connection.%22%29%3B%0A%09%09%7D%3B%0A%09%09req.send%28null%29%3B%0A%09%09Services.prefs.setIntPref%28PREF_BRANCH%20+%20%22UpdatesLastCheck%22%2C%20currentTime%29%3B%0A%09%09Services.prefs.savePrefFile%28null%29%3B%0A%09%7D%2C%0A%09inform%20%3A%20function%20%28aDoc%2C%20aFromAuto%29%20%7B%0A%09%09var%20noNeedUpdate%20%3D%20%28aDoc%5B0%5D%20%3D%3D%3D%20self.getAttribute%28%22updatedate%22%29%29%3B%0A%09%09if%20%28aFromAuto%20%26%26%20noNeedUpdate%29%0A%09%09%09return%3B%0A%09%09let%20newUpdate%20%3D%20%22New%20update%20found.%20%22%20+%0A%09%09%09%28%28aDoc%5B1%5D%20%3D%3D%3D%20%22Normal%22%29%0A%09%09%09%09%20%3F%20%22%3Chtml%3Aspan%20style%3D%5C%22color%3Agreen%3B%5C%22%3EPriority%3A%20Normal%3C/html%3Aspan%3E%22%0A%09%09%09%09%20%3A%20%22%3Chtml%3Aspan%20style%3D%5C%22color%3Ared%3B%5C%22%3EPriority%3A%20Critical%3C/html%3Aspan%3E%22%29%3B%0A%09%09this.openNotification%28noNeedUpdate%20%3F%20%22No%20new%20updates.%22%20%3A%20newUpdate%29%3B%0A%09%7D%2C%0A%09openNotification%20%3A%20function%20%28aUpdMsg%29%20%7B%0A%09%09let%20homePage%20%3D%20encodeURIComponent%28%22http%3A//custombuttons.sourceforge.net/forum/%22%20+%0A%09%09%09%09%22viewtopic.php%3Ff%3D4%26t%3D3503%22%29%3B%0A%09%09let%20notificationBox%20%3D%20%24XML%28%22%3Ctoolbox%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%20xmlns%3Ahtml%3D%5C%22%22%20+%20xhtmlns%20+%20%22%5C%22%3E%22%20+%0A%09%09%09%09%22%3Chbox%20align%3D%5C%22center%5C%22%3E%22%20+%0A%09%09%09%09%22%3Clabel%3E%3Chtml%3Ab%20style%3D%5C%22font-size%3A14px%21important%3B%5C%22%3E%22%20+%0A%09%09%09%09%28self.label%20%7C%7C%20self.name%29%20+%20%22%3C/html%3Ab%3E%3C/label%3E%22%20+%0A%09%09%09%09%22%3Clabel%3E%3Chtml%3Ab%20style%3D%5C%22font-size%3A12px%21important%3B%5C%22%3E%22%20+%20aUpdMsg%20+%20%22%3C/html%3Ab%3E%3C/label%3E%22%20+%0A%09%09%09%09%22%3Cspacer%20flex%3D%5C%221%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cbutton%20label%3D%5C%22Go%20to%20homepage%5C%22%20onclick%3D%5C%22var%20homePage%3DdecodeURIComponent%28%27%22%20+%0A%09%09%09%09homePage%20+%20%22%27%29%3Btry%7BgBrowser.selectedTab%3DgBrowser.addTab%28homePage%29%3B%7Dcatch%28aEr%29%7B%22%20+%0A%09%09%09%09%22try%7BopenContentTab%28homePage%29%3B%7Dcatch%28aEr%29%7BopenUILink%28homePage%2Cevent%29%3B%7D%7D%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20tooltiptext%3D%5C%22Open%20%22%20+%20%28self.label%20%7C%7C%20self.name%29%20+%20%22%20homepage.%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cbutton%20label%3D%5C%22Dismiss%5C%22%20oncommand%3D%5C%22this.parentNode.parentNode%22%20+%0A%09%09%09%09%22.removeChild%28this.parentNode%29%5C%22/%3E%3C/hbox%3E%3C/toolbox%3E%22%29%3B%0A%09%09let%20notificationTarget%20%3D%20%28document.getElementById%28%22mailContent%22%29%20%7C%7C%0A%09%09%09document.getElementById%28%22appcontent%22%29%29%3B%0A%09%09notificationTarget.appendChild%28notificationBox%29%3B%0A%09%7D%0A%7D%3B%0A%0Athis.buttonUpdateChecker.init%28%29%3B%0A//END//%20Check%20for%20updates%20block%0A%0Athis.type%20%3D%20%22button%22%3B%0A%0Athis.onDestroy%20%3D%20function%20%28aReason%29%20%7B%0A%09if%20%28aReason%20%3D%3D%3D%20%22update%22%29%20%7B%0A%09%09let%20snippetsButtonOn%20%3D%20%21bP%28%22SnippetsButtonHide%22%29%3B%0A%09%09if%20%28snippetsButtonOn%29%0A%09%09%09sBP%28%22SnippetsButtonHide%22%2C%20true%29%3B%0A%09%09self.initSnippetsButton%28%29%3B%0A%09%09if%20%28snippetsButtonOn%29%0A%09%09%09sBP%28%22SnippetsButtonHide%22%2C%20false%29%3B%0A%09%7D%20else%20if%20%28aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09self.initSnippetsButton%28true%29%3B%0A%09%09%28Services.prefs.getBranch%28PREF_BRANCH%29%29.deleteBranch%28%22%22%29%3B%0A%09%7D%0A%7D%3B%0A%0Aif%20%28bP%28%22SnippetsButtonHide%22%29%29%0A%09return%3B%0A%0AsetTimeout%28function%20%28%29%20%7B%0A%09self.initSnippetsButton%28%29%3B%0A%7D%2C%201000%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5B/*CODE*/%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B%5B%2C%5D%0A%3C%21--SnippetsMenuItems--%3E//%u25BA%u25BA%u25BA//Custom%20menu%20item%20%0A//%20Custom%20menu%20item%20-%20Note%3A%20Image%20and%20Tooltip%20are%20optionals.%0Aleft.push%28%5B%27MI%27%2C%20%27custom%27%2C%20%27Menuitem%20label%27%2C%20%27Custom%20command%27%2C%20%27Image%27%2C%20%27Tooltip%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//Custom%20menu%0A//%20Custom%20menu%20-%20Note%3A%20Custom%20command%2C%20Image%20and%20Tooltip%20are%20optionals.%0Avar%20customMenu%20%3D%20%5B%5D%3B%0Aleft.push%28%5B%27M%27%2C%20%27Menu%20label%27%2C%20customMenu%2C%20%27Custom%20command%27%2C%20%27Image%27%2C%20%27Tooltip%27%5D%29%3B%0AcustomMenu.push%28...%29%3B%20//%20Any%20%22cloned%22/custom%20menu/menu%20item%201%0AcustomMenu.push%28...%29%3B%20//%20Any%20%22cloned%22/custom%20menu/menu%20item%20n%0A//%u25BA%u25BA%u25BA//%u25BA%u25BA%u25BASeparator%u25C4%u25C4%u25C4%0A//%u25BA%u25BA%u25BA//Cloned%20menu%20item%0A//%20Cloned%20menu%20item%20-%20Note%3A%20Image%20and%20Tooltip%20are%20optionals.%0Aleft.push%28%5B%27MI%27%2C%20%27clone%27%2C%20%27Menuitem%20ID%27%2C%20%27Image%27%2C%20%27Tooltip%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//Cloned%20menu%0A//%20Cloned%20menu%20-%20Note%3A%20Custom%20command%2C%20Image%20and%20Tooltip%20are%20optionals.%0Aleft.push%28%5B%27M%27%2C%20%27clone%27%2C%20%27ID%20of%20existent%20menu%27%2C%20%27Custom%20command%27%2C%20%27Image%27%2C%20%27Tooltip%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//%u25BA%u25BA%u25BASeparator%u25C4%u25C4%u25C4%0A//%u25BA%u25BA%u25BA//Full%20path%20menu%20item%0A//%20Full%20path%20menu%20item%20-%20Note%3A%20Arguments%2C%20Image%20and%20Tooltip%20are%20optionals.%0Aleft.push%28%5B%27MI%27%2C%20%27path%27%2C%20%27Menuitem%20%20label%27%2C%20%5B%22fullPath%22%2C%20%5B%22Full%20path%20to%20folder/file/executable%22%5D%2C%20%5B%22arg%201%22%2C%20%22arg%20n%22%5D%5D%2C%20%27Image%27%2C%20%27Tooltip%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//Relative%20path%20menu%20item%0A//%20Relative%20path%20menu%20item%20-%20Note%3A%20Arguments%2C%20Image%20and%20Tooltip%20are%20optionals.%0Aleft.push%28%5B%27MI%27%2C%20%27path%27%2C%20%27Menuitem%20%20label%27%2C%20%5B%22Relative%20path%20variable%22%2C%20%5B%22Sub-folder%201%22%2C%20%22Sub-folder%202%22%2C%20%22File%22%5D%2C%20%5B%22arg%201%22%2C%20%22arg%20n%22%5D%5D%2C%20%27Image%27%2C%20%27Tooltip%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//%u25BA%u25BA%u25BASeparator%u25C4%u25C4%u25C4%0A//%u25BA%u25BA%u25BA//Menuseparator%0A//%20Create%20a%20%22menuseparator%22%0Aleft.push%28%5B%27separator%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//Spacer%0A//%20Create%20a%20%22spacer%22%20-%20Note%3A%20The%20flex%20attribute%20is%20optional.%0Aleft.push%28%5B%27spacer%27%2C%201%5D%29%3B%20//%20The%20integer%20is%20to%20especify%20the%20flex%20attribute%20value%20for%20the%20%22spacer%22.%0A//%u25BA%u25BA%u25BA//Header%0A//%20Create%20a%20%22dialogheader%22%20-%20Note%3A%20%22Description%22%20is%20optional.%0Aleft.push%28%5B%27dialogheader%27%2C%20%27Title%27%2C%20%27Description%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//%u25BA%u25BA%u25BASeparator%u25C4%u25C4%u25C4%0A//%u25BA%u25BA%u25BA//Preference%20menu%20item%0A//%20Preference%20menu%20item%20-%20Note%3A%20%22Menu%20item%20label%22%2C%20%22Array%20of%20values%22%20and%20%22Custom%20tooltip%22%20are%20optionals.%0Aleft.push%28%5B%27MI%27%2C%20%27pref%27%2C%20%27preference.name%27%2C%20%27Menu%20item%20label%27%2C%20%5BArray%20of%20values%5D%2C%20%27Custom%20tooltip%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//Custom%20Buttons%20menu%20item%0A//%20Custom%20Buttons%20menu%20item%0Aleft.push%28%5B%27MI%27%2C%20%27cb%27%2C%20%27Button%20number%20ID%27%5D%29%3B%0A//%u25BA%u25BA%u25BA//Extensions%20menu%20items%0A//%20Menu%20items%20created%20inside%20the%20main%20menupopup.%0Aleft.push%28%5B%27MI%27%2C%20%27extension%27%2C%200%5D%29%3B%20//%20All%20extensions%0A//%20or...%0Aleft.push%28%5B%27MI%27%2C%20%27extension%27%2C%200%2C%20%27restartless%27%5D%29%3B%20//%20ONLY%20restartless%20extensions%0A//%20or...%0Aleft.push%28%5B%27MI%27%2C%20%27extension%27%2C%200%2C%20%27normal%27%5D%29%3B%20//%20ONLY%20%22normal%22%20extensions%0A//%u25BA%u25BA%u25BA//Plugins%20menu%20items%0A//%20Menu%20items%20created%20inside%20the%20main%20menupopup.%0Aleft.push%28%5B%27MI%27%2C%20%27plugin%27%2C%200%5D%29%3B%0A//%u25BA%u25BA%u25BA//Stylish%20styles%20menu%20items%0A//%20Menu%20items%20created%20inside%20the%20main%20menupopup.%0Aleft.push%28%5B%27MI%27%2C%20%27userstyle%27%2C%200%5D%29%3B%0A//%u25BA%u25BA%u25BA//Scriptish%20scripts%20menu%20items%0A//%20Menu%20items%20created%20inside%20the%20main%20menupopup.%0Aleft.push%28%5B%27MI%27%2C%20%27userscript%27%2C%200%5D%29%3B%0A//%u25BA%u25BA%u25BA//Greasemonkey%20scripts%20menu%20items%0A//%20Menu%20items%20created%20inside%20the%20main%20menupopup.%0Aleft.push%28%5B%27MI%27%2C%20%27greasemonkey-user-script%27%2C%200%5D%29%3B%3C%21--SnippetsMenuItems--%3E%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">
					Install Multi Menu Companion</a><br><br>
				<a id="button-source" data-toggle="tooltip" data-placement="bottom" data-original-title="" class="btn btn-info btn-xs button-name" title="Button source on GitHub">
				GitHub</a>
				</div>
				<br>
			</div>
		</div>
	</div>
<p>This button has the ability to create very complex menus with menu items that can execute from custom commands to commands from other extensions or from the browser itself. You can also create menu items to open paths to any folder, open any file or execute any program with or without arguments. There are also "special items" that can create a list of all installed &quot;addons&quot; by type with just one line of code (Extensions, plugins, Stylish styles, Scriptish scripts and GeaseMonkey scripts), preference manipulation, open URLs and execute other Custom Buttons. See Multi Menu's help page for more details (<kbd>Ctrl</kbd> + Right click on Multi Menu button). I created this button as an alternative to the <a href="https://addons.mozilla.org/firefox/addon/personal-menu/">Personal Menu</a> extension.</p>
<div id="install_alert" class="alert alert-warning">
<p>Once installed, the menu created by Multi Menu is empty. You have to add the items by editing the Initialization tab of this button.</p>
<p><b>Read the Help page (<kbd>Ctrl</kbd> + Right click on Multi Menu button) to learn how to add items.</b></p>
</div>
<h2>Options (Middle click on button)</h2>
<h3>Menu options</h3>
<ul>
	<li><b>Show Dropmarker: </b>Shows/Hides this button dropmarker.</li>
	<li><b>Show Tooltip: </b>Shows/Hides this button tooltip.</li>
	<li><b>Show hidden addons: </b>When enlabled/checked, it will allow you to &quot;unhide&quot; &quot;addons&quot; menu items by making them temporally visible. The &quot;Show hidden addons&quot; menu item will be shown in the menu options ONLY if one or more of the "addon" type items is used AND if one of its addons is actually hidden.</li>
	<li><b>Open Multi Menu storage: </b>It will open the folder where the CSS tweaks file and the HelpPage.html file are stored.</li>
	<li><b>Resources downloaded: </b>It will allow you to download a new copy of the file HelpPage.html. Only needed when &quot;Multi Menu&quot; button is updated and the Help page was changed between versions.</li>
</ul>
<h3>Other options window - Button settings tab</h3>
<ul>
	<li><b>Menupopup positioning: </b>After &quot;converting&quot; this menu to a panel with CSS, you may not like the position of the arrow relative to its anchor. So use this setting only if you want to correct the position in wich the popup shows up.</li>
	<li><b>Button type: </b>Changing this preference is a matter of &quot;personal taste&quot;. The change is purely aesthetic (Menus have dropmarkers.).</li>
	<li><b>Open menu on hover: </b>Enables/Disables the ability to open the menu on hover.</li>
	<li><b>Panel exclusive settings: </b>This settings are useful only if this menu is &quot;converted&quot; into a panel with CSS.</li>
</ul>
<h3>Other options window - Menu items settings</h3>
<ul>
	<li><b>&quot;Addon&quot; menu items settings: </b><ul>
	<li><b>Auto close menu: </b>If disabled/unchecked, it will allow you to perform more than one action on &quot;addons&quot; menu items before closing the menu.</li>
	<li><b>Sort &quot;addons&quot; by enabled state: </b>If enabled/checked, will sort &quot;addons&quot; menu items by name grouping enabled &quot;addons&quot; first and disabled &quot;addons&quot; last.</li>
	<li><b>Show addons version?: </b>It will allow you to chose where the addon version will be displayed (As part of the label, as &quot;acceltext&quot; or do not show).</li>
	</ul></li>
	<li><b>&quot;Preference&quot; menu items settings: </b><ul>
	<li><b>Confirm box for preference reset: </b>If enabled/checked, every time you try to reset a preference with middle click, a confirm dialog will appear asking you if you want to proceed. If disabled/unchecked, the preference will reset without confirmation.</li>
	<li><b>Preference label/value maximum length: </b>The amount of characters that the label/value of a &quot;preference&quot; menu item should display.</li>
	<li><b>Show preference value as...: </b>It will allow you to chose if the preference value will be displayed as part of the label or as &quot;acceltext&quot;.</li>
	</ul></li>
	<li><b>&quot;URL&quot; menu items settings: </b><ul>
	<li><b>Open URLs on current tab/content: </b>If enabled/checked, URLs will open in current tab/on content on Left click. If disabled/unchecked, URLs will open in a new foreground tab/default browser on Left click.</li>
	</ul></li>
	<li><b>Show extra help on tooltips: </b>If enabled/checked, the tooltip for certain type of item will display extra information, like what action will perform the Left click, or what it means when an item is in bold font, etc..</li>
</ul>
<h3>Other options window - CSS tweaks tab</h3>
<p>By default, the menu created by this button will have the appearence of the default menus. All changes in appearence that can be seen in the images in this page are achieved with CSS code loaded from the CSS tweaks tab of this button settings window. In Multi Menu's Help Page (<kbd>Ctrl</kbd> + Right click on Multi Menu button), you will find several code snippets that will change in different ways the appearence of the button itself and/or its menus.</p>
<div align="middle"><h2>Images</h2></div>
<div id="mm-carousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li class="active" data-target="#mm-carousel" data-slide-to="0" class=""></li>
    <li data-target="#mm-carousel" data-slide-to="1"></li>
    <li data-target="#mm-carousel" data-slide-to="2"></li>
    <li data-target="#mm-carousel" data-slide-to="3"></li>
    <li data-target="#mm-carousel" data-slide-to="4"></li>
    <li data-target="#mm-carousel" data-slide-to="5"></li>
    <li data-target="#mm-carousel" data-slide-to="6"></li>
    <li data-target="#mm-carousel" data-slide-to="7"></li>
    <li data-target="#mm-carousel" data-slide-to="8"></li>
  </ol>
  <div class="carousel-inner" >
<div class="item active" align="middle"><img src="lib/img/MultiMenuCarousel-00.png" border="0" width="" height="" >
<div class="carousel-caption">
<h2>Where to create items</h2>
</div>
</div>
<div class="item" align="middle"><img src="lib/img/MultiMenuCarousel-01.png" title="CSS tweaks: Panel appearence + Show button label (Image on the left) and Show button label (Image on the right)" border="0" width="" height="" >
<div class="carousel-caption">
<h2>Layout &quot;emulating&quot; the old Firefox app button in Windows.</h2>
</div>
</div>
<div class="item" align="middle"><img src="lib/img/MultiMenuCarousel-02.png" title="CSS tweaks: Panel appearence + Hide button image (Image on the left) and Panel appearence (Image on the right)" border="0" width="" height="" >
<div class="carousel-caption">
<h2>Layout &quot;emulating&quot; the old Firefox app button in Linux.</h2>
</div>
</div>
<div class="item" align="middle"><img src="lib/img/MultiMenuCarousel-03.png" title="CSS tweaks: Basic panel appearence in SeaMonkey (First image on the left)" border="0" width="" height="" >
<div class="carousel-caption">
<h2>&quot;Cloned&quot; menu bar in SeaMonkey and Firefox</h2>
</div>
</div>
<div class="item" align="middle"><img src="lib/img/MultiMenuCarousel-04.png" title="CSS tweaks: Panel appearence" border="0" width="" height="" >
<div class="carousel-caption">
<h2>"Addons" items</h2>
</div>
</div>
<div class="item" align="middle"><img src="lib/img/MultiMenuCarousel-05.png" title="CSS tweaks: Panel appearence" border="0" width="" height="" >
<div class="carousel-caption">
<h2>"Addons" items</h2>
</div>
</div>
<div class="item" align="middle"><img src="lib/img/MultiMenuCarousel-06.png" border="0" width="" height="" >
<div class="carousel-caption">
<h2>Multi Menu options window</h2>
</div>
</div>
<div class="item" align="middle"><img src="lib/img/MultiMenuCarousel-07.png" border="0" width="" height="" >
<div class="carousel-caption">
<h2>Multi Menu options window</h2>
</div>
</div>
<div class="item" align="middle"><img src="lib/img/MultiMenuCarousel-08.png" border="0" width="" height="" >
<div class="carousel-caption">
<h2>Multi Menu options window</h2>
</div>
</div>
  </div>
  <a class="left carousel-control" href="#mm-carousel" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left"></span>
  </a>
  <a class="right carousel-control" href="#mm-carousel" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right"></span>
  </a>
</div>
<br>
<br>
<h2 id="mm_companion">Multi Menu Companion</h2>
<p>&quot;Multi Menu Companion&quot; is a button that I created to add some features to &quot;Multi Menu&quot; button to facilitate items creation. These features where part of &quot;Multi Menu&quot; button itself, but I remove them and created a new button to keep &quot;Multi Menu&quot; as &quot;light&quot; as possible. &quot;Multi Menu Companion&quot; is absolutely <b>not needed</b> for &quot;Multi Menu&quot; to work. It's just an &quot;assistant&quot;.</p>
<h4>Features</h4>
<ul>
	<li><b>Show snippets button:</b> This option, when enabled/checked, will add a button with a menu to all CB Editor windows/tabs of all versions of &quot;Multi Menu&quot; button installed. This button will allow you to insert into the initialization tab of &quot;Multi Menu&quot; any of the items types supported by &quot;Multi Menu&quot;.<br><div class="spoiler_container">
	<a class="spoiler_show btn btn-primary btn-xs">See image</a><br><br>
		<div class="spoiler_js">
<div align="middle" ><img src="lib/img/MultiMenu-Companion01.png" alt="" border="0" width="" height="" /> 
</div><br>
		</div>
</div></li>
	<li><b>Developer mode: </b>When activated, it enables some shortcuts that facilitate the creation of menu items/menus to be added to &quot;Multi Menu&quot;.<br>
	<p>Avaiable shortcuts:</p>
	<ul>
		<li><b><kbd>Ctrl</kbd> + Right click: </b>Ctrl-Right clicking over any existent menu item or toolbar button element will create and copy to the clipboard an item ready to be pasted inside &quot;Multi Menu&quot; Initialization tab. It will automatically detect and decide the type of item that can be created (IF POSSIBLE). </li>
		<li><b><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + Right click: </b>Ctrl-Alt-Right clicking over any existent menu or menu item will automatically create and copy to the clipboard a &quot;clone&quot; type item ready to be pasted inside &quot;Multi Menu&quot; Initialization tab. <span class="text-danger"><b>Only menus or menu items with defined IDs can be cloned.</b></span></li>
		<li><b><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + Right click: </b>Ctrl-Shift-Right clicking over <b>any element</b> inside the application will copy to the clipboard a list of all attributes of that element. The &quot;oncommand&quot;, &quot;onclick&quot; or even the &quot;command&quot; attributes are usefull to create &quot;custom&quot; menu items.</li>
	</ul>
	<div class="alert alert-warning">
<p><b>Note:</b> Keep this preference DISABLED during normal use. It will interfere with all the shortcuts through the entire application.</p>
</div></li>
	<li><b>Gel all commands: </b>It will copy to the clipboard all available application's commands. The &quot;oncommand&quot; attribute is what is usefull to create &quot;custom&quot; menu items. Most commands are self explanatory (the function name itself tells you what action will be performed), but others are very cryptic or even useless. <span class="text-danger"><b>Do not test commands that you are not sure what they do!!! If in doubt, just ask.</b></span></li>
	<li><b>Open Multi Menu storage: </b>It will open the location in wich the .css file/s and the HelpPage.html file are stored.</li>
</ul>

<div id="changelog" class="panel panel-success">
  <div class="panel-heading">
    <h3 class="panel-title">Changelog</h3>
  </div>
  <div class="panel-body">
<h3>Updated February 23, 2015</h3>
<ul>
	<li><b>Fixed: </b>Fixed a bug that caused a memory leak. Thanks to the user <b>grom</b> from Custom Buttons forum who <a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?f=4&t=3503#p10068">reported it</a>.</li>
	<li><b>Fixed: </b>Cloned menus/menu items created with the &quot;clone&quot; type item had the exact same id than the original items. Now all cloned items will have unique ids, including all cloned menu children.</li>
	<li><b>Added: </b>Multi Menu preferences can now be exported, imported and restored to their default values. Accessible from the options window, bottom left corner. When exporting, the resulting file will be saved inside a folder called "MultiMenuExports" located at the same level that Multi Menu storage folder inside the profile folder.</li>
	<li><b>Added: </b>The ability to backup all items from the Initialization tab into a file saved inside "MultiMenuExports" folder. Accessible from the options window, bottom left corner. </li>
	<li><b>Added: </b>The ability to backup the CSS tweaks file inside "MultiMenuExports" folder. Accessible from the options window, bottom left corner. </li>
	<li><b>Added: </b>New &quot;special&quot; item. &quot;Preference&quot; items that, with just the name of a preference, you can &quot;toggle&quot; the preference value between a pre-specified set of values.</li>
	<li><b>Added: </b>New &quot;special&quot; item. &quot;Custom Buttons&quot; items. With just the ID of an existent Custom Button, you can execute its code from Multi Menu itself.</li>
	<li><b>Added: </b>New &quot;special&quot; item. &quot;URL&quot; items. This items can open any web page by specifing its URL.</li>
	<li><b>Removed: </b>To keep Multi Menu button &quot;light&quot;, I removed features like "Developer Mode" and "Get all commands" and put them together in a new button. I call this new button Multi Menu Companion. <a class="internal_link" href="#mm_companion">Read more</a></li>
</ul>
<div class="alert alert-info">
  <p>For more details on how to create the new items, read Multi Menu help page (<kbd>Ctrl</kbd> + Right click on Multi Menu button).</p>
</div>

<div class="alert alert-danger">
  <h3>Warning!</h3>
<p></p>
<div class="spoiler_container">
	In this version I slightly changed the way some items are created (just the separators and spacers), so edit your existing items accordingly. <a class="spoiler_show btn btn-primary btn-xs">Show examples</a>
		<div class="spoiler_js">
<h4>Separators</h4>
<pre><code>// OLD WAY
left.push(['MI', 'separator']);

// NEW WAY
left.push(['separator']);</code></pre>

<h4>Spacers</h4>
<pre><code>// OLD WAY
left.push(['MI', 'spacer', 1]);

// NEW WAY
left.push(['spacer', 1]);</code></pre>
</div>
</div>
</div>

<div class="spoiler_container">
	<a class="spoiler_show btn btn-primary btn-xs">Old changelogs</a><br><br>
		<div class="spoiler_js">
<h3>Updated December 17, 2014</h3>
<ul>
	<li><b>Added: </b>Compatibility with Palemoon/FossaMail.</li>
	<li><b>Added: </b>Check for updates system. Now is possible to auto-check for updates every x amount of days with a delay of seconds after application startup.</li>
</ul>
		</div>
</div><br>
</div>
</div>
<div class="panel panel-warning">
  <div class="panel-heading">
    <h3 class="panel-title">Compatibility</h3>
  </div>
  <div class="panel-body">
<p>This button is intended to be cross-platform (GNU/Linux-Mac OS-Windows) and to work with all applications based on <b>Gecko version 31+</b>. But it has been tested only in the following environments.</p>
<b>Arch Linux (XFCE and KDE) - Firefox 36.x and SeaMonkey 2.3x</b><br>
<b>Windows 7 x64 - Cyberfox x64 36.x, Thunderbird 31.x, FossaMail 25.x, Palemoon 25.x, SeaMonkey 2.3x and latest versions of Firefox ESR/Stable/Beta</b><br>
</div>
</div>
<div id="contributors" class="panel panel-success">
  <div class="panel-heading">
    <h3 class="panel-title">Contributors</h3>
  </div>
<div class="panel-body">
<h4>List of contributors whose code and/or resources I've used to create this button.</h4>
<ul>
	<li><b>Aris: </b>I have used code from his <a href="https://addons.mozilla.org/firefox/addon/classicthemerestorer/">Classic Theme Restorer</a> addon. Specifically, I have implemented some &quot;tricks&quot; to &quot;emulate&quot; splitmenus.</li>
	<li><b>Infocatcher: </b>I have used code from his <a href="https://github.com/Infocatcher/Custom_Buttons/tree/master/Toggle_Restartless_Add-ons">Toggle Restartless Add-ons</a> button. Specifically, all &quot;Addons menu items&quot; features.</li>
	<li><b>Merci chao: </b>I have used code from his <a href="https://addons.mozilla.org/firefox/addon/personal-menu/">Personal Menu</a> addon. Specifically, the &quot;Menupopup position&quot; option.</li>
</ul>
</div>
</div>
<div class="panel panel-danger">
  <div class="panel-heading">
    <h3 class="panel-title">Error report</h3>
  </div>
<div class="panel-body">
<b>If any errors are found, report it ASAP on this button <a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?f=4&t=3503">homepage</a> with as much details as possible.</b>
<ul>
	<li>Wich plattform and its version (Linux, Mac or Windows)</li>
	<li>Wich application and its version (Any Firefox-based browser or SeaMonkey)</li>
	<li>Error/Browser console output, if any.</li>
	<li>If it's easier for you to report an error with images, and if the image is too large or there are more than one, publish the links to them, do not post them using the IMG tag in the message.</li>
	<li>Be willing to follow troubleshooting instructions.</li>
</ul>
</div>
</div>
</div> <!-- .container .boxed -->
<div class="container boxed">
	<h1>Button code preview</h1>
	<div class="panel-body">
		<ul class="nav nav-tabs" style="margin-bottom: 15px;">
			<li class="active code-tab"><a href="#code-tab" rel="nofollow" data-toggle="tab">Code Tab</a></li>
			<li class="init-tab"><a href="#init-tab" rel="nofollow" data-toggle="tab">Initialization Tab</a></li>
			<li class="help-tab"><a href="#help-tab" rel="nofollow" data-toggle="tab">Help Tab</a></li>
		</ul>
		<div id="myTabContent" class="tab-content">
			<div class="tab-pane fade active in code-tab" id="code-tab"></div>
			<div class="tab-pane fade init-tab" id="init-tab"></div>
			<div class="tab-pane fade help-tab" id="help-tab"></div>
		</div>
	</div>
</div> <!-- .container .boxed -->

<div id="footer" class="navbar navbar-default">
<!-- Inserted via jQuery -->
</div>
</div> <!-- #mainarea -->


<span id="top-link-block" class="hidden">
	<a id="top-link" href="#top" rel="nofollow" class="well">
		<i class="glyphicon glyphicon-chevron-up"></i>
	</a>
</span><!-- /#top-link-block -->

	<script type="text/javascript" src="//code.jquery.com/jquery-2.1.3.min.js"></script>
	<script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="lib/js/highlight.pack.js"></script>
	<script type="text/javascript" src="lib/js/myFunctions.js"></script>
	<script type="text/javascript">
		var syntax = "html"; // In case syntax highlighting for help tab is needed. Posible values: "html", "css", "js" or empty (""),
		var isIndex = 0;
		$(document).ready(function () {
			$("#mm-carousel").carousel({
				pause : true,
				interval : false
			});
		});
	</script>
</body>
</html>