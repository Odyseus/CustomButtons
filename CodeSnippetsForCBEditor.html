<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<title></title>
	<link rel="shortcut icon" type="image/x-icon" href="lib/img/CodeSnippetsForCBEditor-icon.png" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link type="text/css" rel="stylesheet" href="lib/css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="lib/css/bootstrap.odyseus.css" />
	<link type="text/css" rel="stylesheet" href="lib/css/highlight.css" />
</head>

<body>
<noscript><div class="alert alert-danger">
<strong>Oh snap! This page needs JavaScript enabled to display correctly.</strong>
</div></noscript>
<div id="mainarea" style="display: none">
<span id="headmenu">
<!-- Inserted via jQuery -->
</span>
<div class="container boxed">
<h1 class="button-name"></h1>
	<div id="basic-info">
		<div class="panel panel-primary">
			<div class="panel-heading">
				<h3 class="panel-title">Basic info</h3>
			</div>
			<div class="panel-body">
				<ul class="list-unstyled">
					<li><b>Author/s: </b>Odyseus</li>
					<li><b>Creation Date: </b>January 10, 2015</li>
					<li><b>Status: </b>Complete</li>
					<li><b>Contributor/s: </b>SendAbuse, okkamas_knife and Infocatcher</li>
					<li><b>Licence: </b><a href="http://mozilla.org/MPL/2.0/">Mozilla Public Licence</a></li>
					<li><b><a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?f=4&t=3532">Button Homepage</a></b></li>
				</ul>
				<br>
				<div style="text-align:center!important;">
					<a id="button-uri" data-toggle="tooltip" data-placement="bottom" data-original-title="" class="btn btn-primary button-name" rel="nofollow" title="" href="custombutton://%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%0D%0A%3Ccustombutton%20xmlns%3Acb%3D%22http%3A//xsms.nm.ru/custombuttons/%22%3E%0A%20%20%3Cname%3ECode%20Snippets%20for%20CB%20Editor%3C/name%3E%0A%20%20%3Cimage%3E%3C%21%5BCDATA%5Bdata%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAASUlEQVQ4jWOIi/v/nxLMMIwMWLfuPwbAJQ6TQzEAlyJcAKcB6E7EJU6yAchg3ToSDCA5DAiFOkED0G3BBYiORqLDYOBT4oAZAAAWpQvq9WCGqAAAAABJRU5ErkJggg%3D%3D%5D%5D%3E%3C/image%3E%0A%20%20%3Cmode%3E0%3C/mode%3E%0A%20%20%3Cinitcode%3E%3C%21%5BCDATA%5B%22use%20strict%22%3B%0A%0Aif%20%28self.parentNode%20%26%26%20self.parentNode.id.match%28%22wrapper-%22%29%29%0A%09return%3B%0A%0Aif%20%28%21%28%22Services%22%20in%20window%29%29%0A%09Cu.import%28%22resource%3A//gre/modules/Services.jsm%22%29%3B%0A%0Aconst%20PREF_BRANCH%20%3D%20%22extensions.custombuttons.CodeSnippetsForCBEditor.Id%22%20+%0A%09%28self.id%29.split%28%22-button%22%29%5B1%5D%20+%20%22.%22%3B%0A%0Aconst%20_UID%20%3D%20%22code-snippets-for-cb-editor%22%20+%20%28self.id%29.split%28%22custombuttons%22%29%5B1%5D%3B%20//%20Unique%20ID%0A%0A//%20Menu%20items%20marker.%20Can%20be%20changed.%0A//%20Have%20to%20be%20UNIQUE%20and%20CAN%20NOT%20be%20used%20inside%20the%20code%20snippets%21%21%21%0Avar%20mItemsMarker%20%3D%20%22//%u25BA%u25BA%u25BA%22%3B%0A%0A//%20Menu%20marker.%20Can%20be%20changed.%0A//%20Have%20to%20be%20UNIQUE%20and%20CAN%20NOT%20be%20used%20inside%20the%20code%20snippets%21%21%21%0Avar%20menuMarker%20%3D%20%22//%u25CF%u25CF%u25CF%22%3B%0A%0Aconst%20insertButtonImageOnSelf%20%3D%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/%22%20+%0A%09%229hAAAAUUlEQVQ4jWNgYGCIDw8P/08OZmBgiGeAMrTJweHh4f+RDSAV0NCA/3gAQQPwaSbJALK9QKTtNAwDXIAoAwgFIM%22%20+%0A%09%22UGEB0GRALqG0BeZmKgMDsDABOrQmBgEfd7AAAAAElFTkSuQmCC%22%3B%0A%0Aconst%20insertButtonImage%20%3D%20%22data%3Aimage/png%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA%22%20+%0A%09%22u0lEQVQ4ja2TwQrCMAyGMzyLFnrSS714EhzbnqAT8Q3yGHv9Qg7xYKpZ11WcCwRK0v9rkrYAAAMi8hIHgAFk0S1xRGQN%22%20+%0A%09%22+NXWBbQ6E0J48Ms24szMnpmrrxUQ0U0EHGP8Ma8AtQZcZKNX4vdpxphdjBNRL+FGA05abK3dpg075/ZJJddRC2nZM1ap%22%20+%0A%09%22fSPAgYj6XPmFNo4acJYBZiGJ+C7hdjLEDKR0C/PvIEISgBZPAKs85Zw3hVwn2v++8xNoFTpR5t2/VgAAAABJRU5ErkJg%22%20+%0A%09%22gg%3D%3D%22%3B%0A%0Aconst%20editorURL%20%3D%20%22chrome%3A//custombuttons/content/editor.xul%22%3B%0A%0A//START//%20Default%20preferences%20management%0AbtnPref.root%20%3D%20PREF_BRANCH%3B%0A%0AbtnPref.defaults%20%3D%20%7B%0A%09ButtonBgColor%20%3A%20%22rgb%2824%2C188%2C156%29%22%2C%0A%09CursorAnchor%20%3A%20%22/*%3D%3E%7C%3C%3D*/%22%2C%0A%09CustomLabel%20%3A%20%22Code%20Snippets%22%2C%0A%09CustomLabelShow%20%3A%20false%2C%0A%09AllowSelection%20%3A%20false%2C%0A%09AllowChecked%20%3A%20true%2C%0A%09Off%20%3A%20false%2C%0A%09OpenOnMouseOver%20%3A%20true%2C%0A%09OpenCloseDelay%20%3A%20100%2C%0A%09ShowOnSelfItems%20%3A%20true%0A%7D%3B%0A%0Afor%20%28let%20key%20in%20btnPref.defaults%29%20%7B%0A%09if%20%28btnPref.defaults.hasOwnProperty%28key%29%29%20%7B%0A%09%09let%20val%20%3D%20btnPref.defaults%5Bkey%5D%3B%0A%09%09switch%20%28typeof%20val%29%20%7B%0A%09%09case%20%22boolean%22%3A%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setBoolPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22number%22%3A%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setIntPref%28key%2C%20val%29%3B%0A%09%09%09break%3B%0A%09%09case%20%22string%22%3A%0A%09%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09%09str.data%20%3D%20val%3B%0A%09%09%09Services.prefs.getDefaultBranch%28PREF_BRANCH%29.setComplexValue%28%28key%29%2C%0A%09%09%09%09Ci.nsISupportsString%2C%20str%29%3B%0A%09%09%09break%3B%0A%09%09%7D%0A%09%7D%0A%7D%0A%0AbtnPref.observe%20%3D%20function%20%28aPrefs%2C%20aCallback%29%20%7B%0A%09let%20%7B%0A%09%09root%0A%09%7D%0A%09%09%20%3D%20btnPref%3B%0A%09function%20observe%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09if%20%28topic%20%21%3D%3D%20%22nsPref%3Achanged%22%29%0A%09%09%09return%3B%0A%09%09let%20pref%20%3D%20data.slice%28root.length%29%3B%0A%09%09if%20%28aPrefs.indexOf%28pref%29%20%3D%3D%3D%20-1%29%0A%09%09%09return%3B%0A%09%09aCallback%28pref%29%3B%0A%09%7D%0A%09Services.prefs.addObserver%28root%2C%20observe%2C%20false%29%3B%0A%09unload%28function%20%28%29Services.prefs.removeObserver%28root%2C%20observe%29%29%3B%0A%7D%3B%0A%0Afunction%20btnPref%28aKey%29%20%7B%0A%09let%20%7B%0A%09%09branch%2C%0A%09%09defaults%0A%09%7D%0A%09%09%20%3D%20btnPref%3B%0A%09if%20%28%21branch%29%0A%09%09branch%20%3D%20Services.prefs.getBranch%28btnPref.root%29%3B%0A%09switch%20%28typeof%20defaults%5BaKey%5D%29%20%7B%0A%09case%20%22boolean%22%3A%0A%09%09return%20branch.getBoolPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22number%22%3A%0A%09%09return%20branch.getIntPref%28aKey%29%3B%0A%09%09break%3B%0A%09case%20%22string%22%3A%0A%09%09return%20branch.getComplexValue%28aKey%2C%20Ci.nsISupportsString%29.data%3B%0A%09%09break%3B%0A%09%7D%0A%09return%20null%3B%0A%7D%0A%0Afunction%20unload%28aCallback%2C%20aContainer%29%20%7B%0A%09let%20unloaders%20%3D%20unload.unloaders%3B%0A%09if%20%28unloaders%20%3D%3D%3D%20null%29%0A%09%09unloaders%20%3D%20unload.unloaders%20%3D%20%5B%5D%3B%0A%09if%20%28aCallback%20%3D%3D%3D%20null%29%20%7B%0A%09%09unloaders.slice%28%29.forEach%28function%20%28unloader%29unloader%28%29%29%3B%0A%09%09%09unloaders.length%20%3D%200%3B%0A%09%7D%0A%09if%20%28aContainer%20%21%3D%3D%20null%29%20%7B%0A%09%09aContainer.addEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09let%20origCallback%20%3D%20aCallback%3B%0A%09%09callback%20%3D%20function%20%28%29%20%7B%0A%09%09%09aContainer.removeEventListener%28%22unload%22%2C%20removeUnloader%2C%20false%29%3B%0A%09%09%09origCallback%28%29%3B%0A%09%09%7D%0A%09%09return%20null%3B%0A%09%7D%0A%09function%20unloader%28%29%20%7B%0A%09%09try%20%7B%0A%09%09%09callback%28%29%3B%0A%09%09%7D%20catch%20%28err%29%20%7B%0A%09%09%09Components.utils.reportError%28err%29%3B%0A%09%09%7D%0A%09%7D%0A%09unloaders.push%28unloader%29%3B%0A%09function%20removeUnloader%28%29%20%7B%0A%09%09let%20index%20%3D%20unloaders.indexOf%28unloader%29%3B%0A%09%09if%20%28index%20%21%3D%3D%20-1%29%0A%09%09%09unloaders.splice%28index%2C%201%29%3B%0A%09%7D%0A%09return%20removeUnloader%3B%0A%7D%0A//END//%20Default%20preferences%20management%0A%0A%0AmItemsMarker%20%3D%20%22%5Cn%22%20+%20mItemsMarker%3B%0A%0AmenuMarker%20%3D%20%22%5Cn%22%20+%20menuMarker%3B%0A%0Athis.style.opacity%20%3D%20%221%22%3B%0A%0Athis.tooltipText%20%3D%20self.name%20+%20%22%5Cn%5Cn%22%20+%0A%09%22%5CtL%20%3A%20Show/Hide%20button%20on%20CB%20Editor%5Cn%22%20+%0A%09%22%5CtM%20%3A%20Open%20options%20menu%5Cn%5Cn%22%20+%0A%09%22%5CtL%20on%20menu%20items%20%3A%20Insert%20Snippet%5Cn%22%20+%0A%09%22%5CtM%20on%20menu%20items%20%3A%20Insert%20Snippet%20without%20closing%20menu%5Ct%5Cn%5Cn%22%3B%0A%0Aif%20%28btnPref%28%22AllowChecked%22%29%29%0A%09this.checked%20%3D%20true%3B%0A%0Afunction%20setButtonDesign%28aDoc%29%20%7B%0A%09let%20button%20%3D%20aDoc.getElementById%28_UID%20+%20%22-toolbarbutton%22%29%3B%0A%09let%20label%20%3D%20btnPref%28%22CustomLabel%22%29%3B%0A%09button.tooltipText%20%3D%20label%3B%0A%09button.style.MozAppearance%20%3D%20%22none%22%3B%0A%09button.style.margin%20%3D%20%220px%22%3B%0A%09button.style.padding%20%3D%20%220px%22%3B%0A%09btnPref%28%22CustomLabelShow%22%29%20%26%26%20%28button.label%20%3D%20%22%20%22%20+%20label%20+%20%22%20%22%29%3B%0A%09let%20image%20%3D%20aDoc.getAnonymousElementByAttribute%28button%2C%20%22class%22%2C%20%22toolbarbutton-icon%22%29%3B%0A%09image.style.backgroundColor%20%3D%20btnPref%28%22ButtonBgColor%22%29%3B%0A%09image.style.MozMargin%20%3D%20%220px%22%3B%0A%09image.style.margin%20%3D%20%221px%22%3B%0A%09let%20dropmarker%20%3D%20aDoc.getAnonymousElementByAttribute%28button%2C%20%22class%22%2C%20%22toolbarbutton-menu-dropmarker%22%29%3B%0A%09dropmarker.hidden%20%3D%20true%3B%0A%7D%0A%0Avar%20place%20%3D%20null%3B%0Avar%20focusedElement%20%3D%20null%3B%0A%0Afunction%20createButton%28aDoc%29%20%7B%0A%09let%20button%20%3D%20document.createElementNS%28xulns%2C%20%22toolbarbutton%22%29%3B%0A%09var%20subMenus%20%3D%20self.Help.split%28%22%5B%2C%5D%22%29%5B1%5D.split%28menuMarker%29%3B%0A%09button.setAttribute%28%22image%22%2C%20insertButtonImage%29%3B%0A%09button.setAttribute%28%22id%22%2C%20_UID%20+%20%22-toolbarbutton%22%29%3B%0A%09button.setAttribute%28%22type%22%2C%20%22menu%22%29%3B%0A%09button.timer%20%3D%200%3B%0A%09button.onmouseover%20%3D%20function%20%28%29%20%7B%0A%09%09place%20%3D%20aDoc.commandDispatcher.focusedElement%3B%0A%09%09if%20%28btnPref%28%22OpenOnMouseOver%22%29%29%20%7B%0A%09%09%09let%20thisMenupopup%20%3D%20aDoc.getElementById%28_UID%20+%20%22-mpop-inserter%22%29%3B%0A%09%09%09clearTimeout%28button.timer%29%3B%0A%09%09%09button.timer%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09thisMenupopup%20%26%26%20thisMenupopup.openPopup%28button%2C%20%22after_start%22%2C%200%2C%200%2C%20false%2C%20false%29%3B%0A%09%09%09%09%7D%2C%20btnPref%28%22OpenCloseDelay%22%29%29%3B%0A%09%09%7D%0A%09%7D%3B%0A%09button.onmouseout%20%3D%20function%20%28%29%20%7B%0A%09%09if%20%28btnPref%28%22OpenOnMouseOver%22%29%29%20%7B%0A%09%09%09let%20thisMenupopup%20%3D%20aDoc.getElementById%28_UID%20+%20%22-mpop-inserter%22%29%3B%0A%09%09%09clearTimeout%28button.timer%29%3B%0A%09%09%09button.timer%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09%09thisMenupopup%20%26%26%20thisMenupopup.hidePopup%28%29%3B%0A%09%09%09%09%7D%2C%20btnPref%28%22OpenCloseDelay%22%29%29%3B%0A%09%09%7D%0A%09%7D%3B%0A%09var%20mainMenupopup%20%3D%20document.createElementNS%28xulns%2C%20%22menupopup%22%29%3B%0A%09mainMenupopup.setAttribute%28%22id%22%2C%20_UID%20+%20%22-mpop-inserter%22%29%3B%0A%09var%20onSelf%20%3D%20false%3B%0A%09if%20%28aDoc.location.href.split%28%22custombuttons-button%22%29%5B1%5D%20%3D%3D%3D%20self.id.replace%28%22custombuttons-button%22%2C%20%22%22%29%29%20%7B%0A%09%09onSelf%20%3D%20true%3B%0A%09%09button.setAttribute%28%22image%22%2C%20insertButtonImageOnSelf%29%3B%0A%09%09if%20%28btnPref%28%22ShowOnSelfItems%22%29%29%20%7B%0A%09%09%09let%20selfItems%20%3D%20%5B%5B%22Insert%20Menuitem%20Sep.%22%2C%20mItemsMarker%5D%2C%0A%09%09%09%09%5B%22Insert%20Menu%20Sep.%22%2C%20menuMarker%5D%2C%0A%09%09%09%09%5B%22Insert%20Cursor%20Anchor%22%2C%20btnPref%28%22CursorAnchor%22%29%20+%20btnPref%28%22CursorAnchor%22%29%5D%5D%3B%0A%09%09%09for%20%28let%20s%20%3D%200%3B%20s%20%3C%20selfItems.length%3B%20s++%29%0A%09%09%09%09mainMenupopup.appendChild%28createMItems%28aDoc%2C%20selfItems%5Bs%5D%5B0%5D%2C%20selfItems%5Bs%5D%5B1%5D%2C%20true%29%29%3B%0A%09%09%7D%0A%09%7D%0A%09button.appendChild%28mainMenupopup%29%3B%0A%09for%20%28let%20m%20%3D%200%3B%20m%20%3C%20subMenus.length%3B%20m++%29%20%7B%0A%09%09if%20%28subMenus%5Bm%5D%20%21%3D%3D%20%22%22%29%20%7B%0A%09%09%09if%20%28subMenus.length%20%3E%201%29%20%7B%0A%09%09%09%09let%20items%20%3D%20subMenus%5Bm%5D.split%28mItemsMarker%29%2C%0A%09%09%09%09menu%20%3D%20document.createElementNS%28xulns%2C%20%22menu%22%29%2C%0A%09%09%09%09menuLabel%20%3D%20subMenus%5Bm%5D.split%28%22%5Cn%22%2C%201%29%3B%0A%09%09%09%09menu.setAttribute%28%22label%22%2C%20menuLabel%29%3B%0A%09%09%09%09items.splice%280%2C%201%29%3B%20//%20Removes%20what%20would%20be%20the%20Menu%20Label%0A%09%09%09%09var%20subMenupopup%20%3D%20document.createElementNS%28xulns%2C%20%22menupopup%22%29%3B%0A%09%09%09%09for%20%28let%20i%20%3D%200%3B%20i%20%3C%20items.length%3B%20i++%29%20%7B%0A%09%09%09%09%09if%20%28items%5Bi%5D%20%21%3D%3D%20%22%22%29%20%7B%0A%09%09%09%09%09%09let%20label%20%3D%20items%5Bi%5D.split%28%22%5Cn%22%2C%201%29%3B%0A%09%09%09%09%09%09let%20insertText%20%3D%20items%5Bi%5D.replace%28label%20+%20%22%5Cn%22%2C%20%22%22%29%3B%0A%09%09%09%09%09%09let%20menuitem%20%3D%20createMItems%28aDoc%2C%20label%2C%20insertText%29%3B%0A%09%09%09%09%09%09subMenupopup.appendChild%28menuitem%29%3B%0A%09%09%09%09%09%09menu.appendChild%28subMenupopup%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%09mainMenupopup.appendChild%28menu%29%3B%0A%09%09%09%7D%20else%20%7B%0A%09%09%09%09let%20items%20%3D%20subMenus%5Bm%5D.split%28mItemsMarker%29%3B%0A%09%09%09%09for%20%28let%20i%20%3D%200%3B%20i%20%3C%20items.length%3B%20i++%29%20%7B%0A%09%09%09%09%09if%20%28items%5Bi%5D%20%21%3D%3D%20%22%22%29%20%7B%0A%09%09%09%09%09%09let%20label%20%3D%20items%5Bi%5D.split%28%22%5Cn%22%2C%201%29%3B%0A%09%09%09%09%09%09let%20insertText%20%3D%20items%5Bi%5D.replace%28label%20+%20%22%5Cn%22%2C%20%22%22%29%3B%0A%09%09%09%09%09%09let%20menuitem%20%3D%20createMItems%28aDoc%2C%20label%2C%20insertText%29%3B%0A%09%09%09%09%09%09mainMenupopup.appendChild%28menuitem%29%3B%0A%09%09%09%09%09%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09return%20button%3B%0A%7D%0A%0Afunction%20createMItems%28aDoc%2C%20aLabel%2C%20aInsText%2C%20aSelf%29%20%7B%0A%09let%20menuitem%20%3D%20document.createElementNS%28xulns%2C%20%22menuitem%22%29%3B%0A%09menuitem.setAttribute%28%22label%22%2C%20aLabel%29%3B%0A%09menuitem.insertText%20%3D%20aInsText%3B%0A%09menuitem.inserter%20%3D%20function%20inserter%28aText%29%20%7B%0A%09%09var%20firstPart%20%3D%20aText.split%28btnPref%28%22CursorAnchor%22%29%29%5B0%5D%3B%0A%09%09var%20cursorPosition%20%3D%20place.selectionStart%20+%20firstPart.length%3B%0A%09%09var%20cursorAnchorPresent%20%3D%20aText.length%20%21%3D%3D%20firstPart.length%3B%0A%09%09aText%20%3D%20aText.replace%28btnPref%28%22CursorAnchor%22%29%2C%20%22%22%29%3B%0A%09%09if%20%28aText%20%3D%3D%3D%20btnPref%28%22CursorAnchor%22%29%29%0A%09%09%09cursorPosition%20%3D%20place.selectionStart%20+%20btnPref%28%22CursorAnchor%22%29.length%3B%0A%09%09var%20controller%20%3D%20aDoc.commandDispatcher.getControllerForCommand%28%22cmd_insertText%22%29%3B%0A%09%09if%20%28controller%20%26%26%20controller.isCommandEnabled%28%22cmd_insertText%22%29%29%20%7B%0A%09%09%09controller%20%3D%20controller.QueryInterface%28Ci.nsICommandController%29%3B%0A%09%09%09var%20params%20%3D%20Cc%5B%22@mozilla.org/embedcomp/command-params%3B1%22%5D%0A%09%09%09%09.createInstance%28Ci.nsICommandParams%29%3B%0A%09%09%09params.setStringValue%28%22state_data%22%2C%20aText%29%3B%0A%09%09%09controller.doCommandWithParams%28%22cmd_insertText%22%2C%20params%29%3B%0A%09%09%7D%0A%09%09if%20%28btnPref%28%22AllowSelection%22%29%20%26%26%20%21cursorAnchorPresent%29%0A%09%09%09place.setSelectionRange%28place.selectionStart%20-%20aText.length%2C%20place.selectionStart%29%3B%20//%20selects%20the%20pasted%0A%09%09else%0A%09%09%09place.selectionStart%20%3D%20place.selectionEnd%20%3D%20cursorPosition%3B%0A%09%7D%3B%0A%09aSelf%20%26%26%20menuitem.setAttribute%28%22style%22%2C%20%22font-weight%3A%20bold%3B%20color%3A%20rgb%28250%2C53%2C47%29%20%21important%3B%22%29%3B%0A%09let%20commandString%20%3D%20%22inserter%28event.target.insertText%29%22%3B%0A%09menuitem.setAttribute%28%22oncommand%22%2C%20%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%22%29%3B%0A%09menuitem.setAttribute%28%22onclick%22%2C%20commandString%29%3B%0A%09return%20menuitem%3B%0A%7D%0A%0Afunction%20isButtonAlreadyPresent%28aDoc%29%20%7B%0A%09return%20%21%21aDoc.getElementById%28_UID%20+%20%22-toolbarbutton%22%29%3B%0A%7D%0A%0Avar%20observer%20%3D%20%7B%0A%09observe%20%3A%20function%20%28subject%2C%20topic%2C%20data%29%20%7B%0A%09%09subject.addEventListener%28%22load%22%2C%20this%2C%20false%29%3B%0A%09%7D%2C%0A%09handleEvent%20%3A%20function%20%28aEvt%29%20%7B%0A%09%09var%20doc%20%3D%20aEvt.target%3B%0A%09%09var%20win%20%3D%20doc.defaultView%3B%0A%09%09win.removeEventListener%28%22load%22%2C%20this%2C%20false%29%3B%0A%09%09if%20%28doc.location.href.substring%280%2C%2041%29%20%21%3D%3D%20editorURL%20%7C%7C%0A%09%09%09Services.prefs.getPrefType%28PREF_BRANCH%20+%20%22Off%22%29%20%3D%3D%3D%200%29%0A%09%09%09return%3B%0A%09%09if%20%28%21isButtonAlreadyPresent%28doc%29%29%20%7B%0A%09%09%09var%20tabs%20%3D%20doc.getElementsByTagName%28%22tabs%22%29%3B%0A%09%09%09tabs%5B0%5D.appendChild%28createButton%28doc%29%29%3B%0A%09%09%09setButtonDesign%28doc%29%3B%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Avar%20activeWin%20%3D%20null%3B%0A%0Athis.onmouseover%20%3D%20function%20%28%29%20%7B%0A%09activeWin%20%3D%20Services.ww.activeWindow%3B%0A%7D%3B%0A%0Afunction%20alsoForTab%28aEvt%29%20%7B%0A%09var%20doc%20%3D%20aEvt.target%3B%0A%09if%20%28doc.location.href.substring%280%2C%2041%29%20%21%3D%3D%20editorURL%20%7C%7C%0A%09%09Services.prefs.getPrefType%28PREF_BRANCH%20+%20%22Off%22%29%20%3D%3D%3D%200%29%0A%09%09return%3B%0A%09if%20%28%21isButtonAlreadyPresent%28doc%29%29%20%7B%0A%09%09var%20tabs%20%3D%20doc.getElementsByTagName%28%22tabs%22%29%3B%0A%09%09tabs%5B0%5D.appendChild%28createButton%28doc%29%29%3B%0A%09%09setButtonDesign%28doc%29%3B%0A%09%7D%0A%7D%0A%0Athis.initSnippets%20%3D%20function%20%28aDestroyer%29%20%7B%0A%09if%20%28%21btnPref%28%22Off%22%29%20%26%26%20%21aDestroyer%29%20%7B%0A%09%09Services.obs.addObserver%28observer%2C%20%22domwindowopened%22%2C%20false%29%3B%0A%09%09%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%26%26%20window.addEventListener%28%22DOMContentLoaded%22%2C%20alsoForTab%2C%20false%29%3B%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22Off%22%2C%20false%29%3B%0A%09%7D%0A%09if%20%28btnPref%28%22Off%22%29%20%7C%7C%20aDestroyer%29%20%7B%0A%09%09Services.obs.removeObserver%28observer%2C%20%22domwindowopened%22%29%3B%0A%09%09%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%26%26%20window.removeEventListener%28%22DOMContentLoaded%22%2C%20alsoForTab%2C%20false%29%3B%0A%09%09aDestroyer%20%7C%7C%20Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22Off%22%2C%20true%29%3B%0A%09%7D%0A%09if%20%28typeof%20gBrowser%20%3D%3D%3D%20%22object%22%29%20%7B%0A%09%09var%20tabContainer%20%3D%20gBrowser.mTabContainer%3B%0A%09%09var%20tabs%20%3D%20tabContainer.childNodes%3B%0A%09%09for%20%28let%20t%20%3D%200%3B%20t%20%3C%20tabContainer.itemCount%3B%20t++%29%20%7B%0A%09%09%09var%20pageDoc%20%3D%20tabs%5Bt%5D.linkedBrowser.contentDocument%3B%0A%09%09%09if%20%28pageDoc.location.href.substring%280%2C%2041%29%20%21%3D%3D%20editorURL%29%0A%09%09%09%09continue%3B%0A%09%09%09if%20%28%21btnPref%28%22Off%22%29%20%26%26%20%21aDestroyer%29%20%7B%0A%09%09%09%09if%20%28isButtonAlreadyPresent%28pageDoc%29%29%0A%09%09%09%09%09continue%3B%0A%09%09%09%09let%20tbs%20%3D%20pageDoc.getElementsByTagName%28%22tabs%22%29%3B%0A%09%09%09%09tbs%5B0%5D.appendChild%28createButton%28pageDoc%29%29%3B%0A%09%09%09%09setButtonDesign%28pageDoc%29%3B%0A%09%09%09%7D%0A%09%09%09if%20%28btnPref%28%22Off%22%29%20%7C%7C%20aDestroyer%29%20%7B%0A%09%09%09%09var%20b%20%3D%20pageDoc.getElementById%28_UID%20+%20%22-toolbarbutton%22%29%3B%0A%09%09%09%09while%20%28b%29%20%7B%0A%09%09%09%09%09b%20%3D%20pageDoc.getElementById%28_UID%20+%20%22-toolbarbutton%22%29%3B%0A%09%09%09%09%09b%20%26%26%20b.parentNode.removeChild%28b%29%3B%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%09var%20em%20%3D%20Services.ww.getWindowEnumerator%28%29%3B%0A%09var%20win%20%3D%20true%3B%0A%09while%20%28win%29%20%7B%0A%09%09win%20%3D%20em.getNext%28%29%3B%0A%09%09if%20%28%21win%29%0A%09%09%09return%3B%0A%09%09var%20doc%20%3D%20win.document%3B%0A%09%09if%20%28doc.location.href.substring%280%2C%2041%29%20%21%3D%3D%20editorURL%29%0A%09%09%09continue%3B%0A%09%09if%20%28%21btnPref%28%22Off%22%29%20%26%26%20%21aDestroyer%29%20%7B%0A%09%09%09if%20%28isButtonAlreadyPresent%28doc%29%29%0A%09%09%09%09continue%3B%0A%09%09%09let%20tbs%20%3D%20doc.getElementsByTagName%28%22tabs%22%29%3B%0A%09%09%09tbs%5B0%5D.appendChild%28createButton%28doc%29%29%3B%0A%09%09%09setButtonDesign%28doc%29%3B%0A%09%09%09if%20%28win%20%3D%3D%3D%20activeWin%29%0A%09%09%09%09win.focus%28%29%3B%0A%09%09%7D%0A%09%09if%20%28btnPref%28%22Off%22%29%20%7C%7C%20aDestroyer%29%20%7B%0A%09%09%09var%20insertBtn%20%3D%20doc.getElementById%28_UID%20+%20%22-toolbarbutton%22%29%3B%0A%09%09%09while%20%28insertBtn%29%20%7B%0A%09%09%09%09insertBtn%20%3D%20doc.getElementById%28_UID%20+%20%22-toolbarbutton%22%29%3B%0A%09%09%09%09insertBtn%20%26%26%20insertBtn.parentNode.removeChild%28insertBtn%29%3B%0A%09%09%09%09if%20%28win%20%3D%3D%3D%20activeWin%29%0A%09%09%09%09%09win.focus%28%29%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%7D%0A%7D%3B%0A%0Aif%20%28%22CustomizableUI%22%20in%20window%29%20%7B%0A%09let%20_cui%20%3D%20_UID%20+%20%22customizable_ui_%22%3B%0A%09CustomizableUI.addListener%28%7B%0A%09%09onCustomizeStart%20%3A%20function%20%28aWindow%29%20%7B%0A%09%09%09window%5B_cui%5D%20%3D%20true%3B%0A%09%09%7D%2C%0A%09%09onCustomizeEnd%20%3A%20function%20%28aWindow%29%20%7B%0A%09%09%09let%20thisBtn%20%3D%20aWindow.document.getElementById%28self.id%29%3B%0A%09%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%09window%5B_cui%5D%20%26%26%20thisBtn.init%28%29%3B%0A%09%09%09%7D%2C%20Math.floor%28Math.random%28%29%20*%20%281%20+%202000%20-%20200%29%29%20+%20200%29%3B%0A%09%09%7D%2C%0A%09%7D%29%3B%0A%7D%0A%0Afunction%20promptme%28aMsg%2C%20aVal%29%20%7B%0A%09let%20retVal%20%3D%20%7B%0A%09%09value%20%3A%20aVal%0A%09%7D%3B%0A%09if%20%28Services.prompt.prompt%28null%2C%20%28self.label%20%7C%7C%20self.name%29%2C%20aMsg%2C%20retVal%2C%20null%2C%20%7B%7D%29%29%0A%09%09return%20retVal.value%3B%0A%09else%0A%09%09return%20false%3B%0A%09return%20false%3B%0A%7D%0A%0Afunction%20%24XML%28aXML%29%20%7B%20//%20Return%20parsed%20XML%0A%09aXML%20%3D%20aXML.replace%28/%3E%5Cs+%3C/g%2C%20%22%3E%3C%22%29%3B%20//%20Linearize%20XML%0A%09return%20%28new%20DOMParser%29.parseFromString%28aXML%2C%20%22application/xml%22%29.documentElement%3B%0A%7D%0A%0Athis.onclick%20%3D%20function%20%28aEvt%29%20%7B%0A%09if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%200%29%20%7B%20//%20Left%20Click%0A%09%09aEvt.preventDefault%28%29%3B%0A%09%09self.gSwitch%28%22switchSnippets%22%29%3B%0A%09%09aEvt.stopPropagation%28%29%3B%0A%09%7D%20else%20if%20%28%21aEvt.shiftKey%20%26%26%20%21aEvt.ctrlKey%20%26%26%20%21aEvt.altKey%20%26%26%20aEvt.button%20%3D%3D%3D%201%29%20%7B%20//%20Middle%20Click%0A%09%09aEvt.preventDefault%28%29%3B%0A%09%09var%20opt_tt%20%3D%20%7B%0A%09%09%09allowSel%20%3A%20%22If%20checked/enabled%2C%20the%20recently%20pasted%20text%20will%20be%20auto-selected%2C%20except%22%20+%0A%09%09%09%22%20when%20the%20pasted%20text%20contains%20a%20%26quot%3Bcursor%20anchor%26quot%3B.%22%2C%0A%09%09%09allowCheck%20%3A%20%22If%20checked/enabled%2C%20%22%20+%20self.name%20+%20%22%20will%20also%20reflect%20its%20enabled%20%22%20+%0A%09%09%09%22state%20by%20its%20pressed/checked%20state.%22%2C%0A%09%09%09openMouseOver%20%3A%20%22If%20checked/enabled%2C%20the%20Code%20Snippets%20button%20will%20open%20on%20mouse%20over.%22%2C%0A%09%09%09openCloseDelay%20%3A%20%22Sets%20the%20open/close%20delay%20for%20%26quot%3BOpen%20menu%20on%20mouseover%26quot%3B%22%20+%0A%09%09%09%22%20%28In%20milliseconds%29.%22%2C%0A%09%09%09btnBgColor%20%3A%20%22Sets%20the%20background%20color%20of%20the%20Code%20Snippets%20button%20inside%20CB%20Editor.%22%2C%0A%09%09%09cursorAnchor%20%3A%20%22Here%20you%20can%20change%20the%20%26quot%3Bcursor%20anchor%26quot%3B%20used%20to%20create%22%20+%0A%09%09%09%22%20%26quot%3Bcursor%27s%20insertion%20points%26quot%3B.%22%2C%0A%09%09%09onSelfItems%20%3A%20%22If%20checked/enabled%2C%20the%20Code%20Snippets%20button%20for%20this%20button%20will%20show%20%22%20+%0A%09%09%09%22some%20additional%20menu%20items%20to%20facilitate%20menus%20and%20menuitems%20creation.%22%2C%0A%09%09%09showBtnLabel%20%3A%20%22If%20checked/enabled%2C%20the%20Code%20Snippets%20button%20will%20display%20its%20label.%22%2C%0A%09%09%09btnLabel%20%3A%20%22It%20allows%20you%20to%20customize%20the%20button%20label.%22%0A%09%09%7D%3B%0A%09%09while%20%28self.hasChildNodes%28%29%29%0A%09%09%09self.removeChild%28self.lastChild%29%3B%0A%09%09self.appendChild%28%24XML%28%22%3Cmenupopup%20xmlns%3D%5C%22%22%20+%20xulns%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20id%3D%5C%22%22%20+%20_UID%20+%20%22-options-mpop%5C%22%22%20+%0A%09%09%09%09%22%20onclick%3D%5C%22event.preventDefault%28%29%3Bevent.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20onpopuphiding%3D%5C%22this.parentNode.gSwitch%28%5C%27init%5C%27%29%3B%5C%22%3E%22%20+%0A%09%09%09%09%22%3Cdialogheader%3E%3Clabel%20value%3D%5C%22Button%20settings%5C%22/%3E%3C/dialogheader%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Allow%20checked%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.allowCheck%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27allowChecked%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%22%20+%0A%09%09%09%09%22%20checked%3D%5C%22%22%20+%20btnPref%28%22AllowChecked%22%29%20+%20%22%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cdialogheader%3E%3Clabel%20value%3D%5C%22CD%20Editor%20button%20settings%5C%22/%3E%3C/dialogheader%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Allow%20selection%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.allowSel%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27allowSelection%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%22%20+%0A%09%09%09%09%22%20checked%3D%5C%22%22%20+%20btnPref%28%22AllowSelection%22%29%20+%20%22%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Button%20background%20color%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.btnBgColor%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27buttonBgColor%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Cursor%20anchor%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.cursorAnchor%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27cursorAnchor%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Change%20label%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.btnLabel%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27customLabel%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Open%20menu%20on%20mouseover%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.openMouseOver%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27openOnMouseOver%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%22%20+%0A%09%09%09%09%22%20checked%3D%5C%22%22%20+%20btnPref%28%22OpenOnMouseOver%22%29%20+%20%22%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Open/Close%20delay%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.openCloseDelay%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27openCloseDelay%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Show%20%26quot%3Bon-self%26quot%3B%20items%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.onSelfItems%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27showOnSelfItems%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%22%20+%0A%09%09%09%09%22%20checked%3D%5C%22%22%20+%20btnPref%28%22ShowOnSelfItems%22%29%20+%20%22%5C%22/%3E%22%20+%0A%09%09%09%09%22%3Cmenuitem%20label%3D%5C%22Show%20button%20label%5C%22%20tooltiptext%3D%5C%22%22%20+%20opt_tt.showBtnLabel%20+%20%22%5C%22%22%20+%0A%09%09%09%09%22%20oncommand%3D%5C%22this.parentNode.parentNode.gSwitch%28%5C%27customLabelShow%5C%27%29%3B%22%20+%0A%09%09%09%09%22event.stopPropagation%28%29%3B%5C%22%22%20+%0A%09%09%09%09%22%20closemenu%3D%5C%22none%5C%22%20type%3D%5C%22checkbox%5C%22%22%20+%0A%09%09%09%09%22%20checked%3D%5C%22%22%20+%20btnPref%28%22CustomLabelShow%22%29%20+%20%22%5C%22/%3E%22%20+%0A%09%09%09%09%22%3C/menupopup%3E%22%29%29%3B%0A%09%09let%20optPopup%20%3D%20document.getElementById%28_UID%20+%20%22-options-mpop%22%29%3B%0A%09%09let%20optPopupHeader%20%3D%20optPopup.getElementsByTagName%28%22dialogheader%22%29%3B%0A%09%09Array.prototype.slice.call%28optPopupHeader%29.forEach%28function%20%28aHeader%29%20%7B%0A%09%09%09aHeader.style.fontWeight%20%3D%20%22bold%22%3B%0A%09%09%09aHeader.style.margin%20%3D%20%220px%200px%205px%200px%22%3B%0A%09%09%09aHeader.style.padding%20%3D%20%222px%200px%202px%2010px%22%3B%0A%09%09%09aHeader.style.border%20%3D%20%22none%22%3B%0A%09%09%7D%29%3B%0A%09%09optPopup.openPopup%28self%2C%20%22after_start%22%2C%200%2C%200%2C%20false%2C%20false%29%3B%0A%09%09aEvt.stopPropagation%28%29%3B%0A%09%7D%0A%7D%3B%0A%0Athis.gSwitch%20%3D%20function%20%28aSwitch%29%20%7B%0A%09var%20value%3B%0A%09switch%20%28aSwitch%29%20%7B%0A%09case%20%22init%22%3A%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09self.init%28%29%3B%0A%09%09%7D%2C%20100%29%3B%0A%09%09break%3B%0A%09case%20%22allowSelection%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22AllowSelection%22%2C%20%21btnPref%28%22AllowSelection%22%29%29%3B%0A%09%09break%3B%0A%09case%20%22allowChecked%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22AllowChecked%22%2C%20%21btnPref%28%22AllowChecked%22%29%29%3B%0A%09%09break%3B%0A%09case%20%22openOnMouseOver%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22OpenOnMouseOver%22%2C%20%21btnPref%28%22OpenOnMouseOver%22%29%29%3B%0A%09%09break%3B%0A%09case%20%22openCloseDelay%22%3A%0A%09%09value%20%3D%20promptme%28%22Set%20open%20delay%20for%20%5C%22Open%20menu%20on%20mouseover%5C%22%5CnIn%20milliseconds%3A%22%2C%0A%09%09%09%09btnPref%28%22OpenCloseDelay%22%29%29%3B%0A%09%09if%20%28%21value%29%0A%09%09%09return%3B%0A%09%09let%20delay%20%3D%20parseInt%28value%2C%2010%29%3B%0A%09%09if%20%28delay%20%3C%3D%200%20%7C%7C%20%21delay%29%0A%09%09%09delay%20%3D%20200%3B%0A%09%09Services.prefs.setIntPref%28PREF_BRANCH%20+%20%22OpenCloseDelay%22%2C%20delay%29%3B%0A%09%09break%3B%0A%09case%20%22buttonBgColor%22%3A%0A%09%09value%20%3D%20promptme%28%22Change%20Code%20Snippets%20background%20color.%5CnCan%20be%3A%5Cn%22%20+%0A%09%09%09%09%22An%20RGB%20color%3A%20rgb%2824%2C188%2C156%29%5Cn%22%20+%0A%09%09%09%09%22An%20HEX%20color%3A%20%2318bc9c%5Cn%22%20+%0A%09%09%09%09%22An%20HSL%20color%3A%20hsl%28168%2C%2087%25%2C%2060%25%29%5Cn%22%20+%0A%09%09%09%09%22A%20valid%20color%20keyword%3A%20green%22%2C%20btnPref%28%22ButtonBgColor%22%29%29%3B%0A%09%09if%20%28%21value%29%0A%09%09%09value%20%3D%20%22rgb%2824%2C188%2C156%29%22%3B%0A%09%09Services.prefs.setCharPref%28PREF_BRANCH%20+%20%22ButtonBgColor%22%2C%20value%29%3B%0A%09%09break%3B%0A%09case%20%22cursorAnchor%22%3A%0A%09%09value%20%3D%20promptme%28%22Set%20a%20unique%20%5C%22anchor%5C%22%20to%20mark%20the%20cursor%20insertion%20point.%22%2C%20btnPref%28%22CursorAnchor%22%29%29%3B%0A%09%09if%20%28%21value%29%0A%09%09%09value%20%3D%20%22here%3D%3E%3C%3Dhere%22%3B%0A%09%09Services.prefs.setCharPref%28PREF_BRANCH%20+%20%22CursorAnchor%22%2C%20value%29%3B%0A%09%09break%3B%0A%09case%20%22showOnSelfItems%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22ShowOnSelfItems%22%2C%20%21btnPref%28%22ShowOnSelfItems%22%29%29%3B%0A%09%09break%3B%0A%09case%20%22customLabelShow%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22CustomLabelShow%22%2C%20%21btnPref%28%22CustomLabelShow%22%29%29%3B%0A%09%09break%3B%0A%09case%20%22customLabel%22%3A%0A%09%09value%20%3D%20promptme%28%22Set%20a%20custom%20label%20for%20the%20button.%22%2C%0A%09%09%09%09Services.prefs.getComplexValue%28PREF_BRANCH%20+%20%22CustomLabel%22%2C%20Ci.nsISupportsString%29.data%29%3B%0A%09%09if%20%28%21value%29%0A%09%09%09value%20%3D%20%22Code%20Snippets%22%3B%0A%09%09let%20str%20%3D%20Cc%5B%22@mozilla.org/supports-string%3B1%22%5D.createInstance%28Ci.nsISupportsString%29%3B%0A%09%09str.data%20%3D%20value%3B%0A%09%09Services.prefs.setComplexValue%28%28PREF_BRANCH%20+%20%22CustomLabel%22%29%2C%20Ci.nsISupportsString%2C%20str%29%3B%0A%09%09break%3B%0A%09case%20%22switchSnippets%22%3A%0A%09%09Services.prefs.setBoolPref%28PREF_BRANCH%20+%20%22Off%22%2C%20%21btnPref%28%22Off%22%29%29%3B%0A%09%09if%20%28btnPref%28%22Off%22%29%29%20%7B%0A%09%09%09self.style.opacity%20%3D%20%220.65%22%3B%0A%09%09%09self.checked%20%3D%20false%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09self.style.opacity%20%3D%20%221%22%3B%0A%09%09%09if%20%28btnPref%28%22AllowChecked%22%29%29%0A%09%09%09%09self.checked%20%3D%20true%3B%0A%09%09%7D%0A%09%09self.initSnippets%28%29%3B%0A%09%09break%3B%0A%09default%3A%0A%09%09return%3B%0A%09%7D%0A%7D%3B%0A%0Athis.onDestroy%20%3D%20function%20%28aReason%29%20%7B%0A%09if%20%28aReason%20%3D%3D%3D%20%22update%22%29%20%7B%0A%09%09var%20on%20%3D%20%21btnPref%28%22Off%22%29%3B%0A%09%09if%20%28on%29%0A%09%09%09Services.prefs.setBoolPref%28%22Off%22%2C%20true%29%3B%0A%09%09self.initSnippets%28%29%3B%0A%09%09if%20%28on%29%0A%09%09%09Services.prefs.setBoolPref%28%22Off%22%2C%20false%29%3B%0A%09%7D%20else%20if%20%28aReason%20%3D%3D%3D%20%22delete%22%29%20%7B%0A%09%09self.initSnippets%28true%29%3B%0A%09%09setTimeout%28function%20%28%29%20%7B%0A%09%09%09%28Services.prefs.getBranch%28PREF_BRANCH%29%29.deleteBranch%28%22%22%29%3B%0A%09%09%7D%2C%20500%29%3B%0A%09%7D%0A%7D%3B%0A%0Aif%20%28btnPref%28%22Off%22%29%29%20%7B%0A%09this.style.opacity%20%3D%20%220.65%22%3B%0A%09this.checked%20%3D%20false%3B%0A%09return%3B%0A%7D%0A%0Athis.initSnippets%28%29%3B%5D%5D%3E%3C/initcode%3E%0A%20%20%3Ccode%3E%3C%21%5BCDATA%5Bif%28%21event.target%20%26%26%20%21this.disabled%29%0A%09this.gSwitch%28%22switchSnippets%22%29%3B%0A%5D%5D%3E%3C/code%3E%0A%20%20%3Caccelkey%3E%3C%21%5BCDATA%5B%5D%5D%3E%3C/accelkey%3E%0A%20%20%3Chelp%3E%3C%21%5BCDATA%5B//%u25CF%u25CF%u25CF%20%3D%20Menu%20marker%0A%0A//%u25BA%u25BA%u25BA%20%3D%20Menu%20item%20marker%0A%0A/*%3D%3E%7C%3C%3D*/%20%3D%20Cursor%20insertion%20point%20marker%0A%0AWARNING%21%21%21%0ADo%20not%20use%20any%20of%20this%20markers%20as%20part%20of%20your%20code%20snippets.%0ADo%20not%20change%20under%20any%20circumstances%20the%20%22comma%20inside%20square%20brackets%22%20that%20can%20be%20found%20inside%20the%20Help%20tab%20of%20this%20button%20neither%20use%20such%20separator%20in%20your%20code%20snippets.%0A%5B%2C%5D%0A//%u25CF%u25CF%u25CFOpen%20Pages%20in%20...%0A//%u25BA%u25BA%u25BACurrent%20tab%20-%20FX%20and%20SM%0A%0AloadURI%28%22https%3A//duckduckgo.com/%22%29%3B%0A%0A//%u25BA%u25BA%u25BANew%20tab%20background%20-%20FX%20and%20SM%0A%0AgBrowser.addTab%28%22https%3A//duckduckgo.com/%22%29%3B%0A%0A//%u25BA%u25BA%u25BANew%20tab%20foreground%20-%20FX%20and%20SM%0A%0AgBrowser.selectedTab%20%3D%20gBrowser.addTab%28%22https%3A//duckduckgo.com/%22%29%3B%0A%0A//%u25BA%u25BA%u25BANew%20window%20-%20FX%20and%20SM%0A%0Awindow.open%28%22https%3A//duckduckgo.com/%22%29%3B%0A%0A//%u25BA%u25BA%u25BAThunderbird%0A%0AopenContentTab%28%22https%3A//duckduckgo.com/%22%29%3B%0A%0A//%u25CF%u25CF%u25CFJavaScript%20Basics%0A//%u25BA%u25BA%u25BAfunction%0A%0Afunction%20functionName%28%29%20%7B%0A%09/*%3D%3E%7C%3C%3D*/%0A%7D%0A%0A//%u25BA%u25BA%u25BA%22Global%22%20function%0A%0Athis.functionName%20%3D%20function%20%28%29%20%7B%0A%09/*%3D%3E%7C%3C%3D*/%0A%7D%3B%0A%0A//%u25BA%u25BA%u25BAConstructor%0A%0Avar%20varName%20%3D%20%7B%0A%09key1%20%3A%20value%2C%0A%09key2%20%3A%20value%0A%7D%3B%0A%0A//%u25BA%u25BA%u25BA%22Global%22%20Constructor%0A%0Athis.varName%20%3D%20%7B%0A%09key1%20%3A%20value%2C%0A%09key2%20%3A%20value%0A%7D%3B%0A%0A//%u25BA%u25BA%u25BAfor...%20loop%0A%0Afor%20%28var%20index%20%3D%200%3B%20index%20%3C%20myArray.length%3B%20index++%29%20%7B%0A%09/*%3D%3E%7C%3C%3D*/%0A%7D%0A%0A//%u25BA%u25BA%u25BAfor...in%20loop%0A%0Afor%20%28var%20key%20in%20object%29%20%7B%0A%09if%20%28object.hasOwnProperty%28key%29%29%20%7B%0A%09%09let%20value%20%3D%20object%5Bkey%5D%3B%0A%09%09/*%3D%3E%7C%3C%3D*/%0A%09%7D%0A%7D%0A%0A//%u25BA%u25BA%u25BAsetTimeout%0A%0AsetTimeout%28function%20%28%29%20%7B%0A%09/*%3D%3E%7C%3C%3D*/%0A%7D%2C%20100%29%3B%0A%0A//%u25BA%u25BA%u25BAsetInterval%0A%0AsetInterval%28function%20%28%29%20%7B%0A%09/*%3D%3E%7C%3C%3D*/%0A%7D%2C%20100%29%3B%0A%0A//%u25BA%u25BA%u25BAswitch%0A%0Aswitch%20%28expression%29%20%7B%0Acase%20value1%3A%0A%09statement%3B%0A%09break%3B%0Acase%20value2%3A%0A%09statement%3B%0A%09break%3B%0Acase%20value3%3A%0A%09statement%3B%0A%09break%3B%0Adefault%3A%0A%09statement%3B%0A%7D%0A%0A//%u25BA%u25BA%u25BAtry-catch-finally%0A%0Atry%20%7B%0A%09/*%3D%3E%7C%3C%3D*/%0A%7D%20catch%20%28aEr%29%20%7B%0A%09%0A%7D%0Afinally%20%7B%0A%09%0A%7D%0A%5D%5D%3E%3C/help%3E%0A%20%20%3Cattributes/%3E%0A%3C/custombutton%3E">
					Install this button</a><br><br>
				<a id="button-source" data-toggle="tooltip" data-placement="bottom" data-original-title="" class="btn btn-info btn-xs button-name" title="Button source on GitHub">
				GitHub</a>
				</div>
				<br>
			</div>
		</div>
	</div>
<p>This button adds a button inside the Custom Buttons Editor with a customizable menu which contains code snippets that can be inserted into your buttons. It is based on a button called Custom Paste for Custom Buttons that can be found in the <a href="https://forum.mozilla-russia.org/viewtopic.php?id=55963">Mozilla Russian forum</a>. The author is <b>SendAbuse</b> with code contribution from <b>okkamas_knife</b> and <b>InfoCatcher</b>.</p>
<p>I greatly modified the original version of this button and I added more capabilities to it. Ability to create sub-menus, ability to open/close the generated menus on mouseover/mouseout, etc.</p>
<h3>Usage</h3>
<p>The menus/menu items created for the button that will be inserted in CB Editor are generated with information stored inside the Help tab of this button. More than one version of this button can be installed at the same time containing different code snippets. To differentiate each version installed, it is possible to change the color of the each button individually. It's also possible to display its label and change it. It will also work for buttons edited in tabs (See <a href="https://github.com/Infocatcher/Custom_Buttons/tree/master/Edit_Custom_Button_in_Tab">Edit Custom Button in Tab</a> button by <b>InfoCatcher</b>).</p>

<p>Special &quot;markers&quot; are used to identify what would later become a menu or a menu item.</p>
<ul>
	<li><b>//&#9679;&#9679;&#9679;: </b>This marker is used to create menus. Every character from this marker to the end of the line will become the label of the menu. Starting from the next line after this marker, up to the next menu marker or the end of the Help tab content, all text will become part of this menu.</li>
	<li><b>//&#9658;&#9658;&#9658;: </b>This marker is used to create menu items. Every character from this marker to the end of the line will become the label of the menu item. Starting from the next line after this marker, up to the next menu/menu item marker or the end of the Help tab content, all text will become the &quot;code snippet&quot; itself (The actual text that will be inserted when the menu item is clicked).</li>
	<li><b>/*=&gt;|&lt;=*/: </b>This marker is used as &quot;insertion point&quot; for the cursor. After inserting a code snippet containing this marker, the cursor will be positioned in the exact place this marker was. Needless to say, there can only be one marker of this type en each menu item/code snippet.</li>
</ul>
<div align="middle">
<h3>A basic example with sub-menus</h3>
<img src="lib/img/CodeSnippetsForCBEditor-01.png" alt="" border="0" width="" height="" /><br><br>
</div>
<p>The code snippets button's main menu can have only menu items without no menus. You just have to avoid using the menu marker (//&#9679;&#9679;&#9679;) and every menu item found inside the Help tab will be created directly inside the main menu.</p>
<div align="middle">
<h3>A basic example with only menu items</h3>
<img src="lib/img/CodeSnippetsForCBEditor-02.png" alt="" border="0" width="" height="" /><br><br>
</div>

<h3>Options - Acceced by middle-clicking on this button</h3>
<ul>
	<li><b>Allow checked: </b>If checked/enabled, Code Snippets for CB Editor will also reflect its enabled state of  by its pressed/checked state.</li>
	<li><b>Allow selection: </b>If checked/enabled, the recently pasted text will be auto-selected, except when the pasted text contains a &quot;cursor anchor&quot;.</li>
	<li><b>Button background color: </b>Sets the background color of the Code Snippets button inside CB Editor.</li>
	<li><b>Cursor anchor: </b>Here you can change the &quot;cursor anchor&quot; used to create &quot;cursor's insertion points&quot;.</li>
	<li><b>Change Label: </b>It allows you to customize the button label inside CB Editor.</li>
	<li><b>Open menu on mouseover: </b>If checked/enabled, the Code Snippets button inside CB Editor will open on mouse over.</li>
	<li><b>Open/Close delay: </b>Sets the open/close delay for &quot;Open menu on mouseover&quot; (In milliseconds).</li>
	<li><b>Show &quot;on-self&quot; items: </b>If checked/enabled, the Code Snippets button inside CB Editor for this button will show some additional menu items to facilitate menus and menu items creation.</li>
	<li><b>Show button label: </b>If checked/enabled, the Code Snippets button inside CB Editor will display its label.</li>
</ul>

<h3>Shortcuts/Button clicks</h3>
<ul>
	
	<li><b>Left Click: </b>Enable/Disable button on CB Editor.</li>
	<li><b>Midle Click: </b>Open options menu.</li>
	<li><b>Left Click on menu items: </b>Insert code snippet.</li>
	<li><b>Middle Click on menu items: </b>Insert code snippet without closing the menu popup.</li>
</ul>


<div class="panel panel-warning">
  <div class="panel-heading">
    <h3 class="panel-title">Compatibility</h3>
  </div>
  <div class="panel-body">
<p>This button is intended to work with all Firefox-based browsers, SeaMonkey and Thunderbird. But it has been tested only in the following environments.</p>
<b>Arch Linux (XFCE and KDE) - Firefox 35.x</b><br>
<b>Windows 7 x64 - Palemoon x64 25.x.x, Thunderbird 31.x, Cyberfox x64 35.x and latest versions of Firefox ESR/Stable/Beta</b><br>
</div>
</div>

<div class="panel panel-danger">
  <div class="panel-heading">
    <h3 class="panel-title">Error report</h3>
  </div>
<div class="panel-body">
<b>If any errors are found, report it ASAP on this button <a href="http://custombuttons.sourceforge.net/forum/viewtopic.php?f=4&t=3532">homepage</a> with as much details as possible.</b>
<ul>
	<li>Wich plattform and its version (Linux, Mac or Windows).</li>
	<li>Wich application and its version (Any Firefox-based browser, Thunderbir or SeaMonkey).</li>
	<li>Error/Browser console output, if any.</li>
	<li>If it's easier for you to report an error with images, and if the image is too large or there are more than one, publish the links to them, do not post them using the IMG tag in the message.</li>
	<li>Be willing to follow troubleshooting instructions.</li>
</ul>
</div>
</div>
</div> <!-- .container .boxed -->
<div class="container boxed">
	<h1>Button code preview</h1>
	<div class="panel-body">
		<ul class="nav nav-tabs" style="margin-bottom: 15px;">
			<li class="active code-tab"><a href="#code-tab" rel="nofollow" data-toggle="tab">Code Tab</a></li>
			<li class="init-tab"><a href="#init-tab" rel="nofollow" data-toggle="tab">Initialization Tab</a></li>
			<li class="help-tab"><a href="#help-tab" rel="nofollow" data-toggle="tab">Help Tab</a></li>
		</ul>
		<div id="myTabContent" class="tab-content">
			<div class="tab-pane fade active in code-tab" id="code-tab"></div>
			<div class="tab-pane fade init-tab" id="init-tab"></div>
			<div class="tab-pane fade help-tab" id="help-tab"></div>
		</div>
	</div>
</div> <!-- .container .boxed -->

<div id="footer" class="navbar navbar-default">
<!-- Inserted via jQuery -->
</div>
</div> <!-- #mainarea -->


<span id="top-link-block" class="hidden">
	<a id="top-link" href="#top" rel="nofollow" class="well">
		<i class="glyphicon glyphicon-chevron-up"></i>
	</a>
</span><!-- /#top-link-block -->

	<script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="lib/js/highlight.pack.js"></script>
	<script type="text/javascript" src="lib/js/myFunctions.js"></script>
	<script type="text/javascript">
		var syntax = "js"; // In case syntax highlighting for help tab is needed. Posible values: "html", "css", "js" or empty (""),
		var isIndex = 0;
	</script>
</body>
</html>